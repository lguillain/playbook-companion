var ib=e=>{throw TypeError(e)};var lp=(e,t,n)=>t.has(e)||ib("Cannot "+n);var D=(e,t,n)=>(lp(e,t,"read from private field"),n?n.call(e):t.get(e)),fe=(e,t,n)=>t.has(e)?ib("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),oe=(e,t,n,r)=>(lp(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),_e=(e,t,n)=>(lp(e,t,"access private method"),n);var Dc=(e,t,n,r)=>({set _(s){oe(e,t,s,n)},get _(){return D(e,t,r)}});function C3(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ef(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var X_={exports:{}},tf={},J_={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dc=Symbol.for("react.element"),k3=Symbol.for("react.portal"),A3=Symbol.for("react.fragment"),N3=Symbol.for("react.strict_mode"),R3=Symbol.for("react.profiler"),P3=Symbol.for("react.provider"),I3=Symbol.for("react.context"),O3=Symbol.for("react.forward_ref"),D3=Symbol.for("react.suspense"),L3=Symbol.for("react.memo"),M3=Symbol.for("react.lazy"),ob=Symbol.iterator;function j3(e){return e===null||typeof e!="object"?null:(e=ob&&e[ob]||e["@@iterator"],typeof e=="function"?e:null)}var Z_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eS=Object.assign,tS={};function Qa(e,t,n){this.props=e,this.context=t,this.refs=tS,this.updater=n||Z_}Qa.prototype.isReactComponent={};Qa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nS(){}nS.prototype=Qa.prototype;function hy(e,t,n){this.props=e,this.context=t,this.refs=tS,this.updater=n||Z_}var fy=hy.prototype=new nS;fy.constructor=hy;eS(fy,Qa.prototype);fy.isPureReactComponent=!0;var ab=Array.isArray,rS=Object.prototype.hasOwnProperty,py={current:null},sS={key:!0,ref:!0,__self:!0,__source:!0};function iS(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)rS.call(t,r)&&!sS.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];s.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:dc,type:e,key:i,ref:o,props:s,_owner:py.current}}function F3(e,t){return{$$typeof:dc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function my(e){return typeof e=="object"&&e!==null&&e.$$typeof===dc}function B3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ub=/\/+/g;function cp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?B3(""+e.key):t.toString(36)}function Cd(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case dc:case k3:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+cp(o,0):r,ab(s)?(n="",e!=null&&(n=e.replace(ub,"$&/")+"/"),Cd(s,t,n,"",function(l){return l})):s!=null&&(my(s)&&(s=F3(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ub,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",ab(e))for(var a=0;a<e.length;a++){i=e[a];var u=r+cp(i,a);o+=Cd(i,t,n,u,s)}else if(u=j3(e),typeof u=="function")for(e=u.call(e),a=0;!(i=e.next()).done;)i=i.value,u=r+cp(i,a++),o+=Cd(i,t,n,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Lc(e,t,n){if(e==null)return e;var r=[],s=0;return Cd(e,r,"","",function(i){return t.call(n,i,s++)}),r}function U3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xt={current:null},kd={transition:null},H3={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:kd,ReactCurrentOwner:py};function oS(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:Lc,forEach:function(e,t,n){Lc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Lc(e,function(){t++}),t},toArray:function(e){return Lc(e,function(t){return t})||[]},only:function(e){if(!my(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ne.Component=Qa;Ne.Fragment=A3;Ne.Profiler=R3;Ne.PureComponent=hy;Ne.StrictMode=N3;Ne.Suspense=D3;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H3;Ne.act=oS;Ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=eS({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=py.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)rS.call(t,u)&&!sS.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:dc,type:e.type,key:s,ref:i,props:r,_owner:o}};Ne.createContext=function(e){return e={$$typeof:I3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:P3,_context:e},e.Consumer=e};Ne.createElement=iS;Ne.createFactory=function(e){var t=iS.bind(null,e);return t.type=e,t};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(e){return{$$typeof:O3,render:e}};Ne.isValidElement=my;Ne.lazy=function(e){return{$$typeof:M3,_payload:{_status:-1,_result:e},_init:U3}};Ne.memo=function(e,t){return{$$typeof:L3,type:e,compare:t===void 0?null:t}};Ne.startTransition=function(e){var t=kd.transition;kd.transition={};try{e()}finally{kd.transition=t}};Ne.unstable_act=oS;Ne.useCallback=function(e,t){return Xt.current.useCallback(e,t)};Ne.useContext=function(e){return Xt.current.useContext(e)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(e){return Xt.current.useDeferredValue(e)};Ne.useEffect=function(e,t){return Xt.current.useEffect(e,t)};Ne.useId=function(){return Xt.current.useId()};Ne.useImperativeHandle=function(e,t,n){return Xt.current.useImperativeHandle(e,t,n)};Ne.useInsertionEffect=function(e,t){return Xt.current.useInsertionEffect(e,t)};Ne.useLayoutEffect=function(e,t){return Xt.current.useLayoutEffect(e,t)};Ne.useMemo=function(e,t){return Xt.current.useMemo(e,t)};Ne.useReducer=function(e,t,n){return Xt.current.useReducer(e,t,n)};Ne.useRef=function(e){return Xt.current.useRef(e)};Ne.useState=function(e){return Xt.current.useState(e)};Ne.useSyncExternalStore=function(e,t,n){return Xt.current.useSyncExternalStore(e,t,n)};Ne.useTransition=function(){return Xt.current.useTransition()};Ne.version="18.3.1";J_.exports=Ne;var x=J_.exports;const se=ef(x),gy=C3({__proto__:null,default:se},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $3=x,z3=Symbol.for("react.element"),V3=Symbol.for("react.fragment"),W3=Object.prototype.hasOwnProperty,q3=$3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,K3={key:!0,ref:!0,__self:!0,__source:!0};function aS(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)W3.call(t,r)&&!K3.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:z3,type:e,key:i,ref:o,props:s,_owner:q3.current}}tf.Fragment=V3;tf.jsx=aS;tf.jsxs=aS;X_.exports=tf;var p=X_.exports,uS={exports:{}},_n={},lS={exports:{}},cS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,L){var C=B.length;B.push(L);e:for(;0<C;){var te=C-1>>>1,j=B[te];if(0<s(j,L))B[te]=L,B[C]=j,C=te;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var L=B[0],C=B.pop();if(C!==L){B[0]=C;e:for(var te=0,j=B.length,A=j>>>1;te<A;){var X=2*(te+1)-1,ne=B[X],ae=X+1,z=B[ae];if(0>s(ne,C))ae<j&&0>s(z,ne)?(B[te]=z,B[ae]=C,te=ae):(B[te]=ne,B[X]=C,te=X);else if(ae<j&&0>s(z,C))B[te]=z,B[ae]=C,te=ae;else break e}}return L}function s(B,L){var C=B.sortIndex-L.sortIndex;return C!==0?C:B.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,d=null,f=3,h=!1,g=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(B){for(var L=n(l);L!==null;){if(L.callback===null)r(l);else if(L.startTime<=B)r(l),L.sortIndex=L.expirationTime,t(u,L);else break;L=n(l)}}function T(B){if(y=!1,E(B),!g)if(n(u)!==null)g=!0,ie(S);else{var L=n(l);L!==null&&J(T,L.startTime-B)}}function S(B,L){g=!1,y&&(y=!1,v(I),I=-1),h=!0;var C=f;try{for(E(L),d=n(u);d!==null&&(!(d.expirationTime>L)||B&&!H());){var te=d.callback;if(typeof te=="function"){d.callback=null,f=d.priorityLevel;var j=te(d.expirationTime<=L);L=e.unstable_now(),typeof j=="function"?d.callback=j:d===n(u)&&r(u),E(L)}else r(u);d=n(u)}if(d!==null)var A=!0;else{var X=n(l);X!==null&&J(T,X.startTime-L),A=!1}return A}finally{d=null,f=C,h=!1}}var _=!1,k=null,I=-1,M=5,P=-1;function H(){return!(e.unstable_now()-P<M)}function U(){if(k!==null){var B=e.unstable_now();P=B;var L=!0;try{L=k(!0,B)}finally{L?G():(_=!1,k=null)}}else _=!1}var G;if(typeof b=="function")G=function(){b(U)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,K=W.port2;W.port1.onmessage=U,G=function(){K.postMessage(null)}}else G=function(){w(U,0)};function ie(B){k=B,_||(_=!0,G())}function J(B,L){I=w(function(){B(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){g||h||(g=!0,ie(S))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(B){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var C=f;f=L;try{return B()}finally{f=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,L){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var C=f;f=B;try{return L()}finally{f=C}},e.unstable_scheduleCallback=function(B,L,C){var te=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?te+C:te):C=te,B){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=C+j,B={id:c++,callback:L,priorityLevel:B,startTime:C,expirationTime:j,sortIndex:-1},C>te?(B.sortIndex=C,t(l,B),n(u)===null&&B===n(l)&&(y?(v(I),I=-1):y=!0,J(T,C-te))):(B.sortIndex=j,t(u,B),g||h||(g=!0,ie(S))),B},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(B){var L=f;return function(){var C=f;f=L;try{return B.apply(this,arguments)}finally{f=C}}}})(cS);lS.exports=cS;var Y3=lS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G3=x,Tn=Y3;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dS=new Set,xl={};function wo(e,t){La(e,t),La(e+"Capture",t)}function La(e,t){for(xl[e]=t,e=0;e<t.length;e++)dS.add(t[e])}var es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zm=Object.prototype.hasOwnProperty,Q3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lb={},cb={};function X3(e){return zm.call(cb,e)?!0:zm.call(lb,e)?!1:Q3.test(e)?cb[e]=!0:(lb[e]=!0,!1)}function J3(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Z3(e,t,n,r){if(t===null||typeof t>"u"||J3(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Jt(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){It[e]=new Jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];It[t]=new Jt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){It[e]=new Jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){It[e]=new Jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){It[e]=new Jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){It[e]=new Jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){It[e]=new Jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){It[e]=new Jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){It[e]=new Jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var yy=/[\-:]([a-z])/g;function vy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yy,vy);It[t]=new Jt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yy,vy);It[t]=new Jt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yy,vy);It[t]=new Jt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){It[e]=new Jt(e,1,!1,e.toLowerCase(),null,!1,!1)});It.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){It[e]=new Jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function by(e,t,n,r){var s=It.hasOwnProperty(t)?It[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Z3(t,n,s,r)&&(n=null),r||s===null?X3(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var as=G3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mc=Symbol.for("react.element"),qo=Symbol.for("react.portal"),Ko=Symbol.for("react.fragment"),xy=Symbol.for("react.strict_mode"),Vm=Symbol.for("react.profiler"),hS=Symbol.for("react.provider"),fS=Symbol.for("react.context"),wy=Symbol.for("react.forward_ref"),Wm=Symbol.for("react.suspense"),qm=Symbol.for("react.suspense_list"),Ey=Symbol.for("react.memo"),Ns=Symbol.for("react.lazy"),pS=Symbol.for("react.offscreen"),db=Symbol.iterator;function vu(e){return e===null||typeof e!="object"?null:(e=db&&e[db]||e["@@iterator"],typeof e=="function"?e:null)}var st=Object.assign,dp;function Fu(e){if(dp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);dp=t&&t[1]||""}return`
`+dp+e}var hp=!1;function fp(e,t){if(!e||hp)return"";hp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var s=l.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{hp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Fu(e):""}function eO(e){switch(e.tag){case 5:return Fu(e.type);case 16:return Fu("Lazy");case 13:return Fu("Suspense");case 19:return Fu("SuspenseList");case 0:case 2:case 15:return e=fp(e.type,!1),e;case 11:return e=fp(e.type.render,!1),e;case 1:return e=fp(e.type,!0),e;default:return""}}function Km(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ko:return"Fragment";case qo:return"Portal";case Vm:return"Profiler";case xy:return"StrictMode";case Wm:return"Suspense";case qm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fS:return(e.displayName||"Context")+".Consumer";case hS:return(e._context.displayName||"Context")+".Provider";case wy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ey:return t=e.displayName||null,t!==null?t:Km(e.type)||"Memo";case Ns:t=e._payload,e=e._init;try{return Km(e(t))}catch{}}return null}function tO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Km(t);case 8:return t===xy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ai(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nO(e){var t=mS(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jc(e){e._valueTracker||(e._valueTracker=nO(e))}function gS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=mS(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function th(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ym(e,t){var n=t.checked;return st({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function hb(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ai(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yS(e,t){t=t.checked,t!=null&&by(e,"checked",t,!1)}function Gm(e,t){yS(e,t);var n=ai(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qm(e,t.type,n):t.hasOwnProperty("defaultValue")&&Qm(e,t.type,ai(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fb(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Qm(e,t,n){(t!=="number"||th(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Bu=Array.isArray;function da(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ai(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Xm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return st({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pb(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Z(92));if(Bu(n)){if(1<n.length)throw Error(Z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ai(n)}}function vS(e,t){var n=ai(t.value),r=ai(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function mb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function bS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?bS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fc,xS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fc=Fc||document.createElement("div"),Fc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rO=["Webkit","ms","Moz","O"];Object.keys(Qu).forEach(function(e){rO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qu[t]=Qu[e]})});function wS(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Qu.hasOwnProperty(e)&&Qu[e]?(""+t).trim():t+"px"}function ES(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=wS(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var sO=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zm(e,t){if(t){if(sO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function e0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t0=null;function Ty(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var n0=null,ha=null,fa=null;function gb(e){if(e=pc(e)){if(typeof n0!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=af(t),n0(e.stateNode,e.type,t))}}function TS(e){ha?fa?fa.push(e):fa=[e]:ha=e}function _S(){if(ha){var e=ha,t=fa;if(fa=ha=null,gb(e),t)for(e=0;e<t.length;e++)gb(t[e])}}function SS(e,t){return e(t)}function CS(){}var pp=!1;function kS(e,t,n){if(pp)return e(t,n);pp=!0;try{return SS(e,t,n)}finally{pp=!1,(ha!==null||fa!==null)&&(CS(),_S())}}function El(e,t){var n=e.stateNode;if(n===null)return null;var r=af(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Z(231,t,typeof n));return n}var r0=!1;if(es)try{var bu={};Object.defineProperty(bu,"passive",{get:function(){r0=!0}}),window.addEventListener("test",bu,bu),window.removeEventListener("test",bu,bu)}catch{r0=!1}function iO(e,t,n,r,s,i,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Xu=!1,nh=null,rh=!1,s0=null,oO={onError:function(e){Xu=!0,nh=e}};function aO(e,t,n,r,s,i,o,a,u){Xu=!1,nh=null,iO.apply(oO,arguments)}function uO(e,t,n,r,s,i,o,a,u){if(aO.apply(this,arguments),Xu){if(Xu){var l=nh;Xu=!1,nh=null}else throw Error(Z(198));rh||(rh=!0,s0=l)}}function Eo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function AS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yb(e){if(Eo(e)!==e)throw Error(Z(188))}function lO(e){var t=e.alternate;if(!t){if(t=Eo(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return yb(s),e;if(i===r)return yb(s),t;i=i.sibling}throw Error(Z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?e:t}function NS(e){return e=lO(e),e!==null?RS(e):null}function RS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=RS(e);if(t!==null)return t;e=e.sibling}return null}var PS=Tn.unstable_scheduleCallback,vb=Tn.unstable_cancelCallback,cO=Tn.unstable_shouldYield,dO=Tn.unstable_requestPaint,lt=Tn.unstable_now,hO=Tn.unstable_getCurrentPriorityLevel,_y=Tn.unstable_ImmediatePriority,IS=Tn.unstable_UserBlockingPriority,sh=Tn.unstable_NormalPriority,fO=Tn.unstable_LowPriority,OS=Tn.unstable_IdlePriority,nf=null,Ar=null;function pO(e){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(nf,e,void 0,(e.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:yO,mO=Math.log,gO=Math.LN2;function yO(e){return e>>>=0,e===0?32:31-(mO(e)/gO|0)|0}var Bc=64,Uc=4194304;function Uu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ih(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Uu(a):(i&=o,i!==0&&(r=Uu(i)))}else o=n&~s,o!==0?r=Uu(o):i!==0&&(r=Uu(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-or(t),s=1<<n,r|=e[n],t&=~s;return r}function vO(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bO(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-or(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=vO(a,t)):u<=t&&(e.expiredLanes|=a),i&=~a}}function i0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function DS(){var e=Bc;return Bc<<=1,!(Bc&4194240)&&(Bc=64),e}function mp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function hc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-or(t),e[t]=n}function xO(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-or(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Sy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-or(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Fe=0;function LS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var MS,Cy,jS,FS,BS,o0=!1,Hc=[],Qs=null,Xs=null,Js=null,Tl=new Map,_l=new Map,Is=[],wO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bb(e,t){switch(e){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Tl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(t.pointerId)}}function xu(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=pc(t),t!==null&&Cy(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function EO(e,t,n,r,s){switch(t){case"focusin":return Qs=xu(Qs,e,t,n,r,s),!0;case"dragenter":return Xs=xu(Xs,e,t,n,r,s),!0;case"mouseover":return Js=xu(Js,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Tl.set(i,xu(Tl.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,_l.set(i,xu(_l.get(i)||null,e,t,n,r,s)),!0}return!1}function US(e){var t=Ui(e.target);if(t!==null){var n=Eo(t);if(n!==null){if(t=n.tag,t===13){if(t=AS(n),t!==null){e.blockedOn=t,BS(e.priority,function(){jS(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ad(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=a0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);t0=r,n.target.dispatchEvent(r),t0=null}else return t=pc(n),t!==null&&Cy(t),e.blockedOn=n,!1;t.shift()}return!0}function xb(e,t,n){Ad(e)&&n.delete(t)}function TO(){o0=!1,Qs!==null&&Ad(Qs)&&(Qs=null),Xs!==null&&Ad(Xs)&&(Xs=null),Js!==null&&Ad(Js)&&(Js=null),Tl.forEach(xb),_l.forEach(xb)}function wu(e,t){e.blockedOn===t&&(e.blockedOn=null,o0||(o0=!0,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,TO)))}function Sl(e){function t(s){return wu(s,e)}if(0<Hc.length){wu(Hc[0],e);for(var n=1;n<Hc.length;n++){var r=Hc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Qs!==null&&wu(Qs,e),Xs!==null&&wu(Xs,e),Js!==null&&wu(Js,e),Tl.forEach(t),_l.forEach(t),n=0;n<Is.length;n++)r=Is[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Is.length&&(n=Is[0],n.blockedOn===null);)US(n),n.blockedOn===null&&Is.shift()}var pa=as.ReactCurrentBatchConfig,oh=!0;function _O(e,t,n,r){var s=Fe,i=pa.transition;pa.transition=null;try{Fe=1,ky(e,t,n,r)}finally{Fe=s,pa.transition=i}}function SO(e,t,n,r){var s=Fe,i=pa.transition;pa.transition=null;try{Fe=4,ky(e,t,n,r)}finally{Fe=s,pa.transition=i}}function ky(e,t,n,r){if(oh){var s=a0(e,t,n,r);if(s===null)Sp(e,t,r,ah,n),bb(e,r);else if(EO(s,e,t,n,r))r.stopPropagation();else if(bb(e,r),t&4&&-1<wO.indexOf(e)){for(;s!==null;){var i=pc(s);if(i!==null&&MS(i),i=a0(e,t,n,r),i===null&&Sp(e,t,r,ah,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Sp(e,t,r,null,n)}}var ah=null;function a0(e,t,n,r){if(ah=null,e=Ty(r),e=Ui(e),e!==null)if(t=Eo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=AS(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ah=e,null}function HS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hO()){case _y:return 1;case IS:return 4;case sh:case fO:return 16;case OS:return 536870912;default:return 16}default:return 16}}var Ws=null,Ay=null,Nd=null;function $S(){if(Nd)return Nd;var e,t=Ay,n=t.length,r,s="value"in Ws?Ws.value:Ws.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Nd=s.slice(e,1<r?1-r:void 0)}function Rd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $c(){return!0}function wb(){return!1}function Sn(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$c:wb,this.isPropagationStopped=wb,this}return st(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$c)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$c)},persist:function(){},isPersistent:$c}),t}var Xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ny=Sn(Xa),fc=st({},Xa,{view:0,detail:0}),CO=Sn(fc),gp,yp,Eu,rf=st({},fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ry,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Eu&&(Eu&&e.type==="mousemove"?(gp=e.screenX-Eu.screenX,yp=e.screenY-Eu.screenY):yp=gp=0,Eu=e),gp)},movementY:function(e){return"movementY"in e?e.movementY:yp}}),Eb=Sn(rf),kO=st({},rf,{dataTransfer:0}),AO=Sn(kO),NO=st({},fc,{relatedTarget:0}),vp=Sn(NO),RO=st({},Xa,{animationName:0,elapsedTime:0,pseudoElement:0}),PO=Sn(RO),IO=st({},Xa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),OO=Sn(IO),DO=st({},Xa,{data:0}),Tb=Sn(DO),LO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FO(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jO[e])?!!t[e]:!1}function Ry(){return FO}var BO=st({},fc,{key:function(e){if(e.key){var t=LO[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?MO[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ry,charCode:function(e){return e.type==="keypress"?Rd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),UO=Sn(BO),HO=st({},rf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_b=Sn(HO),$O=st({},fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ry}),zO=Sn($O),VO=st({},Xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),WO=Sn(VO),qO=st({},rf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),KO=Sn(qO),YO=[9,13,27,32],Py=es&&"CompositionEvent"in window,Ju=null;es&&"documentMode"in document&&(Ju=document.documentMode);var GO=es&&"TextEvent"in window&&!Ju,zS=es&&(!Py||Ju&&8<Ju&&11>=Ju),Sb=" ",Cb=!1;function VS(e,t){switch(e){case"keyup":return YO.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yo=!1;function QO(e,t){switch(e){case"compositionend":return WS(t);case"keypress":return t.which!==32?null:(Cb=!0,Sb);case"textInput":return e=t.data,e===Sb&&Cb?null:e;default:return null}}function XO(e,t){if(Yo)return e==="compositionend"||!Py&&VS(e,t)?(e=$S(),Nd=Ay=Ws=null,Yo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zS&&t.locale!=="ko"?null:t.data;default:return null}}var JO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!JO[e.type]:t==="textarea"}function qS(e,t,n,r){TS(r),t=uh(t,"onChange"),0<t.length&&(n=new Ny("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Zu=null,Cl=null;function ZO(e){rC(e,0)}function sf(e){var t=Xo(e);if(gS(t))return e}function eD(e,t){if(e==="change")return t}var KS=!1;if(es){var bp;if(es){var xp="oninput"in document;if(!xp){var Ab=document.createElement("div");Ab.setAttribute("oninput","return;"),xp=typeof Ab.oninput=="function"}bp=xp}else bp=!1;KS=bp&&(!document.documentMode||9<document.documentMode)}function Nb(){Zu&&(Zu.detachEvent("onpropertychange",YS),Cl=Zu=null)}function YS(e){if(e.propertyName==="value"&&sf(Cl)){var t=[];qS(t,Cl,e,Ty(e)),kS(ZO,t)}}function tD(e,t,n){e==="focusin"?(Nb(),Zu=t,Cl=n,Zu.attachEvent("onpropertychange",YS)):e==="focusout"&&Nb()}function nD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sf(Cl)}function rD(e,t){if(e==="click")return sf(t)}function sD(e,t){if(e==="input"||e==="change")return sf(t)}function iD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lr=typeof Object.is=="function"?Object.is:iD;function kl(e,t){if(lr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!zm.call(t,s)||!lr(e[s],t[s]))return!1}return!0}function Rb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pb(e,t){var n=Rb(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rb(n)}}function GS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?GS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function QS(){for(var e=window,t=th();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=th(e.document)}return t}function Iy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function oD(e){var t=QS(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&GS(n.ownerDocument.documentElement,n)){if(r!==null&&Iy(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Pb(n,i);var o=Pb(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var aD=es&&"documentMode"in document&&11>=document.documentMode,Go=null,u0=null,el=null,l0=!1;function Ib(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;l0||Go==null||Go!==th(r)||(r=Go,"selectionStart"in r&&Iy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),el&&kl(el,r)||(el=r,r=uh(u0,"onSelect"),0<r.length&&(t=new Ny("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Go)))}function zc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qo={animationend:zc("Animation","AnimationEnd"),animationiteration:zc("Animation","AnimationIteration"),animationstart:zc("Animation","AnimationStart"),transitionend:zc("Transition","TransitionEnd")},wp={},XS={};es&&(XS=document.createElement("div").style,"AnimationEvent"in window||(delete Qo.animationend.animation,delete Qo.animationiteration.animation,delete Qo.animationstart.animation),"TransitionEvent"in window||delete Qo.transitionend.transition);function of(e){if(wp[e])return wp[e];if(!Qo[e])return e;var t=Qo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in XS)return wp[e]=t[n];return e}var JS=of("animationend"),ZS=of("animationiteration"),eC=of("animationstart"),tC=of("transitionend"),nC=new Map,Ob="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mi(e,t){nC.set(e,t),wo(t,[e])}for(var Ep=0;Ep<Ob.length;Ep++){var Tp=Ob[Ep],uD=Tp.toLowerCase(),lD=Tp[0].toUpperCase()+Tp.slice(1);mi(uD,"on"+lD)}mi(JS,"onAnimationEnd");mi(ZS,"onAnimationIteration");mi(eC,"onAnimationStart");mi("dblclick","onDoubleClick");mi("focusin","onFocus");mi("focusout","onBlur");mi(tC,"onTransitionEnd");La("onMouseEnter",["mouseout","mouseover"]);La("onMouseLeave",["mouseout","mouseover"]);La("onPointerEnter",["pointerout","pointerover"]);La("onPointerLeave",["pointerout","pointerover"]);wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wo("onBeforeInput",["compositionend","keypress","textInput","paste"]);wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hu));function Db(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,uO(r,t,void 0,e),e.currentTarget=null}function rC(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;Db(s,a,l),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;Db(s,a,l),i=u}}}if(rh)throw e=s0,rh=!1,s0=null,e}function Ke(e,t){var n=t[p0];n===void 0&&(n=t[p0]=new Set);var r=e+"__bubble";n.has(r)||(sC(t,e,2,!1),n.add(r))}function _p(e,t,n){var r=0;t&&(r|=4),sC(n,e,r,t)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function Al(e){if(!e[Vc]){e[Vc]=!0,dS.forEach(function(n){n!=="selectionchange"&&(cD.has(n)||_p(n,!1,e),_p(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vc]||(t[Vc]=!0,_p("selectionchange",!1,t))}}function sC(e,t,n,r){switch(HS(t)){case 1:var s=_O;break;case 4:s=SO;break;default:s=ky}n=s.bind(null,t,n,e),s=void 0,!r0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Sp(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ui(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}kS(function(){var l=i,c=Ty(n),d=[];e:{var f=nC.get(e);if(f!==void 0){var h=Ny,g=e;switch(e){case"keypress":if(Rd(n)===0)break e;case"keydown":case"keyup":h=UO;break;case"focusin":g="focus",h=vp;break;case"focusout":g="blur",h=vp;break;case"beforeblur":case"afterblur":h=vp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Eb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=AO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=zO;break;case JS:case ZS:case eC:h=PO;break;case tC:h=WO;break;case"scroll":h=CO;break;case"wheel":h=KO;break;case"copy":case"cut":case"paste":h=OO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=_b}var y=(t&4)!==0,w=!y&&e==="scroll",v=y?f!==null?f+"Capture":null:f;y=[];for(var b=l,E;b!==null;){E=b;var T=E.stateNode;if(E.tag===5&&T!==null&&(E=T,v!==null&&(T=El(b,v),T!=null&&y.push(Nl(b,T,E)))),w)break;b=b.return}0<y.length&&(f=new h(f,g,null,n,c),d.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==t0&&(g=n.relatedTarget||n.fromElement)&&(Ui(g)||g[ts]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=l,g=g?Ui(g):null,g!==null&&(w=Eo(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=l),h!==g)){if(y=Eb,T="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=_b,T="onPointerLeave",v="onPointerEnter",b="pointer"),w=h==null?f:Xo(h),E=g==null?f:Xo(g),f=new y(T,b+"leave",h,n,c),f.target=w,f.relatedTarget=E,T=null,Ui(c)===l&&(y=new y(v,b+"enter",g,n,c),y.target=E,y.relatedTarget=w,T=y),w=T,h&&g)t:{for(y=h,v=g,b=0,E=y;E;E=Ao(E))b++;for(E=0,T=v;T;T=Ao(T))E++;for(;0<b-E;)y=Ao(y),b--;for(;0<E-b;)v=Ao(v),E--;for(;b--;){if(y===v||v!==null&&y===v.alternate)break t;y=Ao(y),v=Ao(v)}y=null}else y=null;h!==null&&Lb(d,f,h,y,!1),g!==null&&w!==null&&Lb(d,w,g,y,!0)}}e:{if(f=l?Xo(l):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var S=eD;else if(kb(f))if(KS)S=sD;else{S=nD;var _=tD}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=rD);if(S&&(S=S(e,l))){qS(d,S,n,c);break e}_&&_(e,f,l),e==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&Qm(f,"number",f.value)}switch(_=l?Xo(l):window,e){case"focusin":(kb(_)||_.contentEditable==="true")&&(Go=_,u0=l,el=null);break;case"focusout":el=u0=Go=null;break;case"mousedown":l0=!0;break;case"contextmenu":case"mouseup":case"dragend":l0=!1,Ib(d,n,c);break;case"selectionchange":if(aD)break;case"keydown":case"keyup":Ib(d,n,c)}var k;if(Py)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Yo?VS(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(zS&&n.locale!=="ko"&&(Yo||I!=="onCompositionStart"?I==="onCompositionEnd"&&Yo&&(k=$S()):(Ws=c,Ay="value"in Ws?Ws.value:Ws.textContent,Yo=!0)),_=uh(l,I),0<_.length&&(I=new Tb(I,e,null,n,c),d.push({event:I,listeners:_}),k?I.data=k:(k=WS(n),k!==null&&(I.data=k)))),(k=GO?QO(e,n):XO(e,n))&&(l=uh(l,"onBeforeInput"),0<l.length&&(c=new Tb("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:l}),c.data=k))}rC(d,t)})}function Nl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function uh(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=El(e,n),i!=null&&r.unshift(Nl(e,i,s)),i=El(e,t),i!=null&&r.push(Nl(e,i,s))),e=e.return}return r}function Ao(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Lb(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,s?(u=El(n,i),u!=null&&o.unshift(Nl(n,u,a))):s||(u=El(n,i),u!=null&&o.push(Nl(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var dD=/\r\n?/g,hD=/\u0000|\uFFFD/g;function Mb(e){return(typeof e=="string"?e:""+e).replace(dD,`
`).replace(hD,"")}function Wc(e,t,n){if(t=Mb(t),Mb(e)!==t&&n)throw Error(Z(425))}function lh(){}var c0=null,d0=null;function h0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var f0=typeof setTimeout=="function"?setTimeout:void 0,fD=typeof clearTimeout=="function"?clearTimeout:void 0,jb=typeof Promise=="function"?Promise:void 0,pD=typeof queueMicrotask=="function"?queueMicrotask:typeof jb<"u"?function(e){return jb.resolve(null).then(e).catch(mD)}:f0;function mD(e){setTimeout(function(){throw e})}function Cp(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Sl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Sl(t)}function Zs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ja=Math.random().toString(36).slice(2),Sr="__reactFiber$"+Ja,Rl="__reactProps$"+Ja,ts="__reactContainer$"+Ja,p0="__reactEvents$"+Ja,gD="__reactListeners$"+Ja,yD="__reactHandles$"+Ja;function Ui(e){var t=e[Sr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ts]||n[Sr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fb(e);e!==null;){if(n=e[Sr])return n;e=Fb(e)}return t}e=n,n=e.parentNode}return null}function pc(e){return e=e[Sr]||e[ts],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function af(e){return e[Rl]||null}var m0=[],Jo=-1;function gi(e){return{current:e}}function Ye(e){0>Jo||(e.current=m0[Jo],m0[Jo]=null,Jo--)}function Ve(e,t){Jo++,m0[Jo]=e.current,e.current=t}var ui={},Bt=gi(ui),an=gi(!1),ao=ui;function Ma(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function un(e){return e=e.childContextTypes,e!=null}function ch(){Ye(an),Ye(Bt)}function Bb(e,t,n){if(Bt.current!==ui)throw Error(Z(168));Ve(Bt,t),Ve(an,n)}function iC(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(Z(108,tO(e)||"Unknown",s));return st({},n,r)}function dh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,ao=Bt.current,Ve(Bt,e),Ve(an,an.current),!0}function Ub(e,t,n){var r=e.stateNode;if(!r)throw Error(Z(169));n?(e=iC(e,t,ao),r.__reactInternalMemoizedMergedChildContext=e,Ye(an),Ye(Bt),Ve(Bt,e)):Ye(an),Ve(an,n)}var qr=null,uf=!1,kp=!1;function oC(e){qr===null?qr=[e]:qr.push(e)}function vD(e){uf=!0,oC(e)}function yi(){if(!kp&&qr!==null){kp=!0;var e=0,t=Fe;try{var n=qr;for(Fe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}qr=null,uf=!1}catch(s){throw qr!==null&&(qr=qr.slice(e+1)),PS(_y,yi),s}finally{Fe=t,kp=!1}}return null}var Zo=[],ea=0,hh=null,fh=0,Rn=[],Pn=0,uo=null,Qr=1,Xr="";function Oi(e,t){Zo[ea++]=fh,Zo[ea++]=hh,hh=e,fh=t}function aC(e,t,n){Rn[Pn++]=Qr,Rn[Pn++]=Xr,Rn[Pn++]=uo,uo=e;var r=Qr;e=Xr;var s=32-or(r)-1;r&=~(1<<s),n+=1;var i=32-or(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Qr=1<<32-or(t)+s|n<<s|r,Xr=i+e}else Qr=1<<i|n<<s|r,Xr=e}function Oy(e){e.return!==null&&(Oi(e,1),aC(e,1,0))}function Dy(e){for(;e===hh;)hh=Zo[--ea],Zo[ea]=null,fh=Zo[--ea],Zo[ea]=null;for(;e===uo;)uo=Rn[--Pn],Rn[Pn]=null,Xr=Rn[--Pn],Rn[Pn]=null,Qr=Rn[--Pn],Rn[Pn]=null}var xn=null,bn=null,Xe=!1,ir=null;function uC(e,t){var n=Dn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Hb(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xn=e,bn=Zs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xn=e,bn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=uo!==null?{id:Qr,overflow:Xr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Dn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xn=e,bn=null,!0):!1;default:return!1}}function g0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function y0(e){if(Xe){var t=bn;if(t){var n=t;if(!Hb(e,t)){if(g0(e))throw Error(Z(418));t=Zs(n.nextSibling);var r=xn;t&&Hb(e,t)?uC(r,n):(e.flags=e.flags&-4097|2,Xe=!1,xn=e)}}else{if(g0(e))throw Error(Z(418));e.flags=e.flags&-4097|2,Xe=!1,xn=e}}}function $b(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xn=e}function qc(e){if(e!==xn)return!1;if(!Xe)return $b(e),Xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!h0(e.type,e.memoizedProps)),t&&(t=bn)){if(g0(e))throw lC(),Error(Z(418));for(;t;)uC(e,t),t=Zs(t.nextSibling)}if($b(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){bn=Zs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}bn=null}}else bn=xn?Zs(e.stateNode.nextSibling):null;return!0}function lC(){for(var e=bn;e;)e=Zs(e.nextSibling)}function ja(){bn=xn=null,Xe=!1}function Ly(e){ir===null?ir=[e]:ir.push(e)}var bD=as.ReactCurrentBatchConfig;function Tu(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,e))}return e}function Kc(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zb(e){var t=e._init;return t(e._payload)}function cC(e){function t(v,b){if(e){var E=v.deletions;E===null?(v.deletions=[b],v.flags|=16):E.push(b)}}function n(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function s(v,b){return v=ri(v,b),v.index=0,v.sibling=null,v}function i(v,b,E){return v.index=E,e?(E=v.alternate,E!==null?(E=E.index,E<b?(v.flags|=2,b):E):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,b,E,T){return b===null||b.tag!==6?(b=Dp(E,v.mode,T),b.return=v,b):(b=s(b,E),b.return=v,b)}function u(v,b,E,T){var S=E.type;return S===Ko?c(v,b,E.props.children,T,E.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ns&&zb(S)===b.type)?(T=s(b,E.props),T.ref=Tu(v,b,E),T.return=v,T):(T=jd(E.type,E.key,E.props,null,v.mode,T),T.ref=Tu(v,b,E),T.return=v,T)}function l(v,b,E,T){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=Lp(E,v.mode,T),b.return=v,b):(b=s(b,E.children||[]),b.return=v,b)}function c(v,b,E,T,S){return b===null||b.tag!==7?(b=so(E,v.mode,T,S),b.return=v,b):(b=s(b,E),b.return=v,b)}function d(v,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Dp(""+b,v.mode,E),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Mc:return E=jd(b.type,b.key,b.props,null,v.mode,E),E.ref=Tu(v,null,b),E.return=v,E;case qo:return b=Lp(b,v.mode,E),b.return=v,b;case Ns:var T=b._init;return d(v,T(b._payload),E)}if(Bu(b)||vu(b))return b=so(b,v.mode,E,null),b.return=v,b;Kc(v,b)}return null}function f(v,b,E,T){var S=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return S!==null?null:a(v,b,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Mc:return E.key===S?u(v,b,E,T):null;case qo:return E.key===S?l(v,b,E,T):null;case Ns:return S=E._init,f(v,b,S(E._payload),T)}if(Bu(E)||vu(E))return S!==null?null:c(v,b,E,T,null);Kc(v,E)}return null}function h(v,b,E,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return v=v.get(E)||null,a(b,v,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Mc:return v=v.get(T.key===null?E:T.key)||null,u(b,v,T,S);case qo:return v=v.get(T.key===null?E:T.key)||null,l(b,v,T,S);case Ns:var _=T._init;return h(v,b,E,_(T._payload),S)}if(Bu(T)||vu(T))return v=v.get(E)||null,c(b,v,T,S,null);Kc(b,T)}return null}function g(v,b,E,T){for(var S=null,_=null,k=b,I=b=0,M=null;k!==null&&I<E.length;I++){k.index>I?(M=k,k=null):M=k.sibling;var P=f(v,k,E[I],T);if(P===null){k===null&&(k=M);break}e&&k&&P.alternate===null&&t(v,k),b=i(P,b,I),_===null?S=P:_.sibling=P,_=P,k=M}if(I===E.length)return n(v,k),Xe&&Oi(v,I),S;if(k===null){for(;I<E.length;I++)k=d(v,E[I],T),k!==null&&(b=i(k,b,I),_===null?S=k:_.sibling=k,_=k);return Xe&&Oi(v,I),S}for(k=r(v,k);I<E.length;I++)M=h(k,v,I,E[I],T),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?I:M.key),b=i(M,b,I),_===null?S=M:_.sibling=M,_=M);return e&&k.forEach(function(H){return t(v,H)}),Xe&&Oi(v,I),S}function y(v,b,E,T){var S=vu(E);if(typeof S!="function")throw Error(Z(150));if(E=S.call(E),E==null)throw Error(Z(151));for(var _=S=null,k=b,I=b=0,M=null,P=E.next();k!==null&&!P.done;I++,P=E.next()){k.index>I?(M=k,k=null):M=k.sibling;var H=f(v,k,P.value,T);if(H===null){k===null&&(k=M);break}e&&k&&H.alternate===null&&t(v,k),b=i(H,b,I),_===null?S=H:_.sibling=H,_=H,k=M}if(P.done)return n(v,k),Xe&&Oi(v,I),S;if(k===null){for(;!P.done;I++,P=E.next())P=d(v,P.value,T),P!==null&&(b=i(P,b,I),_===null?S=P:_.sibling=P,_=P);return Xe&&Oi(v,I),S}for(k=r(v,k);!P.done;I++,P=E.next())P=h(k,v,I,P.value,T),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?I:P.key),b=i(P,b,I),_===null?S=P:_.sibling=P,_=P);return e&&k.forEach(function(U){return t(v,U)}),Xe&&Oi(v,I),S}function w(v,b,E,T){if(typeof E=="object"&&E!==null&&E.type===Ko&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Mc:e:{for(var S=E.key,_=b;_!==null;){if(_.key===S){if(S=E.type,S===Ko){if(_.tag===7){n(v,_.sibling),b=s(_,E.props.children),b.return=v,v=b;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ns&&zb(S)===_.type){n(v,_.sibling),b=s(_,E.props),b.ref=Tu(v,_,E),b.return=v,v=b;break e}n(v,_);break}else t(v,_);_=_.sibling}E.type===Ko?(b=so(E.props.children,v.mode,T,E.key),b.return=v,v=b):(T=jd(E.type,E.key,E.props,null,v.mode,T),T.ref=Tu(v,b,E),T.return=v,v=T)}return o(v);case qo:e:{for(_=E.key;b!==null;){if(b.key===_)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){n(v,b.sibling),b=s(b,E.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else t(v,b);b=b.sibling}b=Lp(E,v.mode,T),b.return=v,v=b}return o(v);case Ns:return _=E._init,w(v,b,_(E._payload),T)}if(Bu(E))return g(v,b,E,T);if(vu(E))return y(v,b,E,T);Kc(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,b!==null&&b.tag===6?(n(v,b.sibling),b=s(b,E),b.return=v,v=b):(n(v,b),b=Dp(E,v.mode,T),b.return=v,v=b),o(v)):n(v,b)}return w}var Fa=cC(!0),dC=cC(!1),ph=gi(null),mh=null,ta=null,My=null;function jy(){My=ta=mh=null}function Fy(e){var t=ph.current;Ye(ph),e._currentValue=t}function v0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ma(e,t){mh=e,My=ta=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(on=!0),e.firstContext=null)}function Un(e){var t=e._currentValue;if(My!==e)if(e={context:e,memoizedValue:t,next:null},ta===null){if(mh===null)throw Error(Z(308));ta=e,mh.dependencies={lanes:0,firstContext:e}}else ta=ta.next=e;return t}var Hi=null;function By(e){Hi===null?Hi=[e]:Hi.push(e)}function hC(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,By(t)):(n.next=s.next,s.next=n),t.interleaved=n,ns(e,r)}function ns(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rs=!1;function Uy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ei(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ns(e,n)}return s=r.interleaved,s===null?(t.next=t,By(r)):(t.next=s.next,s.next=t),r.interleaved=t,ns(e,n)}function Pd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sy(e,n)}}function Vb(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function gh(e,t,n,r){var s=e.updateQueue;Rs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?i=l:o.next=l,o=u;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(i!==null){var d=s.baseState;o=0,c=l=u=null,a=i;do{var f=a.lane,h=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,y=a;switch(f=t,h=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(h,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(h,d,f):g,f==null)break e;d=st({},d,f);break e;case 2:Rs=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=h,u=d):c=c.next=h,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(u=d),s.baseState=u,s.firstBaseUpdate=l,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);co|=o,e.lanes=o,e.memoizedState=d}}function Wb(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Z(191,s));s.call(r)}}}var mc={},Nr=gi(mc),Pl=gi(mc),Il=gi(mc);function $i(e){if(e===mc)throw Error(Z(174));return e}function Hy(e,t){switch(Ve(Il,t),Ve(Pl,e),Ve(Nr,mc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Jm(t,e)}Ye(Nr),Ve(Nr,t)}function Ba(){Ye(Nr),Ye(Pl),Ye(Il)}function pC(e){$i(Il.current);var t=$i(Nr.current),n=Jm(t,e.type);t!==n&&(Ve(Pl,e),Ve(Nr,n))}function $y(e){Pl.current===e&&(Ye(Nr),Ye(Pl))}var et=gi(0);function yh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ap=[];function zy(){for(var e=0;e<Ap.length;e++)Ap[e]._workInProgressVersionPrimary=null;Ap.length=0}var Id=as.ReactCurrentDispatcher,Np=as.ReactCurrentBatchConfig,lo=0,nt=null,xt=null,_t=null,vh=!1,tl=!1,Ol=0,xD=0;function Ot(){throw Error(Z(321))}function Vy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function Wy(e,t,n,r,s,i){if(lo=i,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Id.current=e===null||e.memoizedState===null?_D:SD,e=n(r,s),tl){i=0;do{if(tl=!1,Ol=0,25<=i)throw Error(Z(301));i+=1,_t=xt=null,t.updateQueue=null,Id.current=CD,e=n(r,s)}while(tl)}if(Id.current=bh,t=xt!==null&&xt.next!==null,lo=0,_t=xt=nt=null,vh=!1,t)throw Error(Z(300));return e}function qy(){var e=Ol!==0;return Ol=0,e}function vr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?nt.memoizedState=_t=e:_t=_t.next=e,_t}function Hn(){if(xt===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var t=_t===null?nt.memoizedState:_t.next;if(t!==null)_t=t,xt=e;else{if(e===null)throw Error(Z(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},_t===null?nt.memoizedState=_t=e:_t=_t.next=e}return _t}function Dl(e,t){return typeof t=="function"?t(e):t}function Rp(e){var t=Hn(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=xt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,l=i;do{var c=l.lane;if((lo&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=d,o=r):u=u.next=d,nt.lanes|=c,co|=c}l=l.next}while(l!==null&&l!==i);u===null?o=r:u.next=a,lr(r,t.memoizedState)||(on=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,nt.lanes|=i,co|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pp(e){var t=Hn(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);lr(i,t.memoizedState)||(on=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function mC(){}function gC(e,t){var n=nt,r=Hn(),s=t(),i=!lr(r.memoizedState,s);if(i&&(r.memoizedState=s,on=!0),r=r.queue,Ky(bC.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||_t!==null&&_t.memoizedState.tag&1){if(n.flags|=2048,Ll(9,vC.bind(null,n,r,s,t),void 0,null),Ct===null)throw Error(Z(349));lo&30||yC(n,t,s)}return s}function yC(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function vC(e,t,n,r){t.value=n,t.getSnapshot=r,xC(t)&&wC(e)}function bC(e,t,n){return n(function(){xC(t)&&wC(e)})}function xC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch{return!0}}function wC(e){var t=ns(e,1);t!==null&&ar(t,e,1,-1)}function qb(e){var t=vr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dl,lastRenderedState:e},t.queue=e,e=e.dispatch=TD.bind(null,nt,e),[t.memoizedState,e]}function Ll(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function EC(){return Hn().memoizedState}function Od(e,t,n,r){var s=vr();nt.flags|=e,s.memoizedState=Ll(1|t,n,void 0,r===void 0?null:r)}function lf(e,t,n,r){var s=Hn();r=r===void 0?null:r;var i=void 0;if(xt!==null){var o=xt.memoizedState;if(i=o.destroy,r!==null&&Vy(r,o.deps)){s.memoizedState=Ll(t,n,i,r);return}}nt.flags|=e,s.memoizedState=Ll(1|t,n,i,r)}function Kb(e,t){return Od(8390656,8,e,t)}function Ky(e,t){return lf(2048,8,e,t)}function TC(e,t){return lf(4,2,e,t)}function _C(e,t){return lf(4,4,e,t)}function SC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function CC(e,t,n){return n=n!=null?n.concat([e]):null,lf(4,4,SC.bind(null,t,e),n)}function Yy(){}function kC(e,t){var n=Hn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vy(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function AC(e,t){var n=Hn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vy(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function NC(e,t,n){return lo&21?(lr(n,t)||(n=DS(),nt.lanes|=n,co|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,on=!0),e.memoizedState=n)}function wD(e,t){var n=Fe;Fe=n!==0&&4>n?n:4,e(!0);var r=Np.transition;Np.transition={};try{e(!1),t()}finally{Fe=n,Np.transition=r}}function RC(){return Hn().memoizedState}function ED(e,t,n){var r=ni(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},PC(e))IC(t,n);else if(n=hC(e,t,n,r),n!==null){var s=Qt();ar(n,e,r,s),OC(n,t,r)}}function TD(e,t,n){var r=ni(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(PC(e))IC(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,lr(a,o)){var u=t.interleaved;u===null?(s.next=s,By(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=hC(e,t,s,r),n!==null&&(s=Qt(),ar(n,e,r,s),OC(n,t,r))}}function PC(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function IC(e,t){tl=vh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function OC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sy(e,n)}}var bh={readContext:Un,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},_D={readContext:Un,useCallback:function(e,t){return vr().memoizedState=[e,t===void 0?null:t],e},useContext:Un,useEffect:Kb,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Od(4194308,4,SC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Od(4194308,4,e,t)},useInsertionEffect:function(e,t){return Od(4,2,e,t)},useMemo:function(e,t){var n=vr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ED.bind(null,nt,e),[r.memoizedState,e]},useRef:function(e){var t=vr();return e={current:e},t.memoizedState=e},useState:qb,useDebugValue:Yy,useDeferredValue:function(e){return vr().memoizedState=e},useTransition:function(){var e=qb(!1),t=e[0];return e=wD.bind(null,e[1]),vr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=nt,s=vr();if(Xe){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=t(),Ct===null)throw Error(Z(349));lo&30||yC(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Kb(bC.bind(null,r,i,e),[e]),r.flags|=2048,Ll(9,vC.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=vr(),t=Ct.identifierPrefix;if(Xe){var n=Xr,r=Qr;n=(r&~(1<<32-or(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ol++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=xD++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},SD={readContext:Un,useCallback:kC,useContext:Un,useEffect:Ky,useImperativeHandle:CC,useInsertionEffect:TC,useLayoutEffect:_C,useMemo:AC,useReducer:Rp,useRef:EC,useState:function(){return Rp(Dl)},useDebugValue:Yy,useDeferredValue:function(e){var t=Hn();return NC(t,xt.memoizedState,e)},useTransition:function(){var e=Rp(Dl)[0],t=Hn().memoizedState;return[e,t]},useMutableSource:mC,useSyncExternalStore:gC,useId:RC,unstable_isNewReconciler:!1},CD={readContext:Un,useCallback:kC,useContext:Un,useEffect:Ky,useImperativeHandle:CC,useInsertionEffect:TC,useLayoutEffect:_C,useMemo:AC,useReducer:Pp,useRef:EC,useState:function(){return Pp(Dl)},useDebugValue:Yy,useDeferredValue:function(e){var t=Hn();return xt===null?t.memoizedState=e:NC(t,xt.memoizedState,e)},useTransition:function(){var e=Pp(Dl)[0],t=Hn().memoizedState;return[e,t]},useMutableSource:mC,useSyncExternalStore:gC,useId:RC,unstable_isNewReconciler:!1};function Zn(e,t){if(e&&e.defaultProps){t=st({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function b0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:st({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var cf={isMounted:function(e){return(e=e._reactInternals)?Eo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Qt(),s=ni(e),i=Jr(r,s);i.payload=t,n!=null&&(i.callback=n),t=ei(e,i,s),t!==null&&(ar(t,e,s,r),Pd(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Qt(),s=ni(e),i=Jr(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ei(e,i,s),t!==null&&(ar(t,e,s,r),Pd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qt(),r=ni(e),s=Jr(n,r);s.tag=2,t!=null&&(s.callback=t),t=ei(e,s,r),t!==null&&(ar(t,e,r,n),Pd(t,e,r))}};function Yb(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!kl(n,r)||!kl(s,i):!0}function DC(e,t,n){var r=!1,s=ui,i=t.contextType;return typeof i=="object"&&i!==null?i=Un(i):(s=un(t)?ao:Bt.current,r=t.contextTypes,i=(r=r!=null)?Ma(e,s):ui),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Gb(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&cf.enqueueReplaceState(t,t.state,null)}function x0(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Uy(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Un(i):(i=un(t)?ao:Bt.current,s.context=Ma(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(b0(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&cf.enqueueReplaceState(s,s.state,null),gh(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ua(e,t){try{var n="",r=t;do n+=eO(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ip(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function w0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var kD=typeof WeakMap=="function"?WeakMap:Map;function LC(e,t,n){n=Jr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){wh||(wh=!0,P0=r),w0(e,t)},n}function MC(e,t,n){n=Jr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){w0(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){w0(e,t),typeof r!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Qb(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new kD;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=HD.bind(null,e,t,n),t.then(e,e))}function Xb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Jb(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Jr(-1,1),t.tag=2,ei(n,t,1))),n.lanes|=1),e)}var AD=as.ReactCurrentOwner,on=!1;function Wt(e,t,n,r){t.child=e===null?dC(t,null,n,r):Fa(t,e.child,n,r)}function Zb(e,t,n,r,s){n=n.render;var i=t.ref;return ma(t,s),r=Wy(e,t,n,r,i,s),n=qy(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,rs(e,t,s)):(Xe&&n&&Oy(t),t.flags|=1,Wt(e,t,r,s),t.child)}function ex(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!nv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,jC(e,t,i,r,s)):(e=jd(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:kl,n(o,r)&&e.ref===t.ref)return rs(e,t,s)}return t.flags|=1,e=ri(i,r),e.ref=t.ref,e.return=t,t.child=e}function jC(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(kl(i,r)&&e.ref===t.ref)if(on=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(on=!0);else return t.lanes=e.lanes,rs(e,t,s)}return E0(e,t,n,r,s)}function FC(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(ra,gn),gn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ve(ra,gn),gn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ve(ra,gn),gn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ve(ra,gn),gn|=r;return Wt(e,t,s,n),t.child}function BC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function E0(e,t,n,r,s){var i=un(n)?ao:Bt.current;return i=Ma(t,i),ma(t,s),n=Wy(e,t,n,r,i,s),r=qy(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,rs(e,t,s)):(Xe&&r&&Oy(t),t.flags|=1,Wt(e,t,n,s),t.child)}function tx(e,t,n,r,s){if(un(n)){var i=!0;dh(t)}else i=!1;if(ma(t,s),t.stateNode===null)Dd(e,t),DC(t,n,r),x0(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=Un(l):(l=un(n)?ao:Bt.current,l=Ma(t,l));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&Gb(t,o,r,l),Rs=!1;var f=t.memoizedState;o.state=f,gh(t,r,o,s),u=t.memoizedState,a!==r||f!==u||an.current||Rs?(typeof c=="function"&&(b0(t,n,c,r),u=t.memoizedState),(a=Rs||Yb(t,n,a,r,f,u,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,fC(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:Zn(t.type,a),o.props=l,d=t.pendingProps,f=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Un(u):(u=un(n)?ao:Bt.current,u=Ma(t,u));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==u)&&Gb(t,o,r,u),Rs=!1,f=t.memoizedState,o.state=f,gh(t,r,o,s);var g=t.memoizedState;a!==d||f!==g||an.current||Rs?(typeof h=="function"&&(b0(t,n,h,r),g=t.memoizedState),(l=Rs||Yb(t,n,l,r,f,g,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return T0(e,t,n,r,i,s)}function T0(e,t,n,r,s,i){BC(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Ub(t,n,!1),rs(e,t,i);r=t.stateNode,AD.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Fa(t,e.child,null,i),t.child=Fa(t,null,a,i)):Wt(e,t,a,i),t.memoizedState=r.state,s&&Ub(t,n,!0),t.child}function UC(e){var t=e.stateNode;t.pendingContext?Bb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Bb(e,t.context,!1),Hy(e,t.containerInfo)}function nx(e,t,n,r,s){return ja(),Ly(s),t.flags|=256,Wt(e,t,n,r),t.child}var _0={dehydrated:null,treeContext:null,retryLane:0};function S0(e){return{baseLanes:e,cachePool:null,transitions:null}}function HC(e,t,n){var r=t.pendingProps,s=et.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ve(et,s&1),e===null)return y0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ff(o,r,0,null),e=so(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=S0(n),t.memoizedState=_0,e):Gy(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return ND(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=ri(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ri(a,i):(i=so(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?S0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=_0,r}return i=e.child,e=i.sibling,r=ri(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Gy(e,t){return t=ff({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yc(e,t,n,r){return r!==null&&Ly(r),Fa(t,e.child,null,n),e=Gy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ND(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Ip(Error(Z(422))),Yc(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=ff({mode:"visible",children:r.children},s,0,null),i=so(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Fa(t,e.child,null,o),t.child.memoizedState=S0(o),t.memoizedState=_0,i);if(!(t.mode&1))return Yc(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Z(419)),r=Ip(i,r,void 0),Yc(e,t,o,r)}if(a=(o&e.childLanes)!==0,on||a){if(r=Ct,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ns(e,s),ar(r,e,s,-1))}return tv(),r=Ip(Error(Z(421))),Yc(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=$D.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,bn=Zs(s.nextSibling),xn=t,Xe=!0,ir=null,e!==null&&(Rn[Pn++]=Qr,Rn[Pn++]=Xr,Rn[Pn++]=uo,Qr=e.id,Xr=e.overflow,uo=t),t=Gy(t,r.children),t.flags|=4096,t)}function rx(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),v0(e.return,t,n)}function Op(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function $C(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Wt(e,t,r.children,n),r=et.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rx(e,n,t);else if(e.tag===19)rx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ve(et,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&yh(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Op(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&yh(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Op(t,!0,n,null,i);break;case"together":Op(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Dd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function rs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),co|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,n=ri(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ri(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function RD(e,t,n){switch(t.tag){case 3:UC(t),ja();break;case 5:pC(t);break;case 1:un(t.type)&&dh(t);break;case 4:Hy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ve(ph,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ve(et,et.current&1),t.flags|=128,null):n&t.child.childLanes?HC(e,t,n):(Ve(et,et.current&1),e=rs(e,t,n),e!==null?e.sibling:null);Ve(et,et.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return $C(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ve(et,et.current),r)break;return null;case 22:case 23:return t.lanes=0,FC(e,t,n)}return rs(e,t,n)}var zC,C0,VC,WC;zC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};C0=function(){};VC=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,$i(Nr.current);var i=null;switch(n){case"input":s=Ym(e,s),r=Ym(e,r),i=[];break;case"select":s=st({},s,{value:void 0}),r=st({},r,{value:void 0}),i=[];break;case"textarea":s=Xm(e,s),r=Xm(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=lh)}Zm(n,r);var o;n=null;for(l in s)if(!r.hasOwnProperty(l)&&s.hasOwnProperty(l)&&s[l]!=null)if(l==="style"){var a=s[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(xl.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in r){var u=r[l];if(a=s!=null?s[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(xl.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Ke("scroll",e),i||a===u||(i=[])):(i=i||[]).push(l,u))}n&&(i=i||[]).push("style",n);var l=i;(t.updateQueue=l)&&(t.flags|=4)}};WC=function(e,t,n,r){n!==r&&(t.flags|=4)};function _u(e,t){if(!Xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function PD(e,t,n){var r=t.pendingProps;switch(Dy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(t),null;case 1:return un(t.type)&&ch(),Dt(t),null;case 3:return r=t.stateNode,Ba(),Ye(an),Ye(Bt),zy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(qc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ir!==null&&(D0(ir),ir=null))),C0(e,t),Dt(t),null;case 5:$y(t);var s=$i(Il.current);if(n=t.type,e!==null&&t.stateNode!=null)VC(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Z(166));return Dt(t),null}if(e=$i(Nr.current),qc(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Sr]=t,r[Rl]=i,e=(t.mode&1)!==0,n){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(s=0;s<Hu.length;s++)Ke(Hu[s],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":hb(r,i),Ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ke("invalid",r);break;case"textarea":pb(r,i),Ke("invalid",r)}Zm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Wc(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Wc(r.textContent,a,e),s=["children",""+a]):xl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ke("scroll",r)}switch(n){case"input":jc(r),fb(r,i,!0);break;case"textarea":jc(r),mb(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=lh)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=bS(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Sr]=t,e[Rl]=r,zC(e,t,!1,!1),t.stateNode=e;e:{switch(o=e0(n,r),n){case"dialog":Ke("cancel",e),Ke("close",e),s=r;break;case"iframe":case"object":case"embed":Ke("load",e),s=r;break;case"video":case"audio":for(s=0;s<Hu.length;s++)Ke(Hu[s],e);s=r;break;case"source":Ke("error",e),s=r;break;case"img":case"image":case"link":Ke("error",e),Ke("load",e),s=r;break;case"details":Ke("toggle",e),s=r;break;case"input":hb(e,r),s=Ym(e,r),Ke("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=st({},r,{value:void 0}),Ke("invalid",e);break;case"textarea":pb(e,r),s=Xm(e,r),Ke("invalid",e);break;default:s=r}Zm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?ES(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&xS(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&wl(e,u):typeof u=="number"&&wl(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xl.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Ke("scroll",e):u!=null&&by(e,i,u,o))}switch(n){case"input":jc(e),fb(e,r,!1);break;case"textarea":jc(e),mb(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ai(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?da(e,!!r.multiple,i,!1):r.defaultValue!=null&&da(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=lh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Dt(t),null;case 6:if(e&&t.stateNode!=null)WC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Z(166));if(n=$i(Il.current),$i(Nr.current),qc(t)){if(r=t.stateNode,n=t.memoizedProps,r[Sr]=t,(i=r.nodeValue!==n)&&(e=xn,e!==null))switch(e.tag){case 3:Wc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wc(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sr]=t,t.stateNode=r}return Dt(t),null;case 13:if(Ye(et),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xe&&bn!==null&&t.mode&1&&!(t.flags&128))lC(),ja(),t.flags|=98560,i=!1;else if(i=qc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Z(317));i[Sr]=t}else ja(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Dt(t),i=!1}else ir!==null&&(D0(ir),ir=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||et.current&1?Et===0&&(Et=3):tv())),t.updateQueue!==null&&(t.flags|=4),Dt(t),null);case 4:return Ba(),C0(e,t),e===null&&Al(t.stateNode.containerInfo),Dt(t),null;case 10:return Fy(t.type._context),Dt(t),null;case 17:return un(t.type)&&ch(),Dt(t),null;case 19:if(Ye(et),i=t.memoizedState,i===null)return Dt(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)_u(i,!1);else{if(Et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=yh(e),o!==null){for(t.flags|=128,_u(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ve(et,et.current&1|2),t.child}e=e.sibling}i.tail!==null&&lt()>Ha&&(t.flags|=128,r=!0,_u(i,!1),t.lanes=4194304)}else{if(!r)if(e=yh(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),_u(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Xe)return Dt(t),null}else 2*lt()-i.renderingStartTime>Ha&&n!==1073741824&&(t.flags|=128,r=!0,_u(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=lt(),t.sibling=null,n=et.current,Ve(et,r?n&1|2:n&1),t):(Dt(t),null);case 22:case 23:return ev(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?gn&1073741824&&(Dt(t),t.subtreeFlags&6&&(t.flags|=8192)):Dt(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function ID(e,t){switch(Dy(t),t.tag){case 1:return un(t.type)&&ch(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ba(),Ye(an),Ye(Bt),zy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $y(t),null;case 13:if(Ye(et),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));ja()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ye(et),null;case 4:return Ba(),null;case 10:return Fy(t.type._context),null;case 22:case 23:return ev(),null;case 24:return null;default:return null}}var Gc=!1,Mt=!1,OD=typeof WeakSet=="function"?WeakSet:Set,ue=null;function na(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(e,t,r)}else n.current=null}function k0(e,t,n){try{n()}catch(r){at(e,t,r)}}var sx=!1;function DD(e,t){if(c0=oh,e=QS(),Iy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,d=e,f=null;t:for(;;){for(var h;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(u=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++l===s&&(a=o),f===i&&++c===r&&(u=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(d0={focusedElem:e,selectionRange:n},oh=!1,ue=t;ue!==null;)if(t=ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ue=e;else for(;ue!==null;){t=ue;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,w=g.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:Zn(t.type,y),w);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(T){at(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,ue=e;break}ue=t.return}return g=sx,sx=!1,g}function nl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&k0(t,n,i)}s=s.next}while(s!==r)}}function df(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function A0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function qC(e){var t=e.alternate;t!==null&&(e.alternate=null,qC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Sr],delete t[Rl],delete t[p0],delete t[gD],delete t[yD])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function KC(e){return e.tag===5||e.tag===3||e.tag===4}function ix(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||KC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function N0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=lh));else if(r!==4&&(e=e.child,e!==null))for(N0(e,t,n),e=e.sibling;e!==null;)N0(e,t,n),e=e.sibling}function R0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(R0(e,t,n),e=e.sibling;e!==null;)R0(e,t,n),e=e.sibling}var Nt=null,rr=!1;function ys(e,t,n){for(n=n.child;n!==null;)YC(e,t,n),n=n.sibling}function YC(e,t,n){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(nf,n)}catch{}switch(n.tag){case 5:Mt||na(n,t);case 6:var r=Nt,s=rr;Nt=null,ys(e,t,n),Nt=r,rr=s,Nt!==null&&(rr?(e=Nt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Nt.removeChild(n.stateNode));break;case 18:Nt!==null&&(rr?(e=Nt,n=n.stateNode,e.nodeType===8?Cp(e.parentNode,n):e.nodeType===1&&Cp(e,n),Sl(e)):Cp(Nt,n.stateNode));break;case 4:r=Nt,s=rr,Nt=n.stateNode.containerInfo,rr=!0,ys(e,t,n),Nt=r,rr=s;break;case 0:case 11:case 14:case 15:if(!Mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&k0(n,t,o),s=s.next}while(s!==r)}ys(e,t,n);break;case 1:if(!Mt&&(na(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){at(n,t,a)}ys(e,t,n);break;case 21:ys(e,t,n);break;case 22:n.mode&1?(Mt=(r=Mt)||n.memoizedState!==null,ys(e,t,n),Mt=r):ys(e,t,n);break;default:ys(e,t,n)}}function ox(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new OD),t.forEach(function(r){var s=zD.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Yn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Nt=a.stateNode,rr=!1;break e;case 3:Nt=a.stateNode.containerInfo,rr=!0;break e;case 4:Nt=a.stateNode.containerInfo,rr=!0;break e}a=a.return}if(Nt===null)throw Error(Z(160));YC(i,o,s),Nt=null,rr=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(l){at(s,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)GC(t,e),t=t.sibling}function GC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yn(t,e),yr(e),r&4){try{nl(3,e,e.return),df(3,e)}catch(y){at(e,e.return,y)}try{nl(5,e,e.return)}catch(y){at(e,e.return,y)}}break;case 1:Yn(t,e),yr(e),r&512&&n!==null&&na(n,n.return);break;case 5:if(Yn(t,e),yr(e),r&512&&n!==null&&na(n,n.return),e.flags&32){var s=e.stateNode;try{wl(s,"")}catch(y){at(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&yS(s,i),e0(a,o);var l=e0(a,i);for(o=0;o<u.length;o+=2){var c=u[o],d=u[o+1];c==="style"?ES(s,d):c==="dangerouslySetInnerHTML"?xS(s,d):c==="children"?wl(s,d):by(s,c,d,l)}switch(a){case"input":Gm(s,i);break;case"textarea":vS(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?da(s,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?da(s,!!i.multiple,i.defaultValue,!0):da(s,!!i.multiple,i.multiple?[]:"",!1))}s[Rl]=i}catch(y){at(e,e.return,y)}}break;case 6:if(Yn(t,e),yr(e),r&4){if(e.stateNode===null)throw Error(Z(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){at(e,e.return,y)}}break;case 3:if(Yn(t,e),yr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sl(t.containerInfo)}catch(y){at(e,e.return,y)}break;case 4:Yn(t,e),yr(e);break;case 13:Yn(t,e),yr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Jy=lt())),r&4&&ox(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Mt=(l=Mt)||c,Yn(t,e),Mt=l):Yn(t,e),yr(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(ue=e,c=e.child;c!==null;){for(d=ue=c;ue!==null;){switch(f=ue,h=f.child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:na(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){at(r,n,y)}}break;case 5:na(f,f.return);break;case 22:if(f.memoizedState!==null){ux(d);continue}}h!==null?(h.return=f,ue=h):ux(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,l?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,u=d.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=wS("display",o))}catch(y){at(e,e.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(y){at(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Yn(t,e),yr(e),r&4&&ox(e);break;case 21:break;default:Yn(t,e),yr(e)}}function yr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(KC(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(wl(s,""),r.flags&=-33);var i=ix(e);R0(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ix(e);N0(e,a,o);break;default:throw Error(Z(161))}}catch(u){at(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function LD(e,t,n){ue=e,QC(e)}function QC(e,t,n){for(var r=(e.mode&1)!==0;ue!==null;){var s=ue,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Gc;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||Mt;a=Gc;var l=Mt;if(Gc=o,(Mt=u)&&!l)for(ue=s;ue!==null;)o=ue,u=o.child,o.tag===22&&o.memoizedState!==null?lx(s):u!==null?(u.return=o,ue=u):lx(s);for(;i!==null;)ue=i,QC(i),i=i.sibling;ue=s,Gc=a,Mt=l}ax(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ue=i):ax(e)}}function ax(e){for(;ue!==null;){var t=ue;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Mt||df(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Mt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Zn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Wb(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Wb(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Sl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}Mt||t.flags&512&&A0(t)}catch(f){at(t,t.return,f)}}if(t===e){ue=null;break}if(n=t.sibling,n!==null){n.return=t.return,ue=n;break}ue=t.return}}function ux(e){for(;ue!==null;){var t=ue;if(t===e){ue=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ue=n;break}ue=t.return}}function lx(e){for(;ue!==null;){var t=ue;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{df(4,t)}catch(u){at(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){at(t,s,u)}}var i=t.return;try{A0(t)}catch(u){at(t,i,u)}break;case 5:var o=t.return;try{A0(t)}catch(u){at(t,o,u)}}}catch(u){at(t,t.return,u)}if(t===e){ue=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ue=a;break}ue=t.return}}var MD=Math.ceil,xh=as.ReactCurrentDispatcher,Qy=as.ReactCurrentOwner,Mn=as.ReactCurrentBatchConfig,Le=0,Ct=null,yt=null,Pt=0,gn=0,ra=gi(0),Et=0,Ml=null,co=0,hf=0,Xy=0,rl=null,sn=null,Jy=0,Ha=1/0,Vr=null,wh=!1,P0=null,ti=null,Qc=!1,qs=null,Eh=0,sl=0,I0=null,Ld=-1,Md=0;function Qt(){return Le&6?lt():Ld!==-1?Ld:Ld=lt()}function ni(e){return e.mode&1?Le&2&&Pt!==0?Pt&-Pt:bD.transition!==null?(Md===0&&(Md=DS()),Md):(e=Fe,e!==0||(e=window.event,e=e===void 0?16:HS(e.type)),e):1}function ar(e,t,n,r){if(50<sl)throw sl=0,I0=null,Error(Z(185));hc(e,n,r),(!(Le&2)||e!==Ct)&&(e===Ct&&(!(Le&2)&&(hf|=n),Et===4&&Os(e,Pt)),ln(e,r),n===1&&Le===0&&!(t.mode&1)&&(Ha=lt()+500,uf&&yi()))}function ln(e,t){var n=e.callbackNode;bO(e,t);var r=ih(e,e===Ct?Pt:0);if(r===0)n!==null&&vb(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&vb(n),t===1)e.tag===0?vD(cx.bind(null,e)):oC(cx.bind(null,e)),pD(function(){!(Le&6)&&yi()}),n=null;else{switch(LS(r)){case 1:n=_y;break;case 4:n=IS;break;case 16:n=sh;break;case 536870912:n=OS;break;default:n=sh}n=sk(n,XC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function XC(e,t){if(Ld=-1,Md=0,Le&6)throw Error(Z(327));var n=e.callbackNode;if(ga()&&e.callbackNode!==n)return null;var r=ih(e,e===Ct?Pt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Th(e,r);else{t=r;var s=Le;Le|=2;var i=ZC();(Ct!==e||Pt!==t)&&(Vr=null,Ha=lt()+500,ro(e,t));do try{BD();break}catch(a){JC(e,a)}while(!0);jy(),xh.current=i,Le=s,yt!==null?t=0:(Ct=null,Pt=0,t=Et)}if(t!==0){if(t===2&&(s=i0(e),s!==0&&(r=s,t=O0(e,s))),t===1)throw n=Ml,ro(e,0),Os(e,r),ln(e,lt()),n;if(t===6)Os(e,r);else{if(s=e.current.alternate,!(r&30)&&!jD(s)&&(t=Th(e,r),t===2&&(i=i0(e),i!==0&&(r=i,t=O0(e,i))),t===1))throw n=Ml,ro(e,0),Os(e,r),ln(e,lt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(Z(345));case 2:Di(e,sn,Vr);break;case 3:if(Os(e,r),(r&130023424)===r&&(t=Jy+500-lt(),10<t)){if(ih(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Qt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=f0(Di.bind(null,e,sn,Vr),t);break}Di(e,sn,Vr);break;case 4:if(Os(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-or(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MD(r/1960))-r,10<r){e.timeoutHandle=f0(Di.bind(null,e,sn,Vr),r);break}Di(e,sn,Vr);break;case 5:Di(e,sn,Vr);break;default:throw Error(Z(329))}}}return ln(e,lt()),e.callbackNode===n?XC.bind(null,e):null}function O0(e,t){var n=rl;return e.current.memoizedState.isDehydrated&&(ro(e,t).flags|=256),e=Th(e,t),e!==2&&(t=sn,sn=n,t!==null&&D0(t)),e}function D0(e){sn===null?sn=e:sn.push.apply(sn,e)}function jD(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!lr(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Os(e,t){for(t&=~Xy,t&=~hf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-or(t),r=1<<n;e[n]=-1,t&=~r}}function cx(e){if(Le&6)throw Error(Z(327));ga();var t=ih(e,0);if(!(t&1))return ln(e,lt()),null;var n=Th(e,t);if(e.tag!==0&&n===2){var r=i0(e);r!==0&&(t=r,n=O0(e,r))}if(n===1)throw n=Ml,ro(e,0),Os(e,t),ln(e,lt()),n;if(n===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Di(e,sn,Vr),ln(e,lt()),null}function Zy(e,t){var n=Le;Le|=1;try{return e(t)}finally{Le=n,Le===0&&(Ha=lt()+500,uf&&yi())}}function ho(e){qs!==null&&qs.tag===0&&!(Le&6)&&ga();var t=Le;Le|=1;var n=Mn.transition,r=Fe;try{if(Mn.transition=null,Fe=1,e)return e()}finally{Fe=r,Mn.transition=n,Le=t,!(Le&6)&&yi()}}function ev(){gn=ra.current,Ye(ra)}function ro(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,fD(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch(Dy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ch();break;case 3:Ba(),Ye(an),Ye(Bt),zy();break;case 5:$y(r);break;case 4:Ba();break;case 13:Ye(et);break;case 19:Ye(et);break;case 10:Fy(r.type._context);break;case 22:case 23:ev()}n=n.return}if(Ct=e,yt=e=ri(e.current,null),Pt=gn=t,Et=0,Ml=null,Xy=hf=co=0,sn=rl=null,Hi!==null){for(t=0;t<Hi.length;t++)if(n=Hi[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Hi=null}return e}function JC(e,t){do{var n=yt;try{if(jy(),Id.current=bh,vh){for(var r=nt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}vh=!1}if(lo=0,_t=xt=nt=null,tl=!1,Ol=0,Qy.current=null,n===null||n.return===null){Et=1,Ml=t,yt=null;break}e:{var i=e,o=n.return,a=n,u=t;if(t=Pt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Xb(o);if(h!==null){h.flags&=-257,Jb(h,o,a,i,t),h.mode&1&&Qb(i,l,t),t=h,u=l;var g=t.updateQueue;if(g===null){var y=new Set;y.add(u),t.updateQueue=y}else g.add(u);break e}else{if(!(t&1)){Qb(i,l,t),tv();break e}u=Error(Z(426))}}else if(Xe&&a.mode&1){var w=Xb(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Jb(w,o,a,i,t),Ly(Ua(u,a));break e}}i=u=Ua(u,a),Et!==4&&(Et=2),rl===null?rl=[i]:rl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=LC(i,u,t);Vb(i,v);break e;case 1:a=u;var b=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ti===null||!ti.has(E)))){i.flags|=65536,t&=-t,i.lanes|=t;var T=MC(i,a,t);Vb(i,T);break e}}i=i.return}while(i!==null)}tk(n)}catch(S){t=S,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(!0)}function ZC(){var e=xh.current;return xh.current=bh,e===null?bh:e}function tv(){(Et===0||Et===3||Et===2)&&(Et=4),Ct===null||!(co&268435455)&&!(hf&268435455)||Os(Ct,Pt)}function Th(e,t){var n=Le;Le|=2;var r=ZC();(Ct!==e||Pt!==t)&&(Vr=null,ro(e,t));do try{FD();break}catch(s){JC(e,s)}while(!0);if(jy(),Le=n,xh.current=r,yt!==null)throw Error(Z(261));return Ct=null,Pt=0,Et}function FD(){for(;yt!==null;)ek(yt)}function BD(){for(;yt!==null&&!cO();)ek(yt)}function ek(e){var t=rk(e.alternate,e,gn);e.memoizedProps=e.pendingProps,t===null?tk(e):yt=t,Qy.current=null}function tk(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ID(n,t),n!==null){n.flags&=32767,yt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Et=6,yt=null;return}}else if(n=PD(n,t,gn),n!==null){yt=n;return}if(t=t.sibling,t!==null){yt=t;return}yt=t=e}while(t!==null);Et===0&&(Et=5)}function Di(e,t,n){var r=Fe,s=Mn.transition;try{Mn.transition=null,Fe=1,UD(e,t,n,r)}finally{Mn.transition=s,Fe=r}return null}function UD(e,t,n,r){do ga();while(qs!==null);if(Le&6)throw Error(Z(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(xO(e,i),e===Ct&&(yt=Ct=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qc||(Qc=!0,sk(sh,function(){return ga(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Mn.transition,Mn.transition=null;var o=Fe;Fe=1;var a=Le;Le|=4,Qy.current=null,DD(e,n),GC(n,e),oD(d0),oh=!!c0,d0=c0=null,e.current=n,LD(n),dO(),Le=a,Fe=o,Mn.transition=i}else e.current=n;if(Qc&&(Qc=!1,qs=e,Eh=s),i=e.pendingLanes,i===0&&(ti=null),pO(n.stateNode),ln(e,lt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(wh)throw wh=!1,e=P0,P0=null,e;return Eh&1&&e.tag!==0&&ga(),i=e.pendingLanes,i&1?e===I0?sl++:(sl=0,I0=e):sl=0,yi(),null}function ga(){if(qs!==null){var e=LS(Eh),t=Mn.transition,n=Fe;try{if(Mn.transition=null,Fe=16>e?16:e,qs===null)var r=!1;else{if(e=qs,qs=null,Eh=0,Le&6)throw Error(Z(331));var s=Le;for(Le|=4,ue=e.current;ue!==null;){var i=ue,o=i.child;if(ue.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(ue=l;ue!==null;){var c=ue;switch(c.tag){case 0:case 11:case 15:nl(8,c,i)}var d=c.child;if(d!==null)d.return=c,ue=d;else for(;ue!==null;){c=ue;var f=c.sibling,h=c.return;if(qC(c),c===l){ue=null;break}if(f!==null){f.return=h,ue=f;break}ue=h}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}ue=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ue=o;else e:for(;ue!==null;){if(i=ue,i.flags&2048)switch(i.tag){case 0:case 11:case 15:nl(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,ue=v;break e}ue=i.return}}var b=e.current;for(ue=b;ue!==null;){o=ue;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,ue=E;else e:for(o=b;ue!==null;){if(a=ue,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:df(9,a)}}catch(S){at(a,a.return,S)}if(a===o){ue=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,ue=T;break e}ue=a.return}}if(Le=s,yi(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(nf,e)}catch{}r=!0}return r}finally{Fe=n,Mn.transition=t}}return!1}function dx(e,t,n){t=Ua(n,t),t=LC(e,t,1),e=ei(e,t,1),t=Qt(),e!==null&&(hc(e,1,t),ln(e,t))}function at(e,t,n){if(e.tag===3)dx(e,e,n);else for(;t!==null;){if(t.tag===3){dx(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ti===null||!ti.has(r))){e=Ua(n,e),e=MC(t,e,1),t=ei(t,e,1),e=Qt(),t!==null&&(hc(t,1,e),ln(t,e));break}}t=t.return}}function HD(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Qt(),e.pingedLanes|=e.suspendedLanes&n,Ct===e&&(Pt&n)===n&&(Et===4||Et===3&&(Pt&130023424)===Pt&&500>lt()-Jy?ro(e,0):Xy|=n),ln(e,t)}function nk(e,t){t===0&&(e.mode&1?(t=Uc,Uc<<=1,!(Uc&130023424)&&(Uc=4194304)):t=1);var n=Qt();e=ns(e,t),e!==null&&(hc(e,t,n),ln(e,n))}function $D(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),nk(e,n)}function zD(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(t),nk(e,n)}var rk;rk=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||an.current)on=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return on=!1,RD(e,t,n);on=!!(e.flags&131072)}else on=!1,Xe&&t.flags&1048576&&aC(t,fh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Dd(e,t),e=t.pendingProps;var s=Ma(t,Bt.current);ma(t,n),s=Wy(null,t,r,e,s,n);var i=qy();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,un(r)?(i=!0,dh(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Uy(t),s.updater=cf,t.stateNode=s,s._reactInternals=t,x0(t,r,e,n),t=T0(null,t,r,!0,i,n)):(t.tag=0,Xe&&i&&Oy(t),Wt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Dd(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=WD(r),e=Zn(r,e),s){case 0:t=E0(null,t,r,e,n);break e;case 1:t=tx(null,t,r,e,n);break e;case 11:t=Zb(null,t,r,e,n);break e;case 14:t=ex(null,t,r,Zn(r.type,e),n);break e}throw Error(Z(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Zn(r,s),E0(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Zn(r,s),tx(e,t,r,s,n);case 3:e:{if(UC(t),e===null)throw Error(Z(387));r=t.pendingProps,i=t.memoizedState,s=i.element,fC(e,t),gh(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ua(Error(Z(423)),t),t=nx(e,t,r,n,s);break e}else if(r!==s){s=Ua(Error(Z(424)),t),t=nx(e,t,r,n,s);break e}else for(bn=Zs(t.stateNode.containerInfo.firstChild),xn=t,Xe=!0,ir=null,n=dC(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ja(),r===s){t=rs(e,t,n);break e}Wt(e,t,r,n)}t=t.child}return t;case 5:return pC(t),e===null&&y0(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,h0(r,s)?o=null:i!==null&&h0(r,i)&&(t.flags|=32),BC(e,t),Wt(e,t,o,n),t.child;case 6:return e===null&&y0(t),null;case 13:return HC(e,t,n);case 4:return Hy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Fa(t,null,r,n):Wt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Zn(r,s),Zb(e,t,r,s,n);case 7:return Wt(e,t,t.pendingProps,n),t.child;case 8:return Wt(e,t,t.pendingProps.children,n),t.child;case 12:return Wt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Ve(ph,r._currentValue),r._currentValue=o,i!==null)if(lr(i.value,o)){if(i.children===s.children&&!an.current){t=rs(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Jr(-1,n&-n),u.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),v0(i.return,n,t),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),v0(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Wt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ma(t,n),s=Un(s),r=r(s),t.flags|=1,Wt(e,t,r,n),t.child;case 14:return r=t.type,s=Zn(r,t.pendingProps),s=Zn(r.type,s),ex(e,t,r,s,n);case 15:return jC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Zn(r,s),Dd(e,t),t.tag=1,un(r)?(e=!0,dh(t)):e=!1,ma(t,n),DC(t,r,s),x0(t,r,s,n),T0(null,t,r,!0,e,n);case 19:return $C(e,t,n);case 22:return FC(e,t,n)}throw Error(Z(156,t.tag))};function sk(e,t){return PS(e,t)}function VD(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(e,t,n,r){return new VD(e,t,n,r)}function nv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function WD(e){if(typeof e=="function")return nv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wy)return 11;if(e===Ey)return 14}return 2}function ri(e,t){var n=e.alternate;return n===null?(n=Dn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jd(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")nv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ko:return so(n.children,s,i,t);case xy:o=8,s|=8;break;case Vm:return e=Dn(12,n,t,s|2),e.elementType=Vm,e.lanes=i,e;case Wm:return e=Dn(13,n,t,s),e.elementType=Wm,e.lanes=i,e;case qm:return e=Dn(19,n,t,s),e.elementType=qm,e.lanes=i,e;case pS:return ff(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hS:o=10;break e;case fS:o=9;break e;case wy:o=11;break e;case Ey:o=14;break e;case Ns:o=16,r=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=Dn(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function so(e,t,n,r){return e=Dn(7,e,r,t),e.lanes=n,e}function ff(e,t,n,r){return e=Dn(22,e,r,t),e.elementType=pS,e.lanes=n,e.stateNode={isHidden:!1},e}function Dp(e,t,n){return e=Dn(6,e,null,t),e.lanes=n,e}function Lp(e,t,n){return t=Dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qD(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mp(0),this.expirationTimes=mp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function rv(e,t,n,r,s,i,o,a,u){return e=new qD(e,t,n,a,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Dn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uy(i),e}function KD(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ik(e){if(!e)return ui;e=e._reactInternals;e:{if(Eo(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(un(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var n=e.type;if(un(n))return iC(e,n,t)}return t}function ok(e,t,n,r,s,i,o,a,u){return e=rv(n,r,!0,e,s,i,o,a,u),e.context=ik(null),n=e.current,r=Qt(),s=ni(n),i=Jr(r,s),i.callback=t??null,ei(n,i,s),e.current.lanes=s,hc(e,s,r),ln(e,r),e}function pf(e,t,n,r){var s=t.current,i=Qt(),o=ni(s);return n=ik(n),t.context===null?t.context=n:t.pendingContext=n,t=Jr(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ei(s,t,o),e!==null&&(ar(e,s,o,i),Pd(e,s,o)),o}function _h(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sv(e,t){hx(e,t),(e=e.alternate)&&hx(e,t)}function YD(){return null}var ak=typeof reportError=="function"?reportError:function(e){console.error(e)};function iv(e){this._internalRoot=e}mf.prototype.render=iv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));pf(e,t,null,null)};mf.prototype.unmount=iv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ho(function(){pf(null,e,null,null)}),t[ts]=null}};function mf(e){this._internalRoot=e}mf.prototype.unstable_scheduleHydration=function(e){if(e){var t=FS();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Is.length&&t!==0&&t<Is[n].priority;n++);Is.splice(n,0,e),n===0&&US(e)}};function ov(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fx(){}function GD(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var l=_h(o);i.call(l)}}var o=ok(t,r,e,0,null,!1,!1,"",fx);return e._reactRootContainer=o,e[ts]=o.current,Al(e.nodeType===8?e.parentNode:e),ho(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var l=_h(u);a.call(l)}}var u=rv(e,0,!1,null,null,!1,!1,"",fx);return e._reactRootContainer=u,e[ts]=u.current,Al(e.nodeType===8?e.parentNode:e),ho(function(){pf(t,u,n,r)}),u}function yf(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=_h(o);a.call(u)}}pf(t,o,e,s)}else o=GD(n,t,e,s,r);return _h(o)}MS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Uu(t.pendingLanes);n!==0&&(Sy(t,n|1),ln(t,lt()),!(Le&6)&&(Ha=lt()+500,yi()))}break;case 13:ho(function(){var r=ns(e,1);if(r!==null){var s=Qt();ar(r,e,1,s)}}),sv(e,1)}};Cy=function(e){if(e.tag===13){var t=ns(e,134217728);if(t!==null){var n=Qt();ar(t,e,134217728,n)}sv(e,134217728)}};jS=function(e){if(e.tag===13){var t=ni(e),n=ns(e,t);if(n!==null){var r=Qt();ar(n,e,t,r)}sv(e,t)}};FS=function(){return Fe};BS=function(e,t){var n=Fe;try{return Fe=e,t()}finally{Fe=n}};n0=function(e,t,n){switch(t){case"input":if(Gm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=af(r);if(!s)throw Error(Z(90));gS(r),Gm(r,s)}}}break;case"textarea":vS(e,n);break;case"select":t=n.value,t!=null&&da(e,!!n.multiple,t,!1)}};SS=Zy;CS=ho;var QD={usingClientEntryPoint:!1,Events:[pc,Xo,af,TS,_S,Zy]},Su={findFiberByHostInstance:Ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XD={bundleType:Su.bundleType,version:Su.version,rendererPackageName:Su.rendererPackageName,rendererConfig:Su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:as.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=NS(e),e===null?null:e.stateNode},findFiberByHostInstance:Su.findFiberByHostInstance||YD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{nf=Xc.inject(XD),Ar=Xc}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QD;_n.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ov(t))throw Error(Z(200));return KD(e,t,null,n)};_n.createRoot=function(e,t){if(!ov(e))throw Error(Z(299));var n=!1,r="",s=ak;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=rv(e,1,!1,null,null,n,!1,r,s),e[ts]=t.current,Al(e.nodeType===8?e.parentNode:e),new iv(t)};_n.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=NS(t),e=e===null?null:e.stateNode,e};_n.flushSync=function(e){return ho(e)};_n.hydrate=function(e,t,n){if(!gf(t))throw Error(Z(200));return yf(null,e,t,!0,n)};_n.hydrateRoot=function(e,t,n){if(!ov(e))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=ak;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=ok(t,null,e,1,n??null,s,!1,i,o),e[ts]=t.current,Al(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new mf(t)};_n.render=function(e,t,n){if(!gf(t))throw Error(Z(200));return yf(null,e,t,!1,n)};_n.unmountComponentAtNode=function(e){if(!gf(e))throw Error(Z(40));return e._reactRootContainer?(ho(function(){yf(null,null,e,!1,function(){e._reactRootContainer=null,e[ts]=null})}),!0):!1};_n.unstable_batchedUpdates=Zy;_n.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!gf(n))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return yf(e,t,n,!1,r)};_n.version="18.3.1-next-f1338f8080-20240426";function uk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uk)}catch(e){console.error(e)}}uk(),uS.exports=_n;var Za=uS.exports;const lk=ef(Za);var ck,px=Za;ck=px.createRoot,px.hydrateRoot;const JD=1,ZD=1e6;let Mp=0;function eL(){return Mp=(Mp+1)%Number.MAX_SAFE_INTEGER,Mp.toString()}const jp=new Map,mx=e=>{if(jp.has(e))return;const t=setTimeout(()=>{jp.delete(e),il({type:"REMOVE_TOAST",toastId:e})},ZD);jp.set(e,t)},tL=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,JD)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?mx(n):e.toasts.forEach(r=>{mx(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Fd=[];let Bd={toasts:[]};function il(e){Bd=tL(Bd,e),Fd.forEach(t=>{t(Bd)})}function nL({...e}){const t=eL(),n=s=>il({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>il({type:"DISMISS_TOAST",toastId:t});return il({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function rL(){const[e,t]=x.useState(Bd);return x.useEffect(()=>(Fd.push(t),()=>{const n=Fd.indexOf(t);n>-1&&Fd.splice(n,1)}),[e]),{...e,toast:nL,dismiss:n=>il({type:"DISMISS_TOAST",toastId:n})}}function Te(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function gx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function fo(...e){return t=>{let n=!1;const r=e.map(s=>{const i=gx(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():gx(e[s],null)}}}}function ht(...e){return x.useCallback(fo(...e),e)}function sL(e,t){const n=x.createContext(t),r=i=>{const{children:o,...a}=i,u=x.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:u,children:o})};r.displayName=e+"Provider";function s(i){const o=x.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function us(e,t=[]){let n=[];function r(i,o){const a=x.createContext(o),u=n.length;n=[...n,o];const l=d=>{var v;const{scope:f,children:h,...g}=d,y=((v=f==null?void 0:f[e])==null?void 0:v[u])||a,w=x.useMemo(()=>g,Object.values(g));return p.jsx(y.Provider,{value:w,children:h})};l.displayName=i+"Provider";function c(d,f){var y;const h=((y=f==null?void 0:f[e])==null?void 0:y[u])||a,g=x.useContext(h);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[l,c]}const s=()=>{const i=n.map(o=>x.createContext(o));return function(a){const u=(a==null?void 0:a[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...a,[e]:u}}),[a,u])}};return s.scopeName=e,[r,iL(s,...t)]}function iL(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:l})=>{const d=u(i)[`__scope${l}`];return{...a,...d}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function jl(e){const t=oL(e),n=x.forwardRef((r,s)=>{const{children:i,...o}=r,a=x.Children.toArray(i),u=a.find(uL);if(u){const l=u.props.children,c=a.map(d=>d===u?x.Children.count(l)>1?x.Children.only(null):x.isValidElement(l)?l.props.children:null:d);return p.jsx(t,{...o,ref:s,children:x.isValidElement(l)?x.cloneElement(l,void 0,c):null})}return p.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function oL(e){const t=x.forwardRef((n,r)=>{const{children:s,...i}=n;if(x.isValidElement(s)){const o=cL(s),a=lL(i,s.props);return s.type!==x.Fragment&&(a.ref=r?fo(r,o):o),x.cloneElement(s,a)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dk=Symbol("radix.slottable");function aL(e){const t=({children:n})=>p.jsx(p.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=dk,t}function uL(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dk}function lL(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function cL(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function dL(e){const t=e+"CollectionProvider",[n,r]=us(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:w,children:v}=y,b=se.useRef(null),E=se.useRef(new Map).current;return p.jsx(s,{scope:w,itemMap:E,collectionRef:b,children:v})};o.displayName=t;const a=e+"CollectionSlot",u=jl(a),l=se.forwardRef((y,w)=>{const{scope:v,children:b}=y,E=i(a,v),T=ht(w,E.collectionRef);return p.jsx(u,{ref:T,children:b})});l.displayName=a;const c=e+"CollectionItemSlot",d="data-radix-collection-item",f=jl(c),h=se.forwardRef((y,w)=>{const{scope:v,children:b,...E}=y,T=se.useRef(null),S=ht(w,T),_=i(c,v);return se.useEffect(()=>(_.itemMap.set(T,{ref:T,...E}),()=>void _.itemMap.delete(T))),p.jsx(f,{[d]:"",ref:S,children:b})});h.displayName=c;function g(y){const w=i(e+"CollectionConsumer",y);return se.useCallback(()=>{const b=w.collectionRef.current;if(!b)return[];const E=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((_,k)=>E.indexOf(_.ref.current)-E.indexOf(k.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},g,r]}var hL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Re=hL.reduce((e,t)=>{const n=jl(`Primitive.${t}`),r=x.forwardRef((s,i)=>{const{asChild:o,...a}=s,u=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(u,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function hk(e,t){e&&Za.flushSync(()=>e.dispatchEvent(t))}function Or(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function fL(e,t=globalThis==null?void 0:globalThis.document){const n=Or(e);x.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var pL="DismissableLayer",L0="dismissableLayer.update",mL="dismissableLayer.pointerDownOutside",gL="dismissableLayer.focusOutside",yx,fk=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),eu=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...u}=e,l=x.useContext(fk),[c,d]=x.useState(null),f=(c==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=x.useState({}),g=ht(t,k=>d(k)),y=Array.from(l.layers),[w]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(w),b=c?y.indexOf(c):-1,E=l.layersWithOutsidePointerEventsDisabled.size>0,T=b>=v,S=vL(k=>{const I=k.target,M=[...l.branches].some(P=>P.contains(I));!T||M||(s==null||s(k),o==null||o(k),k.defaultPrevented||a==null||a())},f),_=bL(k=>{const I=k.target;[...l.branches].some(P=>P.contains(I))||(i==null||i(k),o==null||o(k),k.defaultPrevented||a==null||a())},f);return fL(k=>{b===l.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},f),x.useEffect(()=>{if(c)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(yx=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(c)),l.layers.add(c),vx(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=yx)}},[c,f,n,l]),x.useEffect(()=>()=>{c&&(l.layers.delete(c),l.layersWithOutsidePointerEventsDisabled.delete(c),vx())},[c,l]),x.useEffect(()=>{const k=()=>h({});return document.addEventListener(L0,k),()=>document.removeEventListener(L0,k)},[]),p.jsx(Re.div,{...u,ref:g,style:{pointerEvents:E?T?"auto":"none":void 0,...e.style},onFocusCapture:Te(e.onFocusCapture,_.onFocusCapture),onBlurCapture:Te(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:Te(e.onPointerDownCapture,S.onPointerDownCapture)})});eu.displayName=pL;var yL="DismissableLayerBranch",pk=x.forwardRef((e,t)=>{const n=x.useContext(fk),r=x.useRef(null),s=ht(t,r);return x.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(Re.div,{...e,ref:s})});pk.displayName=yL;function vL(e,t=globalThis==null?void 0:globalThis.document){const n=Or(e),r=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let u=function(){mk(mL,n,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=u,t.addEventListener("click",s.current,{once:!0})):u()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function bL(e,t=globalThis==null?void 0:globalThis.document){const n=Or(e),r=x.useRef(!1);return x.useEffect(()=>{const s=i=>{i.target&&!r.current&&mk(gL,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function vx(){const e=new CustomEvent(L0);document.dispatchEvent(e)}function mk(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?hk(s,i):s.dispatchEvent(i)}var xL=eu,wL=pk,Dr=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},EL="Portal",vf=x.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,i]=x.useState(!1);Dr(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?lk.createPortal(p.jsx(Re.div,{...r,ref:t}),o):null});vf.displayName=EL;function TL(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var fr=e=>{const{present:t,children:n}=e,r=_L(t),s=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),i=ht(r.ref,SL(s));return typeof n=="function"||r.isPresent?x.cloneElement(s,{ref:i}):null};fr.displayName="Presence";function _L(e){const[t,n]=x.useState(),r=x.useRef(null),s=x.useRef(e),i=x.useRef("none"),o=e?"mounted":"unmounted",[a,u]=TL(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const l=Jc(r.current);i.current=a==="mounted"?l:"none"},[a]),Dr(()=>{const l=r.current,c=s.current;if(c!==e){const f=i.current,h=Jc(l);e?u("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?u("UNMOUNT"):u(c&&f!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,u]),Dr(()=>{if(t){let l;const c=t.ownerDocument.defaultView??window,d=h=>{const y=Jc(r.current).includes(h.animationName);if(h.target===t&&y&&(u("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",l=c.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},f=h=>{h.target===t&&(i.current=Jc(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{c.clearTimeout(l),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:x.useCallback(l=>{r.current=l?getComputedStyle(l):null,n(l)},[])}}function Jc(e){return(e==null?void 0:e.animationName)||"none"}function SL(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var CL=gy[" useInsertionEffect ".trim().toString()]||Dr;function To({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=kL({defaultProp:t,onChange:n}),a=e!==void 0,u=a?e:s;{const c=x.useRef(e!==void 0);x.useEffect(()=>{const d=c.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),c.current=a},[a,r])}const l=x.useCallback(c=>{var d;if(a){const f=AL(c)?c(e):c;f!==e&&((d=o.current)==null||d.call(o,f))}else i(c)},[a,e,i,o]);return[u,l]}function kL({defaultProp:e,onChange:t}){const[n,r]=x.useState(e),s=x.useRef(n),i=x.useRef(t);return CL(()=>{i.current=t},[t]),x.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function AL(e){return typeof e=="function"}var NL=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),RL="VisuallyHidden",bf=x.forwardRef((e,t)=>p.jsx(Re.span,{...e,ref:t,style:{...NL,...e.style}}));bf.displayName=RL;var PL=bf,av="ToastProvider",[uv,IL,OL]=dL("Toast"),[gk,Ite]=us("Toast",[OL]),[DL,xf]=gk(av),yk=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[a,u]=x.useState(null),[l,c]=x.useState(0),d=x.useRef(!1),f=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${av}\`. Expected non-empty \`string\`.`),p.jsx(uv.Provider,{scope:t,children:p.jsx(DL,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:l,viewport:a,onViewportChange:u,onToastAdd:x.useCallback(()=>c(h=>h+1),[]),onToastRemove:x.useCallback(()=>c(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:o})})};yk.displayName=av;var vk="ToastViewport",LL=["F8"],M0="toast.viewportPause",j0="toast.viewportResume",bk=x.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=LL,label:s="Notifications ({hotkey})",...i}=e,o=xf(vk,n),a=IL(n),u=x.useRef(null),l=x.useRef(null),c=x.useRef(null),d=x.useRef(null),f=ht(t,d,o.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;x.useEffect(()=>{const w=v=>{var E;r.length!==0&&r.every(T=>v[T]||v.code===T)&&((E=d.current)==null||E.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),x.useEffect(()=>{const w=u.current,v=d.current;if(g&&w&&v){const b=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(M0);v.dispatchEvent(_),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(j0);v.dispatchEvent(_),o.isClosePausedRef.current=!1}},T=_=>{!w.contains(_.relatedTarget)&&E()},S=()=>{w.contains(document.activeElement)||E()};return w.addEventListener("focusin",b),w.addEventListener("focusout",T),w.addEventListener("pointermove",b),w.addEventListener("pointerleave",S),window.addEventListener("blur",b),window.addEventListener("focus",E),()=>{w.removeEventListener("focusin",b),w.removeEventListener("focusout",T),w.removeEventListener("pointermove",b),w.removeEventListener("pointerleave",S),window.removeEventListener("blur",b),window.removeEventListener("focus",E)}}},[g,o.isClosePausedRef]);const y=x.useCallback(({tabbingDirection:w})=>{const b=a().map(E=>{const T=E.ref.current,S=[T,...YL(T)];return w==="forwards"?S:S.reverse()});return(w==="forwards"?b.reverse():b).flat()},[a]);return x.useEffect(()=>{const w=d.current;if(w){const v=b=>{var S,_,k;const E=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!E){const I=document.activeElement,M=b.shiftKey;if(b.target===w&&M){(S=l.current)==null||S.focus();return}const U=y({tabbingDirection:M?"backwards":"forwards"}),G=U.findIndex(W=>W===I);Fp(U.slice(G+1))?b.preventDefault():M?(_=l.current)==null||_.focus():(k=c.current)==null||k.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[a,y]),p.jsxs(wL,{ref:u,role:"region","aria-label":s.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&p.jsx(F0,{ref:l,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"forwards"});Fp(w)}}),p.jsx(uv.Slot,{scope:n,children:p.jsx(Re.ol,{tabIndex:-1,...i,ref:f})}),g&&p.jsx(F0,{ref:c,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"backwards"});Fp(w)}})]})});bk.displayName=vk;var xk="ToastFocusProxy",F0=x.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=xf(xk,n);return p.jsx(bf,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var l;const a=o.relatedTarget;!((l=i.viewport)!=null&&l.contains(a))&&r()}})});F0.displayName=xk;var gc="Toast",ML="toast.swipeStart",jL="toast.swipeMove",FL="toast.swipeCancel",BL="toast.swipeEnd",wk=x.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=e,[a,u]=To({prop:r,defaultProp:s??!0,onChange:i,caller:gc});return p.jsx(fr,{present:n||a,children:p.jsx($L,{open:a,...o,ref:t,onClose:()=>u(!1),onPause:Or(e.onPause),onResume:Or(e.onResume),onSwipeStart:Te(e.onSwipeStart,l=>{l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Te(e.onSwipeMove,l=>{const{x:c,y:d}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","move"),l.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${c}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Te(e.onSwipeCancel,l=>{l.currentTarget.setAttribute("data-swipe","cancel"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Te(e.onSwipeEnd,l=>{const{x:c,y:d}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","end"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${c}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),u(!1)})})})});wk.displayName=gc;var[UL,HL]=gk(gc,{onClose(){}}),$L=x.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:u,onResume:l,onSwipeStart:c,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:h,...g}=e,y=xf(gc,n),[w,v]=x.useState(null),b=ht(t,W=>v(W)),E=x.useRef(null),T=x.useRef(null),S=s||y.duration,_=x.useRef(0),k=x.useRef(S),I=x.useRef(0),{onToastAdd:M,onToastRemove:P}=y,H=Or(()=>{var K;(w==null?void 0:w.contains(document.activeElement))&&((K=y.viewport)==null||K.focus()),o()}),U=x.useCallback(W=>{!W||W===1/0||(window.clearTimeout(I.current),_.current=new Date().getTime(),I.current=window.setTimeout(H,W))},[H]);x.useEffect(()=>{const W=y.viewport;if(W){const K=()=>{U(k.current),l==null||l()},ie=()=>{const J=new Date().getTime()-_.current;k.current=k.current-J,window.clearTimeout(I.current),u==null||u()};return W.addEventListener(M0,ie),W.addEventListener(j0,K),()=>{W.removeEventListener(M0,ie),W.removeEventListener(j0,K)}}},[y.viewport,S,u,l,U]),x.useEffect(()=>{i&&!y.isClosePausedRef.current&&U(S)},[i,S,y.isClosePausedRef,U]),x.useEffect(()=>(M(),()=>P()),[M,P]);const G=x.useMemo(()=>w?Ak(w):null,[w]);return y.viewport?p.jsxs(p.Fragment,{children:[G&&p.jsx(zL,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:G}),p.jsx(UL,{scope:n,onClose:H,children:Za.createPortal(p.jsx(uv.ItemSlot,{scope:n,children:p.jsx(xL,{asChild:!0,onEscapeKeyDown:Te(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||H(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(Re.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...g,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Te(e.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,H()))}),onPointerDown:Te(e.onPointerDown,W=>{W.button===0&&(E.current={x:W.clientX,y:W.clientY})}),onPointerMove:Te(e.onPointerMove,W=>{if(!E.current)return;const K=W.clientX-E.current.x,ie=W.clientY-E.current.y,J=!!T.current,B=["left","right"].includes(y.swipeDirection),L=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,C=B?L(0,K):0,te=B?0:L(0,ie),j=W.pointerType==="touch"?10:2,A={x:C,y:te},X={originalEvent:W,delta:A};J?(T.current=A,Zc(jL,d,X,{discrete:!1})):bx(A,y.swipeDirection,j)?(T.current=A,Zc(ML,c,X,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(K)>j||Math.abs(ie)>j)&&(E.current=null)}),onPointerUp:Te(e.onPointerUp,W=>{const K=T.current,ie=W.target;if(ie.hasPointerCapture(W.pointerId)&&ie.releasePointerCapture(W.pointerId),T.current=null,E.current=null,K){const J=W.currentTarget,B={originalEvent:W,delta:K};bx(K,y.swipeDirection,y.swipeThreshold)?Zc(BL,h,B,{discrete:!0}):Zc(FL,f,B,{discrete:!0}),J.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),zL=e=>{const{__scopeToast:t,children:n,...r}=e,s=xf(gc,t),[i,o]=x.useState(!1),[a,u]=x.useState(!1);return qL(()=>o(!0)),x.useEffect(()=>{const l=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(l)},[]),a?null:p.jsx(vf,{asChild:!0,children:p.jsx(bf,{...r,children:i&&p.jsxs(p.Fragment,{children:[s.label," ",n]})})})},VL="ToastTitle",Ek=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(Re.div,{...r,ref:t})});Ek.displayName=VL;var WL="ToastDescription",Tk=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(Re.div,{...r,ref:t})});Tk.displayName=WL;var _k="ToastAction",Sk=x.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?p.jsx(kk,{altText:n,asChild:!0,children:p.jsx(lv,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${_k}\`. Expected non-empty \`string\`.`),null)});Sk.displayName=_k;var Ck="ToastClose",lv=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=HL(Ck,n);return p.jsx(kk,{asChild:!0,children:p.jsx(Re.button,{type:"button",...r,ref:t,onClick:Te(e.onClick,s.onClose)})})});lv.displayName=Ck;var kk=x.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return p.jsx(Re.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function Ak(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),KL(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Ak(r))}}),t}function Zc(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?hk(s,i):s.dispatchEvent(i)}var bx=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function qL(e=()=>{}){const t=Or(e);Dr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function KL(e){return e.nodeType===e.ELEMENT_NODE}function YL(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Fp(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var GL=yk,Nk=bk,Rk=wk,Pk=Ek,Ik=Tk,Ok=Sk,Dk=lv;function Lk(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Lk(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Mk(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Lk(e))&&(r&&(r+=" "),r+=t);return r}const xx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,wx=Mk,QL=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return wx(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(l=>{const c=n==null?void 0:n[l],d=i==null?void 0:i[l];if(c===null)return null;const f=xx(c)||xx(d);return s[l][f]}),a=n&&Object.entries(n).reduce((l,c)=>{let[d,f]=c;return f===void 0||(l[d]=f),l},{}),u=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((l,c)=>{let{class:d,className:f,...h}=c;return Object.entries(h).every(g=>{let[y,w]=g;return Array.isArray(w)?w.includes({...i,...a}[y]):{...i,...a}[y]===w})?[...l,d,f]:l},[]);return wx(e,o,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jk=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},u)=>x.createElement("svg",{ref:u,...JL,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:jk("lucide",s),...a},[...o.map(([l,c])=>x.createElement(l,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(e,t)=>{const n=x.forwardRef(({className:r,...s},i)=>x.createElement(ZL,{ref:i,iconNode:t,className:jk(`lucide-${XL(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=Se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=Se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=Se("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=Se("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=Se("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=Se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=Se("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=Se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=Se("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=Se("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=Se("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=Se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=Se("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=Se("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=Se("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=Se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=Se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=Se("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=Se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=Se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=Se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=Se("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=Se("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=Se("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=Se("PanelRightClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=Se("PanelRightOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=Se("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=Se("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=Se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=Se("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=Se("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=Se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=Se("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=Se("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=Se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=Se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=Se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=Se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),fv="-",x4=e=>{const t=E4(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(fv);return a[0]===""&&a.length!==1&&a.shift(),Hk(a,t)||w4(o)},getConflictingClassGroupIds:(o,a)=>{const u=n[o]||[];return a&&r[o]?[...u,...r[o]]:u}}},Hk=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?Hk(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(fv);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Cx=/^\[(.+)\]$/,w4=e=>{if(Cx.test(e)){const t=Cx.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},E4=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return _4(Object.entries(e.classGroups),n).forEach(([i,o])=>{B0(o,r,i,t)}),r},B0=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:kx(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(T4(s)){B0(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{B0(o,kx(t,i),n,r)})})},kx=(e,t)=>{let n=e;return t.split(fv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},T4=e=>e.isThemeGetter,_4=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[n,s]}):e,S4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},$k="!",C4=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,o=a=>{const u=[];let l=0,c=0,d;for(let w=0;w<a.length;w++){let v=a[w];if(l===0){if(v===s&&(r||a.slice(w,w+i)===t)){u.push(a.slice(c,w)),c=w+i;continue}if(v==="/"){d=w;continue}}v==="["?l++:v==="]"&&l--}const f=u.length===0?a:a.substring(c),h=f.startsWith($k),g=h?f.substring(1):f,y=d&&d>c?d-c:void 0;return{modifiers:u,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},k4=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},A4=e=>({cache:S4(e.cacheSize),parseClassName:C4(e),...x4(e)}),N4=/\s+/,R4=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(N4);let a="";for(let u=o.length-1;u>=0;u-=1){const l=o[u],{modifiers:c,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:h}=n(l);let g=!!h,y=r(g?f.substring(0,h):f);if(!y){if(!g){a=l+(a.length>0?" "+a:a);continue}if(y=r(f),!y){a=l+(a.length>0?" "+a:a);continue}g=!1}const w=k4(c).join(":"),v=d?w+$k:w,b=v+y;if(i.includes(b))continue;i.push(b);const E=s(y,g);for(let T=0;T<E.length;++T){const S=E[T];i.push(v+S)}a=l+(a.length>0?" "+a:a)}return a};function P4(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=zk(t))&&(r&&(r+=" "),r+=n);return r}const zk=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=zk(e[r]))&&(n&&(n+=" "),n+=t);return n};function I4(e,...t){let n,r,s,i=o;function o(u){const l=t.reduce((c,d)=>d(c),e());return n=A4(l),r=n.cache.get,s=n.cache.set,i=a,a(u)}function a(u){const l=r(u);if(l)return l;const c=R4(u,n);return s(u,c),c}return function(){return i(P4.apply(null,arguments))}}const qe=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Vk=/^\[(?:([a-z-]+):)?(.+)\]$/i,O4=/^\d+\/\d+$/,D4=new Set(["px","full","screen"]),L4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,M4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,j4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,F4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,B4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$r=e=>ya(e)||D4.has(e)||O4.test(e),vs=e=>tu(e,"length",K4),ya=e=>!!e&&!Number.isNaN(Number(e)),Bp=e=>tu(e,"number",ya),ku=e=>!!e&&Number.isInteger(Number(e)),U4=e=>e.endsWith("%")&&ya(e.slice(0,-1)),we=e=>Vk.test(e),bs=e=>L4.test(e),H4=new Set(["length","size","percentage"]),$4=e=>tu(e,H4,Wk),z4=e=>tu(e,"position",Wk),V4=new Set(["image","url"]),W4=e=>tu(e,V4,G4),q4=e=>tu(e,"",Y4),Au=()=>!0,tu=(e,t,n)=>{const r=Vk.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},K4=e=>M4.test(e)&&!j4.test(e),Wk=()=>!1,Y4=e=>F4.test(e),G4=e=>B4.test(e),Q4=()=>{const e=qe("colors"),t=qe("spacing"),n=qe("blur"),r=qe("brightness"),s=qe("borderColor"),i=qe("borderRadius"),o=qe("borderSpacing"),a=qe("borderWidth"),u=qe("contrast"),l=qe("grayscale"),c=qe("hueRotate"),d=qe("invert"),f=qe("gap"),h=qe("gradientColorStops"),g=qe("gradientColorStopPositions"),y=qe("inset"),w=qe("margin"),v=qe("opacity"),b=qe("padding"),E=qe("saturate"),T=qe("scale"),S=qe("sepia"),_=qe("skew"),k=qe("space"),I=qe("translate"),M=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",we,t],U=()=>[we,t],G=()=>["",$r,vs],W=()=>["auto",ya,we],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ie=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",we],C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[ya,we];return{cacheSize:500,separator:":",theme:{colors:[Au],spacing:[$r,vs],blur:["none","",bs,we],brightness:te(),borderColor:[e],borderRadius:["none","","full",bs,we],borderSpacing:U(),borderWidth:G(),contrast:te(),grayscale:L(),hueRotate:te(),invert:L(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[U4,vs],inset:H(),margin:H(),opacity:te(),padding:U(),saturate:te(),scale:te(),sepia:L(),skew:te(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",we]}],container:["container"],columns:[{columns:[bs]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),we]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ku,we]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",we]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",ku,we]}],"grid-cols":[{"grid-cols":[Au]}],"col-start-end":[{col:["auto",{span:["full",ku,we]},we]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Au]}],"row-start-end":[{row:["auto",{span:[ku,we]},we]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",we]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",we]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",we,t]}],"min-w":[{"min-w":[we,t,"min","max","fit"]}],"max-w":[{"max-w":[we,t,"none","full","min","max","fit","prose",{screen:[bs]},bs]}],h:[{h:[we,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[we,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[we,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[we,t,"auto","min","max","fit"]}],"font-size":[{text:["base",bs,vs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Bp]}],"font-family":[{font:[Au]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",we]}],"line-clamp":[{"line-clamp":["none",ya,Bp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$r,we]}],"list-image":[{"list-image":["none",we]}],"list-style-type":[{list:["none","disc","decimal",we]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",$r,vs]}],"underline-offset":[{"underline-offset":["auto",$r,we]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),z4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},W4]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...ie(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:ie()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ie()]}],"outline-offset":[{"outline-offset":[$r,we]}],"outline-w":[{outline:[$r,vs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[$r,vs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",bs,q4]}],"shadow-color":[{shadow:[Au]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",bs,we]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[d]}],saturate:[{saturate:[E]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",we]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",we]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",we]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[ku,we]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",we]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[$r,vs,Bp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},X4=I4(Q4);function ut(...e){return X4(Mk(e))}const J4=GL,qk=x.forwardRef(({className:e,...t},n)=>p.jsx(Nk,{ref:n,className:ut("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));qk.displayName=Nk.displayName;const Z4=QL("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Kk=x.forwardRef(({className:e,variant:t,...n},r)=>p.jsx(Rk,{ref:r,className:ut(Z4({variant:t}),e),...n}));Kk.displayName=Rk.displayName;const e6=x.forwardRef(({className:e,...t},n)=>p.jsx(Ok,{ref:n,className:ut("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));e6.displayName=Ok.displayName;const Yk=x.forwardRef(({className:e,...t},n)=>p.jsx(Dk,{ref:n,className:ut("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:p.jsx(po,{className:"h-4 w-4"})}));Yk.displayName=Dk.displayName;const Gk=x.forwardRef(({className:e,...t},n)=>p.jsx(Pk,{ref:n,className:ut("text-sm font-semibold",e),...t}));Gk.displayName=Pk.displayName;const Qk=x.forwardRef(({className:e,...t},n)=>p.jsx(Ik,{ref:n,className:ut("text-sm opacity-90",e),...t}));Qk.displayName=Ik.displayName;function t6(){const{toasts:e}=rL();return p.jsxs(J4,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return p.jsxs(Kk,{...i,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(Gk,{children:n}),r&&p.jsx(Qk,{children:r})]}),s,p.jsx(Yk,{})]},t)}),p.jsx(qk,{})]})}var Ax=["light","dark"],n6="(prefers-color-scheme: dark)",r6=x.createContext(void 0),s6={setTheme:e=>{},themes:[]},i6=()=>{var e;return(e=x.useContext(r6))!=null?e:s6};x.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:u})=>{let l=i==="system",c=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=s?Ax.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,y=!1,w=!0)=>{let v=o?o[g]:g,b=y?g+"|| ''":`'${v}'`,E="";return s&&w&&!y&&Ax.includes(g)&&(E+=`d.style.colorScheme = '${g}';`),n==="class"?y||v?E+=`c.add(${b})`:E+="null":v&&(E+=`d[s](n,${b})`),E},h=e?`!function(){${c}${f(e)}}()`:r?`!function(){try{${c}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${l})){var t='${n6}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${l?"":"else{"+f(i,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${c}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${d}}catch(t){}}();`;return x.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:h}})});var o6=e=>{switch(e){case"success":return l6;case"info":return d6;case"warning":return c6;case"error":return h6;default:return null}},a6=Array(12).fill(0),u6=({visible:e,className:t})=>se.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},se.createElement("div",{className:"sonner-spinner"},a6.map((n,r)=>se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),l6=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),c6=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),d6=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),h6=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),f6=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),p6=()=>{let[e,t]=se.useState(document.hidden);return se.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},U0=1,m6=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:U0++,i=this.toasts.find(a=>a.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:n}),{...a,...e,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,i,o=r.then(async u=>{if(i=["resolve",u],se.isValidElement(u))s=!1,this.create({id:n,type:"default",message:u});else if(y6(u)&&!u.ok){s=!1;let l=typeof t.error=="function"?await t.error(`HTTP error! status: ${u.status}`):t.error,c=typeof t.description=="function"?await t.description(`HTTP error! status: ${u.status}`):t.description;this.create({id:n,type:"error",message:l,description:c})}else if(t.success!==void 0){s=!1;let l=typeof t.success=="function"?await t.success(u):t.success,c=typeof t.description=="function"?await t.description(u):t.description;this.create({id:n,type:"success",message:l,description:c})}}).catch(async u=>{if(i=["reject",u],t.error!==void 0){s=!1;let l=typeof t.error=="function"?await t.error(u):t.error,c=typeof t.description=="function"?await t.description(u):t.description;this.create({id:n,type:"error",message:l,description:c})}}).finally(()=>{var u;s&&(this.dismiss(n),n=void 0),(u=t.finally)==null||u.call(t)}),a=()=>new Promise((u,l)=>o.then(()=>i[0]==="reject"?l(i[1]):u(i[1])).catch(l));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||U0++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},rn=new m6,g6=(e,t)=>{let n=(t==null?void 0:t.id)||U0++;return rn.addToast({title:e,...t,id:n}),n},y6=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",v6=g6,b6=()=>rn.toasts,x6=()=>rn.getActiveToasts(),zi=Object.assign(v6,{success:rn.success,info:rn.info,warning:rn.warning,error:rn.error,custom:rn.custom,message:rn.message,promise:rn.promise,dismiss:rn.dismiss,loading:rn.loading},{getHistory:b6,getToasts:x6});function w6(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}w6(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ed(e){return e.label!==void 0}var E6=3,T6="32px",_6="16px",Nx=4e3,S6=356,C6=14,k6=20,A6=200;function Gn(...e){return e.filter(Boolean).join(" ")}function N6(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var R6=e=>{var t,n,r,s,i,o,a,u,l,c,d;let{invert:f,toast:h,unstyled:g,interacting:y,setHeights:w,visibleToasts:v,heights:b,index:E,toasts:T,expanded:S,removeToast:_,defaultRichColors:k,closeButton:I,style:M,cancelButtonStyle:P,actionButtonStyle:H,className:U="",descriptionClassName:G="",duration:W,position:K,gap:ie,loadingIcon:J,expandByDefault:B,classNames:L,icons:C,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:j}=e,[A,X]=se.useState(null),[ne,ae]=se.useState(null),[z,he]=se.useState(!1),[q,le]=se.useState(!1),[me,Ie]=se.useState(!1),[Pe,Je]=se.useState(!1),[$n,zn]=se.useState(!1),[ds,Si]=se.useState(0),[Ur,yu]=se.useState(0),Ci=se.useRef(h.duration||W||Nx),Oc=se.useRef(null),Hr=se.useRef(null),op=E===0,ap=E+1<=v,V=h.type,re=h.dismissible!==!1,be=h.className||"",ke=h.descriptionClassName||"",Me=se.useMemo(()=>b.findIndex(xe=>xe.toastId===h.id)||0,[b,h.id]),hn=se.useMemo(()=>{var xe;return(xe=h.closeButton)!=null?xe:I},[h.closeButton,I]),gr=se.useMemo(()=>h.duration||W||Nx,[h.duration,W]),fn=se.useRef(0),kn=se.useRef(0),hs=se.useRef(0),ft=se.useRef(null),[fs,Vn]=K.split("-"),rb=se.useMemo(()=>b.reduce((xe,Be,Ge)=>Ge>=Me?xe:xe+Be.height,0),[b,Me]),sb=p6(),_3=h.invert||f,up=V==="loading";kn.current=se.useMemo(()=>Me*ie+rb,[Me,rb]),se.useEffect(()=>{Ci.current=gr},[gr]),se.useEffect(()=>{he(!0)},[]),se.useEffect(()=>{let xe=Hr.current;if(xe){let Be=xe.getBoundingClientRect().height;return yu(Be),w(Ge=>[{toastId:h.id,height:Be,position:h.position},...Ge]),()=>w(Ge=>Ge.filter(Wn=>Wn.toastId!==h.id))}},[w,h.id]),se.useLayoutEffect(()=>{if(!z)return;let xe=Hr.current,Be=xe.style.height;xe.style.height="auto";let Ge=xe.getBoundingClientRect().height;xe.style.height=Be,yu(Ge),w(Wn=>Wn.find(qn=>qn.toastId===h.id)?Wn.map(qn=>qn.toastId===h.id?{...qn,height:Ge}:qn):[{toastId:h.id,height:Ge,position:h.position},...Wn])},[z,h.title,h.description,w,h.id]);let ps=se.useCallback(()=>{le(!0),Si(kn.current),w(xe=>xe.filter(Be=>Be.toastId!==h.id)),setTimeout(()=>{_(h)},A6)},[h,_,w,kn]);se.useEffect(()=>{if(h.promise&&V==="loading"||h.duration===1/0||h.type==="loading")return;let xe;return S||y||j&&sb?(()=>{if(hs.current<fn.current){let Be=new Date().getTime()-fn.current;Ci.current=Ci.current-Be}hs.current=new Date().getTime()})():Ci.current!==1/0&&(fn.current=new Date().getTime(),xe=setTimeout(()=>{var Be;(Be=h.onAutoClose)==null||Be.call(h,h),ps()},Ci.current)),()=>clearTimeout(xe)},[S,y,h,V,j,sb,ps]),se.useEffect(()=>{h.delete&&ps()},[ps,h.delete]);function S3(){var xe,Be,Ge;return C!=null&&C.loading?se.createElement("div",{className:Gn(L==null?void 0:L.loader,(xe=h==null?void 0:h.classNames)==null?void 0:xe.loader,"sonner-loader"),"data-visible":V==="loading"},C.loading):J?se.createElement("div",{className:Gn(L==null?void 0:L.loader,(Be=h==null?void 0:h.classNames)==null?void 0:Be.loader,"sonner-loader"),"data-visible":V==="loading"},J):se.createElement(u6,{className:Gn(L==null?void 0:L.loader,(Ge=h==null?void 0:h.classNames)==null?void 0:Ge.loader),visible:V==="loading"})}return se.createElement("li",{tabIndex:0,ref:Hr,className:Gn(U,be,L==null?void 0:L.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,L==null?void 0:L.default,L==null?void 0:L[V],(n=h==null?void 0:h.classNames)==null?void 0:n[V]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:k,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":z,"data-promise":!!h.promise,"data-swiped":$n,"data-removed":q,"data-visible":ap,"data-y-position":fs,"data-x-position":Vn,"data-index":E,"data-front":op,"data-swiping":me,"data-dismissible":re,"data-type":V,"data-invert":_3,"data-swipe-out":Pe,"data-swipe-direction":ne,"data-expanded":!!(S||B&&z),style:{"--index":E,"--toasts-before":E,"--z-index":T.length-E,"--offset":`${q?ds:kn.current}px`,"--initial-height":B?"auto":`${Ur}px`,...M,...h.style},onDragEnd:()=>{Ie(!1),X(null),ft.current=null},onPointerDown:xe=>{up||!re||(Oc.current=new Date,Si(kn.current),xe.target.setPointerCapture(xe.pointerId),xe.target.tagName!=="BUTTON"&&(Ie(!0),ft.current={x:xe.clientX,y:xe.clientY}))},onPointerUp:()=>{var xe,Be,Ge,Wn;if(Pe||!re)return;ft.current=null;let qn=Number(((xe=Hr.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ms=Number(((Be=Hr.current)==null?void 0:Be.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ki=new Date().getTime()-((Ge=Oc.current)==null?void 0:Ge.getTime()),Kn=A==="x"?qn:ms,gs=Math.abs(Kn)/ki;if(Math.abs(Kn)>=k6||gs>.11){Si(kn.current),(Wn=h.onDismiss)==null||Wn.call(h,h),ae(A==="x"?qn>0?"right":"left":ms>0?"down":"up"),ps(),Je(!0),zn(!1);return}Ie(!1),X(null)},onPointerMove:xe=>{var Be,Ge,Wn,qn;if(!ft.current||!re||((Be=window.getSelection())==null?void 0:Be.toString().length)>0)return;let ms=xe.clientY-ft.current.y,ki=xe.clientX-ft.current.x,Kn=(Ge=e.swipeDirections)!=null?Ge:N6(K);!A&&(Math.abs(ki)>1||Math.abs(ms)>1)&&X(Math.abs(ki)>Math.abs(ms)?"x":"y");let gs={x:0,y:0};A==="y"?(Kn.includes("top")||Kn.includes("bottom"))&&(Kn.includes("top")&&ms<0||Kn.includes("bottom")&&ms>0)&&(gs.y=ms):A==="x"&&(Kn.includes("left")||Kn.includes("right"))&&(Kn.includes("left")&&ki<0||Kn.includes("right")&&ki>0)&&(gs.x=ki),(Math.abs(gs.x)>0||Math.abs(gs.y)>0)&&zn(!0),(Wn=Hr.current)==null||Wn.style.setProperty("--swipe-amount-x",`${gs.x}px`),(qn=Hr.current)==null||qn.style.setProperty("--swipe-amount-y",`${gs.y}px`)}},hn&&!h.jsx?se.createElement("button",{"aria-label":te,"data-disabled":up,"data-close-button":!0,onClick:up||!re?()=>{}:()=>{var xe;ps(),(xe=h.onDismiss)==null||xe.call(h,h)},className:Gn(L==null?void 0:L.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},(i=C==null?void 0:C.close)!=null?i:f6):null,h.jsx||x.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:se.createElement(se.Fragment,null,V||h.icon||h.promise?se.createElement("div",{"data-icon":"",className:Gn(L==null?void 0:L.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||S3():null,h.type!=="loading"?h.icon||(C==null?void 0:C[V])||o6(V):null):null,se.createElement("div",{"data-content":"",className:Gn(L==null?void 0:L.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},se.createElement("div",{"data-title":"",className:Gn(L==null?void 0:L.title,(u=h==null?void 0:h.classNames)==null?void 0:u.title)},typeof h.title=="function"?h.title():h.title),h.description?se.createElement("div",{"data-description":"",className:Gn(G,ke,L==null?void 0:L.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},typeof h.description=="function"?h.description():h.description):null),x.isValidElement(h.cancel)?h.cancel:h.cancel&&ed(h.cancel)?se.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||P,onClick:xe=>{var Be,Ge;ed(h.cancel)&&re&&((Ge=(Be=h.cancel).onClick)==null||Ge.call(Be,xe),ps())},className:Gn(L==null?void 0:L.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,x.isValidElement(h.action)?h.action:h.action&&ed(h.action)?se.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||H,onClick:xe=>{var Be,Ge;ed(h.action)&&((Ge=(Be=h.action).onClick)==null||Ge.call(Be,xe),!xe.defaultPrevented&&ps())},className:Gn(L==null?void 0:L.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function Rx(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function P6(e,t){let n={};return[e,t].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?_6:T6;function u(l){["top","right","bottom","left"].forEach(c=>{n[`${o}-${c}`]=typeof l=="number"?`${l}px`:l})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(l=>{r[l]===void 0?n[`${o}-${l}`]=a:n[`${o}-${l}`]=typeof r[l]=="number"?`${r[l]}px`:r[l]}):u(a)}),n}var I6=x.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:u,mobileOffset:l,theme:c="light",richColors:d,duration:f,style:h,visibleToasts:g=E6,toastOptions:y,dir:w=Rx(),gap:v=C6,loadingIcon:b,icons:E,containerAriaLabel:T="Notifications",pauseWhenPageIsHidden:S}=e,[_,k]=se.useState([]),I=se.useMemo(()=>Array.from(new Set([r].concat(_.filter(j=>j.position).map(j=>j.position)))),[_,r]),[M,P]=se.useState([]),[H,U]=se.useState(!1),[G,W]=se.useState(!1),[K,ie]=se.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=se.useRef(null),B=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=se.useRef(null),C=se.useRef(!1),te=se.useCallback(j=>{k(A=>{var X;return(X=A.find(ne=>ne.id===j.id))!=null&&X.delete||rn.dismiss(j.id),A.filter(({id:ne})=>ne!==j.id)})},[]);return se.useEffect(()=>rn.subscribe(j=>{if(j.dismiss){k(A=>A.map(X=>X.id===j.id?{...X,delete:!0}:X));return}setTimeout(()=>{lk.flushSync(()=>{k(A=>{let X=A.findIndex(ne=>ne.id===j.id);return X!==-1?[...A.slice(0,X),{...A[X],...j},...A.slice(X+1)]:[j,...A]})})})}),[]),se.useEffect(()=>{if(c!=="system"){ie(c);return}if(c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ie("dark"):ie("light")),typeof window>"u")return;let j=window.matchMedia("(prefers-color-scheme: dark)");try{j.addEventListener("change",({matches:A})=>{ie(A?"dark":"light")})}catch{j.addListener(({matches:X})=>{try{ie(X?"dark":"light")}catch(ne){console.error(ne)}})}},[c]),se.useEffect(()=>{_.length<=1&&U(!1)},[_]),se.useEffect(()=>{let j=A=>{var X,ne;s.every(ae=>A[ae]||A.code===ae)&&(U(!0),(X=J.current)==null||X.focus()),A.code==="Escape"&&(document.activeElement===J.current||(ne=J.current)!=null&&ne.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[s]),se.useEffect(()=>{if(J.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,C.current=!1)}},[J.current]),se.createElement("section",{ref:t,"aria-label":`${T} ${B}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((j,A)=>{var X;let[ne,ae]=j.split("-");return _.length?se.createElement("ol",{key:j,dir:w==="auto"?Rx():w,tabIndex:-1,ref:J,className:a,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":ne,"data-lifted":H&&_.length>1&&!i,"data-x-position":ae,style:{"--front-toast-height":`${((X=M[0])==null?void 0:X.height)||0}px`,"--width":`${S6}px`,"--gap":`${v}px`,...h,...P6(u,l)},onBlur:z=>{C.current&&!z.currentTarget.contains(z.relatedTarget)&&(C.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:z=>{z.target instanceof HTMLElement&&z.target.dataset.dismissible==="false"||C.current||(C.current=!0,L.current=z.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{G||U(!1)},onDragEnd:()=>U(!1),onPointerDown:z=>{z.target instanceof HTMLElement&&z.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},_.filter(z=>!z.position&&A===0||z.position===j).map((z,he)=>{var q,le;return se.createElement(R6,{key:z.id,icons:E,index:he,toast:z,defaultRichColors:d,duration:(q=y==null?void 0:y.duration)!=null?q:f,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:g,closeButton:(le=y==null?void 0:y.closeButton)!=null?le:o,interacting:G,position:j,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:te,toasts:_.filter(me=>me.position==z.position),heights:M.filter(me=>me.position==z.position),setHeights:P,expandByDefault:i,gap:v,loadingIcon:b,expanded:H,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const O6=({...e})=>{const{theme:t="system"}=i6();return p.jsx(I6,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var D6=gy[" useId ".trim().toString()]||(()=>{}),L6=0;function jn(e){const[t,n]=x.useState(D6());return Dr(()=>{n(r=>r??String(L6++))},[e]),t?`radix-${t}`:""}const M6=["top","right","bottom","left"],li=Math.min,yn=Math.max,Ch=Math.round,td=Math.floor,Pr=e=>({x:e,y:e}),j6={left:"right",right:"left",bottom:"top",top:"bottom"},F6={start:"end",end:"start"};function H0(e,t,n){return yn(e,li(t,n))}function ss(e,t){return typeof e=="function"?e(t):e}function is(e){return e.split("-")[0]}function nu(e){return e.split("-")[1]}function pv(e){return e==="x"?"y":"x"}function mv(e){return e==="y"?"height":"width"}const B6=new Set(["top","bottom"]);function kr(e){return B6.has(is(e))?"y":"x"}function gv(e){return pv(kr(e))}function U6(e,t,n){n===void 0&&(n=!1);const r=nu(e),s=gv(e),i=mv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=kh(o)),[o,kh(o)]}function H6(e){const t=kh(e);return[$0(e),t,$0(t)]}function $0(e){return e.replace(/start|end/g,t=>F6[t])}const Px=["left","right"],Ix=["right","left"],$6=["top","bottom"],z6=["bottom","top"];function V6(e,t,n){switch(e){case"top":case"bottom":return n?t?Ix:Px:t?Px:Ix;case"left":case"right":return t?$6:z6;default:return[]}}function W6(e,t,n,r){const s=nu(e);let i=V6(is(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map($0)))),i}function kh(e){return e.replace(/left|right|bottom|top/g,t=>j6[t])}function q6(e){return{top:0,right:0,bottom:0,left:0,...e}}function Xk(e){return typeof e!="number"?q6(e):{top:e,right:e,bottom:e,left:e}}function Ah(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Ox(e,t,n){let{reference:r,floating:s}=e;const i=kr(t),o=gv(t),a=mv(o),u=is(t),l=i==="y",c=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let h;switch(u){case"top":h={x:c,y:r.y-s.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-s.width,y:d};break;default:h={x:r.x,y:r.y}}switch(nu(t)){case"start":h[o]-=f*(n&&l?-1:1);break;case"end":h[o]+=f*(n&&l?-1:1);break}return h}async function K6(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=ss(t,e),g=Xk(h),w=a[f?d==="floating"?"reference":"floating":d],v=Ah(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:l,rootBoundary:c,strategy:u})),b=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),T=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},S=Ah(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:E,strategy:u}):b);return{top:(v.top-S.top+g.top)/T.y,bottom:(S.bottom-v.bottom+g.bottom)/T.y,left:(v.left-S.left+g.left)/T.x,right:(S.right-v.right+g.right)/T.x}}const Y6=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:c,y:d}=Ox(l,r,u),f=r,h={},g=0;for(let w=0;w<a.length;w++){var y;const{name:v,fn:b}=a[w],{x:E,y:T,data:S,reset:_}=await b({x:c,y:d,initialPlacement:r,placement:f,strategy:s,middlewareData:h,rects:l,platform:{...o,detectOverflow:(y=o.detectOverflow)!=null?y:K6},elements:{reference:e,floating:t}});c=E??c,d=T??d,h={...h,[v]:{...h[v],...S}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(f=_.placement),_.rects&&(l=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:c,y:d}=Ox(l,f,u)),w=-1)}return{x:c,y:d,placement:f,strategy:s,middlewareData:h}},G6=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:u}=t,{element:l,padding:c=0}=ss(e,t)||{};if(l==null)return{};const d=Xk(c),f={x:n,y:r},h=gv(s),g=mv(h),y=await o.getDimensions(l),w=h==="y",v=w?"top":"left",b=w?"bottom":"right",E=w?"clientHeight":"clientWidth",T=i.reference[g]+i.reference[h]-f[h]-i.floating[g],S=f[h]-i.reference[h],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let k=_?_[E]:0;(!k||!await(o.isElement==null?void 0:o.isElement(_)))&&(k=a.floating[E]||i.floating[g]);const I=T/2-S/2,M=k/2-y[g]/2-1,P=li(d[v],M),H=li(d[b],M),U=P,G=k-y[g]-H,W=k/2-y[g]/2+I,K=H0(U,W,G),ie=!u.arrow&&nu(s)!=null&&W!==K&&i.reference[g]/2-(W<U?P:H)-y[g]/2<0,J=ie?W<U?W-U:W-G:0;return{[h]:f[h]+J,data:{[h]:K,centerOffset:W-K-J,...ie&&{alignmentOffset:J}},reset:ie}}}),Q6=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:u,elements:l}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...w}=ss(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=is(s),b=kr(a),E=is(a)===a,T=await(u.isRTL==null?void 0:u.isRTL(l.floating)),S=f||(E||!y?[kh(a)]:H6(a)),_=g!=="none";!f&&_&&S.push(...W6(a,y,g,T));const k=[a,...S],I=await u.detectOverflow(t,w),M=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(c&&M.push(I[v]),d){const W=U6(s,o,T);M.push(I[W[0]],I[W[1]])}if(P=[...P,{placement:s,overflows:M}],!M.every(W=>W<=0)){var H,U;const W=(((H=i.flip)==null?void 0:H.index)||0)+1,K=k[W];if(K&&(!(d==="alignment"?b!==kr(K):!1)||P.every(B=>kr(B.placement)===b?B.overflows[0]>0:!0)))return{data:{index:W,overflows:P},reset:{placement:K}};let ie=(U=P.filter(J=>J.overflows[0]<=0).sort((J,B)=>J.overflows[1]-B.overflows[1])[0])==null?void 0:U.placement;if(!ie)switch(h){case"bestFit":{var G;const J=(G=P.filter(B=>{if(_){const L=kr(B.placement);return L===b||L==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(L=>L>0).reduce((L,C)=>L+C,0)]).sort((B,L)=>B[1]-L[1])[0])==null?void 0:G[0];J&&(ie=J);break}case"initialPlacement":ie=a;break}if(s!==ie)return{reset:{placement:ie}}}return{}}}};function Dx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Lx(e){return M6.some(t=>e[t]>=0)}const X6=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:r}=t,{strategy:s="referenceHidden",...i}=ss(e,t);switch(s){case"referenceHidden":{const o=await r.detectOverflow(t,{...i,elementContext:"reference"}),a=Dx(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Lx(a)}}}case"escaped":{const o=await r.detectOverflow(t,{...i,altBoundary:!0}),a=Dx(o,n.floating);return{data:{escapedOffsets:a,escaped:Lx(a)}}}default:return{}}}}},Jk=new Set(["left","top"]);async function J6(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=is(n),a=nu(n),u=kr(n)==="y",l=Jk.has(o)?-1:1,c=i&&u?-1:1,d=ss(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof g=="number"&&(h=a==="end"?g*-1:g),u?{x:h*c,y:f*l}:{x:f*l,y:h*c}}const Z6=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=t,u=await J6(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},eM=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s,platform:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:u={fn:v=>{let{x:b,y:E}=v;return{x:b,y:E}}},...l}=ss(e,t),c={x:n,y:r},d=await i.detectOverflow(t,l),f=kr(is(s)),h=pv(f);let g=c[h],y=c[f];if(o){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",E=g+d[v],T=g-d[b];g=H0(E,g,T)}if(a){const v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",E=y+d[v],T=y-d[b];y=H0(E,y,T)}const w=u.fn({...t,[h]:g,[f]:y});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[h]:o,[f]:a}}}}}},tM=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:u=!0,crossAxis:l=!0}=ss(e,t),c={x:n,y:r},d=kr(s),f=pv(d);let h=c[f],g=c[d];const y=ss(a,t),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(u){const E=f==="y"?"height":"width",T=i.reference[f]-i.floating[E]+w.mainAxis,S=i.reference[f]+i.reference[E]-w.mainAxis;h<T?h=T:h>S&&(h=S)}if(l){var v,b;const E=f==="y"?"width":"height",T=Jk.has(is(s)),S=i.reference[d]-i.floating[E]+(T&&((v=o.offset)==null?void 0:v[d])||0)+(T?0:w.crossAxis),_=i.reference[d]+i.reference[E]+(T?0:((b=o.offset)==null?void 0:b[d])||0)-(T?w.crossAxis:0);g<S?g=S:g>_&&(g=_)}return{[f]:h,[d]:g}}}},nM=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:u=()=>{},...l}=ss(e,t),c=await o.detectOverflow(t,l),d=is(s),f=nu(s),h=kr(s)==="y",{width:g,height:y}=i.floating;let w,v;d==="top"||d==="bottom"?(w=d,v=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,w=f==="end"?"top":"bottom");const b=y-c.top-c.bottom,E=g-c.left-c.right,T=li(y-c[w],b),S=li(g-c[v],E),_=!t.middlewareData.shift;let k=T,I=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(I=E),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=b),_&&!f){const P=yn(c.left,0),H=yn(c.right,0),U=yn(c.top,0),G=yn(c.bottom,0);h?I=g-2*(P!==0||H!==0?P+H:yn(c.left,c.right)):k=y-2*(U!==0||G!==0?U+G:yn(c.top,c.bottom))}await u({...t,availableWidth:I,availableHeight:k});const M=await o.getDimensions(a.floating);return g!==M.width||y!==M.height?{reset:{rects:!0}}:{}}}};function wf(){return typeof window<"u"}function ru(e){return Zk(e)?(e.nodeName||"").toLowerCase():"#document"}function wn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function jr(e){var t;return(t=(Zk(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Zk(e){return wf()?e instanceof Node||e instanceof wn(e).Node:!1}function cr(e){return wf()?e instanceof Element||e instanceof wn(e).Element:!1}function Lr(e){return wf()?e instanceof HTMLElement||e instanceof wn(e).HTMLElement:!1}function Mx(e){return!wf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof wn(e).ShadowRoot}const rM=new Set(["inline","contents"]);function bc(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=dr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!rM.has(s)}const sM=new Set(["table","td","th"]);function iM(e){return sM.has(ru(e))}const oM=[":popover-open",":modal"];function Ef(e){return oM.some(t=>{try{return e.matches(t)}catch{return!1}})}const aM=["transform","translate","scale","rotate","perspective"],uM=["transform","translate","scale","rotate","perspective","filter"],lM=["paint","layout","strict","content"];function yv(e){const t=vv(),n=cr(e)?dr(e):e;return aM.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||uM.some(r=>(n.willChange||"").includes(r))||lM.some(r=>(n.contain||"").includes(r))}function cM(e){let t=ci(e);for(;Lr(t)&&!$a(t);){if(yv(t))return t;if(Ef(t))return null;t=ci(t)}return null}function vv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const dM=new Set(["html","body","#document"]);function $a(e){return dM.has(ru(e))}function dr(e){return wn(e).getComputedStyle(e)}function Tf(e){return cr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ci(e){if(ru(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Mx(e)&&e.host||jr(e);return Mx(t)?t.host:t}function e2(e){const t=ci(e);return $a(t)?e.ownerDocument?e.ownerDocument.body:e.body:Lr(t)&&bc(t)?t:e2(t)}function Bl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=e2(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=wn(s);if(i){const a=z0(o);return t.concat(o,o.visualViewport||[],bc(s)?s:[],a&&n?Bl(a):[])}return t.concat(s,Bl(s,[],n))}function z0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function t2(e){const t=dr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Lr(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,a=Ch(n)!==i||Ch(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function bv(e){return cr(e)?e:e.contextElement}function va(e){const t=bv(e);if(!Lr(t))return Pr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=t2(t);let o=(i?Ch(n.width):n.width)/r,a=(i?Ch(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const hM=Pr(0);function n2(e){const t=wn(e);return!vv()||!t.visualViewport?hM:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function fM(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==wn(e)?!1:t}function mo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=bv(e);let o=Pr(1);t&&(r?cr(r)&&(o=va(r)):o=va(e));const a=fM(i,n,r)?n2(i):Pr(0);let u=(s.left+a.x)/o.x,l=(s.top+a.y)/o.y,c=s.width/o.x,d=s.height/o.y;if(i){const f=wn(i),h=r&&cr(r)?wn(r):r;let g=f,y=z0(g);for(;y&&r&&h!==g;){const w=va(y),v=y.getBoundingClientRect(),b=dr(y),E=v.left+(y.clientLeft+parseFloat(b.paddingLeft))*w.x,T=v.top+(y.clientTop+parseFloat(b.paddingTop))*w.y;u*=w.x,l*=w.y,c*=w.x,d*=w.y,u+=E,l+=T,g=wn(y),y=z0(g)}}return Ah({width:c,height:d,x:u,y:l})}function _f(e,t){const n=Tf(e).scrollLeft;return t?t.left+n:mo(jr(e)).left+n}function r2(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-_f(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function pM(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=jr(r),a=t?Ef(t.floating):!1;if(r===o||a&&i)return n;let u={scrollLeft:0,scrollTop:0},l=Pr(1);const c=Pr(0),d=Lr(r);if((d||!d&&!i)&&((ru(r)!=="body"||bc(o))&&(u=Tf(r)),Lr(r))){const h=mo(r);l=va(r),c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}const f=o&&!d&&!i?r2(o,u):Pr(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-u.scrollLeft*l.x+c.x+f.x,y:n.y*l.y-u.scrollTop*l.y+c.y+f.y}}function mM(e){return Array.from(e.getClientRects())}function gM(e){const t=jr(e),n=Tf(e),r=e.ownerDocument.body,s=yn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=yn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+_f(e);const a=-n.scrollTop;return dr(r).direction==="rtl"&&(o+=yn(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const jx=25;function yM(e,t){const n=wn(e),r=jr(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,u=0;if(s){i=s.width,o=s.height;const c=vv();(!c||c&&t==="fixed")&&(a=s.offsetLeft,u=s.offsetTop)}const l=_f(r);if(l<=0){const c=r.ownerDocument,d=c.body,f=getComputedStyle(d),h=c.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,g=Math.abs(r.clientWidth-d.clientWidth-h);g<=jx&&(i-=g)}else l<=jx&&(i+=l);return{width:i,height:o,x:a,y:u}}const vM=new Set(["absolute","fixed"]);function bM(e,t){const n=mo(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Lr(e)?va(e):Pr(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,u=s*i.x,l=r*i.y;return{width:o,height:a,x:u,y:l}}function Fx(e,t,n){let r;if(t==="viewport")r=yM(e,n);else if(t==="document")r=gM(jr(e));else if(cr(t))r=bM(t,n);else{const s=n2(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Ah(r)}function s2(e,t){const n=ci(e);return n===t||!cr(n)||$a(n)?!1:dr(n).position==="fixed"||s2(n,t)}function xM(e,t){const n=t.get(e);if(n)return n;let r=Bl(e,[],!1).filter(a=>cr(a)&&ru(a)!=="body"),s=null;const i=dr(e).position==="fixed";let o=i?ci(e):e;for(;cr(o)&&!$a(o);){const a=dr(o),u=yv(o);!u&&a.position==="fixed"&&(s=null),(i?!u&&!s:!u&&a.position==="static"&&!!s&&vM.has(s.position)||bc(o)&&!u&&s2(e,o))?r=r.filter(c=>c!==o):s=a,o=ci(o)}return t.set(e,r),r}function wM(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?Ef(t)?[]:xM(t,this._c):[].concat(n),r],a=o[0],u=o.reduce((l,c)=>{const d=Fx(t,c,s);return l.top=yn(d.top,l.top),l.right=li(d.right,l.right),l.bottom=li(d.bottom,l.bottom),l.left=yn(d.left,l.left),l},Fx(t,a,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function EM(e){const{width:t,height:n}=t2(e);return{width:t,height:n}}function TM(e,t,n){const r=Lr(t),s=jr(t),i=n==="fixed",o=mo(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const u=Pr(0);function l(){u.x=_f(s)}if(r||!r&&!i)if((ru(t)!=="body"||bc(s))&&(a=Tf(t)),r){const h=mo(t,!0,i,t);u.x=h.x+t.clientLeft,u.y=h.y+t.clientTop}else s&&l();i&&!r&&s&&l();const c=s&&!r&&!i?r2(s,a):Pr(0),d=o.left+a.scrollLeft-u.x-c.x,f=o.top+a.scrollTop-u.y-c.y;return{x:d,y:f,width:o.width,height:o.height}}function Up(e){return dr(e).position==="static"}function Bx(e,t){if(!Lr(e)||dr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return jr(e)===n&&(n=n.ownerDocument.body),n}function i2(e,t){const n=wn(e);if(Ef(e))return n;if(!Lr(e)){let s=ci(e);for(;s&&!$a(s);){if(cr(s)&&!Up(s))return s;s=ci(s)}return n}let r=Bx(e,t);for(;r&&iM(r)&&Up(r);)r=Bx(r,t);return r&&$a(r)&&Up(r)&&!yv(r)?n:r||cM(e)||n}const _M=async function(e){const t=this.getOffsetParent||i2,n=this.getDimensions,r=await n(e.floating);return{reference:TM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function SM(e){return dr(e).direction==="rtl"}const CM={convertOffsetParentRelativeRectToViewportRelativeRect:pM,getDocumentElement:jr,getClippingRect:wM,getOffsetParent:i2,getElementRects:_M,getClientRects:mM,getDimensions:EM,getScale:va,isElement:cr,isRTL:SM};function o2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function kM(e,t){let n=null,r;const s=jr(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),i();const l=e.getBoundingClientRect(),{left:c,top:d,width:f,height:h}=l;if(a||t(),!f||!h)return;const g=td(d),y=td(s.clientWidth-(c+f)),w=td(s.clientHeight-(d+h)),v=td(c),E={rootMargin:-g+"px "+-y+"px "+-w+"px "+-v+"px",threshold:yn(0,li(1,u))||1};let T=!0;function S(_){const k=_[0].intersectionRatio;if(k!==u){if(!T)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!o2(l,e.getBoundingClientRect())&&o(),T=!1}try{n=new IntersectionObserver(S,{...E,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,E)}n.observe(e)}return o(!0),i}function AM(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,l=bv(e),c=s||i?[...l?Bl(l):[],...Bl(t)]:[];c.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const d=l&&a?kM(l,n):null;let f=-1,h=null;o&&(h=new ResizeObserver(v=>{let[b]=v;b&&b.target===l&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var E;(E=h)==null||E.observe(t)})),n()}),l&&!u&&h.observe(l),h.observe(t));let g,y=u?mo(e):null;u&&w();function w(){const v=mo(e);y&&!o2(y,v)&&n(),y=v,g=requestAnimationFrame(w)}return n(),()=>{var v;c.forEach(b=>{s&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),d==null||d(),(v=h)==null||v.disconnect(),h=null,u&&cancelAnimationFrame(g)}}const NM=Z6,RM=eM,PM=Q6,IM=nM,OM=X6,Ux=G6,DM=tM,LM=(e,t,n)=>{const r=new Map,s={platform:CM,...n},i={...s.platform,_c:r};return Y6(e,t,{...s,platform:i})};var MM=typeof document<"u",jM=function(){},Ud=MM?x.useLayoutEffect:jM;function Nh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Nh(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!Nh(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function a2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Hx(e,t){const n=a2(e);return Math.round(t*n)/n}function Hp(e){const t=x.useRef(e);return Ud(()=>{t.current=e}),t}function FM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:u,open:l}=e,[c,d]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=x.useState(r);Nh(f,r)||h(r);const[g,y]=x.useState(null),[w,v]=x.useState(null),b=x.useCallback(B=>{B!==_.current&&(_.current=B,y(B))},[]),E=x.useCallback(B=>{B!==k.current&&(k.current=B,v(B))},[]),T=i||g,S=o||w,_=x.useRef(null),k=x.useRef(null),I=x.useRef(c),M=u!=null,P=Hp(u),H=Hp(s),U=Hp(l),G=x.useCallback(()=>{if(!_.current||!k.current)return;const B={placement:t,strategy:n,middleware:f};H.current&&(B.platform=H.current),LM(_.current,k.current,B).then(L=>{const C={...L,isPositioned:U.current!==!1};W.current&&!Nh(I.current,C)&&(I.current=C,Za.flushSync(()=>{d(C)}))})},[f,t,n,H,U]);Ud(()=>{l===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,d(B=>({...B,isPositioned:!1})))},[l]);const W=x.useRef(!1);Ud(()=>(W.current=!0,()=>{W.current=!1}),[]),Ud(()=>{if(T&&(_.current=T),S&&(k.current=S),T&&S){if(P.current)return P.current(T,S,G);G()}},[T,S,G,P,M]);const K=x.useMemo(()=>({reference:_,floating:k,setReference:b,setFloating:E}),[b,E]),ie=x.useMemo(()=>({reference:T,floating:S}),[T,S]),J=x.useMemo(()=>{const B={position:n,left:0,top:0};if(!ie.floating)return B;const L=Hx(ie.floating,c.x),C=Hx(ie.floating,c.y);return a?{...B,transform:"translate("+L+"px, "+C+"px)",...a2(ie.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:C}},[n,a,ie.floating,c.x,c.y]);return x.useMemo(()=>({...c,update:G,refs:K,elements:ie,floatingStyles:J}),[c,G,K,ie,J])}const BM=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Ux({element:r.current,padding:s}).fn(n):{}:r?Ux({element:r,padding:s}).fn(n):{}}}},UM=(e,t)=>({...NM(e),options:[e,t]}),HM=(e,t)=>({...RM(e),options:[e,t]}),$M=(e,t)=>({...DM(e),options:[e,t]}),zM=(e,t)=>({...PM(e),options:[e,t]}),VM=(e,t)=>({...IM(e),options:[e,t]}),WM=(e,t)=>({...OM(e),options:[e,t]}),qM=(e,t)=>({...BM(e),options:[e,t]});var KM="Arrow",u2=x.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return p.jsx(Re.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});u2.displayName=KM;var YM=u2;function l2(e){const[t,n]=x.useState(void 0);return Dr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const u=i.borderBoxSize,l=Array.isArray(u)?u[0]:u;o=l.inlineSize,a=l.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var xv="Popper",[c2,su]=us(xv),[GM,d2]=c2(xv),h2=e=>{const{__scopePopper:t,children:n}=e,[r,s]=x.useState(null);return p.jsx(GM,{scope:t,anchor:r,onAnchorChange:s,children:n})};h2.displayName=xv;var f2="PopperAnchor",p2=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=d2(f2,n),o=x.useRef(null),a=ht(t,o);return x.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:p.jsx(Re.div,{...s,ref:a})});p2.displayName=f2;var wv="PopperContent",[QM,XM]=c2(wv),m2=x.forwardRef((e,t)=>{var z,he,q,le,me,Ie;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:l=[],collisionPadding:c=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:g,...y}=e,w=d2(wv,n),[v,b]=x.useState(null),E=ht(t,Pe=>b(Pe)),[T,S]=x.useState(null),_=l2(T),k=(_==null?void 0:_.width)??0,I=(_==null?void 0:_.height)??0,M=r+(i!=="center"?"-"+i:""),P=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},H=Array.isArray(l)?l:[l],U=H.length>0,G={padding:P,boundary:H.filter(ZM),altBoundary:U},{refs:W,floatingStyles:K,placement:ie,isPositioned:J,middlewareData:B}=FM({strategy:"fixed",placement:M,whileElementsMounted:(...Pe)=>AM(...Pe,{animationFrame:h==="always"}),elements:{reference:w.anchor},middleware:[UM({mainAxis:s+I,alignmentAxis:o}),u&&HM({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?$M():void 0,...G}),u&&zM({...G}),VM({...G,apply:({elements:Pe,rects:Je,availableWidth:$n,availableHeight:zn})=>{const{width:ds,height:Si}=Je.reference,Ur=Pe.floating.style;Ur.setProperty("--radix-popper-available-width",`${$n}px`),Ur.setProperty("--radix-popper-available-height",`${zn}px`),Ur.setProperty("--radix-popper-anchor-width",`${ds}px`),Ur.setProperty("--radix-popper-anchor-height",`${Si}px`)}}),T&&qM({element:T,padding:a}),e5({arrowWidth:k,arrowHeight:I}),f&&WM({strategy:"referenceHidden",...G})]}),[L,C]=v2(ie),te=Or(g);Dr(()=>{J&&(te==null||te())},[J,te]);const j=(z=B.arrow)==null?void 0:z.x,A=(he=B.arrow)==null?void 0:he.y,X=((q=B.arrow)==null?void 0:q.centerOffset)!==0,[ne,ae]=x.useState();return Dr(()=>{v&&ae(window.getComputedStyle(v).zIndex)},[v]),p.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:J?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(le=B.transformOrigin)==null?void 0:le.x,(me=B.transformOrigin)==null?void 0:me.y].join(" "),...((Ie=B.hide)==null?void 0:Ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:p.jsx(QM,{scope:n,placedSide:L,onArrowChange:S,arrowX:j,arrowY:A,shouldHideArrow:X,children:p.jsx(Re.div,{"data-side":L,"data-align":C,...y,ref:E,style:{...y.style,animation:J?void 0:"none"}})})})});m2.displayName=wv;var g2="PopperArrow",JM={top:"bottom",right:"left",bottom:"top",left:"right"},y2=x.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=XM(g2,r),o=JM[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(YM,{...s,ref:n,style:{...s.style,display:"block"}})})});y2.displayName=g2;function ZM(e){return e!==null}var e5=e=>({name:"transformOrigin",options:e,fn(t){var w,v,b;const{placement:n,rects:r,middlewareData:s}=t,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:e.arrowWidth,u=o?0:e.arrowHeight,[l,c]=v2(n),d={start:"0%",center:"50%",end:"100%"}[c],f=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,h=(((b=s.arrow)==null?void 0:b.y)??0)+u/2;let g="",y="";return l==="bottom"?(g=o?d:`${f}px`,y=`${-u}px`):l==="top"?(g=o?d:`${f}px`,y=`${r.floating.height+u}px`):l==="right"?(g=`${-u}px`,y=o?d:`${h}px`):l==="left"&&(g=`${r.floating.width+u}px`,y=o?d:`${h}px`),{data:{x:g,y}}}});function v2(e){const[t,n="center"]=e.split("-");return[t,n]}var Ev=h2,Sf=p2,Tv=m2,_v=y2,[Cf,Ote]=us("Tooltip",[su]),kf=su(),b2="TooltipProvider",t5=700,V0="tooltip.open",[n5,Sv]=Cf(b2),x2=e=>{const{__scopeTooltip:t,delayDuration:n=t5,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,o=x.useRef(!0),a=x.useRef(!1),u=x.useRef(0);return x.useEffect(()=>{const l=u.current;return()=>window.clearTimeout(l)},[]),p.jsx(n5,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:x.useCallback(l=>{a.current=l},[]),disableHoverableContent:s,children:i})};x2.displayName=b2;var Ul="Tooltip",[r5,Af]=Cf(Ul),w2=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=e,u=Sv(Ul,e.__scopeTooltip),l=kf(t),[c,d]=x.useState(null),f=jn(),h=x.useRef(0),g=o??u.disableHoverableContent,y=a??u.delayDuration,w=x.useRef(!1),[v,b]=To({prop:r,defaultProp:s??!1,onChange:k=>{k?(u.onOpen(),document.dispatchEvent(new CustomEvent(V0))):u.onClose(),i==null||i(k)},caller:Ul}),E=x.useMemo(()=>v?w.current?"delayed-open":"instant-open":"closed",[v]),T=x.useCallback(()=>{window.clearTimeout(h.current),h.current=0,w.current=!1,b(!0)},[b]),S=x.useCallback(()=>{window.clearTimeout(h.current),h.current=0,b(!1)},[b]),_=x.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{w.current=!0,b(!0),h.current=0},y)},[y,b]);return x.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),p.jsx(Ev,{...l,children:p.jsx(r5,{scope:t,contentId:f,open:v,stateAttribute:E,trigger:c,onTriggerChange:d,onTriggerEnter:x.useCallback(()=>{u.isOpenDelayedRef.current?_():T()},[u.isOpenDelayedRef,_,T]),onTriggerLeave:x.useCallback(()=>{g?S():(window.clearTimeout(h.current),h.current=0)},[S,g]),onOpen:T,onClose:S,disableHoverableContent:g,children:n})})};w2.displayName=Ul;var W0="TooltipTrigger",E2=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Af(W0,n),i=Sv(W0,n),o=kf(n),a=x.useRef(null),u=ht(t,a,s.onTriggerChange),l=x.useRef(!1),c=x.useRef(!1),d=x.useCallback(()=>l.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),p.jsx(Sf,{asChild:!0,...o,children:p.jsx(Re.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:Te(e.onPointerMove,f=>{f.pointerType!=="touch"&&!c.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),c.current=!0)}),onPointerLeave:Te(e.onPointerLeave,()=>{s.onTriggerLeave(),c.current=!1}),onPointerDown:Te(e.onPointerDown,()=>{s.open&&s.onClose(),l.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Te(e.onFocus,()=>{l.current||s.onOpen()}),onBlur:Te(e.onBlur,s.onClose),onClick:Te(e.onClick,s.onClose)})})});E2.displayName=W0;var s5="TooltipPortal",[Dte,i5]=Cf(s5,{forceMount:void 0}),za="TooltipContent",T2=x.forwardRef((e,t)=>{const n=i5(za,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,o=Af(za,e.__scopeTooltip);return p.jsx(fr,{present:r||o.open,children:o.disableHoverableContent?p.jsx(_2,{side:s,...i,ref:t}):p.jsx(o5,{side:s,...i,ref:t})})}),o5=x.forwardRef((e,t)=>{const n=Af(za,e.__scopeTooltip),r=Sv(za,e.__scopeTooltip),s=x.useRef(null),i=ht(t,s),[o,a]=x.useState(null),{trigger:u,onClose:l}=n,c=s.current,{onPointerInTransitChange:d}=r,f=x.useCallback(()=>{a(null),d(!1)},[d]),h=x.useCallback((g,y)=>{const w=g.currentTarget,v={x:g.clientX,y:g.clientY},b=d5(v,w.getBoundingClientRect()),E=h5(v,b),T=f5(y.getBoundingClientRect()),S=m5([...E,...T]);a(S),d(!0)},[d]);return x.useEffect(()=>()=>f(),[f]),x.useEffect(()=>{if(u&&c){const g=w=>h(w,c),y=w=>h(w,u);return u.addEventListener("pointerleave",g),c.addEventListener("pointerleave",y),()=>{u.removeEventListener("pointerleave",g),c.removeEventListener("pointerleave",y)}}},[u,c,h,f]),x.useEffect(()=>{if(o){const g=y=>{const w=y.target,v={x:y.clientX,y:y.clientY},b=(u==null?void 0:u.contains(w))||(c==null?void 0:c.contains(w)),E=!p5(v,o);b?f():E&&(f(),l())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[u,c,o,l,f]),p.jsx(_2,{...e,ref:i})}),[a5,u5]=Cf(Ul,{isInside:!1}),l5=aL("TooltipContent"),_2=x.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=e,u=Af(za,n),l=kf(n),{onClose:c}=u;return x.useEffect(()=>(document.addEventListener(V0,c),()=>document.removeEventListener(V0,c)),[c]),x.useEffect(()=>{if(u.trigger){const d=f=>{const h=f.target;h!=null&&h.contains(u.trigger)&&c()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[u.trigger,c]),p.jsx(eu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:c,children:p.jsxs(Tv,{"data-state":u.stateAttribute,...l,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(l5,{children:r}),p.jsx(a5,{scope:n,isInside:!0,children:p.jsx(PL,{id:u.contentId,role:"tooltip",children:s||r})})]})})});T2.displayName=za;var S2="TooltipArrow",c5=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=kf(n);return u5(S2,n).isInside?null:p.jsx(_v,{...s,...r,ref:t})});c5.displayName=S2;function d5(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function h5(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function f5(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function p5(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i],u=t[o],l=a.x,c=a.y,d=u.x,f=u.y;c>r!=f>r&&n<(d-l)*(r-c)/(f-c)+l&&(s=!s)}return s}function m5(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),g5(t)}function g5(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var y5=x2,v5=w2,b5=E2,C2=T2;const x5=y5,k2=v5,A2=b5,Cv=x.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(C2,{ref:r,sideOffset:t,className:ut("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Cv.displayName=C2.displayName;var iu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},go=typeof window>"u"||"Deno"in globalThis;function qt(){}function w5(e,t){return typeof e=="function"?e(t):e}function q0(e){return typeof e=="number"&&e>=0&&e!==1/0}function N2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function si(e,t){return typeof e=="function"?e(t):e}function Nn(e,t){return typeof e=="function"?e(t):e}function $x(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==kv(o,t.options))return!1}else if(!Hl(t.queryKey,o))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function zx(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(yo(t.options.mutationKey)!==yo(i))return!1}else if(!Hl(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function kv(e,t){return((t==null?void 0:t.queryKeyHashFn)||yo)(e)}function yo(e){return JSON.stringify(e,(t,n)=>K0(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Hl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Hl(e[n],t[n])):!1}function R2(e,t){if(e===t)return e;const n=Vx(e)&&Vx(t);if(n||K0(e)&&K0(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),o=i.length,a=n?[]:{},u=new Set(r);let l=0;for(let c=0;c<o;c++){const d=n?c:i[c];(!n&&u.has(d)||n)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,l++):(a[d]=R2(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&l++)}return s===o&&l===s?e:a}return t}function Rh(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Vx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function K0(e){if(!Wx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Wx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Wx(e){return Object.prototype.toString.call(e)==="[object Object]"}function E5(e){return new Promise(t=>{setTimeout(t,e)})}function Y0(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?R2(e,t):t}function T5(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function _5(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Av=Symbol();function P2(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Av?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function I2(e,t){return typeof e=="function"?e(...t):!!e}var Yi,Ls,Ta,H_,S5=(H_=class extends iu{constructor(){super();fe(this,Yi);fe(this,Ls);fe(this,Ta);oe(this,Ta,t=>{if(!go&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){D(this,Ls)||this.setEventListener(D(this,Ta))}onUnsubscribe(){var t;this.hasListeners()||((t=D(this,Ls))==null||t.call(this),oe(this,Ls,void 0))}setEventListener(t){var n;oe(this,Ta,t),(n=D(this,Ls))==null||n.call(this),oe(this,Ls,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){D(this,Yi)!==t&&(oe(this,Yi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof D(this,Yi)=="boolean"?D(this,Yi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Yi=new WeakMap,Ls=new WeakMap,Ta=new WeakMap,H_),Nv=new S5,_a,Ms,Sa,$_,C5=($_=class extends iu{constructor(){super();fe(this,_a,!0);fe(this,Ms);fe(this,Sa);oe(this,Sa,t=>{if(!go&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){D(this,Ms)||this.setEventListener(D(this,Sa))}onUnsubscribe(){var t;this.hasListeners()||((t=D(this,Ms))==null||t.call(this),oe(this,Ms,void 0))}setEventListener(t){var n;oe(this,Sa,t),(n=D(this,Ms))==null||n.call(this),oe(this,Ms,t(this.setOnline.bind(this)))}setOnline(t){D(this,_a)!==t&&(oe(this,_a,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return D(this,_a)}},_a=new WeakMap,Ms=new WeakMap,Sa=new WeakMap,$_),Ph=new C5;function G0(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function k5(e){return Math.min(1e3*2**e,3e4)}function O2(e){return(e??"online")==="online"?Ph.isOnline():!0}var D2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function $p(e){return e instanceof D2}function L2(e){let t=!1,n=0,r=!1,s;const i=G0(),o=y=>{var w;r||(f(new D2(y)),(w=e.abort)==null||w.call(e))},a=()=>{t=!0},u=()=>{t=!1},l=()=>Nv.isFocused()&&(e.networkMode==="always"||Ph.isOnline())&&e.canRun(),c=()=>O2(e.networkMode)&&e.canRun(),d=y=>{var w;r||(r=!0,(w=e.onSuccess)==null||w.call(e,y),s==null||s(),i.resolve(y))},f=y=>{var w;r||(r=!0,(w=e.onError)==null||w.call(e,y),s==null||s(),i.reject(y))},h=()=>new Promise(y=>{var w;s=v=>{(r||l())&&y(v)},(w=e.onPause)==null||w.call(e)}).then(()=>{var y;s=void 0,r||(y=e.onContinue)==null||y.call(e)}),g=()=>{if(r)return;let y;const w=n===0?e.initialPromise:void 0;try{y=w??e.fn()}catch(v){y=Promise.reject(v)}Promise.resolve(y).then(d).catch(v=>{var _;if(r)return;const b=e.retry??(go?0:3),E=e.retryDelay??k5,T=typeof E=="function"?E(n,v):E,S=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,v);if(t||!S){f(v);return}n++,(_=e.onFail)==null||_.call(e,n,v),E5(T).then(()=>l()?void 0:h()).then(()=>{t?f(v):g()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:u,canStart:c,start:()=>(c()?g():h().then(g),i)}}var A5=e=>setTimeout(e,0);function N5(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=A5;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;t++;try{u=a()}finally{t--,t||o()}return u},batchCalls:a=>(...u)=>{i(()=>{a(...u)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var wt=N5(),Gi,z_,M2=(z_=class{constructor(){fe(this,Gi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),q0(this.gcTime)&&oe(this,Gi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(go?1/0:5*60*1e3))}clearGcTimeout(){D(this,Gi)&&(clearTimeout(D(this,Gi)),oe(this,Gi,void 0))}},Gi=new WeakMap,z_),Ca,Qi,An,Xi,Lt,ac,Ji,tr,zr,V_,R5=(V_=class extends M2{constructor(t){super();fe(this,tr);fe(this,Ca);fe(this,Qi);fe(this,An);fe(this,Xi);fe(this,Lt);fe(this,ac);fe(this,Ji);oe(this,Ji,!1),oe(this,ac,t.defaultOptions),this.setOptions(t.options),this.observers=[],oe(this,Xi,t.client),oe(this,An,D(this,Xi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,oe(this,Ca,P5(this.options)),this.state=t.state??D(this,Ca),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=D(this,Lt))==null?void 0:t.promise}setOptions(t){this.options={...D(this,ac),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&D(this,An).remove(this)}setData(t,n){const r=Y0(this.state.data,t,this.options);return _e(this,tr,zr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){_e(this,tr,zr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=D(this,Lt))==null?void 0:r.promise;return(s=D(this,Lt))==null||s.cancel(t),n?n.then(qt).catch(qt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(D(this,Ca))}isActive(){return this.observers.some(t=>Nn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Av||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>si(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!N2(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=D(this,Lt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=D(this,Lt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),D(this,An).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(D(this,Lt)&&(D(this,Ji)?D(this,Lt).cancel({revert:!0}):D(this,Lt).cancelRetry()),this.scheduleGc()),D(this,An).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_e(this,tr,zr).call(this,{type:"invalidate"})}fetch(t,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(D(this,Lt))return D(this,Lt).continueRetry(),D(this,Lt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(oe(this,Ji,!0),r.signal)})},i=()=>{const f=P2(this.options,n),g=(()=>{const y={client:D(this,Xi),queryKey:this.queryKey,meta:this.meta};return s(y),y})();return oe(this,Ji,!1),this.options.persister?this.options.persister(f,g,this):f(g)},a=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:D(this,Xi),state:this.state,fetchFn:i};return s(f),f})();(l=this.options.behavior)==null||l.onFetch(a,this),oe(this,Qi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&_e(this,tr,zr).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const u=f=>{var h,g,y,w;$p(f)&&f.silent||_e(this,tr,zr).call(this,{type:"error",error:f}),$p(f)||((g=(h=D(this,An).config).onError)==null||g.call(h,f,this),(w=(y=D(this,An).config).onSettled)==null||w.call(y,this.state.data,f,this)),this.scheduleGc()};return oe(this,Lt,L2({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,g,y,w;if(f===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){u(v);return}(g=(h=D(this,An).config).onSuccess)==null||g.call(h,f,this),(w=(y=D(this,An).config).onSettled)==null||w.call(y,f,this.state.error,this),this.scheduleGc()},onError:u,onFail:(f,h)=>{_e(this,tr,zr).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{_e(this,tr,zr).call(this,{type:"pause"})},onContinue:()=>{_e(this,tr,zr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),D(this,Lt).start()}},Ca=new WeakMap,Qi=new WeakMap,An=new WeakMap,Xi=new WeakMap,Lt=new WeakMap,ac=new WeakMap,Ji=new WeakMap,tr=new WeakSet,zr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...j2(r.data,this.options),fetchMeta:t.meta??null};case"success":return oe(this,Qi,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return $p(s)&&s.revert&&D(this,Qi)?{...D(this,Qi),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),wt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),D(this,An).notify({query:this,type:"updated",action:t})})},V_);function j2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:O2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function P5(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var wr,W_,I5=(W_=class extends iu{constructor(t={}){super();fe(this,wr);this.config=t,oe(this,wr,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??kv(s,n);let o=this.get(i);return o||(o=new R5({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){D(this,wr).has(t.queryHash)||(D(this,wr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=D(this,wr).get(t.queryHash);n&&(t.destroy(),n===t&&D(this,wr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){wt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return D(this,wr).get(t)}getAll(){return[...D(this,wr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>$x(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>$x(t,r)):n}notify(t){wt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){wt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){wt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},wr=new WeakMap,W_),Er,zt,Zi,Tr,Ts,q_,O5=(q_=class extends M2{constructor(t){super();fe(this,Tr);fe(this,Er);fe(this,zt);fe(this,Zi);this.mutationId=t.mutationId,oe(this,zt,t.mutationCache),oe(this,Er,[]),this.state=t.state||F2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){D(this,Er).includes(t)||(D(this,Er).push(t),this.clearGcTimeout(),D(this,zt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){oe(this,Er,D(this,Er).filter(n=>n!==t)),this.scheduleGc(),D(this,zt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){D(this,Er).length||(this.state.status==="pending"?this.scheduleGc():D(this,zt).remove(this))}continue(){var t;return((t=D(this,Zi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,a,u,l,c,d,f,h,g,y,w,v,b,E,T,S,_,k,I;const n=()=>{_e(this,Tr,Ts).call(this,{type:"continue"})};oe(this,Zi,L2({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(M,P)=>{_e(this,Tr,Ts).call(this,{type:"failed",failureCount:M,error:P})},onPause:()=>{_e(this,Tr,Ts).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>D(this,zt).canRun(this)}));const r=this.state.status==="pending",s=!D(this,Zi).canStart();try{if(r)n();else{_e(this,Tr,Ts).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(i=D(this,zt).config).onMutate)==null?void 0:o.call(i,t,this));const P=await((u=(a=this.options).onMutate)==null?void 0:u.call(a,t));P!==this.state.context&&_e(this,Tr,Ts).call(this,{type:"pending",context:P,variables:t,isPaused:s})}const M=await D(this,Zi).start();return await((c=(l=D(this,zt).config).onSuccess)==null?void 0:c.call(l,M,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,M,t,this.state.context)),await((g=(h=D(this,zt).config).onSettled)==null?void 0:g.call(h,M,null,this.state.variables,this.state.context,this)),await((w=(y=this.options).onSettled)==null?void 0:w.call(y,M,null,t,this.state.context)),_e(this,Tr,Ts).call(this,{type:"success",data:M}),M}catch(M){try{throw await((b=(v=D(this,zt).config).onError)==null?void 0:b.call(v,M,t,this.state.context,this)),await((T=(E=this.options).onError)==null?void 0:T.call(E,M,t,this.state.context)),await((_=(S=D(this,zt).config).onSettled)==null?void 0:_.call(S,void 0,M,this.state.variables,this.state.context,this)),await((I=(k=this.options).onSettled)==null?void 0:I.call(k,void 0,M,t,this.state.context)),M}finally{_e(this,Tr,Ts).call(this,{type:"error",error:M})}}finally{D(this,zt).runNext(this)}}},Er=new WeakMap,zt=new WeakMap,Zi=new WeakMap,Tr=new WeakSet,Ts=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),wt.batch(()=>{D(this,Er).forEach(r=>{r.onMutationUpdate(t)}),D(this,zt).notify({mutation:this,type:"updated",action:t})})},q_);function F2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Kr,nr,uc,K_,D5=(K_=class extends iu{constructor(t={}){super();fe(this,Kr);fe(this,nr);fe(this,uc);this.config=t,oe(this,Kr,new Set),oe(this,nr,new Map),oe(this,uc,0)}build(t,n,r){const s=new O5({mutationCache:this,mutationId:++Dc(this,uc)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){D(this,Kr).add(t);const n=nd(t);if(typeof n=="string"){const r=D(this,nr).get(n);r?r.push(t):D(this,nr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(D(this,Kr).delete(t)){const n=nd(t);if(typeof n=="string"){const r=D(this,nr).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&D(this,nr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=nd(t);if(typeof n=="string"){const r=D(this,nr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=nd(t);if(typeof n=="string"){const s=(r=D(this,nr).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){wt.batch(()=>{D(this,Kr).forEach(t=>{this.notify({type:"removed",mutation:t})}),D(this,Kr).clear(),D(this,nr).clear()})}getAll(){return Array.from(D(this,Kr))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>zx(n,r))}findAll(t={}){return this.getAll().filter(n=>zx(t,n))}notify(t){wt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return wt.batch(()=>Promise.all(t.map(n=>n.continue().catch(qt))))}},Kr=new WeakMap,nr=new WeakMap,uc=new WeakMap,K_);function nd(e){var t;return(t=e.options.scope)==null?void 0:t.id}function qx(e){return{onFetch:(t,n)=>{var c,d,f,h,g;const r=t.options,s=(f=(d=(c=t.fetchOptions)==null?void 0:c.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,i=((h=t.state.data)==null?void 0:h.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},u=0;const l=async()=>{let y=!1;const w=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},v=P2(t.options,t.fetchOptions),b=async(E,T,S)=>{if(y)return Promise.reject();if(T==null&&E.pages.length)return Promise.resolve(E);const k=(()=>{const H={client:t.client,queryKey:t.queryKey,pageParam:T,direction:S?"backward":"forward",meta:t.options.meta};return w(H),H})(),I=await v(k),{maxPages:M}=t.options,P=S?_5:T5;return{pages:P(E.pages,I,M),pageParams:P(E.pageParams,T,M)}};if(s&&i.length){const E=s==="backward",T=E?L5:Kx,S={pages:i,pageParams:o},_=T(r,S);a=await b(S,_,E)}else{const E=e??i.length;do{const T=u===0?o[0]??r.initialPageParam:Kx(r,a);if(u>0&&T==null)break;a=await b(a,T),u++}while(u<E)}return a};t.options.persister?t.fetchFn=()=>{var y,w;return(w=(y=t.options).persister)==null?void 0:w.call(y,l,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=l}}}function Kx(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function L5(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var it,js,Fs,ka,Aa,Bs,Na,Ra,Y_,M5=(Y_=class{constructor(e={}){fe(this,it);fe(this,js);fe(this,Fs);fe(this,ka);fe(this,Aa);fe(this,Bs);fe(this,Na);fe(this,Ra);oe(this,it,e.queryCache||new I5),oe(this,js,e.mutationCache||new D5),oe(this,Fs,e.defaultOptions||{}),oe(this,ka,new Map),oe(this,Aa,new Map),oe(this,Bs,0)}mount(){Dc(this,Bs)._++,D(this,Bs)===1&&(oe(this,Na,Nv.subscribe(async e=>{e&&(await this.resumePausedMutations(),D(this,it).onFocus())})),oe(this,Ra,Ph.subscribe(async e=>{e&&(await this.resumePausedMutations(),D(this,it).onOnline())})))}unmount(){var e,t;Dc(this,Bs)._--,D(this,Bs)===0&&((e=D(this,Na))==null||e.call(this),oe(this,Na,void 0),(t=D(this,Ra))==null||t.call(this),oe(this,Ra,void 0))}isFetching(e){return D(this,it).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return D(this,js).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=D(this,it).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=D(this,it).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(si(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return D(this,it).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=D(this,it).get(r.queryHash),i=s==null?void 0:s.state.data,o=w5(t,i);if(o!==void 0)return D(this,it).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return wt.batch(()=>D(this,it).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=D(this,it).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=D(this,it);wt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=D(this,it);return wt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=wt.batch(()=>D(this,it).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(qt).catch(qt)}invalidateQueries(e,t={}){return wt.batch(()=>(D(this,it).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=wt.batch(()=>D(this,it).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(qt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(qt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=D(this,it).build(this,t);return n.isStaleByTime(si(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(qt).catch(qt)}fetchInfiniteQuery(e){return e.behavior=qx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(qt).catch(qt)}ensureInfiniteQueryData(e){return e.behavior=qx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ph.isOnline()?D(this,js).resumePausedMutations():Promise.resolve()}getQueryCache(){return D(this,it)}getMutationCache(){return D(this,js)}getDefaultOptions(){return D(this,Fs)}setDefaultOptions(e){oe(this,Fs,e)}setQueryDefaults(e,t){D(this,ka).set(yo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...D(this,ka).values()],n={};return t.forEach(r=>{Hl(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){D(this,Aa).set(yo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...D(this,Aa).values()],n={};return t.forEach(r=>{Hl(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...D(this,Fs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=kv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Av&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...D(this,Fs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){D(this,it).clear(),D(this,js).clear()}},it=new WeakMap,js=new WeakMap,Fs=new WeakMap,ka=new WeakMap,Aa=new WeakMap,Bs=new WeakMap,Na=new WeakMap,Ra=new WeakMap,Y_),tn,Oe,lc,Vt,eo,Pa,Us,Hs,cc,Ia,Oa,to,no,$s,Da,je,Vu,Q0,X0,J0,Z0,eg,tg,ng,B2,G_,j5=(G_=class extends iu{constructor(t,n){super();fe(this,je);fe(this,tn);fe(this,Oe);fe(this,lc);fe(this,Vt);fe(this,eo);fe(this,Pa);fe(this,Us);fe(this,Hs);fe(this,cc);fe(this,Ia);fe(this,Oa);fe(this,to);fe(this,no);fe(this,$s);fe(this,Da,new Set);this.options=n,oe(this,tn,t),oe(this,Hs,null),oe(this,Us,G0()),this.options.experimental_prefetchInRender||D(this,Us).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(D(this,Oe).addObserver(this),Yx(D(this,Oe),this.options)?_e(this,je,Vu).call(this):this.updateResult(),_e(this,je,Z0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return rg(D(this,Oe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return rg(D(this,Oe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,_e(this,je,eg).call(this),_e(this,je,tg).call(this),D(this,Oe).removeObserver(this)}setOptions(t){const n=this.options,r=D(this,Oe);if(this.options=D(this,tn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Nn(this.options.enabled,D(this,Oe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");_e(this,je,ng).call(this),D(this,Oe).setOptions(this.options),n._defaulted&&!Rh(this.options,n)&&D(this,tn).getQueryCache().notify({type:"observerOptionsUpdated",query:D(this,Oe),observer:this});const s=this.hasListeners();s&&Gx(D(this,Oe),r,this.options,n)&&_e(this,je,Vu).call(this),this.updateResult(),s&&(D(this,Oe)!==r||Nn(this.options.enabled,D(this,Oe))!==Nn(n.enabled,D(this,Oe))||si(this.options.staleTime,D(this,Oe))!==si(n.staleTime,D(this,Oe)))&&_e(this,je,Q0).call(this);const i=_e(this,je,X0).call(this);s&&(D(this,Oe)!==r||Nn(this.options.enabled,D(this,Oe))!==Nn(n.enabled,D(this,Oe))||i!==D(this,$s))&&_e(this,je,J0).call(this,i)}getOptimisticResult(t){const n=D(this,tn).getQueryCache().build(D(this,tn),t),r=this.createResult(n,t);return B5(this,r)&&(oe(this,Vt,r),oe(this,Pa,this.options),oe(this,eo,D(this,Oe).state)),r}getCurrentResult(){return D(this,Vt)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(t){D(this,Da).add(t)}getCurrentQuery(){return D(this,Oe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=D(this,tn).defaultQueryOptions(t),r=D(this,tn).getQueryCache().build(D(this,tn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return _e(this,je,Vu).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),D(this,Vt)))}createResult(t,n){var M;const r=D(this,Oe),s=this.options,i=D(this,Vt),o=D(this,eo),a=D(this,Pa),l=t!==r?t.state:D(this,lc),{state:c}=t;let d={...c},f=!1,h;if(n._optimisticResults){const P=this.hasListeners(),H=!P&&Yx(t,n),U=P&&Gx(t,r,n,s);(H||U)&&(d={...d,...j2(c.data,t.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:g,errorUpdatedAt:y,status:w}=d;h=d.data;let v=!1;if(n.placeholderData!==void 0&&h===void 0&&w==="pending"){let P;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(P=i.data,v=!0):P=typeof n.placeholderData=="function"?n.placeholderData((M=D(this,Oa))==null?void 0:M.state.data,D(this,Oa)):n.placeholderData,P!==void 0&&(w="success",h=Y0(i==null?void 0:i.data,P,n),f=!0)}if(n.select&&h!==void 0&&!v)if(i&&h===(o==null?void 0:o.data)&&n.select===D(this,cc))h=D(this,Ia);else try{oe(this,cc,n.select),h=n.select(h),h=Y0(i==null?void 0:i.data,h,n),oe(this,Ia,h),oe(this,Hs,null)}catch(P){oe(this,Hs,P)}D(this,Hs)&&(g=D(this,Hs),h=D(this,Ia),y=Date.now(),w="error");const b=d.fetchStatus==="fetching",E=w==="pending",T=w==="error",S=E&&b,_=h!==void 0,I={status:w,fetchStatus:d.fetchStatus,isPending:E,isSuccess:w==="success",isError:T,isInitialLoading:S,isLoading:S,data:h,dataUpdatedAt:d.dataUpdatedAt,error:g,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:b,isRefetching:b&&!E,isLoadingError:T&&!_,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:T&&_,isStale:Rv(t,n),refetch:this.refetch,promise:D(this,Us),isEnabled:Nn(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const P=G=>{I.status==="error"?G.reject(I.error):I.data!==void 0&&G.resolve(I.data)},H=()=>{const G=oe(this,Us,I.promise=G0());P(G)},U=D(this,Us);switch(U.status){case"pending":t.queryHash===r.queryHash&&P(U);break;case"fulfilled":(I.status==="error"||I.data!==U.value)&&H();break;case"rejected":(I.status!=="error"||I.error!==U.reason)&&H();break}}return I}updateResult(){const t=D(this,Vt),n=this.createResult(D(this,Oe),this.options);if(oe(this,eo,D(this,Oe).state),oe(this,Pa,this.options),D(this,eo).data!==void 0&&oe(this,Oa,D(this,Oe)),Rh(n,t))return;oe(this,Vt,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!D(this,Da).size)return!0;const o=new Set(i??D(this,Da));return this.options.throwOnError&&o.add("error"),Object.keys(D(this,Vt)).some(a=>{const u=a;return D(this,Vt)[u]!==t[u]&&o.has(u)})};_e(this,je,B2).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&_e(this,je,Z0).call(this)}},tn=new WeakMap,Oe=new WeakMap,lc=new WeakMap,Vt=new WeakMap,eo=new WeakMap,Pa=new WeakMap,Us=new WeakMap,Hs=new WeakMap,cc=new WeakMap,Ia=new WeakMap,Oa=new WeakMap,to=new WeakMap,no=new WeakMap,$s=new WeakMap,Da=new WeakMap,je=new WeakSet,Vu=function(t){_e(this,je,ng).call(this);let n=D(this,Oe).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(qt)),n},Q0=function(){_e(this,je,eg).call(this);const t=si(this.options.staleTime,D(this,Oe));if(go||D(this,Vt).isStale||!q0(t))return;const r=N2(D(this,Vt).dataUpdatedAt,t)+1;oe(this,to,setTimeout(()=>{D(this,Vt).isStale||this.updateResult()},r))},X0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(D(this,Oe)):this.options.refetchInterval)??!1},J0=function(t){_e(this,je,tg).call(this),oe(this,$s,t),!(go||Nn(this.options.enabled,D(this,Oe))===!1||!q0(D(this,$s))||D(this,$s)===0)&&oe(this,no,setInterval(()=>{(this.options.refetchIntervalInBackground||Nv.isFocused())&&_e(this,je,Vu).call(this)},D(this,$s)))},Z0=function(){_e(this,je,Q0).call(this),_e(this,je,J0).call(this,_e(this,je,X0).call(this))},eg=function(){D(this,to)&&(clearTimeout(D(this,to)),oe(this,to,void 0))},tg=function(){D(this,no)&&(clearInterval(D(this,no)),oe(this,no,void 0))},ng=function(){const t=D(this,tn).getQueryCache().build(D(this,tn),this.options);if(t===D(this,Oe))return;const n=D(this,Oe);oe(this,Oe,t),oe(this,lc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},B2=function(t){wt.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(D(this,Vt))}),D(this,tn).getQueryCache().notify({query:D(this,Oe),type:"observerResultsUpdated"})})},G_);function F5(e,t){return Nn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Yx(e,t){return F5(e,t)||e.state.data!==void 0&&rg(e,t,t.refetchOnMount)}function rg(e,t,n){if(Nn(t.enabled,e)!==!1&&si(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Rv(e,t)}return!1}function Gx(e,t,n,r){return(e!==t||Nn(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Rv(e,n)}function Rv(e,t){return Nn(t.enabled,e)!==!1&&e.isStaleByTime(si(t.staleTime,e))}function B5(e,t){return!Rh(e.getCurrentResult(),t)}var zs,Vs,nn,Yr,Zr,Hd,sg,Q_,U5=(Q_=class extends iu{constructor(n,r){super();fe(this,Zr);fe(this,zs);fe(this,Vs);fe(this,nn);fe(this,Yr);oe(this,zs,n),this.setOptions(r),this.bindMethods(),_e(this,Zr,Hd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=D(this,zs).defaultMutationOptions(n),Rh(this.options,r)||D(this,zs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:D(this,nn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&yo(r.mutationKey)!==yo(this.options.mutationKey)?this.reset():((s=D(this,nn))==null?void 0:s.state.status)==="pending"&&D(this,nn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=D(this,nn))==null||n.removeObserver(this)}onMutationUpdate(n){_e(this,Zr,Hd).call(this),_e(this,Zr,sg).call(this,n)}getCurrentResult(){return D(this,Vs)}reset(){var n;(n=D(this,nn))==null||n.removeObserver(this),oe(this,nn,void 0),_e(this,Zr,Hd).call(this),_e(this,Zr,sg).call(this)}mutate(n,r){var s;return oe(this,Yr,r),(s=D(this,nn))==null||s.removeObserver(this),oe(this,nn,D(this,zs).getMutationCache().build(D(this,zs),this.options)),D(this,nn).addObserver(this),D(this,nn).execute(n)}},zs=new WeakMap,Vs=new WeakMap,nn=new WeakMap,Yr=new WeakMap,Zr=new WeakSet,Hd=function(){var r;const n=((r=D(this,nn))==null?void 0:r.state)??F2();oe(this,Vs,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},sg=function(n){wt.batch(()=>{var r,s,i,o,a,u,l,c;if(D(this,Yr)&&this.hasListeners()){const d=D(this,Vs).variables,f=D(this,Vs).context;(n==null?void 0:n.type)==="success"?((s=(r=D(this,Yr)).onSuccess)==null||s.call(r,n.data,d,f),(o=(i=D(this,Yr)).onSettled)==null||o.call(i,n.data,null,d,f)):(n==null?void 0:n.type)==="error"&&((u=(a=D(this,Yr)).onError)==null||u.call(a,n.error,d,f),(c=(l=D(this,Yr)).onSettled)==null||c.call(l,void 0,n.error,d,f))}this.listeners.forEach(d=>{d(D(this,Vs))})})},Q_),U2=x.createContext(void 0),Ut=e=>{const t=x.useContext(U2);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},H5=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),p.jsx(U2.Provider,{value:e,children:t})),H2=x.createContext(!1),$5=()=>x.useContext(H2);H2.Provider;function z5(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var V5=x.createContext(z5()),W5=()=>x.useContext(V5),q5=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},K5=e=>{x.useEffect(()=>{e.clearReset()},[e])},Y5=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||I2(n,[e.error,r])),G5=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Q5=(e,t)=>e.isLoading&&e.isFetching&&!t,X5=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Qx=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function J5(e,t,n){var d,f,h,g,y;const r=$5(),s=W5(),i=Ut(),o=i.defaultQueryOptions(e);(f=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=r?"isRestoring":"optimistic",G5(o),q5(o,s),K5(s);const a=!i.getQueryCache().get(o.queryHash),[u]=x.useState(()=>new t(i,o)),l=u.getOptimisticResult(o),c=!r&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(w=>{const v=c?u.subscribe(wt.batchCalls(w)):qt;return u.updateResult(),v},[u,c]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),x.useEffect(()=>{u.setOptions(o)},[o,u]),X5(o,l))throw Qx(o,u,s);if(Y5({result:l,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw l.error;if((g=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||g.call(h,o,l),o.experimental_prefetchInRender&&!go&&Q5(l,r)){const w=a?Qx(o,u,s):(y=i.getQueryCache().get(o.queryHash))==null?void 0:y.promise;w==null||w.catch(qt).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?l:u.trackResult(l)}function vi(e,t){return J5(e,j5)}function Cn(e,t){const n=Ut(),[r]=x.useState(()=>new U5(n,e));x.useEffect(()=>{r.setOptions(e)},[r,e]);const s=x.useSyncExternalStore(x.useCallback(o=>r.subscribe(wt.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=x.useCallback((o,a)=>{r.mutate(o,a).catch(qt)},[r]);if(s.error&&I2(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$l.apply(this,arguments)}var Ks;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ks||(Ks={}));const Xx="popstate";function Z5(e){e===void 0&&(e={});function t(s,i){let{pathname:o="/",search:a="",hash:u=""}=_o(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),ig("",{pathname:o,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let u=s.location.href,l=u.indexOf("#");a=l===-1?u:u.slice(0,l)}return a+"#"+(typeof i=="string"?i:Ih(i))}function r(s,i){Pv(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return tj(t,n,r,e)}function dt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Pv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ej(){return Math.random().toString(36).substr(2,8)}function Jx(e,t){return{usr:e.state,key:e.key,idx:t}}function ig(e,t,n,r){return n===void 0&&(n=null),$l({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?_o(t):t,{state:n,key:t&&t.key||r||ej()})}function Ih(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function _o(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function tj(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ks.Pop,u=null,l=c();l==null&&(l=0,o.replaceState($l({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Ks.Pop;let w=c(),v=w==null?null:w-l;l=w,u&&u({action:a,location:y.location,delta:v})}function f(w,v){a=Ks.Push;let b=ig(y.location,w,v);n&&n(b,w),l=c()+1;let E=Jx(b,l),T=y.createHref(b);try{o.pushState(E,"",T)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(T)}i&&u&&u({action:a,location:y.location,delta:1})}function h(w,v){a=Ks.Replace;let b=ig(y.location,w,v);n&&n(b,w),l=c();let E=Jx(b,l),T=y.createHref(b);o.replaceState(E,"",T),i&&u&&u({action:a,location:y.location,delta:0})}function g(w){let v=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof w=="string"?w:Ih(w);return b=b.replace(/ $/,"%20"),dt(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let y={get action(){return a},get location(){return e(s,o)},listen(w){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Xx,d),u=w,()=>{s.removeEventListener(Xx,d),u=null}},createHref(w){return t(s,w)},createURL:g,encodeLocation(w){let v=g(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:h,go(w){return o.go(w)}};return y}var Zx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Zx||(Zx={}));function nj(e,t,n){return n===void 0&&(n="/"),rj(e,t,n,!1)}function rj(e,t,n,r){let s=typeof t=="string"?_o(t):t,i=Iv(s.pathname||"/",n);if(i==null)return null;let o=$2(e);sj(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let l=mj(i);a=fj(o[u],l,r)}return a}function $2(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let u={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(dt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=ii([r,u.relativePath]),c=n.concat(u);i.children&&i.children.length>0&&(dt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),$2(i.children,t,c,l)),!(i.path==null&&!i.index)&&t.push({path:l,score:dj(l,i.index),routesMeta:c})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let u of z2(i.path))s(i,o,u)}),t}function z2(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=z2(r.join("/")),a=[];return a.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function sj(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:hj(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ij=/^:[\w-]+$/,oj=3,aj=2,uj=1,lj=10,cj=-2,ew=e=>e==="*";function dj(e,t){let n=e.split("/"),r=n.length;return n.some(ew)&&(r+=cj),t&&(r+=aj),n.filter(s=>!ew(s)).reduce((s,i)=>s+(ij.test(i)?oj:i===""?uj:lj),r)}function hj(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function fj(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],l=a===r.length-1,c=i==="/"?t:t.slice(i.length)||"/",d=tw({path:u.relativePath,caseSensitive:u.caseSensitive,end:l},c),f=u.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=tw({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:ii([i,d.pathname]),pathnameBase:bj(ii([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=ii([i,d.pathnameBase]))}return o}function tw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=pj(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((l,c,d)=>{let{paramName:f,isOptional:h}=c;if(f==="*"){let y=a[d]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[d];return h&&!g?l[f]=void 0:l[f]=(g||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:o,pattern:e}}function pj(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Pv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function mj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Iv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function gj(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?_o(e):e;return{pathname:n?n.startsWith("/")?n:yj(n,t):t,search:xj(r),hash:wj(s)}}function yj(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function zp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vj(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ov(e,t){let n=vj(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Dv(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=_o(e):(s=$l({},e),dt(!s.pathname||!s.pathname.includes("?"),zp("?","pathname","search",s)),dt(!s.pathname||!s.pathname.includes("#"),zp("#","pathname","hash",s)),dt(!s.search||!s.search.includes("#"),zp("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?t[d]:"/"}let u=gj(s,a),l=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const ii=e=>e.join("/").replace(/\/\/+/g,"/"),bj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ej(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const V2=["post","put","patch","delete"];new Set(V2);const Tj=["get",...V2];new Set(Tj);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zl.apply(this,arguments)}const Lv=x.createContext(null),_j=x.createContext(null),bi=x.createContext(null),Nf=x.createContext(null),xi=x.createContext({outlet:null,matches:[],isDataRoute:!1}),W2=x.createContext(null);function Sj(e,t){let{relative:n}=t===void 0?{}:t;ou()||dt(!1);let{basename:r,navigator:s}=x.useContext(bi),{hash:i,pathname:o,search:a}=K2(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:ii([r,o])),s.createHref({pathname:u,search:a,hash:i})}function ou(){return x.useContext(Nf)!=null}function So(){return ou()||dt(!1),x.useContext(Nf).location}function q2(e){x.useContext(bi).static||x.useLayoutEffect(e)}function Mv(){let{isDataRoute:e}=x.useContext(xi);return e?Fj():Cj()}function Cj(){ou()||dt(!1);let e=x.useContext(Lv),{basename:t,future:n,navigator:r}=x.useContext(bi),{matches:s}=x.useContext(xi),{pathname:i}=So(),o=JSON.stringify(Ov(s,n.v7_relativeSplatPath)),a=x.useRef(!1);return q2(()=>{a.current=!0}),x.useCallback(function(l,c){if(c===void 0&&(c={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let d=Dv(l,JSON.parse(o),i,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ii([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,o,i,e])}function K2(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=x.useContext(bi),{matches:s}=x.useContext(xi),{pathname:i}=So(),o=JSON.stringify(Ov(s,r.v7_relativeSplatPath));return x.useMemo(()=>Dv(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function kj(e,t){return Aj(e,t)}function Aj(e,t,n,r){ou()||dt(!1);let{navigator:s}=x.useContext(bi),{matches:i}=x.useContext(xi),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let l=So(),c;if(t){var d;let w=typeof t=="string"?_o(t):t;u==="/"||(d=w.pathname)!=null&&d.startsWith(u)||dt(!1),c=w}else c=l;let f=c.pathname||"/",h=f;if(u!=="/"){let w=u.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=nj(e,{pathname:h}),y=Oj(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:ii([u,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:ii([u,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return t&&y?x.createElement(Nf.Provider,{value:{location:zl({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ks.Pop}},y):y}function Nj(){let e=jj(),t=Ej(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:s},n):null,null)}const Rj=x.createElement(Nj,null);class Pj extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(xi.Provider,{value:this.props.routeContext},x.createElement(W2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ij(e){let{routeContext:t,match:n,children:r}=e,s=x.useContext(Lv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(xi.Provider,{value:t},r)}function Oj(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||dt(!1),o=o.slice(0,Math.min(o.length,c+1))}let u=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:f,errors:h}=n,g=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||g){u=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((c,d,f)=>{let h,g=!1,y=null,w=null;n&&(h=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||Rj,u&&(l<0&&f===0?(g=!0,w=null):l===f&&(g=!0,w=d.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,f+1)),b=()=>{let E;return h?E=y:g?E=w:d.route.Component?E=x.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=c,x.createElement(Ij,{match:d,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?x.createElement(Pj,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var Y2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Y2||{}),Oh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Oh||{});function Dj(e){let t=x.useContext(Lv);return t||dt(!1),t}function Lj(e){let t=x.useContext(_j);return t||dt(!1),t}function Mj(e){let t=x.useContext(xi);return t||dt(!1),t}function G2(e){let t=Mj(),n=t.matches[t.matches.length-1];return n.route.id||dt(!1),n.route.id}function jj(){var e;let t=x.useContext(W2),n=Lj(Oh.UseRouteError),r=G2(Oh.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Fj(){let{router:e}=Dj(Y2.UseNavigateStable),t=G2(Oh.UseNavigateStable),n=x.useRef(!1);return q2(()=>{n.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,zl({fromRouteId:t},i)))},[e,t])}function Bj(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Q2(e){let{to:t,replace:n,state:r,relative:s}=e;ou()||dt(!1);let{future:i,static:o}=x.useContext(bi),{matches:a}=x.useContext(xi),{pathname:u}=So(),l=Mv(),c=Dv(t,Ov(a,i.v7_relativeSplatPath),u,s==="path"),d=JSON.stringify(c);return x.useEffect(()=>l(JSON.parse(d),{replace:n,state:r,relative:s}),[l,d,s,n,r]),null}function Wu(e){dt(!1)}function Uj(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Ks.Pop,navigator:i,static:o=!1,future:a}=e;ou()&&dt(!1);let u=t.replace(/^\/*/,"/"),l=x.useMemo(()=>({basename:u,navigator:i,static:o,future:zl({v7_relativeSplatPath:!1},a)}),[u,a,i,o]);typeof r=="string"&&(r=_o(r));let{pathname:c="/",search:d="",hash:f="",state:h=null,key:g="default"}=r,y=x.useMemo(()=>{let w=Iv(c,u);return w==null?null:{location:{pathname:w,search:d,hash:f,state:h,key:g},navigationType:s}},[u,c,d,f,h,g,s]);return y==null?null:x.createElement(bi.Provider,{value:l},x.createElement(Nf.Provider,{children:n,value:y}))}function Hj(e){let{children:t,location:n}=e;return kj(og(t),n)}new Promise(()=>{});function og(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,s)=>{if(!x.isValidElement(r))return;let i=[...t,s];if(r.type===x.Fragment){n.push.apply(n,og(r.props.children,i));return}r.type!==Wu&&dt(!1),!r.props.index||!r.props.children||dt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=og(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ag.apply(this,arguments)}function $j(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function zj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Vj(e,t){return e.button===0&&(!t||t==="_self")&&!zj(e)}const Wj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qj="6";try{window.__reactRouterVersion=qj}catch{}const Kj="startTransition",nw=gy[Kj];function Yj(e){let{basename:t,children:n,future:r,window:s}=e,i=x.useRef();i.current==null&&(i.current=Z5({window:s,v5Compat:!0}));let o=i.current,[a,u]=x.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},c=x.useCallback(d=>{l&&nw?nw(()=>u(d)):u(d)},[u,l]);return x.useLayoutEffect(()=>o.listen(c),[o,c]),x.useEffect(()=>Bj(r),[r]),x.createElement(Uj,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Gj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rw=x.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:u,to:l,preventScrollReset:c,viewTransition:d}=t,f=$j(t,Wj),{basename:h}=x.useContext(bi),g,y=!1;if(typeof l=="string"&&Qj.test(l)&&(g=l,Gj))try{let E=new URL(window.location.href),T=l.startsWith("//")?new URL(E.protocol+l):new URL(l),S=Iv(T.pathname,h);T.origin===E.origin&&S!=null?l=S+T.search+T.hash:y=!0}catch{}let w=Sj(l,{relative:s}),v=Xj(l,{replace:o,state:a,target:u,preventScrollReset:c,relative:s,viewTransition:d});function b(E){r&&r(E),E.defaultPrevented||v(E)}return x.createElement("a",ag({},f,{href:g||w,onClick:y||i?r:b,ref:n,target:u}))});var sw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(sw||(sw={}));var iw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(iw||(iw={}));function Xj(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,u=Mv(),l=So(),c=K2(e,{relative:o});return x.useCallback(d=>{if(Vj(d,n)){d.preventDefault();let f=r!==void 0?r:Ih(l)===Ih(c);u(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[l,u,c,r,s,n,e,i,o,a])}var Cr=function(){return Cr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Cr.apply(this,arguments)};function au(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Jj(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{l(r.next(c))}catch(d){o(d)}}function u(c){try{l(r.throw(c))}catch(d){o(d)}}function l(c){c.done?i(c.value):s(c.value).then(a,u)}l((r=r.apply(e,t||[])).next())})}function Zj(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}const e8=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class jv extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class t8 extends jv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ow extends jv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class aw extends jv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ug;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ug||(ug={}));class n8{constructor(t,{headers:n={},customFetch:r,region:s=ug.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=e8(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Jj(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:a,method:u,body:l,signal:c,timeout:d}=r;let f={},{region:h}=r;h||(h=this.region);const g=new URL(`${this.url}/${n}`);h&&h!=="any"&&(f["x-region"]=h,g.searchParams.set("forceFunctionRegion",h));let y;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=l):typeof l=="string"?(f["Content-Type"]="text/plain",y=l):typeof FormData<"u"&&l instanceof FormData?y=l:(f["Content-Type"]="application/json",y=JSON.stringify(l)):l&&typeof l!="string"&&!(typeof Blob<"u"&&l instanceof Blob)&&!(l instanceof ArrayBuffer)&&!(typeof FormData<"u"&&l instanceof FormData)?y=JSON.stringify(l):y=l;let w=c;d&&(o=new AbortController,i=setTimeout(()=>o.abort(),d),c?(w=o.signal,c.addEventListener("abort",()=>o.abort())):w=o.signal);const v=yield this.fetch(g.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:y,signal:w}).catch(S=>{throw new t8(S)}),b=v.headers.get("x-relay-error");if(b&&b==="true")throw new ow(v);if(!v.ok)throw new aw(v);let E=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),T;return E==="application/json"?T=yield v.json():E==="application/octet-stream"||E==="application/pdf"?T=yield v.blob():E==="text/event-stream"?T=v:E==="multipart/form-data"?T=yield v.formData():T=yield v.text(),{data:T,error:null,response:v}}catch(a){return{data:null,error:a,response:a instanceof aw||a instanceof ow?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var r8=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},s8=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=e.urlLengthLimit)!==null&&r!==void 0?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,u=null,l=i.status,c=i.statusText;if(i.ok){var d,f;if(n.method!=="HEAD"){var h;const v=await i.text();v===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((h=n.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?a=v:a=JSON.parse(v))}const y=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),w=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");y&&w&&w.length>1&&(u=parseInt(w[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,u=null,l=406,c="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var g;const y=await i.text();try{o=JSON.parse(y),Array.isArray(o)&&i.status===404&&(a=[],o=null,l=200,c="OK")}catch{i.status===404&&y===""?(l=204,c="No Content"):o={message:y}}if(o&&n.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,l=200,c="OK"),o&&n.shouldThrowOnError)throw new r8(o)}return{error:o,data:a,count:u,status:l,statusText:c}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="",u="",l="";const c=i==null?void 0:i.cause;if(c){var d,f,h,g;const v=(d=c==null?void 0:c.message)!==null&&d!==void 0?d:"",b=(f=c==null?void 0:c.code)!==null&&f!==void 0?f:"";a=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(g=c==null?void 0:c.name)!==null&&g!==void 0?g:"Error"}: ${v}`,b&&(a+=` (${b})`),c!=null&&c.stack&&(a+=`
${c.stack}`)}else{var y;a=(y=i==null?void 0:i.stack)!==null&&y!==void 0?y:""}const w=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(l="",u="Request was aborted (timeout or manual cancellation)",w>this.urlLengthLimit&&(u+=`. Note: Your request URL is ${w} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((c==null?void 0:c.name)==="HeadersOverflowError"||(c==null?void 0:c.code)==="UND_ERR_HEADERS_OVERFLOW")&&(l="",u="HTTP headers exceeded server limits (typically 16KB)",w>this.urlLengthLimit&&(u+=`. Your request URL is ${w} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:u,code:l},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},i8=class extends s8{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${u}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const uw=new RegExp("[,()]");var Bo=class extends i8{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&uw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&uw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},o8=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join(""),{url:a,headers:u}=this.cloneRequestState();return a.searchParams.set("select",o),r&&u.append("Prefer",`count=${r}`),new Bo({method:s,url:a,headers:u,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((u,l)=>u.concat(Object.keys(l)),[]);if(a.length>0){const u=[...new Set(a)].map(l=>`"${l}"`);i.searchParams.set("columns",u.join(","))}}return new Bo({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const o="POST",{url:a,headers:u}=this.cloneRequestState();if(u.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),r&&u.append("Prefer",`count=${r}`),s||u.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);a.searchParams.set("columns",c.join(","))}}return new Bo({method:o,url:a,headers:u,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Bo({method:r,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Bo({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function a8(e,t){if(Vl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u8(e){var t=a8(e,"string");return Vl(t)=="symbol"?t:t+""}function l8(e,t,n){return(t=u8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function rd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lw(Object(n),!0).forEach(function(r){l8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var c8=class X2{constructor(t,{headers:n={},schema:r,fetch:s,timeout:i,urlLengthLimit:o=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=o;const a=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(u,l)=>{const c=new AbortController,d=setTimeout(()=>c.abort(),i),f=l==null?void 0:l.signal;if(f){if(f.aborted)return clearTimeout(d),a(u,l);const h=()=>{clearTimeout(d),c.abort()};return f.addEventListener("abort",h,{once:!0}),a(u,rd(rd({},l),{},{signal:c.signal})).finally(()=>{clearTimeout(d),f.removeEventListener("abort",h)})}return a(u,rd(rd({},l),{},{signal:c.signal})).finally(()=>clearTimeout(d))}:this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new o8(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new X2(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const u=new URL(`${this.url}/rpc/${t}`);let l;const c=h=>h!==null&&typeof h=="object"&&(!Array.isArray(h)||h.some(c)),d=r&&Object.values(n).some(c);d?(a="POST",l=n):r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([h,g])=>g!==void 0).map(([h,g])=>[h,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([h,g])=>{u.searchParams.append(h,g)})):(a="POST",l=n);const f=new Headers(this.headers);return d?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new Bo({method:a,url:u,headers:f,schema:this.schemaName,body:l,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class d8{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const h8="2.95.3",f8=`realtime-js/${h8}`,p8="1.0.0",J2="2.0.0",cw=J2,lg=1e4,m8=1e3,g8=100;var Ps;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ps||(Ps={}));var vt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(vt||(vt={}));var sr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(sr||(sr={}));var cg;(function(e){e.websocket="websocket"})(cg||(cg={}));var ji;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ji||(ji={}));class y8{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var s,i;const o=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",u=(i=t.join_ref)!==null&&i!==void 0?i:"",l=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+a.length+o.length+l.length+d.length,h=new ArrayBuffer(this.HEADER_LENGTH+f);let g=new DataView(h),y=0;g.setUint8(y++,this.KINDS.userBroadcastPush),g.setUint8(y++,u.length),g.setUint8(y++,a.length),g.setUint8(y++,o.length),g.setUint8(y++,l.length),g.setUint8(y++,d.length),g.setUint8(y++,n),Array.from(u,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(a,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(o,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(l,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(d,v=>g.setUint8(y++,v.charCodeAt(0)));var w=new Uint8Array(h.byteLength+r.byteLength);return w.set(new Uint8Array(h),0),w.set(new Uint8Array(r),h.byteLength),w.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,o,a,u]=r;return n({join_ref:s,ref:i,topic:o,event:a,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let u=this.HEADER_LENGTH+4;const l=r.decode(t.slice(u,u+s));u=u+s;const c=r.decode(t.slice(u,u+i));u=u+i;const d=r.decode(t.slice(u,u+o));u=u+o;const f=t.slice(u,t.byteLength),h=a===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,g={type:this.BROADCAST_EVENT,event:c,payload:h};return o>0&&(g.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class Z2{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})($e||($e={}));const dw=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=v8(o,e,t,s),i),{}):{}},v8=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?eA(i,o):dg(o)},eA=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return E8(t,n)}switch(e){case $e.bool:return b8(t);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return x8(t);case $e.json:case $e.jsonb:return w8(t);case $e.timestamp:return T8(t);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return dg(t);default:return dg(t)}},dg=e=>e,b8=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},x8=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},w8=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},E8=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>eA(t,a))}return e},T8=e=>typeof e=="string"?e.replace(" ","T"):e,tA=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Vp{constructor(t,n,r={},s=lg){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var hw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(hw||(hw={}));class ol{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ol.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=ol.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ol.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},u={};return this.map(i,(l,c)=>{o[l]||(u[l]=c)}),this.map(o,(l,c)=>{const d=i[l];if(d){const f=c.map(w=>w.presence_ref),h=d.map(w=>w.presence_ref),g=c.filter(w=>h.indexOf(w.presence_ref)<0),y=d.filter(w=>f.indexOf(w.presence_ref)<0);g.length>0&&(a[l]=g),y.length>0&&(u[l]=y)}else a[l]=c}),this.syncDiff(i,{joins:a,leaves:u},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,u)=>{var l;const c=(l=t[a])!==null&&l!==void 0?l:[];if(t[a]=this.cloneDeep(u),c.length>0){const d=t[a].map(h=>h.presence_ref),f=c.filter(h=>d.indexOf(h.presence_ref)<0);t[a].unshift(...f)}r(a,c,u)}),this.map(o,(a,u)=>{let l=t[a];if(!l)return;const c=u.map(d=>d.presence_ref);l=l.filter(d=>c.indexOf(d.presence_ref)<0),t[a]=l,s(a,l,u),l.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(fw||(fw={}));var al;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(al||(al={}));var Wr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Wr||(Wr={}));class sa{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Vp(this,sr.join,this.params,this.timeout),this.rejoinTimer=new Z2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(sr.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new ol(this),this.broadcastEndpointURL=tA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==vt.closed){const{config:{broadcast:o,presence:a,private:u}}=this.params,l=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[al.PRESENCE]&&this.bindings[al.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:l,private:u};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(Wr.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(Wr.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){t==null||t(Wr.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(g=y==null?void 0:y.length)!==null&&g!==void 0?g:0,v=[];for(let b=0;b<w;b++){const E=y[b],{filter:{event:T,schema:S,table:_,filter:k}}=E,I=h&&h[b];if(I&&I.event===T&&sa.isFilterValueEqual(I.schema,S)&&sa.isFilterValueEqual(I.table,_)&&sa.isFilterValueEqual(I.filter,k))v.push(Object.assign(Object.assign({},E),{id:I.id}));else{this.unsubscribe(),this.state=vt.errored,t==null||t(Wr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Wr.SUBSCRIBED);return}}).receive("error",h=>{this.state=vt.errored,t==null||t(Wr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Wr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===vt.joined&&t===al.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let u=a.statusText;try{const l=await a.json();u=l.error||l.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,u;const l=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),l.receive("ok",()=>i("ok")),l.receive("error",()=>i("error")),l.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=vt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(sr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Vp(this,sr.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=vt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Vp(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>g8){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:u,leave:l,join:c}=sr;if(r&&[a,u,l,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var g,y,w;return((g=h.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(y=h.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(h=>h.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var g,y,w,v,b,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const T=h.id,S=(g=h.filter)===null||g===void 0?void 0:g.event;return T&&((y=n.ids)===null||y===void 0?void 0:y.includes(T))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const T=(b=(v=h==null?void 0:h.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return T==="*"||T===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:y,table:w,commit_timestamp:v,type:b,errors:E}=g;f=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:v,eventType:b,new:{},old:{},errors:E}),this._getPayloadRecords(g))}h.callback(f,r)})}_isClosed(){return this.state===vt.closed}_isJoined(){return this.state===vt.joined}_isJoining(){return this.state===vt.joining}_isLeaving(){return this.state===vt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&sa.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(sr.close,{},t)}_onError(t){this._on(sr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=dw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=dw(t.columns,t.old_record)),n}}const Wp=()=>{},sd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_8=[1e3,2e3,5e3,1e4],S8=1e4,C8=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class k8{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=lg,this.transport=null,this.heartbeatIntervalMs=sd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wp,this.ref=0,this.reconnectTimer=null,this.vsn=cw,this.logger=Wp,this.conn=null,this.sendBuffer=[],this.serializer=new y8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${cg.websocket}`,this.httpEndpoint=tA(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=d8.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return n==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ps.connecting:return ji.Connecting;case Ps.open:return ji.Open;case Ps.closing:return ji.Closing;default:return ji.Closed}}isConnected(){return this.connectionState()===ji.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new sa(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(m8,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},sd.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const l=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",l)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",u=i.status||"";this.log("receive",`${u} ${r} ${s} ${a}`.trim(),i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ps.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ps.open||this.conn.readyState===Ps.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(sr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([C8],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:f8};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(sr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Z2(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},sd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,a,u,l,c,d,f,h;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:lg,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:sd.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Wp,this.vsn=(u=t==null?void 0:t.vsn)!==null&&u!==void 0?u:cw,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:g=>_8[g-1]||S8,this.vsn){case p8:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(g,y)=>y(JSON.stringify(g)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(g,y)=>y(JSON.parse(g));break;case J2:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Wl=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function A8(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function N8(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function R8(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:o}){const a=A8(e.baseUrl,r,s),u=await N8(e.auth),l=await t(a,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...u,...o},body:i?JSON.stringify(i):void 0}),c=await l.text(),d=(l.headers.get("content-type")||"").includes("application/json"),f=d&&c?JSON.parse(c):c;if(!l.ok){const h=d?f:void 0,g=h==null?void 0:h.error;throw new Wl((g==null?void 0:g.message)??`Request failed with status ${l.status}`,{status:l.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:h})}return{status:l.status,headers:l.headers,data:f}}}}function id(e){return e.join("")}var P8=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:id(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${id(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${id(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${id(e.namespace)}`}),!0}catch(t){if(t instanceof Wl&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Wl&&n.status===409)return;throw n}}};function No(e){return e.join("")}var I8=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${No(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${No(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${No(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${No(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${No(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${No(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Wl&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Wl&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},O8=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=R8({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new P8(this.client,t),this.tableOps=new I8(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Rf=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Pf(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var od=class extends Rf{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},nA=class extends Rf{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const D8=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),L8=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},hg=e=>{if(Array.isArray(e))return e.map(n=>hg(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=hg(r)}),t},M8=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}function j8(e,t){if(ql(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F8(e){var t=j8(e,"string");return ql(t)=="symbol"?t:t+""}function B8(e,t,n){return(t=F8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pw(Object(n),!0).forEach(function(r){B8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const mw=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},U8=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new od(mw(o),i,a,r))}).catch(()=>{if(r==="vectors"){const o=i+"";t(new od(s.statusText||`HTTP ${i} error`,i,o,r))}else{const o=i+"";t(new od(s.statusText||`HTTP ${i} error`,i,o,r))}});else{const o=i+"";t(new od(s.statusText||`HTTP ${i} error`,i,o,r))}}else t(new nA(mw(e),e,r))},H8=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?ye(ye({},s),n):(L8(r)?(s.headers=ye({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),ye(ye({},s),n))};async function Nu(e,t,n,r,s,i,o){return new Promise((a,u)=>{e(n,H8(t,r,s,i)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;if(o==="vectors"){const c=l.headers.get("content-type");if(l.headers.get("content-length")==="0"||l.status===204)return{};if(!c||!c.includes("application/json"))return{}}return l.json()}).then(l=>a(l)).catch(l=>U8(l,u,r,o))})}function rA(e="storage"){return{get:async(t,n,r,s)=>Nu(t,"GET",n,r,s,void 0,e),post:async(t,n,r,s,i)=>Nu(t,"POST",n,s,i,r,e),put:async(t,n,r,s,i)=>Nu(t,"PUT",n,s,i,r,e),head:async(t,n,r,s)=>Nu(t,"HEAD",n,ye(ye({},r),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,n,r,s,i)=>Nu(t,"DELETE",n,s,i,r,e)}}const $8=rA("storage"),{get:Kl,post:er,put:fg,head:z8,remove:Fv}=$8,vn=rA("vectors");var uu=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=D8(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Pf(n))return{data:null,error:n};throw n}}},V8=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Pf(t))return{data:null,error:t};throw t}}};let sA;sA=Symbol.toStringTag;var W8=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[sA]="BlobDownloadBuilder",this.promise=null}asStream(){return new V8(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Pf(t))return{data:null,error:t};throw t}}};const q8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var K8=class extends uu{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var s=this;return s.handleOperation(async()=>{let i;const o=ye(ye({},gw),r);let a=ye(ye({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",s.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),u&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(u))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,u&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(u))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(a=ye(ye({},a),r.headers));const l=s._removeEmptyFolders(t),c=s._getFinalPath(l),d=await(e=="PUT"?fg:er)(s.fetch,`${s.url}/object/${c}`,i,ye({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:l,id:d.Id,fullPath:d.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);return a.searchParams.set("token",t),s.handleOperation(async()=>{let u;const l=ye({upsert:gw.upsert},r),c=ye(ye({},s.headers),{"x-upsert":String(l.upsert)});return typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",l.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",l.cacheControl)):(u=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType),{path:i,fullPath:(await fg(s.fetch,a.toString(),u,{headers:c})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const s=ye({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await er(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(n.url+i.url),a=o.searchParams.get("token");if(!a)throw new Rf("No token returned by API");return{signedUrl:o.toString(),path:e,token:a}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await er(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await er(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(e),i=await er(r.fetch,`${r.url}/object/sign/${s}`,ye({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const s=await er(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(o=>ye(ye({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${i}`):null}))})}download(e,t,n){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=s?`?${s}`:"",o=this._getFinalPath(e),a=()=>Kl(this.fetch,`${this.url}/${r}/${o}${i}`,{headers:this.headers,noResolveJson:!0},n);return new W8(a,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>hg(await Kl(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await z8(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pf(r)&&r instanceof nA){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Fv(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const s=ye(ye(ye({},q8),t),{},{prefix:e||""});return await er(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=ye({},e);return await er(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Y8="2.95.3",xc={"X-Client-Info":`storage-js/${Y8}`};var G8=class extends uu{constructor(e,t={},n,r){const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),o=ye(ye({},xc),t);super(i,o,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await Kl(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Kl(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await er(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await fg(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await er(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Fv(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Q8=class extends uu{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=ye(ye({},xc),t);super(r,s,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await er(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await Kl(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Fv(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!M8(e))throw new Rf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new O8({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(u){if(r)throw u;return{data:null,error:u}}}}})}},X8=class extends uu{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=ye(ye({},xc),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await vn.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await vn.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},J8=class extends uu{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=ye(ye({},xc),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},Z8=class extends uu{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=ye(ye({},xc),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},eF=class extends Z8{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new tF(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},tF=class extends X8{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,ye(ye({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,ye(ye({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new nF(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},nF=class extends J8{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,ye(ye({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,ye(ye({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,ye(ye({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,ye(ye({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,ye(ye({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},rF=class extends G8{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new K8(this.url,this.headers,e,this.fetch)}get vectors(){return new eF(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Q8(this.url+"/iceberg",this.headers,this.fetch)}};const iA="2.95.3",Uo=30*1e3,pg=3,qp=pg*Uo,sF="http://localhost:9999",iF="supabase.auth.token",oF={"X-Client-Info":`gotrue-js/${iA}`},mg="X-Supabase-Api-Version",oA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},aF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uF=10*60*1e3;class Yl extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function de(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class lF extends Yl{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function cF(e){return de(e)&&e.name==="AuthApiError"}class Fi extends Yl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ls extends Yl{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class pn extends ls{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Kp(e){return de(e)&&e.name==="AuthSessionMissingError"}class Ro extends ls{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ad extends ls{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ud extends ls{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dF(e){return de(e)&&e.name==="AuthImplicitGrantRedirectError"}class yw extends ls{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hF extends ls{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class gg extends ls{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Yp(e){return de(e)&&e.name==="AuthRetryableFetchError"}class vw extends ls{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class yg extends ls{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Dh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bw=` 	
\r=`.split(""),fF=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<bw.length;t+=1)e[bw[t].charCodeAt(0)]=-2;for(let t=0;t<Dh.length;t+=1)e[Dh[t].charCodeAt(0)]=t;return e})();function xw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Dh[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Dh[r]),t.queuedBits-=6}}function aA(e,t,n){const r=fF[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ww(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{gF(o,r,n)};for(let o=0;o<e.length;o+=1)aA(e.charCodeAt(o),s,i);return t.join("")}function pF(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function mF(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}pF(r,t)}}function gF(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ba(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)aA(e.charCodeAt(s),n,r);return new Uint8Array(t)}function yF(e){const t=[];return mF(e,n=>t.push(n)),new Uint8Array(t)}function Vi(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>xw(s,n,r)),xw(null,n,r),t.join("")}function vF(e){return Math.round(Date.now()/1e3)+e}function bF(){return Symbol("auth-callback")}const At=()=>typeof window<"u"&&typeof document<"u",Ai={tested:!1,writable:!1},uA=()=>{if(!At())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ai.tested)return Ai.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ai.tested=!0,Ai.writable=!0}catch{Ai.tested=!0,Ai.writable=!1}return Ai.writable};function xF(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const lA=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),wF=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ho=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ni=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},kt=async(e,t)=>{await e.removeItem(t)};class If{constructor(){this.promise=new If.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}If.promiseConstructor=Promise;function ld(e){const t=e.split(".");if(t.length!==3)throw new yg("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!aF.test(t[r]))throw new yg("JWT not in base64url format");return{header:JSON.parse(ww(t[0])),payload:JSON.parse(ww(t[1])),signature:ba(t[2]),raw:{header:t[0],payload:t[1]}}}async function EF(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function TF(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function _F(e){return("0"+e.toString(16)).substr(-2)}function SF(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,_F).join("")}async function CF(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function kF(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await CF(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Po(e,t,n=!1){const r=SF();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Ho(e,`${t}-code-verifier`,s);const i=await kF(r);return[i,r===i?"plain":"s256"]}const AF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function NF(e){const t=e.headers.get(mg);if(!t||!t.match(AF))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function RF(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function PF(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const IF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Io(e){if(!IF.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Gp(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function OF(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function Ew(e){return JSON.parse(JSON.stringify(e))}const Li=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),DF=[502,503,504];async function Tw(e){var t;if(!wF(e))throw new gg(Li(e),0);if(DF.includes(e.status))throw new gg(Li(e),e.status);let n;try{n=await e.json()}catch(i){throw new Fi(Li(i),i)}let r;const s=NF(e);if(s&&s.getTime()>=oA["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new vw(Li(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new pn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new vw(Li(n),e.status,n.weak_password.reasons);throw new lF(Li(n),e.status||500,r)}const LF=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ge(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[mg]||(i[mg]=oA["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await MF(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function MF(e,t,n,r,s,i){const o=LF(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new gg(Li(u),0)}if(a.ok||await Tw(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(u){await Tw(u)}}function Xn(e){var t;let n=null;BF(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=vF(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function _w(e){const t=Xn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ds(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function jF(e){return{data:e,error:null}}function FF(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=au(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:a,user:u},error:null}}function Sw(e){return e}function BF(e){return e.access_token&&e.refresh_token&&e.expires_in}const Qp=["global","local","others"];class UF{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=lA(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Qp[0]){if(Qp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qp.join(", ")}`);try{return await ge(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ds})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=au(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:FF,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(de(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ds})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,u;try{const l={nextPage:null,lastPage:0,total:0},c=await ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Sw});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(u=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return h.length>0&&(h.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);l[`${w}Page`]=y}),l.total=parseInt(f)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(de(l))return{data:{users:[]},error:l};throw l}}async getUserById(t){Io(t);try{return await ge(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ds})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Io(t);try{return await ge(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ds})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Io(t);try{return await ge(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ds})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Io(t.userId);try{const{data:n,error:r}=await ge(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(de(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Io(t.userId),Io(t.id);try{return{data:await ge(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,a,u;try{const l={nextPage:null,lastPage:0,total:0},c=await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Sw});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(u=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return h.length>0&&(h.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);l[`${w}Page`]=y}),l.total=parseInt(f)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(de(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await ge(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}}function Cw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Oo={debug:!!(globalThis&&uA()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cA extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class HF extends cA{}async function $F(e,t,n){Oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Oo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new HF(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Oo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function zF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function dA(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function VF(e){return parseInt(e,16)}function WF(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function qF(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:u,resources:l,scheme:c,uri:d,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=dA(e.address),g=c?`${c}://${r}`:r,y=e.statement?`${e.statement}
`:"",w=`${g} wants you to sign in with your Ethereum account:
${h}

${y}`;let v=`URI: ${d}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),a&&(v+=`
Not Before: ${a.toISOString()}`),u&&(v+=`
Request ID: ${u}`),l){let b=`
Resources:`;for(const E of l){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);b+=`
- ${E}`}v+=b}return`${w}
${v}`}class mt extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Lh extends mt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function KF({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(hA(o)){if(i.rp.id!==o)return new mt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function YF({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(hA(r)){if(n.rpId!==r)return new mt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class GF{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const QF=new GF;function XF(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=au(e,["challenge","user","excludeCredentials"]),i=ba(t).buffer,o=Object.assign(Object.assign({},n),{id:ba(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const l=r[u];a.excludeCredentials[u]=Object.assign(Object.assign({},l),{id:ba(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function JF(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=au(e,["challenge","allowCredentials"]),s=ba(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:ba(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function ZF(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Vi(new Uint8Array(e.response.attestationObject)),clientDataJSON:Vi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function eB(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Vi(new Uint8Array(s.authenticatorData)),clientDataJSON:Vi(new Uint8Array(s.clientDataJSON)),signature:Vi(new Uint8Array(s.signature)),userHandle:s.userHandle?Vi(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function hA(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function kw(){var e,t;return!!(At()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function tB(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lh("Browser returned unexpected credential type",t)}:{data:null,error:new Lh("Empty credential response",t)}}catch(t){return{data:null,error:KF({error:t,options:e})}}}async function nB(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lh("Browser returned unexpected credential type",t)}:{data:null,error:new Lh("Empty credential response",t)}}catch(t){return{data:null,error:YF({error:t,options:e})}}}const rB={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},sB={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Mh(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const a=r[i];t(a)?r[i]=Mh(a,o):r[i]=Mh(o)}else r[i]=o}return r}function iB(e,t){return Mh(rB,e,t||{})}function oB(e,t){return Mh(sB,e,t||{})}class aB{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){var o;try{const{data:a,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:u};const l=s??QF.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;if(!c.name){const d=r;if(d)c.name=`${c.id}:${d}`;else{const h=(await this.client.getUser()).data.user,g=((o=h==null?void 0:h.user_metadata)===null||o===void 0?void 0:o.name)||(h==null?void 0:h.email)||(h==null?void 0:h.id)||"User";c.name=`${c.id}:${g}`}}c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=iB(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await tB({publicKey:c,signal:l});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=oB(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await nB(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(a){return de(a)?{data:null,error:a}:{data:null,error:new Fi("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Yl("rpId is required for WebAuthn authentication")};try{if(!kw())return{data:null,error:new Fi("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:u}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(o){return de(o)?{data:null,error:o}:{data:null,error:new Fi("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Yl("rpId is required for WebAuthn registration")};try{if(!kw())return{data:null,error:new Fi("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:u,error:l}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:l}}catch(o){return de(o)?{data:null,error:o}:{data:null,error:new Fi("Unexpected error in register",o)}}}}zF();const uB={url:sF,storageKey:iF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Aw(e,t,n){return await n()}const Do={};class Gl{get jwks(){var t,n;return(n=(t=Do[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Do[this.storageKey]=Object.assign(Object.assign({},Do[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Do[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Do[this.storageKey]=Object.assign(Object.assign({},Do[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},uB),t);if(this.storageKey=i.storageKey,this.instanceID=(n=Gl.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Gl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&At()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new UF({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=lA(i.fetch),this.lock=i.lock||Aw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&At()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=$F:this.lock=Aw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new aB(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:uA()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Cw(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Cw(this.memoryStorage)),At()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${iA}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(At()&&(n=xF(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),At()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),dF(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return de(n)?this._returnResult({error:n}):this._returnResult({error:new Fi("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Xn}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const u=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(i){if(de(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:c,password:d,options:f}=t;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await Po(this.storage,this.storageKey)),i=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:g},xform:Xn})}else if("phone"in t){const{phone:c,password:d,options:f}=t;i=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Xn})}else throw new ad("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await kt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const u=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(i){if(await kt(this.storage,`${this.storageKey}-code-verifier`),de(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_w})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_w})}else throw new ad("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new Ro;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,a,u,l,c,d,f;let h,g;if("message"in t)h=t.message,g=t.signature;else{const{chain:y,wallet:w,statement:v,options:b}=t;let E;if(At())if(typeof w=="object")E=w;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")E=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=w}const T=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href),S=await E.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=dA(S[0]);let k=(r=b==null?void 0:b.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const M=await E.request({method:"eth_chainId"});k=VF(M)}const I={domain:T.host,address:_,statement:v,uri:T.href,version:"1",chainId:k,nonce:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.requestId,resources:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.resources};h=qF(I),g=await E.request({method:"personal_sign",params:[WF(h),_]})}try{const{data:y,error:w}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:g},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Xn});if(w)throw w;if(!y||!y.session||!y.user){const v=new Ro;return this._returnResult({data:{user:null,session:null},error:v})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(de(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var n,r,s,i,o,a,u,l,c,d,f,h;let g,y;if("message"in t)g=t.message,y=t.signature;else{const{chain:w,wallet:v,statement:b,options:E}=t;let T;if(At())if(typeof v=="object")T=v;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))T=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=v}const S=new URL((n=E==null?void 0:E.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const _=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let k;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")k=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)k=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),y=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=E==null?void 0:E.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=E==null?void 0:E.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((o=E==null?void 0:E.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((a=E==null?void 0:E.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((u=E==null?void 0:E.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((l=E==null?void 0:E.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((d=(c=E==null?void 0:E.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...E.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const _=await T.signMessage(new TextEncoder().encode(g),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=_}}try{const{data:w,error:v}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Vi(y)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Xn});if(v)throw v;if(!w||!w.session||!w.user){const b=new Ro;return this._returnResult({data:{user:null,session:null},error:b})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:v})}catch(w){if(de(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const n=await Ni(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new hF;const{data:i,error:o}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Xn});if(await kt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Ro;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await kt(this.storage,`${this.storageKey}-code-verifier`),de(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Xn}),{data:u,error:l}=a;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!u||!u.session||!u.user){const c=new Ro;return this._returnResult({data:{user:null,session:null},error:c})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:l})}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:u}=t;let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Po(this.storage,this.storageKey));const{error:d}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:l,code_challenge_method:c},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:a,options:u}=t,{data:l,error:c}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c})}throw new ad("You must provide either an email or phone number.")}catch(a){if(await kt(this.storage,`${this.storageKey}-code-verifier`),de(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Xn});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,l=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(s){if(de(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,o;try{let a=null,u=null;this.flowType==="pkce"&&([a,u]=await Po(this.storage,this.storageKey));const l=await ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:u}),headers:this.headers,xform:jF});return!((i=l.data)===null||i===void 0)&&i.url&&At()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(a){if(await kt(this.storage,`${this.storageKey}-code-verifier`),de(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new pn;const{error:s}=await ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(de(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await ge(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await ge(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new ad("You must provide either an email or phone number and a type")}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ni(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<qp:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Ni(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Gp()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=OF(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ds}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pn}:await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ds})})}catch(n){if(de(n))return Kp(n)&&(await this._removeSession(),await kt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new pn;const o=s.session;let a=null,u=null;this.flowType==="pkce"&&t.email!=null&&([a,u]=await Po(this.storage,this.storageKey));const{data:l,error:c}=await ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:u}),jwt:o.access_token,xform:Ds});if(c)throw c;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await kt(this.storage,`${this.storageKey}-code-verifier`),de(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new pn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=ld(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:u}=await this._getUser(t.access_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(de(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new pn;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!At())throw new ud("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ud(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new yw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ud("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new yw("No code detected.");const{data:b,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:u,token_type:l}=t;if(!i||!a||!o||!l)throw new ud("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let f=c+d;u&&(f=parseInt(u));const h=f-c;h*1e3<=Uo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const g=f-d;c-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,c):c-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,c);const{data:y,error:w}=await this._getUser(i);if(w)throw w;const v={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:l,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(r){if(de(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ni(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i&&!Kp(i))return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(cF(a)&&(a.status===404||a.status===401||a.status===403)||Kp(a)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await kt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=bF(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Po(this.storage,this.storageKey,!0));try{return await ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await kt(this.storage,`${this.storageKey}-code-verifier`),de(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,u,l,c;const{data:d,error:f}=i;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await ge(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return At()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(de(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:u,access_token:l,nonce:c}=t,d=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:u,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Xn}),{data:f,error:h}=d;return h?this._returnResult({data:{user:null,session:null},error:h}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Ro}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:h}))}catch(s){if(await kt(this.storage,`${this.storageKey}-code-verifier`),de(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await ge(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await TF(async s=>(s>0&&await EF(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Xn})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Yp(i)&&Date.now()+o-r<Uo})}catch(r){if(this._debug(n,"error",r),de(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),At()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Ni(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Ni(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Ho(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Gp()}else if(s&&!s.user&&!s.user){const o=await Ni(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await kt(this.storage,this.storageKey+"-user"),await Ho(this.storage,this.storageKey,s)):s.user=Gp()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<qp;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${qp}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Yp(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new pn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new If;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new pn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),de(i)){const o={data:null,error:i};return Yp(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await kt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Ho(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Ew(s);await Ho(this.storage,this.storageKey,i)}else{const s=Ew(n);await Ho(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await kt(this.storage,this.storageKey),await kt(this.storage,this.storageKey+"-code-verifier"),await kt(this.storage,this.storageKey+"-user"),this.userStorage&&await kt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&At()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Uo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Uo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Uo}ms, refresh threshold is ${pg} ticks`),s<=pg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof cA)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!At()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Po(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await ge(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:l}=await ge(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(t.factorType==="totp"&&u.type==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?ZF(t.webauthn.credential_response):eB(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:u}=await ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:u}))})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:XF(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:JF(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,s,i;if(t)try{const{payload:h}=ld(t);let g=null;h.aal&&(g=h.aal);let y=g;const{data:{user:w},error:v}=await this.getUser(t);if(v)return this._returnResult({data:null,error:v});((r=(n=w==null?void 0:w.factors)===null||n===void 0?void 0:n.filter(T=>T.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(y="aal2");const E=h.amr||[];return{data:{currentLevel:g,nextLevel:y,currentAuthenticationMethods:E},error:null}}catch(h){if(de(h))return this._returnResult({data:null,error:h});throw h}const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=ld(o.access_token);let l=null;u.aal&&(l=u.aal);let c=l;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");const f=u.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await ge(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new pn})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new pn});const o=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&At()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new pn});const o=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&At()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await ge(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new pn})})}catch(t){if(de(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await ge(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new pn})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+uF>s)return r;const{data:i,error:o}=await ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:h,error:g}=await this.getSession();if(g||!h.session)return this._returnResult({data:null,error:g});r=h.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:u}}=ld(r);n!=null&&n.allowExpired||RF(i.exp);const l=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!l){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:i,header:s,signature:o},error:null}}const c=PF(s.alg),d=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,yF(`${a}.${u}`)))throw new yg("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}}Gl.nextInstanceID={};const lB=Gl,cB="2.95.3";let qu="";typeof Deno<"u"?qu="deno":typeof document<"u"?qu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qu="react-native":qu="node";const dB={"X-Client-Info":`supabase-js-${qu}/${cB}`},hB={headers:dB},fB={schema:"public"},pB={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mB={};function Ql(e){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}function gB(e,t){if(Ql(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yB(e){var t=gB(e,"string");return Ql(t)=="symbol"?t:t+""}function vB(e,t,n){return(t=yB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nw(Object(n),!0).forEach(function(r){vB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const bB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),xB=()=>Headers,wB=(e,t,n)=>{const r=bB(n),s=xB();return async(i,o)=>{var a;const u=(a=await t())!==null&&a!==void 0?a:e;let l=new s(o==null?void 0:o.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${u}`),r(i,ot(ot({},o),{},{headers:l}))}};function EB(e){return e.endsWith("/")?e:e+"/"}function TB(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:u,auth:l,realtime:c,global:d}=t,f={db:ot(ot({},u),s),auth:ot(ot({},l),i),realtime:ot(ot({},c),o),storage:{},global:ot(ot(ot({},d),a),{},{headers:ot(ot({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function _B(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(EB(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var SB=class extends lB{constructor(e){super(e)}},CB=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=_B(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:fB,realtime:mB,auth:ot(ot({},pB),{},{storageKey:o}),global:hB},u=TB(n??{},a);if(this.storageKey=(r=u.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken)this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var l;this.auth=this._initSupabaseAuthClient((l=u.auth)!==null&&l!==void 0?l:{},this.headers,u.global.fetch)}this.fetch=wB(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(ot({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new c8(new URL("rest/v1",i).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch,timeout:u.db.timeout,urlLengthLimit:u.db.urlLengthLimit}),this.storage=new rF(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new n8(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:o,lock:a,debug:u,throwOnError:l},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SB({url:this.authUrl.href,headers:ot(ot({},f),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:o,lock:a,debug:u,throwOnError:l,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new k8(this.realtimeUrl.href,ot(ot({},e),{},{params:ot(ot({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const kB=(e,t,n)=>new CB(e,t,n);function AB(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}AB()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const NB="https://tqkhtbnagkgztakzhdow.supabase.co",RB="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRxa2h0Ym5hZ2tnenRha3poZG93Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA4Mjc2NTMsImV4cCI6MjA4NjQwMzY1M30.Zk1eCpSEvEyTVXs2O-ACaIgzRZm0YuwZuVMzD9c5j8o",ve=kB(NB,RB),fA=x.createContext(void 0);function PB({children:e}){const[t,n]=x.useState(null),[r,s]=x.useState(null),[i,o]=x.useState(null),[a,u]=x.useState(!0);x.useEffect(()=>{let y=!1;ve.auth.getSession().then(({data:{session:v}})=>{y=!0,o(v),n((v==null?void 0:v.user)??null),v!=null&&v.user?l(v.user.id):u(!1)});const{data:{subscription:w}}=ve.auth.onAuthStateChange((v,b)=>{y&&(o(b),n((b==null?void 0:b.user)??null),b!=null&&b.user?l(b.user.id):(s(null),u(!1)))});return()=>w.unsubscribe()},[]);async function l(y){const{data:w}=await ve.from("profiles").select("*").eq("id",y).single();s(w),u(!1)}async function c(y,w){const{error:v}=await ve.auth.signInWithPassword({email:y,password:w});return{error:v}}async function d(y,w,v){const{error:b}=await ve.auth.signUp({email:y,password:w,options:{data:{full_name:v}}});return{error:b}}async function f(){await ve.auth.signOut()}async function h(y){const{error:w}=await ve.auth.resetPasswordForEmail(y,{redirectTo:`${window.location.origin}/reset-password`});return{error:w}}async function g(y){const{error:w}=await ve.auth.updateUser({password:y});return{error:w}}return p.jsx(fA.Provider,{value:{user:t,profile:r,session:i,loading:a,signIn:c,signUp:d,signOut:f,resetPassword:h,updatePassword:g},children:e})}function Of(){const e=x.useContext(fA);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const Bv=x.createContext({});function Uv(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const pA=typeof window<"u",mA=pA?x.useLayoutEffect:x.useEffect,Df=x.createContext(null);function Hv(e,t){e.indexOf(t)===-1&&e.push(t)}function jh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Mr=(e,t,n)=>n>t?t:n<e?e:n;let Lf=()=>{},Va=()=>{};const os={},gA=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function yA(e){return typeof e=="object"&&e!==null}const vA=e=>/^0[^.\s]+$/u.test(e);function $v(e){let t;return()=>(t===void 0&&(t=e()),t)}const Fn=e=>e,IB=(e,t)=>n=>t(e(n)),wc=(...e)=>e.reduce(IB),Xl=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class zv{constructor(){this.subscriptions=[]}add(t){return Hv(this.subscriptions,t),()=>jh(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Bn=e=>e*1e3,Ln=e=>e/1e3;function bA(e,t){return t?e*(1e3/t):0}const xA=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,OB=1e-7,DB=12;function LB(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=xA(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>OB&&++a<DB);return o}function Ec(e,t,n,r){if(e===t&&n===r)return Fn;const s=i=>LB(i,0,1,e,n);return i=>i===0||i===1?i:xA(s(i),t,r)}const wA=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,EA=e=>t=>1-e(1-t),TA=Ec(.33,1.53,.69,.99),Vv=EA(TA),_A=wA(Vv),SA=e=>(e*=2)<1?.5*Vv(e):.5*(2-Math.pow(2,-10*(e-1))),Wv=e=>1-Math.sin(Math.acos(e)),CA=EA(Wv),kA=wA(Wv),MB=Ec(.42,0,1,1),jB=Ec(0,0,.58,1),AA=Ec(.42,0,.58,1),FB=e=>Array.isArray(e)&&typeof e[0]!="number",NA=e=>Array.isArray(e)&&typeof e[0]=="number",Rw={linear:Fn,easeIn:MB,easeInOut:AA,easeOut:jB,circIn:Wv,circInOut:kA,circOut:CA,backIn:Vv,backInOut:_A,backOut:TA,anticipate:SA},BB=e=>typeof e=="string",Pw=e=>{if(NA(e)){Va(e.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[t,n,r,s]=e;return Ec(t,n,r,s)}else if(BB(e))return Va(Rw[e]!==void 0,`Invalid easing type '${e}'`,"invalid-easing-type"),Rw[e];return e},cd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Iw={value:null,addProjectionMetrics:null};function UB(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},u=0;function l(d){o.has(d)&&(c.schedule(d),e()),u++,d(a)}const c={schedule:(d,f=!1,h=!1)=>{const y=h&&s?n:r;return f&&o.add(d),y.has(d)||y.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(l),t&&Iw.value&&Iw.value.frameloop[t].push(u),u=0,n.clear(),s=!1,i&&(i=!1,c.process(d))}};return c}const HB=40;function RA(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=cd.reduce((E,T)=>(E[T]=UB(i,t?T:void 0),E),{}),{setup:a,read:u,resolveKeyframes:l,preUpdate:c,update:d,preRender:f,render:h,postRender:g}=o,y=()=>{const E=os.useManualTiming?s.timestamp:performance.now();n=!1,os.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(E-s.timestamp,HB),1)),s.timestamp=E,s.isProcessing=!0,a.process(s),u.process(s),l.process(s),c.process(s),d.process(s),f.process(s),h.process(s),g.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(y))},w=()=>{n=!0,r=!0,s.isProcessing||e(y)};return{schedule:cd.reduce((E,T)=>{const S=o[T];return E[T]=(_,k=!1,I=!1)=>(n||w(),S.schedule(_,k,I)),E},{}),cancel:E=>{for(let T=0;T<cd.length;T++)o[cd[T]].cancel(E)},state:s,steps:o}}const{schedule:We,cancel:di,state:Rt,steps:Xp}=RA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fn,!0);let $d;function $B(){$d=void 0}const Yt={now:()=>($d===void 0&&Yt.set(Rt.isProcessing||os.useManualTiming?Rt.timestamp:performance.now()),$d),set:e=>{$d=e,queueMicrotask($B)}},PA=e=>t=>typeof t=="string"&&t.startsWith(e),IA=PA("--"),zB=PA("var(--"),qv=e=>zB(e)?VB.test(e.split("/*")[0].trim()):!1,VB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Ow(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const lu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Jl={...lu,transform:e=>Mr(0,1,e)},dd={...lu,default:1},ul=e=>Math.round(e*1e5)/1e5,Kv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function WB(e){return e==null}const qB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Yv=(e,t)=>n=>!!(typeof n=="string"&&qB.test(n)&&n.startsWith(e)||t&&!WB(n)&&Object.prototype.hasOwnProperty.call(n,t)),OA=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(Kv);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},KB=e=>Mr(0,255,e),Jp={...lu,transform:e=>Math.round(KB(e))},Wi={test:Yv("rgb","red"),parse:OA("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Jp.transform(e)+", "+Jp.transform(t)+", "+Jp.transform(n)+", "+ul(Jl.transform(r))+")"};function YB(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const vg={test:Yv("#"),parse:YB,transform:Wi.transform},Tc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),_s=Tc("deg"),Ir=Tc("%"),ce=Tc("px"),GB=Tc("vh"),QB=Tc("vw"),Dw={...Ir,parse:e=>Ir.parse(e)/100,transform:e=>Ir.transform(e*100)},ia={test:Yv("hsl","hue"),parse:OA("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ir.transform(ul(t))+", "+Ir.transform(ul(n))+", "+ul(Jl.transform(r))+")"},gt={test:e=>Wi.test(e)||vg.test(e)||ia.test(e),parse:e=>Wi.test(e)?Wi.parse(e):ia.test(e)?ia.parse(e):vg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Wi.transform(e):ia.transform(e),getAnimatableNone:e=>{const t=gt.parse(e);return t.alpha=0,gt.transform(t)}},XB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function JB(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Kv))==null?void 0:t.length)||0)+(((n=e.match(XB))==null?void 0:n.length)||0)>0}const DA="number",LA="color",ZB="var",e9="var(",Lw="${}",t9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zl(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(t9,u=>(gt.test(u)?(r.color.push(i),s.push(LA),n.push(gt.parse(u))):u.startsWith(e9)?(r.var.push(i),s.push(ZB),n.push(u)):(r.number.push(i),s.push(DA),n.push(parseFloat(u))),++i,Lw)).split(Lw);return{values:n,split:a,indexes:r,types:s}}function MA(e){return Zl(e).values}function jA(e){const{split:t,types:n}=Zl(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===DA?i+=ul(s[o]):a===LA?i+=gt.transform(s[o]):i+=s[o]}return i}}const n9=e=>typeof e=="number"?0:gt.test(e)?gt.getAnimatableNone(e):e;function r9(e){const t=MA(e);return jA(e)(t.map(n9))}const hi={test:JB,parse:MA,createTransformer:jA,getAnimatableNone:r9};function Zp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function s9({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,u=2*n-a;s=Zp(u,a,e+1/3),i=Zp(u,a,e),o=Zp(u,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Fh(e,t){return n=>n>0?t:e}const tt=(e,t,n)=>e+(t-e)*n,em=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},i9=[vg,Wi,ia],o9=e=>i9.find(t=>t.test(e));function Mw(e){const t=o9(e);if(Lf(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let n=t.parse(e);return t===ia&&(n=s9(n)),n}const jw=(e,t)=>{const n=Mw(e),r=Mw(t);if(!n||!r)return Fh(e,t);const s={...n};return i=>(s.red=em(n.red,r.red,i),s.green=em(n.green,r.green,i),s.blue=em(n.blue,r.blue,i),s.alpha=tt(n.alpha,r.alpha,i),Wi.transform(s))},bg=new Set(["none","hidden"]);function a9(e,t){return bg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function u9(e,t){return n=>tt(e,t,n)}function Gv(e){return typeof e=="number"?u9:typeof e=="string"?qv(e)?Fh:gt.test(e)?jw:d9:Array.isArray(e)?FA:typeof e=="object"?gt.test(e)?jw:l9:Fh}function FA(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>Gv(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function l9(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Gv(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function c9(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],a=e.values[o]??0;n[s]=a,r[i]++}return n}const d9=(e,t)=>{const n=hi.createTransformer(t),r=Zl(e),s=Zl(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?bg.has(e)&&!s.values.length||bg.has(t)&&!r.values.length?a9(e,t):wc(FA(c9(r,s),s.values),n):(Lf(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),Fh(e,t))};function BA(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?tt(e,t,n):Gv(e)(e,t)}const h9=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>We.update(t,n),stop:()=>di(t),now:()=>Rt.isProcessing?Rt.timestamp:Yt.now()}},UA=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Bh=2e4;function Qv(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Bh;)t+=n,r=e.next(t);return t>=Bh?1/0:t}function f9(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(Qv(r),Bh);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:Ln(s)}}const p9=5;function HA(e,t,n){const r=Math.max(t-p9,0);return bA(n-e(r),t-r)}const Ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tm=.001;function m9({duration:e=Ze.duration,bounce:t=Ze.bounce,velocity:n=Ze.velocity,mass:r=Ze.mass}){let s,i;Lf(e<=Bn(Ze.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let o=1-t;o=Mr(Ze.minDamping,Ze.maxDamping,o),e=Mr(Ze.minDuration,Ze.maxDuration,Ln(e)),o<1?(s=l=>{const c=l*o,d=c*e,f=c-n,h=xg(l,o),g=Math.exp(-d);return tm-f/h*g},i=l=>{const d=l*o*e,f=d*n+n,h=Math.pow(o,2)*Math.pow(l,2)*e,g=Math.exp(-d),y=xg(Math.pow(l,2),o);return(-s(l)+tm>0?-1:1)*((f-h)*g)/y}):(s=l=>{const c=Math.exp(-l*e),d=(l-n)*e+1;return-tm+c*d},i=l=>{const c=Math.exp(-l*e),d=(n-l)*(e*e);return c*d});const a=5/e,u=y9(s,i,a);if(e=Bn(e),isNaN(u))return{stiffness:Ze.stiffness,damping:Ze.damping,duration:e};{const l=Math.pow(u,2)*r;return{stiffness:l,damping:o*2*Math.sqrt(r*l),duration:e}}}const g9=12;function y9(e,t,n){let r=n;for(let s=1;s<g9;s++)r=r-e(r)/t(r);return r}function xg(e,t){return e*Math.sqrt(1-t*t)}const v9=["duration","bounce"],b9=["stiffness","damping","mass"];function Fw(e,t){return t.some(n=>e[n]!==void 0)}function x9(e){let t={velocity:Ze.velocity,stiffness:Ze.stiffness,damping:Ze.damping,mass:Ze.mass,isResolvedFromDuration:!1,...e};if(!Fw(e,b9)&&Fw(e,v9))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Mr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Ze.mass,stiffness:s,damping:i}}else{const n=m9(e);t={...t,...n,mass:Ze.mass},t.isResolvedFromDuration=!0}return t}function Uh(e=Ze.visualDuration,t=Ze.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:u,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:h}=x9({...n,velocity:-Ln(n.velocity||0)}),g=f||0,y=l/(2*Math.sqrt(u*c)),w=o-i,v=Ln(Math.sqrt(u/c)),b=Math.abs(w)<5;r||(r=b?Ze.restSpeed.granular:Ze.restSpeed.default),s||(s=b?Ze.restDelta.granular:Ze.restDelta.default);let E;if(y<1){const S=xg(v,y);E=_=>{const k=Math.exp(-y*v*_);return o-k*((g+y*v*w)/S*Math.sin(S*_)+w*Math.cos(S*_))}}else if(y===1)E=S=>o-Math.exp(-v*S)*(w+(g+v*w)*S);else{const S=v*Math.sqrt(y*y-1);E=_=>{const k=Math.exp(-y*v*_),I=Math.min(S*_,300);return o-k*((g+y*v*w)*Math.sinh(I)+S*w*Math.cosh(I))/S}}const T={calculatedDuration:h&&d||null,next:S=>{const _=E(S);if(h)a.done=S>=d;else{let k=S===0?g:0;y<1&&(k=S===0?Bn(g):HA(E,S,_));const I=Math.abs(k)<=r,M=Math.abs(o-_)<=s;a.done=I&&M}return a.value=a.done?o:_,a},toString:()=>{const S=Math.min(Qv(T),Bh),_=UA(k=>T.next(S*k).value,S,30);return S+"ms "+_},toTransition:()=>{}};return T}Uh.applyToOptions=e=>{const t=f9(e,100,Uh);return e.ease=t.ease,e.duration=Bn(t.duration),e.type="keyframes",e};function wg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:u,restDelta:l=.5,restSpeed:c}){const d=e[0],f={done:!1,value:d},h=I=>a!==void 0&&I<a||u!==void 0&&I>u,g=I=>a===void 0?u:u===void 0||Math.abs(a-I)<Math.abs(u-I)?a:u;let y=n*t;const w=d+y,v=o===void 0?w:o(w);v!==w&&(y=v-d);const b=I=>-y*Math.exp(-I/r),E=I=>v+b(I),T=I=>{const M=b(I),P=E(I);f.done=Math.abs(M)<=l,f.value=f.done?v:P};let S,_;const k=I=>{h(f.value)&&(S=I,_=Uh({keyframes:[f.value,g(f.value)],velocity:HA(E,I,f.value),damping:s,stiffness:i,restDelta:l,restSpeed:c}))};return k(0),{calculatedDuration:null,next:I=>{let M=!1;return!_&&S===void 0&&(M=!0,T(I),k(I)),S!==void 0&&I>=S?_.next(I-S):(!M&&T(I),f)}}}function w9(e,t,n){const r=[],s=n||os.mix||BA,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const u=Array.isArray(t)?t[o]||Fn:t;a=wc(u,a)}r.push(a)}return r}function E9(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Va(i===t.length,"Both input and output ranges must be the same length","range-length"),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=w9(t,r,s),u=a.length,l=c=>{if(o&&c<e[0])return t[0];let d=0;if(u>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=Xl(e[d],e[d+1],c);return a[d](f)};return n?c=>l(Mr(e[0],e[i-1],c)):l}function T9(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Xl(0,t,r);e.push(tt(n,1,s))}}function _9(e){const t=[0];return T9(t,e.length-1),t}function S9(e,t){return e.map(n=>n*t)}function C9(e,t){return e.map(()=>t||AA).splice(0,e.length-1)}function ll({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=FB(r)?r.map(Pw):Pw(r),i={done:!1,value:t[0]},o=S9(n&&n.length===t.length?n:_9(t),e),a=E9(o,t,{ease:Array.isArray(s)?s:C9(t,s)});return{calculatedDuration:e,next:u=>(i.value=a(u),i.done=u>=e,i)}}const k9=e=>e!==null;function Xv(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(k9),a=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const A9={decay:wg,inertia:wg,tween:ll,keyframes:ll,spring:Uh};function $A(e){typeof e.type=="string"&&(e.type=A9[e.type])}class Jv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const N9=e=>e/100;class Zv extends Jv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Yt.now()&&this.tick(Yt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;$A(t);const{type:n=ll,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:a}=t;const u=n||ll;u!==ll&&typeof a[0]!="number"&&(this.mixKeyframes=wc(N9,BA(a[0],a[1])),a=[0,100]);const l=u({...t,keyframes:a});i==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...a].reverse(),velocity:-o})),l.calculatedDuration===null&&(l.calculatedDuration=Qv(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=l}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:l=0,keyframes:c,repeat:d,repeatType:f,repeatDelay:h,type:g,onUpdate:y,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const v=this.currentTime-l*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?v<0:v>s;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let E=this.currentTime,T=r;if(d){const I=Math.min(this.currentTime,s)/a;let M=Math.floor(I),P=I%1;!P&&I>=1&&(P=1),P===1&&M--,M=Math.min(M,d+1),!!(M%2)&&(f==="reverse"?(P=1-P,h&&(P-=h/a)):f==="mirror"&&(T=o)),E=Mr(0,1,P)*a}const S=b?{done:!1,value:c[0]}:T.next(E);i&&(S.value=i(S.value));let{done:_}=S;!b&&u!==null&&(_=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return k&&g!==wg&&(S.value=Xv(c,this.options,w,this.speed)),y&&y(S.value),k&&this.finish(),S}then(t,n){return this.finished.then(t,n)}get duration(){return Ln(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ln(t)}get time(){return Ln(this.currentTime)}set time(t){var n;t=Bn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Yt.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ln(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=h9,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Yt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function R9(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const qi=e=>e*180/Math.PI,Eg=e=>{const t=qi(Math.atan2(e[1],e[0]));return Tg(t)},P9={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Eg,rotateZ:Eg,skewX:e=>qi(Math.atan(e[1])),skewY:e=>qi(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Tg=e=>(e=e%360,e<0&&(e+=360),e),Bw=Eg,Uw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Hw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),I9={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Uw,scaleY:Hw,scale:e=>(Uw(e)+Hw(e))/2,rotateX:e=>Tg(qi(Math.atan2(e[6],e[5]))),rotateY:e=>Tg(qi(Math.atan2(-e[2],e[0]))),rotateZ:Bw,rotate:Bw,skewX:e=>qi(Math.atan(e[4])),skewY:e=>qi(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function _g(e){return e.includes("scale")?1:0}function Sg(e,t){if(!e||e==="none")return _g(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=I9,s=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=P9,s=a}if(!s)return _g(t);const i=r[t],o=s[1].split(",").map(D9);return typeof i=="function"?i(o):o[i]}const O9=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Sg(n,t)};function D9(e){return parseFloat(e.trim())}const cu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],du=new Set(cu),$w=e=>e===lu||e===ce,L9=new Set(["x","y","z"]),M9=cu.filter(e=>!L9.has(e));function j9(e){const t=[];return M9.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ys={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Sg(t,"x"),y:(e,{transform:t})=>Sg(t,"y")};Ys.translateX=Ys.x;Ys.translateY=Ys.y;const io=new Set;let Cg=!1,kg=!1,Ag=!1;function zA(){if(kg){const e=Array.from(io).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=j9(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}kg=!1,Cg=!1,io.forEach(e=>e.complete(Ag)),io.clear()}function VA(){io.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(kg=!0)})}function F9(){Ag=!0,VA(),zA(),Ag=!1}class e1{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(io.add(this),Cg||(Cg=!0,We.read(VA),We.resolveKeyframes(zA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}R9(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),io.delete(this)}cancel(){this.state==="scheduled"&&(io.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const B9=e=>e.startsWith("--");function U9(e,t,n){B9(t)?e.style.setProperty(t,n):e.style[t]=n}const H9=$v(()=>window.ScrollTimeline!==void 0),$9={};function z9(e,t){const n=$v(e);return()=>$9[t]??n()}const WA=z9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ku=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,zw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ku([0,.65,.55,1]),circOut:Ku([.55,0,1,.45]),backIn:Ku([.31,.01,.66,-.59]),backOut:Ku([.33,1.53,.69,.99])};function qA(e,t){if(e)return typeof e=="function"?WA()?UA(e,t):"ease-out":NA(e)?Ku(e):Array.isArray(e)?e.map(n=>qA(n,t)||zw.easeOut):zw[e]}function V9(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:u}={},l=void 0){const c={[t]:n};u&&(c.offset=u);const d=qA(a,s);Array.isArray(d)&&(c.easing=d);const f={delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return l&&(f.pseudoElement=l),e.animate(c,f)}function KA(e){return typeof e=="function"&&"applyToOptions"in e}function W9({type:e,...t}){return KA(e)&&WA()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class YA extends Jv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:u}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Va(typeof t.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const l=W9(t);this.animation=V9(n,r,s,l,i),l.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const c=Xv(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):U9(n,r,c),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,r,s;const t=(n=this.options)==null?void 0:n.element;!this.isPseudoElement&&(t!=null&&t.isConnected)&&((s=(r=this.animation).commitStyles)==null||s.call(r))}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Ln(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ln(t)}get time(){return Ln(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Bn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&H9()?(this.animation.timeline=t,Fn):n(this)}}const GA={anticipate:SA,backInOut:_A,circInOut:kA};function q9(e){return e in GA}function K9(e){typeof e.ease=="string"&&q9(e.ease)&&(e.ease=GA[e.ease])}const nm=10;class Y9 extends YA{constructor(t){K9(t),$A(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new Zv({...o,autoplay:!1}),u=Math.max(nm,Yt.now()-this.startTime),l=Mr(0,nm,u-nm);n.setWithVelocity(a.sample(Math.max(0,u-l)).value,a.sample(u).value,l),a.stop()}}const Vw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(hi.test(e)||e==="0")&&!e.startsWith("url("));function G9(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Q9(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=Vw(s,t),a=Vw(i,t);return Lf(o===a,`You are trying to animate ${t} from "${s}" to "${i}". "${o?i:s}" is not an animatable value.`,"value-not-animatable"),!o||!a?!1:G9(e)||(n==="spring"||KA(n))&&r}function Ng(e){e.duration=0,e.type="keyframes"}const X9=new Set(["opacity","clipPath","filter","transform"]),J9=$v(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Z9(e){var c;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((c=t==null?void 0:t.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:l}=t.owner.getProps();return J9()&&n&&X9.has(n)&&(n!=="transform"||!l)&&!u&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const eU=40;class tU extends Jv{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:u,motionValue:l,element:c,...d}){var g;super(),this.stop=()=>{var y,w;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Yt.now();const f={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:u,motionValue:l,element:c,...d},h=(c==null?void 0:c.KeyframeResolver)||e1;this.keyframeResolver=new h(a,(y,w,v)=>this.onKeyframesResolved(y,w,f,!v),u,l,c),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,n,r,s){var w,v;this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:u,isHandoff:l,onUpdate:c}=r;this.resolvedAt=Yt.now(),Q9(t,i,o,a)||((os.instantAnimations||!u)&&(c==null||c(Xv(t,r,n))),t[0]=t[t.length-1],Ng(r),r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>eU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},h=!l&&Z9(f),g=(v=(w=f.motionValue)==null?void 0:w.owner)==null?void 0:v.current,y=h?new Y9({...f,element:g}):new Zv(f);y.finished.then(()=>{this.notifyFinished()}).catch(Fn),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),F9()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function QA(e,t,n,r=0,s=1){const i=Array.from(e).sort((l,c)=>l.sortNodePosition(c)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}const nU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function rU(e){const t=nU.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}const sU=4;function XA(e,t,n=1){Va(n<=sU,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[r,s]=rU(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return gA(o)?parseFloat(o):o}return qv(s)?XA(s,t,n+1):s}const iU={type:"spring",stiffness:500,damping:25,restSpeed:10},oU=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),aU={type:"keyframes",duration:.8},uU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lU=(e,{keyframes:t})=>t.length>2?aU:du.has(e)?e.startsWith("scale")?oU(t[1]):iU:uU,cU=e=>e!==null;function dU(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(cU),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}function JA(e,t){if(e!=null&&e.inherit&&t){const{inherit:n,...r}=e;return{...t,...r}}return e}function t1(e,t){const n=(e==null?void 0:e[t])??(e==null?void 0:e.default)??e;return n!==e?JA(n,e):n}function hU({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:u,elapsed:l,...c}){return!!Object.keys(c).length}const n1=(e,t,n,r={},s,i)=>o=>{const a=t1(r,e)||{},u=a.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Bn(u);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-l,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};hU(a)||Object.assign(c,lU(e,c)),c.duration&&(c.duration=Bn(c.duration)),c.repeatDelay&&(c.repeatDelay=Bn(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(Ng(c),c.delay===0&&(d=!0)),(os.instantAnimations||os.skipAnimations||s!=null&&s.shouldSkipAnimations)&&(d=!0,Ng(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,d&&!i&&t.get()!==void 0){const f=dU(c.keyframes,a);if(f!==void 0){We.update(()=>{c.onUpdate(f),c.onComplete()});return}}return a.isSync?new Zv(c):new tU(c)};function Ww(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function r1(e,t,n,r){if(typeof t=="function"){const[s,i]=Ww(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Ww(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function xa(e,t,n){const r=e.getProps();return r1(r,t,n!==void 0?n:r.custom,e)}const ZA=new Set(["width","height","top","left","right","bottom",...cu]),qw=30,fU=e=>!isNaN(parseFloat(e));class pU{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Yt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Yt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=fU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new zv);const r=this.events[t].add(n);return t==="change"?()=>{r(),We.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Yt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>qw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,qw);return bA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wa(e,t){return new pU(e,t)}const Rg=e=>Array.isArray(e);function mU(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Wa(n))}function gU(e){return Rg(e)?e[e.length-1]||0:e}function yU(e,t){const n=xa(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=gU(i[o]);mU(e,o,a)}}const jt=e=>!!(e&&e.getVelocity);function vU(e){return!!(jt(e)&&e.add)}function Pg(e,t){const n=e.getValue("willChange");if(vU(n))return n.add(t);if(!n&&os.WillChange){const r=new os.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function s1(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const bU="framerAppearId",eN="data-"+s1(bU);function tN(e){return e.props[eN]}function xU({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function nN(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i,transitionEnd:o,...a}=t;const u=e.getDefaultTransition();i=i?JA(i,u):u;const l=i==null?void 0:i.reduceMotion;r&&(i=r);const c=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in a){const h=e.getValue(f,e.latestValues[f]??null),g=a[f];if(g===void 0||d&&xU(d,f))continue;const y={delay:n,...t1(i||{},f)},w=h.get();if(w!==void 0&&!h.isAnimating&&!Array.isArray(g)&&g===w&&!y.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const T=tN(e);if(T){const S=window.MotionHandoffAnimation(T,f,We);S!==null&&(y.startTime=S,v=!0)}}Pg(e,f);const b=l??e.shouldReduceMotion;h.start(n1(f,h,g,b&&ZA.has(f)?{type:!1}:y,e,v));const E=h.animation;E&&c.push(E)}if(o){const f=()=>We.update(()=>{o&&yU(e,o)});c.length?Promise.all(c).then(f):f()}return c}function Ig(e,t,n={}){var u;const r=xa(e,t,n.type==="exit"?(u=e.presenceContext)==null?void 0:u.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(nN(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=s;return wU(e,t,l,c,d,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,c]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function wU(e,t,n=0,r=0,s=0,i=1,o){const a=[];for(const u of e.variantChildren)u.notify("AnimationStart",t),a.push(Ig(u,t,{...o,delay:n+(typeof r=="function"?0:r)+QA(e.variantChildren,u,r,s,i)}).then(()=>u.notify("AnimationComplete",t)));return Promise.all(a)}function EU(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Ig(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Ig(e,t,n);else{const s=typeof t=="function"?xa(e,t,n.custom):t;r=Promise.all(nN(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const TU={test:e=>e==="auto",parse:e=>e},rN=e=>t=>t.test(e),sN=[lu,ce,Ir,_s,QB,GB,TU],Kw=e=>sN.find(rN(e));function _U(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||vA(e):!0}const SU=new Set(["brightness","contrast","saturate","opacity"]);function CU(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Kv)||[];if(!r)return e;const s=n.replace(r,"");let i=SU.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const kU=/\b([a-z-]*)\(.*?\)/gu,Og={...hi,getAnimatableNone:e=>{const t=e.match(kU);return t?t.map(CU).join(" "):e}},Yw={...lu,transform:Math.round},AU={rotate:_s,rotateX:_s,rotateY:_s,rotateZ:_s,scale:dd,scaleX:dd,scaleY:dd,scaleZ:dd,skew:_s,skewX:_s,skewY:_s,distance:ce,translateX:ce,translateY:ce,translateZ:ce,x:ce,y:ce,z:ce,perspective:ce,transformPerspective:ce,opacity:Jl,originX:Dw,originY:Dw,originZ:ce},i1={borderWidth:ce,borderTopWidth:ce,borderRightWidth:ce,borderBottomWidth:ce,borderLeftWidth:ce,borderRadius:ce,borderTopLeftRadius:ce,borderTopRightRadius:ce,borderBottomRightRadius:ce,borderBottomLeftRadius:ce,width:ce,maxWidth:ce,height:ce,maxHeight:ce,top:ce,right:ce,bottom:ce,left:ce,inset:ce,insetBlock:ce,insetBlockStart:ce,insetBlockEnd:ce,insetInline:ce,insetInlineStart:ce,insetInlineEnd:ce,padding:ce,paddingTop:ce,paddingRight:ce,paddingBottom:ce,paddingLeft:ce,paddingBlock:ce,paddingBlockStart:ce,paddingBlockEnd:ce,paddingInline:ce,paddingInlineStart:ce,paddingInlineEnd:ce,margin:ce,marginTop:ce,marginRight:ce,marginBottom:ce,marginLeft:ce,marginBlock:ce,marginBlockStart:ce,marginBlockEnd:ce,marginInline:ce,marginInlineStart:ce,marginInlineEnd:ce,fontSize:ce,backgroundPositionX:ce,backgroundPositionY:ce,...AU,zIndex:Yw,fillOpacity:Jl,strokeOpacity:Jl,numOctaves:Yw},NU={...i1,color:gt,backgroundColor:gt,outlineColor:gt,fill:gt,stroke:gt,borderColor:gt,borderTopColor:gt,borderRightColor:gt,borderBottomColor:gt,borderLeftColor:gt,filter:Og,WebkitFilter:Og},iN=e=>NU[e];function oN(e,t){let n=iN(e);return n!==Og&&(n=hi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const RU=new Set(["auto","none","0"]);function PU(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!RU.has(i)&&Zl(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=oN(n,s)}class IU extends e1{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),qv(d))){const f=XA(d,n.current);f!==void 0&&(t[c]=f),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!ZA.has(r)||t.length!==2)return;const[s,i]=t,o=Kw(s),a=Kw(i),u=Ow(s),l=Ow(i);if(u!==l&&Ys[r]){this.needsMeasurement=!0;return}if(o!==a)if($w(o)&&$w(a))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else Ys[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||_U(t[s]))&&r.push(s);r.length&&PU(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ys[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Ys[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([u,l])=>{t.getValue(u).set(l)}),this.resolveNoneKeyframes()}}const OU=new Set(["opacity","clipPath","filter","transform"]);function aN(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e).filter(r=>r!=null)}const uN=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Dg(e){return yA(e)&&"offsetHeight"in e}const{schedule:o1,cancel:Mte}=RA(queueMicrotask,!1),Jn={x:!1,y:!1};function lN(){return Jn.x||Jn.y}function DU(e){return e==="x"||e==="y"?Jn[e]?null:(Jn[e]=!0,()=>{Jn[e]=!1}):Jn.x||Jn.y?null:(Jn.x=Jn.y=!0,()=>{Jn.x=Jn.y=!1})}function cN(e,t){const n=aN(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function LU(e){return!(e.pointerType==="touch"||lN())}function MU(e,t,n={}){const[r,s,i]=cN(e,n);return r.forEach(o=>{let a=!1,u=!1,l;const c=()=>{o.removeEventListener("pointerleave",g)},d=w=>{l&&(l(w),l=void 0),c()},f=w=>{a=!1,window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",f),u&&(u=!1,d(w))},h=()=>{a=!0,window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",f,s)},g=w=>{if(w.pointerType!=="touch"){if(a){u=!0;return}d(w)}},y=w=>{if(!LU(w))return;u=!1;const v=t(o,w);typeof v=="function"&&(l=v,o.addEventListener("pointerleave",g,s))};o.addEventListener("pointerenter",y,s),o.addEventListener("pointerdown",h,s)}),i}const dN=(e,t)=>t?e===t?!0:dN(e,t.parentElement):!1,a1=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,jU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function FU(e){return jU.has(e.tagName)||e.isContentEditable===!0}const BU=new Set(["INPUT","SELECT","TEXTAREA"]);function UU(e){return BU.has(e.tagName)||e.isContentEditable===!0}const zd=new WeakSet;function Gw(e){return t=>{t.key==="Enter"&&e(t)}}function rm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const HU=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Gw(()=>{if(zd.has(n))return;rm(n,"down");const s=Gw(()=>{rm(n,"up")}),i=()=>rm(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Qw(e){return a1(e)&&!lN()}const Xw=new WeakSet;function $U(e,t,n={}){const[r,s,i]=cN(e,n),o=a=>{const u=a.currentTarget;if(!Qw(a)||Xw.has(a))return;zd.add(u),n.stopPropagation&&Xw.add(a);const l=t(u,a),c=(h,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),zd.has(u)&&zd.delete(u),Qw(h)&&typeof l=="function"&&l(h,{success:g})},d=h=>{c(h,u===window||u===document||n.useGlobalTarget||dN(u,h.target))},f=h=>{c(h,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),Dg(a)&&(a.addEventListener("focus",l=>HU(l,s)),!FU(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function u1(e){return yA(e)&&"ownerSVGElement"in e}const Vd=new WeakMap;let Ss;const hN=(e,t,n)=>(r,s)=>s&&s[0]?s[0][e+"Size"]:u1(r)&&"getBBox"in r?r.getBBox()[t]:r[n],zU=hN("inline","width","offsetWidth"),VU=hN("block","height","offsetHeight");function WU({target:e,borderBoxSize:t}){var n;(n=Vd.get(e))==null||n.forEach(r=>{r(e,{get width(){return zU(e,t)},get height(){return VU(e,t)}})})}function qU(e){e.forEach(WU)}function KU(){typeof ResizeObserver>"u"||(Ss=new ResizeObserver(qU))}function YU(e,t){Ss||KU();const n=aN(e);return n.forEach(r=>{let s=Vd.get(r);s||(s=new Set,Vd.set(r,s)),s.add(t),Ss==null||Ss.observe(r)}),()=>{n.forEach(r=>{const s=Vd.get(r);s==null||s.delete(t),s!=null&&s.size||Ss==null||Ss.unobserve(r)})}}const Wd=new Set;let oa;function GU(){oa=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Wd.forEach(t=>t(e))},window.addEventListener("resize",oa)}function QU(e){return Wd.add(e),oa||GU(),()=>{Wd.delete(e),!Wd.size&&typeof oa=="function"&&(window.removeEventListener("resize",oa),oa=void 0)}}function Jw(e,t){return typeof e=="function"?QU(e):YU(e,t)}function XU(e){return u1(e)&&e.tagName==="svg"}const JU=[...sN,gt,hi],ZU=e=>JU.find(rN(e)),Zw=()=>({translate:0,scale:1,origin:0,originPoint:0}),aa=()=>({x:Zw(),y:Zw()}),eE=()=>({min:0,max:0}),bt=()=>({x:eE(),y:eE()}),e7=new WeakMap;function Mf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ec(e){return typeof e=="string"||Array.isArray(e)}const l1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],c1=["initial",...l1];function jf(e){return Mf(e.animate)||c1.some(t=>ec(e[t]))}function fN(e){return!!(jf(e)||e.variants)}function t7(e,t,n){for(const r in t){const s=t[r],i=n[r];if(jt(s))e.addValue(r,s);else if(jt(i))e.addValue(r,Wa(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Wa(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Lg={current:null},pN={current:!1},n7=typeof window<"u";function r7(){if(pN.current=!0,!!n7)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Lg.current=e.matches;e.addEventListener("change",t),t()}else Lg.current=!1}const tE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Hh={};function mN(e){Hh=e}function s7(){return Hh}class i7{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,skipAnimations:i,blockInitialAnimation:o,visualState:a},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=e1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Yt.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,We.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.skipAnimationsConfig=i,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=jf(n),this.isVariantNode=fN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const g=f[h];l[h]!==void 0&&jt(g)&&g.set(l[h])}}mount(t){var n,r;if(this.hasBeenMounted)for(const s in this.initialValues)(n=this.values.get(s))==null||n.jump(this.initialValues[s]),this.latestValues[s]=this.initialValues[s];this.current=t,e7.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(pN.current||r7(),this.shouldReduceMotion=Lg.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var t;this.projection&&this.projection.unmount(),di(this.notifyUpdate),di(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),n.accelerate&&OU.has(t)&&this.current instanceof HTMLElement){const{factory:o,keyframes:a,times:u,ease:l,duration:c}=n.accelerate,d=new YA({element:this.current,name:t,keyframes:a,times:u,ease:l,duration:Bn(c)}),f=o(d);this.valueSubscriptions.set(t,()=>{f(),d.cancel()});return}const r=du.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&We.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;typeof window<"u"&&window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Hh){const n=Hh[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<tE.length;r++){const s=tE[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=t7(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Wa(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(gA(r)||vA(r))?r=parseFloat(r):!ZU(r)&&hi.test(n)&&(r=oN(t,n)),this.setBaseTarget(t,jt(r)?r.get():r)),jt(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=r1(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!jt(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new zv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){o1.render(this.render)}}class gN extends i7{constructor(){super(...arguments),this.KeyframeResolver=IU}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const r=t.style;return r?r[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;jt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class wi{constructor(t){this.isMounted=!1,this.node=t}update(){}}function yN({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function o7({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function a7(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function sm(e){return e===void 0||e===1}function Mg({scale:e,scaleX:t,scaleY:n}){return!sm(e)||!sm(t)||!sm(n)}function Mi(e){return Mg(e)||vN(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function vN(e){return nE(e.x)||nE(e.y)}function nE(e){return e&&e!=="0%"}function $h(e,t,n){const r=e-n,s=t*r;return n+s}function rE(e,t,n,r,s){return s!==void 0&&(e=$h(e,s,r)),$h(e,n,r)+t}function jg(e,t=0,n=1,r,s){e.min=rE(e.min,t,n,r,s),e.max=rE(e.max,t,n,r,s)}function bN(e,{x:t,y:n}){jg(e.x,t.translate,t.scale,t.originPoint),jg(e.y,n.translate,n.scale,n.originPoint)}const sE=.999999999999,iE=1.0000000000001;function u7(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&la(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,bN(e,o)),r&&Mi(i.latestValues)&&la(e,i.latestValues))}t.x<iE&&t.x>sE&&(t.x=1),t.y<iE&&t.y>sE&&(t.y=1)}function ua(e,t){e.min=e.min+t,e.max=e.max+t}function oE(e,t,n,r,s=.5){const i=tt(e.min,e.max,s);jg(e,t,n,i,r)}function la(e,t){oE(e.x,t.x,t.scaleX,t.scale,t.originX),oE(e.y,t.y,t.scaleY,t.scale,t.originY)}function xN(e,t){return yN(a7(e.getBoundingClientRect(),t))}function l7(e,t,n){const r=xN(e,n),{scroll:s}=t;return s&&(ua(r.x,s.offset.x),ua(r.y,s.offset.y)),r}const c7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},d7=cu.length;function h7(e,t,n){let r="",s=!0;for(let i=0;i<d7;i++){const o=cu[i],a=e[o];if(a===void 0)continue;let u=!0;if(typeof a=="number")u=a===(o.startsWith("scale")?1:0);else{const l=parseFloat(a);u=o.startsWith("scale")?l===1:l===0}if(!u||n){const l=uN(a,i1[o]);if(!u){s=!1;const c=c7[o]||o;r+=`${c}(${l}) `}n&&(t[o]=l)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function d1(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const u in t){const l=t[u];if(du.has(u)){o=!0;continue}else if(IA(u)){s[u]=l;continue}else{const c=uN(l,i1[u]);u.startsWith("origin")?(a=!0,i[u]=c):r[u]=c}}if(t.transform||(o||n?r.transform=h7(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:u="50%",originY:l="50%",originZ:c=0}=i;r.transformOrigin=`${u} ${l} ${c}`}}function wN(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function aE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ru={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ce.test(e))e=parseFloat(e);else return e;const n=aE(e,t.target.x),r=aE(e,t.target.y);return`${n}% ${r}%`}},f7={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=hi.parse(e);if(s.length>5)return r;const i=hi.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,u=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=u;const l=tt(a,u,.5);return typeof s[2+o]=="number"&&(s[2+o]/=l),typeof s[3+o]=="number"&&(s[3+o]/=l),i(s)}},Fg={borderRadius:{...Ru,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ru,borderTopRightRadius:Ru,borderBottomLeftRadius:Ru,borderBottomRightRadius:Ru,boxShadow:f7};function EN(e,{layout:t,layoutId:n}){return du.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Fg[e]||e==="opacity")}function h1(e,t,n){var o;const r=e.style,s=t==null?void 0:t.style,i={};if(!r)return i;for(const a in r)(jt(r[a])||s&&jt(s[a])||EN(a,e)||((o=n==null?void 0:n.getValue(a))==null?void 0:o.liveStyle)!==void 0)&&(i[a]=r[a]);return i}function p7(e){return window.getComputedStyle(e)}class m7 extends gN{constructor(){super(...arguments),this.type="html",this.renderInstance=wN}readValueFromInstance(t,n){var r;if(du.has(n))return(r=this.projection)!=null&&r.isProjecting?_g(n):O9(t,n);{const s=p7(t),i=(IA(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return xN(t,n)}build(t,n,r){d1(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return h1(t,n,r)}}const g7={offset:"stroke-dashoffset",array:"stroke-dasharray"},y7={offset:"strokeDashoffset",array:"strokeDasharray"};function v7(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?g7:y7;e[i.offset]=`${-r}`,e[i.array]=`${t} ${n}`}const b7=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function TN(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},u,l,c){if(d1(e,a,l),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:f}=e;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete d.transformBox);for(const h of b7)d[h]!==void 0&&(f[h]=d[h],delete d[h]);t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),s!==void 0&&v7(d,s,i,o,!1)}const _N=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),SN=e=>typeof e=="string"&&e.toLowerCase()==="svg";function x7(e,t,n,r){wN(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(_N.has(s)?s:s1(s),t.attrs[s])}function CN(e,t,n){const r=h1(e,t,n);for(const s in e)if(jt(e[s])||jt(t[s])){const i=cu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}class w7 extends gN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(du.has(n)){const r=iN(n);return r&&r.default||0}return n=_N.has(n)?n:s1(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return CN(t,n,r)}build(t,n,r){TN(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){x7(t,n,r,s)}mount(t){this.isSVGTag=SN(t.tagName),super.mount(t)}}const E7=c1.length;function kN(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?kN(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<E7;n++){const r=c1[n],s=e.props[r];(ec(s)||s===!1)&&(t[r]=s)}return t}function AN(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const T7=[...l1].reverse(),_7=l1.length;function S7(e){return t=>Promise.all(t.map(({animation:n,options:r})=>EU(e,n,r)))}function C7(e){let t=S7(e),n=uE(),r=!0;const s=u=>(l,c)=>{var f;const d=xa(e,c,u==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:h,transitionEnd:g,...y}=d;l={...l,...y,...g}}return l};function i(u){t=u(e)}function o(u){const{props:l}=e,c=kN(e.parent)||{},d=[],f=new Set;let h={},g=1/0;for(let w=0;w<_7;w++){const v=T7[w],b=n[v],E=l[v]!==void 0?l[v]:c[v],T=ec(E),S=v===u?b.isActive:null;S===!1&&(g=w);let _=E===c[v]&&E!==l[v]&&T;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),b.protectedKeys={...h},!b.isActive&&S===null||!E&&!b.prevProp||Mf(E)||typeof E=="boolean")continue;if(v==="exit"&&b.isActive&&S!==!0){b.prevResolvedValues&&(h={...h,...b.prevResolvedValues});continue}const k=k7(b.prevProp,E);let I=k||v===u&&b.isActive&&!_&&T||w>g&&T,M=!1;const P=Array.isArray(E)?E:[E];let H=P.reduce(s(v),{});S===!1&&(H={});const{prevResolvedValues:U={}}=b,G={...U,...H},W=J=>{I=!0,f.has(J)&&(M=!0,f.delete(J)),b.needsAnimating[J]=!0;const B=e.getValue(J);B&&(B.liveStyle=!1)};for(const J in G){const B=H[J],L=U[J];if(h.hasOwnProperty(J))continue;let C=!1;Rg(B)&&Rg(L)?C=!AN(B,L):C=B!==L,C?B!=null?W(J):f.add(J):B!==void 0&&f.has(J)?W(J):b.protectedKeys[J]=!0}b.prevProp=E,b.prevResolvedValues=H,b.isActive&&(h={...h,...H}),r&&e.blockInitialAnimation&&(I=!1);const K=_&&k;I&&(!K||M)&&d.push(...P.map(J=>{const B={type:v};if(typeof J=="string"&&r&&!K&&e.manuallyAnimateOnMount&&e.parent){const{parent:L}=e,C=xa(L,J);if(L.enteringChildren&&C){const{delayChildren:te}=C.transition||{};B.delay=QA(L.enteringChildren,e,te)}}return{animation:J,options:B}}))}if(f.size){const w={};if(typeof l.initial!="boolean"){const v=xa(e,Array.isArray(l.initial)?l.initial[0]:l.initial);v&&v.transition&&(w.transition=v.transition)}f.forEach(v=>{const b=e.getBaseTarget(v),E=e.getValue(v);E&&(E.liveStyle=!0),w[v]=b??null}),d.push({animation:w})}let y=!!d.length;return r&&(l.initial===!1||l.initial===l.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(d):Promise.resolve()}function a(u,l){var d;if(n[u].isActive===l)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(f=>{var h;return(h=f.animationState)==null?void 0:h.setActive(u,l)}),n[u].isActive=l;const c=o(u);for(const f in n)n[f].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=uE()}}}function k7(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!AN(t,e):!1}function Ri(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uE(){return{animate:Ri(!0),whileInView:Ri(),whileHover:Ri(),whileTap:Ri(),whileDrag:Ri(),whileFocus:Ri(),exit:Ri()}}function lE(e,t){e.min=t.min,e.max=t.max}function Qn(e,t){lE(e.x,t.x),lE(e.y,t.y)}function cE(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const NN=1e-4,A7=1-NN,N7=1+NN,RN=.01,R7=0-RN,P7=0+RN;function Gt(e){return e.max-e.min}function I7(e,t,n){return Math.abs(e-t)<=n}function dE(e,t,n,r=.5){e.origin=r,e.originPoint=tt(t.min,t.max,e.origin),e.scale=Gt(n)/Gt(t),e.translate=tt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=A7&&e.scale<=N7||isNaN(e.scale))&&(e.scale=1),(e.translate>=R7&&e.translate<=P7||isNaN(e.translate))&&(e.translate=0)}function cl(e,t,n,r){dE(e.x,t.x,n.x,r?r.originX:void 0),dE(e.y,t.y,n.y,r?r.originY:void 0)}function hE(e,t,n){e.min=n.min+t.min,e.max=e.min+Gt(t)}function O7(e,t,n){hE(e.x,t.x,n.x),hE(e.y,t.y,n.y)}function fE(e,t,n){e.min=t.min-n.min,e.max=e.min+Gt(t)}function zh(e,t,n){fE(e.x,t.x,n.x),fE(e.y,t.y,n.y)}function pE(e,t,n,r,s){return e-=t,e=$h(e,1/n,r),s!==void 0&&(e=$h(e,1/s,r)),e}function D7(e,t=0,n=1,r=.5,s,i=e,o=e){if(Ir.test(t)&&(t=parseFloat(t),t=tt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=tt(i.min,i.max,r);e===i&&(a-=t),e.min=pE(e.min,t,n,a,s),e.max=pE(e.max,t,n,a,s)}function mE(e,t,[n,r,s],i,o){D7(e,t[n],t[r],t[s],t.scale,i,o)}const L7=["x","scaleX","originX"],M7=["y","scaleY","originY"];function gE(e,t,n,r){mE(e.x,t,L7,n?n.x:void 0,r?r.x:void 0),mE(e.y,t,M7,n?n.y:void 0,r?r.y:void 0)}function yE(e){return e.translate===0&&e.scale===1}function PN(e){return yE(e.x)&&yE(e.y)}function vE(e,t){return e.min===t.min&&e.max===t.max}function j7(e,t){return vE(e.x,t.x)&&vE(e.y,t.y)}function bE(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function IN(e,t){return bE(e.x,t.x)&&bE(e.y,t.y)}function xE(e){return Gt(e.x)/Gt(e.y)}function wE(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function br(e){return[e("x"),e("y")]}function F7(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:l,rotate:c,rotateX:d,rotateY:f,skewX:h,skewY:g}=n;l&&(r=`perspective(${l}px) ${r}`),c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),h&&(r+=`skewX(${h}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=e.x.scale*t.x,u=e.y.scale*t.y;return(a!==1||u!==1)&&(r+=`scale(${a}, ${u})`),r||"none"}const ON=["TopLeft","TopRight","BottomLeft","BottomRight"],B7=ON.length,EE=e=>typeof e=="string"?parseFloat(e):e,TE=e=>typeof e=="number"||ce.test(e);function U7(e,t,n,r,s,i){s?(e.opacity=tt(0,n.opacity??1,H7(r)),e.opacityExit=tt(t.opacity??1,0,$7(r))):i&&(e.opacity=tt(t.opacity??1,n.opacity??1,r));for(let o=0;o<B7;o++){const a=`border${ON[o]}Radius`;let u=_E(t,a),l=_E(n,a);if(u===void 0&&l===void 0)continue;u||(u=0),l||(l=0),u===0||l===0||TE(u)===TE(l)?(e[a]=Math.max(tt(EE(u),EE(l),r),0),(Ir.test(l)||Ir.test(u))&&(e[a]+="%")):e[a]=l}(t.rotate||n.rotate)&&(e.rotate=tt(t.rotate||0,n.rotate||0,r))}function _E(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const H7=DN(0,.5,CA),$7=DN(.5,.95,Fn);function DN(e,t,n){return r=>r<e?0:r>t?1:n(Xl(e,t,r))}function z7(e,t,n){const r=jt(e)?e:Wa(e);return r.start(n1("",r,t,n)),r.animation}function tc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const V7=(e,t)=>e.depth-t.depth;class W7{constructor(){this.children=[],this.isDirty=!1}add(t){Hv(this.children,t),this.isDirty=!0}remove(t){jh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(V7),this.isDirty=!1,this.children.forEach(t)}}function q7(e,t){const n=Yt.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(di(r),e(i-t))};return We.setup(r,!0),()=>di(r)}function qd(e){return jt(e)?e.get():e}class K7{constructor(){this.members=[]}add(t){Hv(this.members,t);for(let n=this.members.length-1;n>=0;n--){const r=this.members[n];if(r===t||r===this.lead||r===this.prevLead)continue;const s=r.instance;s&&s.isConnected===!1&&r.isPresent!==!1&&!r.snapshot&&jh(this.members,r)}t.scheduleRender()}remove(t){if(jh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s],o=i.instance;if(i.isPresent!==!1&&(!o||o.isConnected!==!1)){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender();const s=r.options.layoutDependency,i=t.options.layoutDependency;if(!(s!==void 0&&i!==void 0&&s===i)){const u=r.instance;u&&u.isConnected===!1&&!r.snapshot||(t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Kd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},im=["","X","Y","Z"],Y7=1e3;let G7=0;function om(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function LN(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=tN(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",We,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&LN(r)}function MN({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=G7++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(J7),this.nodes.forEach(nH),this.nodes.forEach(rH),this.nodes.forEach(Z7)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new W7)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new zv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const u=this.eventHandlers.get(o);u&&u.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=u1(o)&&!XU(o),this.instance=o;const{layoutId:a,layout:u,visualElement:l}=this.options;if(l&&!l.current&&l.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||a)&&(this.isLayoutDirty=!0),e){let c,d=0;const f=()=>this.root.updateBlockedByResize=!1;We.read(()=>{d=window.innerWidth}),e(o,()=>{const h=window.innerWidth;h!==d&&(d=h,this.root.updateBlockedByResize=!0,c&&c(),c=q7(f,250),Kd.hasAnimatedSinceResize&&(Kd.hasAnimatedSinceResize=!1,this.nodes.forEach(kE)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&l&&(a||u)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||l.getDefaultTransition()||uH,{onLayoutAnimationStart:y,onLayoutAnimationComplete:w}=l.getProps(),v=!this.targetLayout||!IN(this.targetLayout,h),b=!d&&f;if(this.options.layoutRoot||this.resumeFrom||b||d&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...t1(g,"layout"),onPlay:y,onComplete:w};(l.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(c,b)}else d||kE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),di(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&LN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(SE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(CE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(tH),this.nodes.forEach(Q7),this.nodes.forEach(X7)):this.nodes.forEach(CE),this.clearAllSnapshots();const a=Yt.now();Rt.delta=Mr(0,1e3/60,a-Rt.timestamp),Rt.timestamp=a,Rt.isProcessing=!0,Xp.update.process(Rt),Xp.preRender.process(Rt),Xp.render.process(Rt),Rt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,o1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eH),this.sharedNodes.forEach(iH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,We.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){We.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Gt(this.snapshot.measuredBox.x)&&!Gt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!PN(this.projectionDelta),u=this.getTransformTemplate(),l=u?u(this.latestValues,""):void 0,c=l!==this.prevTransformTemplateValue;o&&this.instance&&(a||Mi(this.latestValues)||c)&&(s(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return o&&(u=this.removeTransform(u)),lH(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:o}=this.options;if(!o)return bt();const a=o.measureViewportBox();if(!(((l=this.scroll)==null?void 0:l.wasRoot)||this.path.some(cH))){const{scroll:c}=this.root;c&&(ua(a.x,c.offset.x),ua(a.y,c.offset.y))}return a}removeElementScroll(o){var u;const a=bt();if(Qn(a,o),(u=this.scroll)!=null&&u.wasRoot)return a;for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:f}=c;c!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Qn(a,o),ua(a.x,d.offset.x),ua(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const u=bt();Qn(u,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&la(u,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Mi(c.latestValues)&&la(u,c.latestValues)}return Mi(this.latestValues)&&la(u,this.latestValues),u}removeTransform(o){const a=bt();Qn(a,o);for(let u=0;u<this.path.length;u++){const l=this.path[u];if(!l.instance||!Mi(l.latestValues))continue;Mg(l.latestValues)&&l.updateSnapshot();const c=bt(),d=l.measurePageBox();Qn(c,d),gE(a,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,c)}return Mi(this.latestValues)&&gE(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==a;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:d}=this.options;if(!this.layout||!(c||d))return;this.resolvedRelativeTargetAt=Rt.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=bt(),this.targetWithTransforms=bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),O7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qn(this.target,this.layout.layoutBox),bN(this.target,this.targetDelta)):Qn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Mg(this.parent.latestValues)||vN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,u){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),zh(this.relativeTargetOrigin,a,u),Qn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var g;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(u=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Rt.timestamp&&(u=!1),u)return;const{layout:l,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(l||c))return;Qn(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;u7(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=bt());const{target:h}=o;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(cE(this.prevProjectionDelta.x,this.projectionDelta.x),cE(this.prevProjectionDelta.y,this.projectionDelta.y)),cl(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!wE(this.projectionDelta.x,this.prevProjectionDelta.x)||!wE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=aa(),this.projectionDelta=aa(),this.projectionDeltaWithTransform=aa()}setAnimationOrigin(o,a=!1){const u=this.snapshot,l=u?u.latestValues:{},c={...this.latestValues},d=aa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=bt(),h=u?u.source:void 0,g=this.layout?this.layout.source:void 0,y=h!==g,w=this.getStack(),v=!w||w.members.length<=1,b=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(aH));this.animationProgress=0;let E;this.mixTargetDelta=T=>{const S=T/1e3;AE(d.x,o.x,S),AE(d.y,o.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zh(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oH(this.relativeTarget,this.relativeTargetOrigin,f,S),E&&j7(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=bt()),Qn(E,this.relativeTarget)),y&&(this.animationValues=c,U7(c,l,this.latestValues,S,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,u,l;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(l=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||l.stop(),this.pendingAnimation&&(di(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=We.update(()=>{Kd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wa(0)),this.currentAnimation=z7(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Y7),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:u,layout:l,latestValues:c}=o;if(!(!a||!u||!l)){if(this!==o&&this.layout&&l&&jN(this.options.animationType,this.layout.layoutBox,l.layoutBox)){u=this.target||bt();const d=Gt(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+d;const f=Gt(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+f}Qn(a,u),la(a,c),cl(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new K7),this.sharedNodes.get(o).add(a);const l=a.options.initialPromotionConfig;a.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:u}={}){const l=this.getStack();l&&l.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(a=!0),!a)return;const l={};u.z&&om("z",o,l,this.animationValues);for(let c=0;c<im.length;c++)om(`rotate${im[c]}`,o,l,this.animationValues),om(`skew${im[c]}`,o,l,this.animationValues);o.render();for(const c in l)o.setStaticValue(c,l[c]),this.animationValues&&(this.animationValues[c]=l[c]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=qd(a==null?void 0:a.pointerEvents)||"",o.transform=u?u(this.latestValues,""):"none";return}const l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=qd(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Mi(this.latestValues)&&(o.transform=u?u({},""):"none",this.hasProjected=!1);return}o.visibility="";const c=l.animationValues||l.latestValues;this.applyTransformsToTarget();let d=F7(this.projectionDeltaWithTransform,this.treeScale,c);u&&(d=u(c,d)),o.transform=d;const{x:f,y:h}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,l.animationValues?o.opacity=l===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:o.opacity=l===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const g in Fg){if(c[g]===void 0)continue;const{correct:y,applyTo:w,isCSSVariable:v}=Fg[g],b=d==="none"?c[g]:y(c[g],l);if(w){const E=w.length;for(let T=0;T<E;T++)o[w[T]]=b}else v?this.options.visualElement.renderState.vars[g]=b:o[g]=b}this.options.layoutId&&(o.pointerEvents=l===this?qd(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(SE),this.root.sharedNodes.clear()}}}function Q7(e){e.updateLayout()}function X7(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?br(d=>{const f=o?t.measuredBox[d]:t.layoutBox[d],h=Gt(f);f.min=r[d].min,f.max=f.min+h}):jN(i,t.layoutBox,r)&&br(d=>{const f=o?t.measuredBox[d]:t.layoutBox[d],h=Gt(r[d]);f.max=f.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+h)});const a=aa();cl(a,r,t.layoutBox);const u=aa();o?cl(u,e.applyTransform(s,!0),t.measuredBox):cl(u,r,t.layoutBox);const l=!PN(a);let c=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const g=bt();zh(g,t.layoutBox,f.layoutBox);const y=bt();zh(y,r,h.layoutBox),IN(g,y)||(c=!0),d.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=g,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:u,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function J7(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Z7(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function eH(e){e.clearSnapshot()}function SE(e){e.clearMeasurements()}function CE(e){e.isLayoutDirty=!1}function tH(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function kE(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function nH(e){e.resolveTargetDelta()}function rH(e){e.calcProjection()}function sH(e){e.resetSkewAndRotation()}function iH(e){e.removeLeadSnapshot()}function AE(e,t,n){e.translate=tt(t.translate,0,n),e.scale=tt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function NE(e,t,n,r){e.min=tt(t.min,n.min,r),e.max=tt(t.max,n.max,r)}function oH(e,t,n,r){NE(e.x,t.x,n.x,r),NE(e.y,t.y,n.y,r)}function aH(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const uH={duration:.45,ease:[.4,0,.1,1]},RE=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),PE=RE("applewebkit/")&&!RE("chrome/")?Math.round:Fn;function IE(e){e.min=PE(e.min),e.max=PE(e.max)}function lH(e){IE(e.x),IE(e.y)}function jN(e,t,n){return e==="position"||e==="preserve-aspect"&&!I7(xE(t),xE(n),.2)}function cH(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const dH=MN({attachResizeListener:(e,t)=>tc(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),am={current:void 0},FN=MN({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!am.current){const e=new dH({});e.mount(window),e.setOptions({layoutScroll:!0}),am.current=e}return am.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),f1=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function OE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function hH(...e){return t=>{let n=!1;const r=e.map(s=>{const i=OE(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():OE(e[s],null)}}}}function fH(...e){return x.useCallback(hH(...e),e)}class pH extends x.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=n.offsetParent,s=Dg(r)&&r.offsetWidth||0,i=Dg(r)&&r.offsetHeight||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left,o.bottom=i-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function mH({children:e,isPresent:t,anchorX:n,anchorY:r,root:s,pop:i}){var f;const o=x.useId(),a=x.useRef(null),u=x.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:l}=x.useContext(f1),c=((f=e.props)==null?void 0:f.ref)??(e==null?void 0:e.ref),d=fH(a,c);return x.useInsertionEffect(()=>{const{width:h,height:g,top:y,left:w,right:v,bottom:b}=u.current;if(t||i===!1||!a.current||!h||!g)return;const E=n==="left"?`left: ${w}`:`right: ${v}`,T=r==="bottom"?`bottom: ${b}`:`top: ${y}`;a.current.dataset.motionPopId=o;const S=document.createElement("style");l&&(S.nonce=l);const _=s??document.head;return _.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${g}px !important;
            ${E}px !important;
            ${T}px !important;
          }
        `),()=>{_.contains(S)&&_.removeChild(S)}},[t]),p.jsx(pH,{isPresent:t,childRef:a,sizeRef:u,pop:i,children:i===!1?e:x.cloneElement(e,{ref:d})})}const gH=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,anchorY:u,root:l})=>{const c=Uv(yH),d=x.useId();let f=!0,h=x.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:n,custom:s,onExitComplete:g=>{c.set(g,!0);for(const y of c.values())if(!y)return;r&&r()},register:g=>(c.set(g,!1),()=>c.delete(g))}),[n,c,r]);return i&&f&&(h={...h}),x.useMemo(()=>{c.forEach((g,y)=>c.set(y,!1))},[n]),x.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),e=p.jsx(mH,{pop:o==="popLayout",isPresent:n,anchorX:a,anchorY:u,root:l,children:e}),p.jsx(Df.Provider,{value:h,children:e})};function yH(){return new Map}function BN(e=!0){const t=x.useContext(Df);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=x.useId();x.useEffect(()=>{if(e)return s(i)},[e]);const o=x.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const hd=e=>e.key||"";function DE(e){const t=[];return x.Children.forEach(e,n=>{x.isValidElement(n)&&t.push(n)}),t}const nc=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",anchorY:u="top",root:l})=>{const[c,d]=BN(o),f=x.useMemo(()=>DE(e),[e]),h=o&&!c?[]:f.map(hd),g=x.useRef(!0),y=x.useRef(f),w=Uv(()=>new Map),v=x.useRef(new Set),[b,E]=x.useState(f),[T,S]=x.useState(f);mA(()=>{g.current=!1,y.current=f;for(let I=0;I<T.length;I++){const M=hd(T[I]);h.includes(M)?(w.delete(M),v.current.delete(M)):w.get(M)!==!0&&w.set(M,!1)}},[T,h.length,h.join("-")]);const _=[];if(f!==b){let I=[...f];for(let M=0;M<T.length;M++){const P=T[M],H=hd(P);h.includes(H)||(I.splice(M,0,P),_.push(P))}return i==="wait"&&_.length&&(I=_),S(DE(I)),E(f),null}const{forceRender:k}=x.useContext(Bv);return p.jsx(p.Fragment,{children:T.map(I=>{const M=hd(I),P=o&&!c?!1:f===T||h.includes(M),H=()=>{if(v.current.has(M))return;if(v.current.add(M),w.has(M))w.set(M,!0);else return;let U=!0;w.forEach(G=>{G||(U=!1)}),U&&(k==null||k(),S(y.current),o&&(d==null||d()),r&&r())};return p.jsx(gH,{isPresent:P,initial:!g.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:P?void 0:H,anchorX:a,anchorY:u,children:I},M)})})},UN=x.createContext({strict:!1}),LE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let ME=!1;function vH(){if(ME)return;const e={};for(const t in LE)e[t]={isEnabled:n=>LE[t].some(r=>!!n[r])};mN(e),ME=!0}function HN(){return vH(),s7()}function bH(e){const t=HN();for(const n in e)t[n]={...t[n],...e[n]};mN(t)}const xH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Vh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||xH.has(e)}let $N=e=>!Vh(e);function wH(e){typeof e=="function"&&($N=t=>t.startsWith("on")?!Vh(t):e(t))}try{wH(require("@emotion/is-prop-valid").default)}catch{}function EH(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||($N(s)||n===!0&&Vh(s)||!t&&!Vh(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const Ff=x.createContext({});function TH(e,t){if(jf(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ec(n)?n:void 0,animate:ec(r)?r:void 0}}return e.inherit!==!1?t:{}}function _H(e){const{initial:t,animate:n}=TH(e,x.useContext(Ff));return x.useMemo(()=>({initial:t,animate:n}),[jE(t),jE(n)])}function jE(e){return Array.isArray(e)?e.join(" "):e}const p1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function zN(e,t,n){for(const r in t)!jt(t[r])&&!EN(r,n)&&(e[r]=t[r])}function SH({transformTemplate:e},t){return x.useMemo(()=>{const n=p1();return d1(n,t,e),Object.assign({},n.vars,n.style)},[t])}function CH(e,t){const n=e.style||{},r={};return zN(r,n,e),Object.assign(r,SH(e,t)),r}function kH(e,t){const n={},r=CH(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const VN=()=>({...p1(),attrs:{}});function AH(e,t,n,r){const s=x.useMemo(()=>{const i=VN();return TN(i,t,SN(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};zN(i,e.style,e),s.style={...i,...s.style}}return s}const NH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function m1(e){return typeof e!="string"||e.includes("-")?!1:!!(NH.indexOf(e)>-1||/[A-Z]/u.test(e))}function RH(e,t,n,{latestValues:r},s,i=!1,o){const u=(o??m1(e)?AH:kH)(t,r,s,e),l=EH(t,typeof e=="string",i),c=e!==x.Fragment?{...l,...u,ref:n}:{},{children:d}=t,f=x.useMemo(()=>jt(d)?d.get():d,[d]);return x.createElement(e,{...c,children:f})}function PH({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:IH(n,r,s,e),renderState:t()}}function IH(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=qd(i[f]);let{initial:o,animate:a}=e;const u=jf(e),l=fN(e);t&&l&&!u&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const d=c?a:o;if(d&&typeof d!="boolean"&&!Mf(d)){const f=Array.isArray(d)?d:[d];for(let h=0;h<f.length;h++){const g=r1(e,f[h]);if(g){const{transitionEnd:y,transition:w,...v}=g;for(const b in v){let E=v[b];if(Array.isArray(E)){const T=c?E.length-1:0;E=E[T]}E!==null&&(s[b]=E)}for(const b in y)s[b]=y[b]}}}return s}const WN=e=>(t,n)=>{const r=x.useContext(Ff),s=x.useContext(Df),i=()=>PH(e,t,r,s);return n?i():Uv(i)},OH=WN({scrapeMotionValuesFromProps:h1,createRenderState:p1}),DH=WN({scrapeMotionValuesFromProps:CN,createRenderState:VN}),LH=Symbol.for("motionComponentSymbol");function MH(e,t,n){const r=x.useRef(n);x.useInsertionEffect(()=>{r.current=n});const s=x.useRef(null);return x.useCallback(i=>{var a;i&&((a=e.onMount)==null||a.call(e,i)),t&&(i?t.mount(i):t.unmount());const o=r.current;if(typeof o=="function")if(i){const u=o(i);typeof u=="function"&&(s.current=u)}else s.current?(s.current(),s.current=null):o(i);else o&&(o.current=i)},[t])}const qN=x.createContext({});function $o(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function jH(e,t,n,r,s,i){var E,T;const{visualElement:o}=x.useContext(Ff),a=x.useContext(UN),u=x.useContext(Df),l=x.useContext(f1),c=l.reducedMotion,d=l.skipAnimations,f=x.useRef(null),h=x.useRef(!1);r=r||a.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c,skipAnimations:d,isSVG:i}),h.current&&f.current&&(f.current.manuallyAnimateOnMount=!0));const g=f.current,y=x.useContext(qN);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&FH(f.current,n,s,y);const w=x.useRef(!1);x.useInsertionEffect(()=>{g&&w.current&&g.update(n,u)});const v=n[eN],b=x.useRef(!!v&&!((E=window.MotionHandoffIsComplete)!=null&&E.call(window,v))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,v)));return mA(()=>{h.current=!0,g&&(w.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),b.current&&g.animationState&&g.animationState.animateChanges())}),x.useEffect(()=>{g&&(!b.current&&g.animationState&&g.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,v)}),b.current=!1),g.enteringChildren=void 0)}),g}function FH(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:u,layoutRoot:l,layoutCrossfade:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:KN(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&$o(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:u,layoutRoot:l})}function KN(e){if(e)return e.options.allowProjection!==!1?e.projection:KN(e.parent)}function um(e,{forwardMotionProps:t=!1,type:n}={},r,s){r&&bH(r);const i=n?n==="svg":m1(e),o=i?DH:OH;function a(l,c){let d;const f={...x.useContext(f1),...l,layoutId:BH(l)},{isStatic:h}=f,g=_H(l),y=o(l,h);if(!h&&pA){UH();const w=HH(f);d=w.MeasureLayout,g.visualElement=jH(e,y,f,s,w.ProjectionNode,i)}return p.jsxs(Ff.Provider,{value:g,children:[d&&g.visualElement?p.jsx(d,{visualElement:g.visualElement,...f}):null,RH(e,l,MH(y,g.visualElement,c),y,h,t,i)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const u=x.forwardRef(a);return u[LH]=e,u}function BH({layoutId:e}){const t=x.useContext(Bv).id;return t&&e!==void 0?t+"-"+e:e}function UH(e,t){x.useContext(UN).strict}function HH(e){const t=HN(),{drag:n,layout:r}=t;if(!n&&!r)return{};const s={...n,...r};return{MeasureLayout:n!=null&&n.isEnabled(e)||r!=null&&r.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function $H(e,t){if(typeof Proxy>"u")return um;const n=new Map,r=(i,o)=>um(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,um(o,void 0,e,t)),n.get(o))})}const zH=(e,t)=>t.isSVG??m1(e)?new w7(t):new m7(t,{allowProjection:e!==x.Fragment});class VH extends wi{constructor(t){super(t),t.animationState||(t.animationState=C7(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Mf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let WH=0;class qH extends wi{constructor(){super(...arguments),this.id=WH++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const KH={animation:{Feature:VH},exit:{Feature:qH}};function _c(e){return{point:{x:e.pageX,y:e.pageY}}}const YH=e=>t=>a1(t)&&e(t,_c(t));function dl(e,t,n,r){return tc(e,t,YH(n),r)}const YN=({current:e})=>e?e.ownerDocument.defaultView:null,FE=(e,t)=>Math.abs(e-t);function GH(e,t){const n=FE(e.x,t.x),r=FE(e.y,t.y);return Math.sqrt(n**2+r**2)}const BE=new Set(["auto","scroll"]);class GN{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=h=>{this.handleScroll(h.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=cm(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,y=GH(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!y)return;const{point:w}=h,{timestamp:v}=Rt;this.history.push({...w,timestamp:v});const{onStart:b,onMove:E}=this.handlers;g||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,h)},this.handlePointerMove=(h,g)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=lm(g,this.transformPagePoint),We.update(this.updatePoint,!0)},this.handlePointerUp=(h,g)=>{this.end();const{onEnd:y,onSessionEnd:w,resumeAnimation:v}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=cm(h.type==="pointercancel"?this.lastMoveEventInfo:lm(g,this.transformPagePoint),this.history);this.startEvent&&y&&y(h,b),w&&w(h,b)},!a1(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const u=_c(t),l=lm(u,this.transformPagePoint),{point:c}=l,{timestamp:d}=Rt;this.history=[{...c,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,cm(l,this.history)),this.removeListeners=wc(dl(this.contextWindow,"pointermove",this.handlePointerMove),dl(this.contextWindow,"pointerup",this.handlePointerUp),dl(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(t){let n=t.parentElement;for(;n;){const r=getComputedStyle(n);(BE.has(r.overflowX)||BE.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const r=t===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},i={x:s.x-n.x,y:s.y-n.y};i.x===0&&i.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(t,s),We.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),di(this.updatePoint)}}function lm(e,t){return t?{point:t(e.point)}:e}function UE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function cm({point:e},t){return{point:e,delta:UE(e,QN(t)),offset:UE(e,QH(t)),velocity:XH(t,.1)}}function QH(e){return e[0]}function QN(e){return e[e.length-1]}function XH(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=QN(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Bn(t)));)n--;if(!r)return{x:0,y:0};r===e[0]&&e.length>2&&s.timestamp-r.timestamp>Bn(t)*2&&(r=e[1]);const i=Ln(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function JH(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?tt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?tt(n,e,r.max):Math.min(e,n)),e}function HE(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function ZH(e,{top:t,left:n,bottom:r,right:s}){return{x:HE(e.x,n,s),y:HE(e.y,t,r)}}function $E(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function e$(e,t){return{x:$E(e.x,t.x),y:$E(e.y,t.y)}}function t$(e,t){let n=.5;const r=Gt(e),s=Gt(t);return s>r?n=Xl(t.min,t.max-r,e.min):r>s&&(n=Xl(e.min,e.max-s,t.min)),Mr(0,1,n)}function n$(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Bg=.35;function r$(e=Bg){return e===!1?e=0:e===!0&&(e=Bg),{x:zE(e,"left","right"),y:zE(e,"top","bottom")}}function zE(e,t,n){return{min:VE(e,t),max:VE(e,n)}}function VE(e,t){return typeof e=="number"?e:e[t]||0}const s$=new WeakMap;class i${constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=d=>{n&&this.snapToCursor(_c(d).point),this.stopAnimation()},o=(d,f)=>{const{drag:h,dragPropagation:g,onDragStart:y}=this.getProps();if(h&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=DU(h),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),br(v=>{let b=this.getAxisMotionValue(v).get()||0;if(Ir.test(b)){const{projection:E}=this.visualElement;if(E&&E.layout){const T=E.layout.layoutBox[v];T&&(b=Gt(T)*(parseFloat(b)/100))}}this.originPoint[v]=b}),y&&We.update(()=>y(d,f),!1,!0),Pg(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:h,dragDirectionLock:g,onDirectionLock:y,onDrag:w}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=f;if(g&&this.currentDirection===null){this.currentDirection=a$(v),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),w&&We.update(()=>w(d,f),!1,!0)},u=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>{const{dragSnapToOrigin:d}=this.getProps();(d||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:c}=this.getProps();this.panSession=new GN(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:u,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:r,contextWindow:YN(this.visualElement),element:this.visualElement.current})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&We.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!fd(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=JH(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&$o(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=ZH(r.layoutBox,t):this.constraints=!1,this.elastic=r$(n),s!==this.constraints&&!$o(t)&&r&&this.constraints&&!this.hasMutatedConstraints&&br(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=n$(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!$o(t))return!1;const r=t.current;Va(r!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=l7(r,s.root,this.visualElement.getTransformPagePoint());let o=e$(s.layout.layoutBox,i);if(n){const a=n(o7(o));this.hasMutatedConstraints=!!a,a&&(o=yN(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),u=this.constraints||{},l=br(c=>{if(!fd(c,n,this.currentDirection))return;let d=u&&u[c]||{};o&&(d={min:0,max:0});const f=s?200:1e6,h=s?40:1e7,g={type:"inertia",velocity:r?t[c]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(c,g)});return Promise.all(l).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Pg(this.visualElement,t),r.start(n1(t,r,0,n,this.visualElement,!1))}stopAnimation(){br(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){br(n=>{const{drag:r}=this.getProps();if(!fd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n],u=i.get()||0;i.set(t[n]-tt(o,a,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!$o(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};br(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const u=a.get();s[o]=t$({min:u,max:u},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),br(o=>{if(!fd(o,t,null))return;const a=this.getAxisMotionValue(o),{min:u,max:l}=this.constraints[o];a.set(tt(u,l,s[o]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;s$.set(this.visualElement,this);const t=this.visualElement.current,n=dl(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps(),f=l.target,h=f!==t&&UU(f);c&&d&&!h&&this.start(l)});let r;const s=()=>{const{dragConstraints:l}=this.getProps();$o(l)&&l.current&&(this.constraints=this.resolveRefConstraints(),r||(r=o$(t,l.current,()=>this.scalePositionWithinConstraints())))},{projection:i}=this.visualElement,o=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),We.read(s);const a=tc(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(br(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),u&&u(),r&&r()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Bg,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function WE(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function o$(e,t,n){const r=Jw(e,WE(n)),s=Jw(t,WE(n));return()=>{r(),s()}}function fd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function a$(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class u$ extends wi{constructor(t){super(t),this.removeGroupControls=Fn,this.removeListeners=Fn,this.controls=new i$(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const dm=e=>(t,n)=>{e&&We.update(()=>e(t,n),!1,!0)};class l$ extends wi{constructor(){super(...arguments),this.removePointerDownListener=Fn}onPointerDown(t){this.session=new GN(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:YN(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:dm(t),onStart:dm(n),onMove:dm(r),onEnd:(i,o)=>{delete this.session,s&&We.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=dl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let hm=!1;class c$ extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),hm&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Kd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,t.layoutDependency!==n&&o.setOptions({...o.options,layoutDependency:n}),hm=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||We.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),o1.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;hm=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function XN(e){const[t,n]=BN(),r=x.useContext(Bv);return p.jsx(c$,{...e,layoutGroup:r,switchLayoutGroup:x.useContext(qN),isPresent:t,safeToRemove:n})}const d$={pan:{Feature:l$},drag:{Feature:u$,ProjectionNode:FN,MeasureLayout:XN}};function qE(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&We.postRender(()=>i(t,_c(t)))}class h$ extends wi{mount(){const{current:t}=this.node;t&&(this.unmount=MU(t,(n,r)=>(qE(this.node,r,"Start"),s=>qE(this.node,s,"End"))))}unmount(){}}class f$ extends wi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wc(tc(this.node.current,"focus",()=>this.onFocus()),tc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function KE(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&We.postRender(()=>i(t,_c(t)))}class p$ extends wi{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:n,propagate:r}=this.node.props;this.unmount=$U(t,(s,i)=>(KE(this.node,i,"Start"),(o,{success:a})=>KE(this.node,o,a?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:(r==null?void 0:r.tap)===!1})}unmount(){}}const Ug=new WeakMap,fm=new WeakMap,m$=e=>{const t=Ug.get(e.target);t&&t(e)},g$=e=>{e.forEach(m$)};function y$({root:e,...t}){const n=e||document;fm.has(n)||fm.set(n,{});const r=fm.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(g$,{root:e,...t})),r[s]}function v$(e,t,n){const r=y$(t);return Ug.set(e,n),r.observe(e),()=>{Ug.delete(e),r.unobserve(e)}}const b$={some:0,all:1};class x$ extends wi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:b$[s]},a=u=>{const{isIntersecting:l}=u;if(this.isInView===l||(this.isInView=l,i&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),f=l?c:d;f&&f(u)};return v$(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(w$(t,n))&&this.startObserver()}unmount(){}}function w$({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const E$={inView:{Feature:x$},tap:{Feature:p$},focus:{Feature:f$},hover:{Feature:h$}},T$={layout:{ProjectionNode:FN,MeasureLayout:XN}},_$={...KH,...E$,...d$,...T$},Ue=$H(_$,zH),S$=({activeTab:e,setActiveTab:t})=>{const{profile:n,signOut:r}=Of(),s=[{id:"dashboard",label:"Dashboard"},{id:"playbook",label:"Playbook"},{id:"staging",label:"Review & Publish"},{id:"integrations",label:"Integrations"}],i=n!=null&&n.full_name?n.full_name.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2):"?";return p.jsx("header",{className:"border-b border-border bg-card/50 backdrop-blur-sm sticky top-0 z-40",children:p.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 flex items-center justify-between h-14",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-lg gradient-primary flex items-center justify-center",children:p.jsx(t4,{className:"w-4 h-4 text-primary-foreground"})}),p.jsx("span",{className:"text-sm text-foreground",children:"Playbook Manager"})]}),p.jsx("nav",{className:"flex items-center gap-1",children:s.map(o=>p.jsx("button",{onClick:()=>t(o.id),className:`px-3 py-1.5 rounded-lg text-xs font-subheading transition-colors ${e===o.id?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,children:o.label},o.id))}),p.jsxs("div",{className:"flex items-center gap-2",children:[(n==null?void 0:n.full_name)&&p.jsx("span",{className:"text-xs text-muted-foreground hidden sm:inline",children:n.full_name}),p.jsx("div",{className:"w-7 h-7 rounded-full bg-primary/20 flex items-center justify-center text-[11px] font-overline text-primary",children:i}),p.jsx("button",{onClick:r,className:"w-7 h-7 rounded-full hover:bg-muted flex items-center justify-center transition-colors",title:"Sign out",children:p.jsx(l4,{className:"w-3.5 h-3.5 text-muted-foreground"})})]})]})})};function g1(){const e=vi({queryKey:["skills"],queryFn:async()=>{const[t,n,r]=await Promise.all([ve.from("skill_categories").select("*").order("sort_order"),ve.from("skills").select("*").order("sort_order"),ve.from("user_skills").select("*")]);if(t.error)throw t.error;if(n.error)throw n.error;if(r.error)throw r.error;const s=new Map((r.data??[]).map(i=>[i.skill_id,i]));return(t.data??[]).map(i=>({id:i.id,name:i.name,skills:(n.data??[]).filter(o=>o.category_id===i.id).map(o=>{const a=s.get(o.id);return{id:o.id,name:o.name,status:(a==null?void 0:a.status)??"missing",lastUpdated:(a==null?void 0:a.last_updated)??void 0,section:(a==null?void 0:a.section_title)??void 0,coverageNote:(a==null?void 0:a.coverage_note)??void 0,fulfilled:(a==null?void 0:a.fulfilled)??!1}})}))}});return{...e,isRefetching:e.isFetching&&!e.isLoading}}function JN(){const e=Ut();return Cn({mutationFn:async({skillId:t,fulfilled:n})=>{const{error:r}=await ve.from("user_skills").update({fulfilled:n}).eq("skill_id",t);if(r)throw r},onSuccess:()=>e.invalidateQueries({queryKey:["skills"]})})}function C$(e){const t=e.length;if(t===0)return{score:0,covered:0,total:0,partial:0,missing:0,outdated:0};const n=e.filter(u=>u.status==="covered").length,r=e.filter(u=>u.status==="partial").length,s=e.filter(u=>u.status==="missing").length,i=new Date,o=e.filter(u=>u.lastUpdated?i.getTime()-new Date(u.lastUpdated).getTime()>90*24*60*60*1e3:!1).length;return{score:Math.round((n+r*.5)/t*100),covered:n,total:t,partial:r,missing:s,outdated:o}}function ZN(){const{data:e,isLoading:t,isRefetching:n}=g1();return{data:x.useMemo(()=>{if(!e)return;const s=e.flatMap(i=>i.skills);return C$(s)},[e]),isLoading:t,isRefetching:n}}const k$=({activeFilter:e,onFilterChange:t})=>{const{data:n,isLoading:r,isRefetching:s}=ZN();if(r||!n)return p.jsx("div",{className:"rounded-xl border border-border bg-card px-5 py-3 shadow-card flex items-center justify-center min-h-[52px]",children:p.jsx(rt,{className:"w-4 h-4 text-primary animate-spin"})});const i=n.score>=70?"text-success":n.score>=40?"text-warning":"text-destructive";return p.jsx(Ue.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"rounded-xl border border-border bg-card px-5 py-3 shadow-card",children:p.jsxs("div",{className:"flex items-center gap-6 flex-wrap",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("span",{className:"text-sm font-subheading text-foreground",children:"Playbook Health"}),p.jsx("span",{className:`text-xl font-overline font-mono ${i}`,children:n.score}),p.jsx("span",{className:"text-xs text-muted-foreground",children:"/ 100"}),p.jsxs(k2,{children:[p.jsx(A2,{asChild:!0,children:p.jsx(u4,{className:"w-3.5 h-3.5 text-muted-foreground cursor-help"})}),p.jsxs(Cv,{side:"bottom",className:"max-w-xs text-xs leading-relaxed",children:[p.jsx("p",{children:"Score = (covered + partial  0.5) / total skills  100"}),p.jsx("p",{className:"mt-1 text-muted-foreground",children:"Fully covered skills count 100%, partially covered count 50%. Skills not updated in 90+ days are flagged as outdated."})]})]}),s&&p.jsx(rt,{className:"w-3 h-3 text-muted-foreground animate-spin"})]}),p.jsx("div",{className:"h-5 w-px bg-border"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(pd,{icon:Rr,label:"Covered",value:n.covered,color:"text-success",active:e==="covered",onClick:()=>t("covered")}),p.jsx(pd,{icon:vc,label:"Partial",value:n.partial,color:"text-warning",active:e==="partial",onClick:()=>t("partial")}),p.jsx(pd,{icon:yc,label:"Missing",value:n.missing,color:"text-destructive",active:e==="missing",onClick:()=>t("missing")}),p.jsx(pd,{icon:cv,label:"Outdated",value:n.outdated,color:"text-muted-foreground",active:e==="outdated",onClick:()=>t("outdated")})]})]})})};function pd({icon:e,label:t,value:n,color:r,active:s,onClick:i}){return p.jsxs("button",{className:`flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-subheading transition-all ${s?"bg-primary/10 ring-2 ring-primary/30":"bg-muted/50 hover:bg-muted/80"}`,onClick:i,children:[p.jsx(e,{className:`w-3.5 h-3.5 ${r}`}),p.jsx("span",{className:"text-muted-foreground",children:t}),p.jsx("span",{className:`font-overline font-mono ${r}`,children:n})]})}var pm,Bf="HoverCard",[eR,Fte]=us(Bf,[su]),Uf=su(),[A$,y1]=eR(Bf),tR=e=>{const{__scopeHoverCard:t,children:n,open:r,defaultOpen:s,onOpenChange:i,openDelay:o=700,closeDelay:a=300}=e,u=Uf(t),l=x.useRef(0),c=x.useRef(0),d=x.useRef(!1),f=x.useRef(!1),[h,g]=To({prop:r,defaultProp:s??!1,onChange:i,caller:Bf}),y=x.useCallback(()=>{clearTimeout(c.current),l.current=window.setTimeout(()=>g(!0),o)},[o,g]),w=x.useCallback(()=>{clearTimeout(l.current),!d.current&&!f.current&&(c.current=window.setTimeout(()=>g(!1),a))},[a,g]),v=x.useCallback(()=>g(!1),[g]);return x.useEffect(()=>()=>{clearTimeout(l.current),clearTimeout(c.current)},[]),p.jsx(A$,{scope:t,open:h,onOpenChange:g,onOpen:y,onClose:w,onDismiss:v,hasSelectionRef:d,isPointerDownOnContentRef:f,children:p.jsx(Ev,{...u,children:n})})};tR.displayName=Bf;var nR="HoverCardTrigger",rR=x.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,s=y1(nR,n),i=Uf(n);return p.jsx(Sf,{asChild:!0,...i,children:p.jsx(Re.a,{"data-state":s.open?"open":"closed",...r,ref:t,onPointerEnter:Te(e.onPointerEnter,qh(s.onOpen)),onPointerLeave:Te(e.onPointerLeave,qh(s.onClose)),onFocus:Te(e.onFocus,s.onOpen),onBlur:Te(e.onBlur,s.onClose),onTouchStart:Te(e.onTouchStart,o=>o.preventDefault())})})});rR.displayName=nR;var N$="HoverCardPortal",[Bte,R$]=eR(N$,{forceMount:void 0}),Wh="HoverCardContent",sR=x.forwardRef((e,t)=>{const n=R$(Wh,e.__scopeHoverCard),{forceMount:r=n.forceMount,...s}=e,i=y1(Wh,e.__scopeHoverCard);return p.jsx(fr,{present:r||i.open,children:p.jsx(P$,{"data-state":i.open?"open":"closed",...s,onPointerEnter:Te(e.onPointerEnter,qh(i.onOpen)),onPointerLeave:Te(e.onPointerLeave,qh(i.onClose)),ref:t})})});sR.displayName=Wh;var P$=x.forwardRef((e,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,...a}=e,u=y1(Wh,n),l=Uf(n),c=x.useRef(null),d=ht(t,c),[f,h]=x.useState(!1);return x.useEffect(()=>{if(f){const g=document.body;return pm=g.style.userSelect||g.style.webkitUserSelect,g.style.userSelect="none",g.style.webkitUserSelect="none",()=>{g.style.userSelect=pm,g.style.webkitUserSelect=pm}}},[f]),x.useEffect(()=>{if(c.current){const g=()=>{h(!1),u.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var w;((w=document.getSelection())==null?void 0:w.toString())!==""&&(u.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",g),()=>{document.removeEventListener("pointerup",g),u.hasSelectionRef.current=!1,u.isPointerDownOnContentRef.current=!1}}},[u.isPointerDownOnContentRef,u.hasSelectionRef]),x.useEffect(()=>{c.current&&D$(c.current).forEach(y=>y.setAttribute("tabindex","-1"))}),p.jsx(eu,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:Te(i,g=>{g.preventDefault()}),onDismiss:u.onDismiss,children:p.jsx(Tv,{...l,...a,onPointerDown:Te(a.onPointerDown,g=>{g.currentTarget.contains(g.target)&&h(!0),u.hasSelectionRef.current=!1,u.isPointerDownOnContentRef.current=!0}),ref:d,style:{...a.style,userSelect:f?"text":void 0,WebkitUserSelect:f?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),I$="HoverCardArrow",O$=x.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,s=Uf(n);return p.jsx(_v,{...s,...r,ref:t})});O$.displayName=I$;function qh(e){return t=>t.pointerType==="touch"?void 0:e()}function D$(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var L$=tR,M$=rR,iR=sR;const oR=L$,aR=M$,v1=x.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>p.jsx(iR,{ref:s,align:t,sideOffset:n,className:ut("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));v1.displayName=iR.displayName;const j$={covered:{icon:Rr,label:"Covered",color:"text-success",bg:"bg-success/10",border:"border-success/20"},partial:{icon:vc,label:"Partial",color:"text-warning",bg:"bg-warning/10",border:"border-warning/20"},missing:{icon:yc,label:"Missing",color:"text-destructive",bg:"bg-destructive/10",border:"border-destructive/20"}},YE=e=>e?new Date().getTime()-new Date(e).getTime()>90*24*60*60*1e3:!1,F$=({onFillGap:e,statusFilter:t})=>{const{data:n,isLoading:r,isRefetching:s}=g1(),i=JN();return r||!n?p.jsx("div",{className:"rounded-xl border border-border bg-card p-6 shadow-card flex items-center justify-center min-h-[300px]",children:p.jsx(rt,{className:"w-6 h-6 text-primary animate-spin"})}):p.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"rounded-xl border border-border bg-card p-6 shadow-card",children:[p.jsx("div",{className:"flex items-center justify-between mb-5",children:p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("h2",{className:"text-lg text-foreground",children:"Skills Framework"}),s&&p.jsx(rt,{className:"w-3.5 h-3.5 text-muted-foreground animate-spin"})]}),p.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Coverage across sales competencies"})]})}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:n.map((o,a)=>{const u=o.skills.filter(d=>d.status==="covered").length,l=Math.round(u/o.skills.length*100),c=t?o.skills.filter(d=>t==="outdated"?YE(d.lastUpdated):d.status===t):o.skills;return t&&c.length===0?null:p.jsxs(Ue.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15+a*.04},className:"rounded-lg border border-border/60 bg-muted/20 p-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("span",{className:"text-sm font-subheading text-foreground",children:o.name}),p.jsx("span",{className:"text-xs font-mono text-muted-foreground",children:t?`${c.length} of ${o.skills.length}`:`${l}%`})]}),!t&&p.jsx("div",{className:"h-1.5 rounded-full bg-muted mb-3 overflow-hidden",children:p.jsx(Ue.div,{className:"h-full rounded-full gradient-primary",initial:{width:0},animate:{width:`${l}%`},transition:{duration:1,delay:.3+a*.08}})}),p.jsx("div",{className:`grid gap-1.5 ${t?"mt-1":""}`,children:c.map(d=>{const f=j$[d.status],h=f.icon,g=YE(d.lastUpdated),y=d.status==="missing"||d.status==="partial"||g,w=d.status!=="covered",v=p.jsxs("div",{className:`flex items-center justify-between rounded-lg px-3 py-2 border ${d.fulfilled?"bg-muted/30 border-border/40":`${f.bg} ${f.border}`} ${y&&!d.fulfilled?"cursor-pointer hover:brightness-110 transition-all":"transition-all"}`,onClick:()=>y&&!d.fulfilled&&(e==null?void 0:e(d.id,d.name)),children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(h,{className:`w-3.5 h-3.5 ${d.fulfilled?"text-muted-foreground":f.color}`}),p.jsx("span",{className:`text-sm font-subheading ${d.fulfilled?"text-muted-foreground line-through":"text-foreground"}`,children:d.name}),d.fulfilled&&p.jsx("span",{className:"text-[10px] text-muted-foreground italic",children:"Dismissed"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[d.lastUpdated&&!d.fulfilled&&p.jsx("span",{className:`text-[10px] font-mono ${g?"text-destructive font-caption":"text-muted-foreground"}`,children:d.lastUpdated}),y&&!d.fulfilled&&p.jsx("span",{className:"text-[10px] font-caption text-primary",children:g&&d.status==="covered"?"Update ":"Fill "})]})]});return w?p.jsxs(oR,{openDelay:300,closeDelay:200,children:[p.jsx(aR,{asChild:!0,children:v}),p.jsx(v1,{side:"right",className:"w-auto max-w-xs p-2 text-xs",children:p.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.coverageNote&&p.jsx("p",{className:"text-muted-foreground",children:d.coverageNote}),p.jsx("button",{onClick:b=>{b.stopPropagation(),i.mutate({skillId:d.id,fulfilled:!d.fulfilled})},className:"text-[11px] font-subheading text-foreground hover:text-primary transition-colors text-left",children:d.fulfilled?"Undo":"Dismiss"})]})})]},d.id):p.jsx("div",{children:v},d.id)})})]},o.id)})})]})};function B$(e){return vi({queryKey:["chat-history",e],queryFn:async()=>{const{data:t,error:n}=await ve.from("chat_messages").select("*, staged_edits:staged_edits(id, section_id, before_text, after_text, created_at, status, playbook_sections!inner(title))").eq("conversation_id",e).order("created_at",{ascending:!0});if(n)throw n;return(t??[]).map(r=>{const s=r.role==="assistant"&&Array.isArray(r.staged_edits)&&r.staged_edits.length>0?r.staged_edits.map(i=>({id:i.id,sectionId:i.section_id,sectionTitle:i.playbook_sections.title,before:i.before_text,after:i.after_text,rationale:"",timestamp:i.created_at,status:i.status})):void 0;return{id:r.id,role:r.role,content:r.content,timestamp:r.created_at,edits:s}})},enabled:!!e})}function U$(){const[e,t]=x.useState(!1),[n,r]=x.useState(""),[s,i]=x.useState([]),[o,a]=x.useState([]),[u,l]=x.useState(!1),c=x.useRef(null),d=Ut(),f=x.useCallback(async(y,w)=>{t(!0),r(""),i([]),a([]),l(!1);const v=new AbortController;c.current=v;try{const{error:b}=await ve.auth.getUser();if(b)throw new Error("Not authenticated");const{data:{session:E}}=await ve.auth.getSession();if(!E)throw new Error("Not authenticated");const T=await fetch("https://tqkhtbnagkgztakzhdow.supabase.co/functions/v1/chat",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E.access_token}`},body:JSON.stringify({message:y,conversationId:w.conversationId,sectionContext:w.sectionContext}),signal:v.signal});if(!T.ok){let U="Chat request failed";try{U=(await T.json()).error||U}catch{}throw new Error(U)}if(!T.body)throw new Error("No response body");const S=T.body.getReader(),_=new TextDecoder;let k="";const I=[];let M=[],P="";for(;;){const{done:U,value:G}=await S.read();if(U)break;const W=_.decode(G,{stream:!0});P+=W;const K=P.split(`
`);P=K.pop()??"";for(const ie of K)if(ie.startsWith("data: ")){const J=ie.slice(6);if(J==="[DONE]")continue;try{const B=JSON.parse(J);if(B.type==="text"){k+=B.text;const L=k.replace(/\n*\{?\{["']?suggest[\s\S]*$/,"");r(L)}else B.type==="suggestions"?(M=B.options,a(B.options)):B.type==="tool_start"?l(!0):B.type==="staged_edit"?(l(!1),I.push(B.edit),i(L=>[...L,B.edit])):B.type==="tool_error"&&(l(!1),k+=`

*Error: ${B.error}*`,r(k))}catch{}}}return d.invalidateQueries({queryKey:["chat-history",w.conversationId]}),I.length>0&&d.invalidateQueries({queryKey:["staged-edits"]}),{content:k.replace(/\n*\{?\{["']?suggest["']?:\s*\[.*?\]\}?\}\s*$/,""),edits:I,suggestions:M}}finally{t(!1),l(!1),c.current=null}},[d]),h=x.useCallback(()=>{r(""),i([]),a([])},[]),g=x.useCallback(()=>{var y;(y=c.current)==null||y.abort()},[]);return{sendMessage:f,isStreaming:e,streamingContent:n,stagedEdits:s,suggestions:o,isToolRunning:u,abort:g,clearStream:h}}function H$(){return vi({queryKey:["staged-edits"],queryFn:async()=>{const{data:e,error:t}=await ve.from("staged_edits").select("*, playbook_sections!inner(title)").order("created_at",{ascending:!1});if(t)throw t;return(e??[]).map(n=>({id:n.id,sectionId:n.section_id,section:n.playbook_sections.title,before:n.before_text,after:n.after_text,timestamp:n.created_at,status:n.status,source:n.source??void 0}))}})}function $$(){const e=Ut();return Cn({mutationFn:async t=>{const{data:{user:n}}=await ve.auth.getUser(),r={section_id:t.sectionId,before_text:t.before,after_text:t.after,source:t.source,created_by:(n==null?void 0:n.id)??null};t.autoApprove&&(r.status="approved",r.reviewed_by=(n==null?void 0:n.id)??null,r.reviewed_at=new Date().toISOString());const{error:s}=await ve.from("staged_edits").insert(r);if(s)throw s},onSuccess:()=>{e.invalidateQueries({queryKey:["staged-edits"]})}})}function uR(){const e=Ut();return Cn({mutationFn:async t=>{const{data:{user:n}}=await ve.auth.getUser(),{error:r}=await ve.rpc("approve_staged_edit",{edit_id:t,reviewer_id:(n==null?void 0:n.id)??null});if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["staged-edits"]}),e.invalidateQueries({queryKey:["playbook-sections"]})}})}function lR(){const e=Ut();return Cn({mutationFn:async t=>{const{data:{user:n}}=await ve.auth.getUser(),{error:r}=await ve.from("staged_edits").update({status:"rejected",reviewed_by:(n==null?void 0:n.id)??null,reviewed_at:new Date().toISOString()}).eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["staged-edits"]})}})}function z$(){const e=Ut();return Cn({mutationFn:async t=>{const{data:{user:n}}=await ve.auth.getUser(),{error:r}=await ve.rpc("unapprove_staged_edit",{edit_id:t,reviewer_id:(n==null?void 0:n.id)??null});if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["staged-edits"]}),e.invalidateQueries({queryKey:["playbook-sections"]})}})}function V$(){const e=Ut();return Cn({mutationFn:async t=>{const{error:n}=await ve.from("staged_edits").update({status:"pending",reviewed_by:null,reviewed_at:null}).eq("id",t);if(n)throw n},onSuccess:()=>{e.invalidateQueries({queryKey:["staged-edits"]})}})}function cR(){const e=Ut();return Cn({mutationFn:async({editId:t,afterText:n})=>{const{error:r}=await ve.from("staged_edits").update({after_text:n}).eq("id",t).eq("status","pending");if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["staged-edits"]})}})}function GE(e){const t=[],n=String(e||"");let r=n.indexOf(","),s=0,i=!1;for(;!i;){r===-1&&(r=n.length,i=!0);const o=n.slice(s,r).trim();(o||!i)&&t.push(o),s=r+1,r=n.indexOf(",",s)}return t}function dR(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const W$=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,q$=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,K$={};function QE(e,t){return(K$.jsx?q$:W$).test(e)}const Y$=/[ \t\n\f\r]/g;function G$(e){return typeof e=="object"?e.type==="text"?XE(e.value):!1:XE(e)}function XE(e){return e.replace(Y$,"")===""}class Sc{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Sc.prototype.normal={};Sc.prototype.property={};Sc.prototype.space=void 0;function hR(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new Sc(n,r,t)}function rc(e){return e.toLowerCase()}class cn{constructor(t,n){this.attribute=n,this.property=t}}cn.prototype.attribute="";cn.prototype.booleanish=!1;cn.prototype.boolean=!1;cn.prototype.commaOrSpaceSeparated=!1;cn.prototype.commaSeparated=!1;cn.prototype.defined=!1;cn.prototype.mustUseProperty=!1;cn.prototype.number=!1;cn.prototype.overloadedBoolean=!1;cn.prototype.property="";cn.prototype.spaceSeparated=!1;cn.prototype.space=void 0;let Q$=0;const Ee=Co(),pt=Co(),Hg=Co(),ee=Co(),ze=Co(),wa=Co(),mn=Co();function Co(){return 2**++Q$}const $g=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ee,booleanish:pt,commaOrSpaceSeparated:mn,commaSeparated:wa,number:ee,overloadedBoolean:Hg,spaceSeparated:ze},Symbol.toStringTag,{value:"Module"})),mm=Object.keys($g);class b1 extends cn{constructor(t,n,r,s){let i=-1;if(super(t,n),JE(this,"space",s),typeof r=="number")for(;++i<mm.length;){const o=mm[i];JE(this,mm[i],(r&$g[o])===$g[o])}}}b1.prototype.defined=!0;function JE(e,t,n){n&&(e[t]=n)}function hu(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const i=new b1(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[rc(r)]=r,n[rc(i.attribute)]=r}return new Sc(t,n,e.space)}const fR=hu({properties:{ariaActiveDescendant:null,ariaAtomic:pt,ariaAutoComplete:null,ariaBusy:pt,ariaChecked:pt,ariaColCount:ee,ariaColIndex:ee,ariaColSpan:ee,ariaControls:ze,ariaCurrent:null,ariaDescribedBy:ze,ariaDetails:null,ariaDisabled:pt,ariaDropEffect:ze,ariaErrorMessage:null,ariaExpanded:pt,ariaFlowTo:ze,ariaGrabbed:pt,ariaHasPopup:null,ariaHidden:pt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ze,ariaLevel:ee,ariaLive:null,ariaModal:pt,ariaMultiLine:pt,ariaMultiSelectable:pt,ariaOrientation:null,ariaOwns:ze,ariaPlaceholder:null,ariaPosInSet:ee,ariaPressed:pt,ariaReadOnly:pt,ariaRelevant:null,ariaRequired:pt,ariaRoleDescription:ze,ariaRowCount:ee,ariaRowIndex:ee,ariaRowSpan:ee,ariaSelected:pt,ariaSetSize:ee,ariaSort:null,ariaValueMax:ee,ariaValueMin:ee,ariaValueNow:ee,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function pR(e,t){return t in e?e[t]:t}function mR(e,t){return pR(e,t.toLowerCase())}const X$=hu({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:wa,acceptCharset:ze,accessKey:ze,action:null,allow:null,allowFullScreen:Ee,allowPaymentRequest:Ee,allowUserMedia:Ee,alt:null,as:null,async:Ee,autoCapitalize:null,autoComplete:ze,autoFocus:Ee,autoPlay:Ee,blocking:ze,capture:null,charSet:null,checked:Ee,cite:null,className:ze,cols:ee,colSpan:null,content:null,contentEditable:pt,controls:Ee,controlsList:ze,coords:ee|wa,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ee,defer:Ee,dir:null,dirName:null,disabled:Ee,download:Hg,draggable:pt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ee,formTarget:null,headers:ze,height:ee,hidden:Hg,high:ee,href:null,hrefLang:null,htmlFor:ze,httpEquiv:ze,id:null,imageSizes:null,imageSrcSet:null,inert:Ee,inputMode:null,integrity:null,is:null,isMap:Ee,itemId:null,itemProp:ze,itemRef:ze,itemScope:Ee,itemType:ze,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ee,low:ee,manifest:null,max:null,maxLength:ee,media:null,method:null,min:null,minLength:ee,multiple:Ee,muted:Ee,name:null,nonce:null,noModule:Ee,noValidate:Ee,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ee,optimum:ee,pattern:null,ping:ze,placeholder:null,playsInline:Ee,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ee,referrerPolicy:null,rel:ze,required:Ee,reversed:Ee,rows:ee,rowSpan:ee,sandbox:ze,scope:null,scoped:Ee,seamless:Ee,selected:Ee,shadowRootClonable:Ee,shadowRootDelegatesFocus:Ee,shadowRootMode:null,shape:null,size:ee,sizes:null,slot:null,span:ee,spellCheck:pt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ee,step:null,style:null,tabIndex:ee,target:null,title:null,translate:null,type:null,typeMustMatch:Ee,useMap:null,value:pt,width:ee,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ze,axis:null,background:null,bgColor:null,border:ee,borderColor:null,bottomMargin:ee,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ee,declare:Ee,event:null,face:null,frame:null,frameBorder:null,hSpace:ee,leftMargin:ee,link:null,longDesc:null,lowSrc:null,marginHeight:ee,marginWidth:ee,noResize:Ee,noHref:Ee,noShade:Ee,noWrap:Ee,object:null,profile:null,prompt:null,rev:null,rightMargin:ee,rules:null,scheme:null,scrolling:pt,standby:null,summary:null,text:null,topMargin:ee,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ee,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ee,disableRemotePlayback:Ee,prefix:null,property:null,results:ee,security:null,unselectable:null},space:"html",transform:mR}),J$=hu({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:mn,accentHeight:ee,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ee,amplitude:ee,arabicForm:null,ascent:ee,attributeName:null,attributeType:null,azimuth:ee,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ee,by:null,calcMode:null,capHeight:ee,className:ze,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ee,diffuseConstant:ee,direction:null,display:null,dur:null,divisor:ee,dominantBaseline:null,download:Ee,dx:null,dy:null,edgeMode:null,editable:null,elevation:ee,enableBackground:null,end:null,event:null,exponent:ee,externalResourcesRequired:null,fill:null,fillOpacity:ee,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:wa,g2:wa,glyphName:wa,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ee,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ee,horizOriginX:ee,horizOriginY:ee,id:null,ideographic:ee,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ee,k:ee,k1:ee,k2:ee,k3:ee,k4:ee,kernelMatrix:mn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ee,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ee,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ee,overlineThickness:ee,paintOrder:null,panose1:null,path:null,pathLength:ee,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ze,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ee,pointsAtY:ee,pointsAtZ:ee,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:mn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:mn,rev:mn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:mn,requiredFeatures:mn,requiredFonts:mn,requiredFormats:mn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ee,specularExponent:ee,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ee,strikethroughThickness:ee,string:null,stroke:null,strokeDashArray:mn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ee,strokeOpacity:ee,strokeWidth:null,style:null,surfaceScale:ee,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:mn,tabIndex:ee,tableValues:null,target:null,targetX:ee,targetY:ee,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:mn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ee,underlineThickness:ee,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ee,values:null,vAlphabetic:ee,vMathematical:ee,vectorEffect:null,vHanging:ee,vIdeographic:ee,version:null,vertAdvY:ee,vertOriginX:ee,vertOriginY:ee,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ee,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:pR}),gR=hu({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),yR=hu({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:mR}),vR=hu({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Z$={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},ez=/[A-Z]/g,ZE=/-[a-z]/g,tz=/^data[-\w.:]+$/i;function Hf(e,t){const n=rc(t);let r=t,s=cn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&tz.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(ZE,rz);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!ZE.test(i)){let o=i.replace(ez,nz);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}s=b1}return new s(r,t)}function nz(e){return"-"+e.toLowerCase()}function rz(e){return e.charAt(1).toUpperCase()}const Cc=hR([fR,X$,gR,yR,vR],"html"),Ei=hR([fR,J$,gR,yR,vR],"svg");function eT(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function bR(e){return e.join(" ").trim()}var x1={},tT=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,sz=/\n/g,iz=/^\s*/,oz=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,az=/^:\s*/,uz=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,lz=/^[;\s]*/,cz=/^\s+|\s+$/g,dz=`
`,nT="/",rT="*",Bi="",hz="comment",fz="declaration";function pz(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function s(g){var y=g.match(sz);y&&(n+=y.length);var w=g.lastIndexOf(dz);r=~w?g.length-w:r+g.length}function i(){var g={line:n,column:r};return function(y){return y.position=new o(g),l(),y}}function o(g){this.start=g,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function a(g){var y=new Error(t.source+":"+n+":"+r+": "+g);if(y.reason=g,y.filename=t.source,y.line=n,y.column=r,y.source=e,!t.silent)throw y}function u(g){var y=g.exec(e);if(y){var w=y[0];return s(w),e=e.slice(w.length),y}}function l(){u(iz)}function c(g){var y;for(g=g||[];y=d();)y!==!1&&g.push(y);return g}function d(){var g=i();if(!(nT!=e.charAt(0)||rT!=e.charAt(1))){for(var y=2;Bi!=e.charAt(y)&&(rT!=e.charAt(y)||nT!=e.charAt(y+1));)++y;if(y+=2,Bi===e.charAt(y-1))return a("End of comment missing");var w=e.slice(2,y-2);return r+=2,s(w),e=e.slice(y),r+=2,g({type:hz,comment:w})}}function f(){var g=i(),y=u(oz);if(y){if(d(),!u(az))return a("property missing ':'");var w=u(uz),v=g({type:fz,property:sT(y[0].replace(tT,Bi)),value:w?sT(w[0].replace(tT,Bi)):Bi});return u(lz),v}}function h(){var g=[];c(g);for(var y;y=f();)y!==!1&&(g.push(y),c(g));return g}return l(),h()}function sT(e){return e?e.replace(cz,Bi):Bi}var mz=pz,gz=eh&&eh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(x1,"__esModule",{value:!0});x1.default=vz;const yz=gz(mz);function vz(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,yz.default)(e),s=typeof t=="function";return r.forEach(i=>{if(i.type!=="declaration")return;const{property:o,value:a}=i;s?t(o,a,i):a&&(n=n||{},n[o]=a)}),n}var $f={};Object.defineProperty($f,"__esModule",{value:!0});$f.camelCase=void 0;var bz=/^--[a-zA-Z0-9_-]+$/,xz=/-([a-z])/g,wz=/^[^-]+$/,Ez=/^-(webkit|moz|ms|o|khtml)-/,Tz=/^-(ms)-/,_z=function(e){return!e||wz.test(e)||bz.test(e)},Sz=function(e,t){return t.toUpperCase()},iT=function(e,t){return"".concat(t,"-")},Cz=function(e,t){return t===void 0&&(t={}),_z(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Tz,iT):e=e.replace(Ez,iT),e.replace(xz,Sz))};$f.camelCase=Cz;var kz=eh&&eh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Az=kz(x1),Nz=$f;function zg(e,t){var n={};return!e||typeof e!="string"||(0,Az.default)(e,function(r,s){r&&s&&(n[(0,Nz.camelCase)(r,t)]=s)}),n}zg.default=zg;var Rz=zg;const Pz=ef(Rz),zf=xR("end"),Fr=xR("start");function xR(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Iz(e){const t=Fr(e),n=zf(e);if(t&&n)return{start:t,end:n}}function hl(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?oT(e.position):"start"in e||"end"in e?oT(e):"line"in e||"column"in e?Vg(e):""}function Vg(e){return aT(e&&e.line)+":"+aT(e&&e.column)}function oT(e){return Vg(e&&e.start)+"-"+Vg(e&&e.end)}function aT(e){return e&&typeof e=="number"?e:1}class Ht extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",i={},o=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?s=t:!i.cause&&t&&(o=!0,s=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?i.ruleId=r:(i.source=r.slice(0,u),i.ruleId=r.slice(u+1))}if(!i.place&&i.ancestors&&i.ancestors){const u=i.ancestors[i.ancestors.length-1];u&&(i.place=u.position)}const a=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=a?a.line:void 0,this.name=hl(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ht.prototype.file="";Ht.prototype.name="";Ht.prototype.reason="";Ht.prototype.message="";Ht.prototype.stack="";Ht.prototype.column=void 0;Ht.prototype.line=void 0;Ht.prototype.ancestors=void 0;Ht.prototype.cause=void 0;Ht.prototype.fatal=void 0;Ht.prototype.place=void 0;Ht.prototype.ruleId=void 0;Ht.prototype.source=void 0;const w1={}.hasOwnProperty,Oz=new Map,Dz=/[A-Z]/g,Lz=new Set(["table","tbody","thead","tfoot","tr"]),Mz=new Set(["td","th"]),wR="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function jz(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Wz(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Vz(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Ei:Cc,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=ER(s,e,void 0);return i&&typeof i!="string"?i:s.create(e,s.Fragment,{children:i||void 0},void 0)}function ER(e,t,n){if(t.type==="element")return Fz(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Bz(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Hz(e,t,n);if(t.type==="mdxjsEsm")return Uz(e,t);if(t.type==="root")return $z(e,t,n);if(t.type==="text")return zz(e,t)}function Fz(e,t,n){const r=e.schema;let s=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=Ei,e.schema=s),e.ancestors.push(t);const i=_R(e,t.tagName,!1),o=qz(e,t);let a=T1(e,t);return Lz.has(t.tagName)&&(a=a.filter(function(u){return typeof u=="string"?!G$(u):!0})),TR(e,o,i,t),E1(o,a),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function Bz(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}sc(e,t.position)}function Uz(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);sc(e,t.position)}function Hz(e,t,n){const r=e.schema;let s=r;t.name==="svg"&&r.space==="html"&&(s=Ei,e.schema=s),e.ancestors.push(t);const i=t.name===null?e.Fragment:_R(e,t.name,!0),o=Kz(e,t),a=T1(e,t);return TR(e,o,i,t),E1(o,a),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function $z(e,t,n){const r={};return E1(r,T1(e,t)),e.create(t,e.Fragment,r,n)}function zz(e,t){return t.value}function TR(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function E1(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Vz(e,t,n){return r;function r(s,i,o,a){const l=Array.isArray(o.children)?n:t;return a?l(i,o,a):l(i,o)}}function Wz(e,t){return n;function n(r,s,i,o){const a=Array.isArray(i.children),u=Fr(r);return t(s,i,o,a,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function qz(e,t){const n={};let r,s;for(s in t.properties)if(s!=="children"&&w1.call(t.properties,s)){const i=Yz(e,s,t.properties[s]);if(i){const[o,a]=i;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&Mz.has(t.tagName)?r=a:n[o]=a}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Kz(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const i=r.data.estree.body[0];i.type;const o=i.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else sc(e,t.position);else{const s=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,i=e.evaluater.evaluateExpression(a.expression)}else sc(e,t.position);else i=r.value===null?!0:r.value;n[s]=i}return n}function T1(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:Oz;for(;++r<t.children.length;){const i=t.children[r];let o;if(e.passKeys){const u=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(u){const l=s.get(u)||0;o=u+"-"+l,s.set(u,l+1)}}const a=ER(e,i,o);a!==void 0&&n.push(a)}return n}function Yz(e,t,n){const r=Hf(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?dR(n):bR(n)),r.property==="style"){let s=typeof n=="object"?n:Gz(e,String(n));return e.stylePropertyNameCase==="css"&&(s=Qz(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&r.space?Z$[r.property]||r.property:r.attribute,n]}}function Gz(e,t){try{return Pz(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,s=new Ht("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=wR+"#cannot-parse-style-attribute",s}}function _R(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let i=-1,o;for(;++i<s.length;){const a=QE(s[i])?{type:"Identifier",name:s[i]}:{type:"Literal",value:s[i]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(i&&a.type==="Literal"),optional:!1}:a}r=o}else r=QE(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const s=r.value;return w1.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(r);sc(e)}function sc(e,t){const n=new Ht("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=wR+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Qz(e){const t={};let n;for(n in e)w1.call(e,n)&&(t[Xz(n)]=e[n]);return t}function Xz(e){let t=e.replace(Dz,Jz);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Jz(e){return"-"+e.toLowerCase()}const gm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Zz={};function _1(e,t){const n=Zz,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return SR(e,r,s)}function SR(e,t,n){if(eV(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return uT(e.children,t,n)}return Array.isArray(e)?uT(e,t,n):""}function uT(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=SR(e[s],t,n);return r.join("")}function eV(e){return!!(e&&typeof e=="object")}const lT=document.createElement("i");function S1(e){const t="&"+e+";";lT.innerHTML=t;const n=lT.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function En(e,t,n,r){const s=e.length;let i=0,o;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);i<r.length;)o=r.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function In(e,t){return e.length>0?(En(e,e.length,0,t),e):t}const cT={}.hasOwnProperty;function CR(e){const t={};let n=-1;for(;++n<e.length;)tV(t,e[n]);return t}function tV(e,t){let n;for(n in t){const s=(cT.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let o;if(i)for(o in i){cT.call(s,o)||(s[o]=[]);const a=i[o];nV(s[o],Array.isArray(a)?a:a?[a]:[])}}}function nV(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);En(e,0,0,r)}function kR(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ur(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Kt=Ti(/[A-Za-z]/),Ft=Ti(/[\dA-Za-z]/),rV=Ti(/[#-'*+\--9=?A-Z^-~]/);function Kh(e){return e!==null&&(e<32||e===127)}const Wg=Ti(/\d/),sV=Ti(/[\dA-Fa-f]/),iV=Ti(/[!-/:-@[-`{-~]/);function pe(e){return e!==null&&e<-2}function He(e){return e!==null&&(e<0||e===32)}function Ae(e){return e===-2||e===-1||e===32}const Vf=Ti(new RegExp("\\p{P}|\\p{S}","u")),vo=Ti(/\s/);function Ti(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function fu(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const i=e.charCodeAt(n);let o="";if(i===37&&Ft(e.charCodeAt(n+1))&&Ft(e.charCodeAt(n+2)))s=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const a=e.charCodeAt(n+1);i<56320&&a>56319&&a<57344?(o=String.fromCharCode(i,a),s=1):o=""}else o=String.fromCharCode(i);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+s+1,o=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function De(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let i=0;return o;function o(u){return Ae(u)?(e.enter(n),a(u)):t(u)}function a(u){return Ae(u)&&i++<s?(e.consume(u),a):(e.exit(n),t(u))}}const oV={tokenize:aV};function aV(e){const t=e.attempt(this.parser.constructs.contentInitial,r,s);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),De(e,t,"linePrefix")}function s(a){return e.enter("paragraph"),i(a)}function i(a){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return pe(a)?(e.consume(a),e.exit("chunkText"),i):(e.consume(a),o)}}const uV={tokenize:lV},dT={tokenize:cV};function lV(e){const t=this,n=[];let r=0,s,i,o;return a;function a(E){if(r<n.length){const T=n[r];return t.containerState=T[1],e.attempt(T[0].continuation,u,l)(E)}return l(E)}function u(E){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&b();const T=t.events.length;let S=T,_;for(;S--;)if(t.events[S][0]==="exit"&&t.events[S][1].type==="chunkFlow"){_=t.events[S][1].end;break}v(r);let k=T;for(;k<t.events.length;)t.events[k][1].end={..._},k++;return En(t.events,S+1,0,t.events.slice(T)),t.events.length=k,l(E)}return a(E)}function l(E){if(r===n.length){if(!s)return f(E);if(s.currentConstruct&&s.currentConstruct.concrete)return g(E);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(dT,c,d)(E)}function c(E){return s&&b(),v(r),f(E)}function d(E){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,g(E)}function f(E){return t.containerState={},e.attempt(dT,h,g)(E)}function h(E){return r++,n.push([t.currentConstruct,t.containerState]),f(E)}function g(E){if(E===null){s&&b(),v(0),e.consume(E);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:i}),y(E)}function y(E){if(E===null){w(e.exit("chunkFlow"),!0),v(0),e.consume(E);return}return pe(E)?(e.consume(E),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(E),y)}function w(E,T){const S=t.sliceStream(E);if(T&&S.push(null),E.previous=i,i&&(i.next=E),i=E,s.defineSkip(E.start),s.write(S),t.parser.lazy[E.start.line]){let _=s.events.length;for(;_--;)if(s.events[_][1].start.offset<o&&(!s.events[_][1].end||s.events[_][1].end.offset>o))return;const k=t.events.length;let I=k,M,P;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(M){P=t.events[I][1].end;break}M=!0}for(v(r),_=k;_<t.events.length;)t.events[_][1].end={...P},_++;En(t.events,I+1,0,t.events.slice(k)),t.events.length=_}}function v(E){let T=n.length;for(;T-- >E;){const S=n[T];t.containerState=S[1],S[0].exit.call(t,e)}n.length=E}function b(){s.write([null]),i=void 0,s=void 0,t.containerState._closeFlow=void 0}}function cV(e,t,n){return De(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function qa(e){if(e===null||He(e)||vo(e))return 1;if(Vf(e))return 2}function Wf(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const i=e[s].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const qg={name:"attention",resolveAll:dV,tokenize:hV};function dV(e,t){let n=-1,r,s,i,o,a,u,l,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},f={...e[n][1].start};hT(d,-u),hT(f,u),o={type:u>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},a={type:u>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:f},i={type:u>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},s={type:u>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},l=[],e[r][1].end.offset-e[r][1].start.offset&&(l=In(l,[["enter",e[r][1],t],["exit",e[r][1],t]])),l=In(l,[["enter",s,t],["enter",o,t],["exit",o,t],["enter",i,t]]),l=In(l,Wf(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),l=In(l,[["exit",i,t],["enter",a,t],["exit",a,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,l=In(l,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,En(e,r-1,n-r+3,l),n=r+l.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function hV(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=qa(r);let i;return o;function o(u){return i=u,e.enter("attentionSequence"),a(u)}function a(u){if(u===i)return e.consume(u),a;const l=e.exit("attentionSequence"),c=qa(u),d=!c||c===2&&s||n.includes(u),f=!s||s===2&&c||n.includes(r);return l._open=!!(i===42?d:d&&(s||!f)),l._close=!!(i===42?f:f&&(c||!d)),t(u)}}function hT(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const fV={name:"autolink",tokenize:pV};function pV(e,t,n){let r=0;return s;function s(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(h){return Kt(h)?(e.consume(h),o):h===64?n(h):l(h)}function o(h){return h===43||h===45||h===46||Ft(h)?(r=1,a(h)):l(h)}function a(h){return h===58?(e.consume(h),r=0,u):(h===43||h===45||h===46||Ft(h))&&r++<32?(e.consume(h),a):(r=0,l(h))}function u(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||Kh(h)?n(h):(e.consume(h),u)}function l(h){return h===64?(e.consume(h),c):rV(h)?(e.consume(h),l):n(h)}function c(h){return Ft(h)?d(h):n(h)}function d(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):f(h)}function f(h){if((h===45||Ft(h))&&r++<63){const g=h===45?f:d;return e.consume(h),g}return n(h)}}const kc={partial:!0,tokenize:mV};function mV(e,t,n){return r;function r(i){return Ae(i)?De(e,s,"linePrefix")(i):s(i)}function s(i){return i===null||pe(i)?t(i):n(i)}}const AR={continuation:{tokenize:yV},exit:vV,name:"blockQuote",tokenize:gV};function gV(e,t,n){const r=this;return s;function s(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),i}return n(o)}function i(o){return Ae(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function yV(e,t,n){const r=this;return s;function s(o){return Ae(o)?De(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return e.attempt(AR,t,n)(o)}}function vV(e){e.exit("blockQuote")}const NR={name:"characterEscape",tokenize:bV};function bV(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),s}function s(i){return iV(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const RR={name:"characterReference",tokenize:xV};function xV(e,t,n){const r=this;let s=0,i,o;return a;function a(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),u}function u(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),i=31,o=Ft,c(d))}function l(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=sV,c):(e.enter("characterReferenceValue"),i=7,o=Wg,c(d))}function c(d){if(d===59&&s){const f=e.exit("characterReferenceValue");return o===Ft&&!S1(r.sliceSerialize(f))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(d)&&s++<i?(e.consume(d),c):n(d)}}const fT={partial:!0,tokenize:EV},pT={concrete:!0,name:"codeFenced",tokenize:wV};function wV(e,t,n){const r=this,s={partial:!0,tokenize:S};let i=0,o=0,a;return u;function u(_){return l(_)}function l(_){const k=r.events[r.events.length-1];return i=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,a=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(_)}function c(_){return _===a?(o++,e.consume(_),c):o<3?n(_):(e.exit("codeFencedFenceSequence"),Ae(_)?De(e,d,"whitespace")(_):d(_))}function d(_){return _===null||pe(_)?(e.exit("codeFencedFence"),r.interrupt?t(_):e.check(fT,y,T)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(_))}function f(_){return _===null||pe(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(_)):Ae(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),De(e,h,"whitespace")(_)):_===96&&_===a?n(_):(e.consume(_),f)}function h(_){return _===null||pe(_)?d(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(_))}function g(_){return _===null||pe(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(_)):_===96&&_===a?n(_):(e.consume(_),g)}function y(_){return e.attempt(s,T,w)(_)}function w(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),v}function v(_){return i>0&&Ae(_)?De(e,b,"linePrefix",i+1)(_):b(_)}function b(_){return _===null||pe(_)?e.check(fT,y,T)(_):(e.enter("codeFlowValue"),E(_))}function E(_){return _===null||pe(_)?(e.exit("codeFlowValue"),b(_)):(e.consume(_),E)}function T(_){return e.exit("codeFenced"),t(_)}function S(_,k,I){let M=0;return P;function P(K){return _.enter("lineEnding"),_.consume(K),_.exit("lineEnding"),H}function H(K){return _.enter("codeFencedFence"),Ae(K)?De(_,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):U(K)}function U(K){return K===a?(_.enter("codeFencedFenceSequence"),G(K)):I(K)}function G(K){return K===a?(M++,_.consume(K),G):M>=o?(_.exit("codeFencedFenceSequence"),Ae(K)?De(_,W,"whitespace")(K):W(K)):I(K)}function W(K){return K===null||pe(K)?(_.exit("codeFencedFence"),k(K)):I(K)}}}function EV(e,t,n){const r=this;return s;function s(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const ym={name:"codeIndented",tokenize:_V},TV={partial:!0,tokenize:SV};function _V(e,t,n){const r=this;return s;function s(l){return e.enter("codeIndented"),De(e,i,"linePrefix",5)(l)}function i(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(l):n(l)}function o(l){return l===null?u(l):pe(l)?e.attempt(TV,o,u)(l):(e.enter("codeFlowValue"),a(l))}function a(l){return l===null||pe(l)?(e.exit("codeFlowValue"),o(l)):(e.consume(l),a)}function u(l){return e.exit("codeIndented"),t(l)}}function SV(e,t,n){const r=this;return s;function s(o){return r.parser.lazy[r.now().line]?n(o):pe(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):De(e,i,"linePrefix",5)(o)}function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):pe(o)?s(o):n(o)}}const CV={name:"codeText",previous:AV,resolve:kV,tokenize:NV};function kV(e){let t=e.length-4,n=3,r,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)s===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(s=r):(r===t||e[r][1].type==="lineEnding")&&(e[s][1].type="codeTextData",r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),t-=r-s-2,r=s+2),s=void 0);return e}function AV(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function NV(e,t,n){let r=0,s,i;return o;function o(d){return e.enter("codeText"),e.enter("codeTextSequence"),a(d)}function a(d){return d===96?(e.consume(d),r++,a):(e.exit("codeTextSequence"),u(d))}function u(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),u):d===96?(i=e.enter("codeTextSequence"),s=0,c(d)):pe(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),u):(e.enter("codeTextData"),l(d))}function l(d){return d===null||d===32||d===96||pe(d)?(e.exit("codeTextData"),u(d)):(e.consume(d),l)}function c(d){return d===96?(e.consume(d),s++,c):s===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(i.type="codeTextData",l(d))}}class RV{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const s=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&Pu(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Pu(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Pu(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Pu(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Pu(this.left,n.reverse())}}}function Pu(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function PR(e){const t={};let n=-1,r,s,i,o,a,u,l;const c=new RV(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,i=0,i<u.length&&u[i][1].type==="lineEndingBlank"&&(i+=2),i<u.length&&u[i][1].type==="content"))for(;++i<u.length&&u[i][1].type!=="content";)u[i][1].type==="chunkText"&&(u[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,PV(c,n)),n=t[n],l=!0);else if(r[1]._container){for(i=n,s=void 0;i--;)if(o=c.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(s&&(c.get(s)[1].type="lineEndingBlank"),o[1].type="lineEnding",s=i);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;s&&(r[1].end={...c.get(s)[1].start},a=c.slice(s,n),a.unshift(r),c.splice(s,n-s+1,a))}}return En(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!l}function PV(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const i=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,u=[],l={};let c,d,f=-1,h=n,g=0,y=0;const w=[y];for(;h;){for(;e.get(++s)[1]!==h;);i.push(s),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),d&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(y=f+1,w.push(y),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):w.pop(),f=w.length;f--;){const v=a.slice(w[f],w[f+1]),b=i.pop();u.push([b,b+v.length-1]),e.splice(b,2,v)}for(u.reverse(),f=-1;++f<u.length;)l[g+u[f][0]]=g+u[f][1],g+=u[f][1]-u[f][0]-1;return l}const IV={resolve:DV,tokenize:LV},OV={partial:!0,tokenize:MV};function DV(e){return PR(e),e}function LV(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(a)}function s(a){return a===null?i(a):pe(a)?e.check(OV,o,i)(a):(e.consume(a),s)}function i(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function MV(e,t,n){const r=this;return s;function s(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),De(e,i,"linePrefix")}function i(o){if(o===null||pe(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function IR(e,t,n,r,s,i,o,a,u){const l=u||Number.POSITIVE_INFINITY;let c=0;return d;function d(v){return v===60?(e.enter(r),e.enter(s),e.enter(i),e.consume(v),e.exit(i),f):v===null||v===32||v===41||Kh(v)?n(v):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),y(v))}function f(v){return v===62?(e.enter(i),e.consume(v),e.exit(i),e.exit(s),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(v))}function h(v){return v===62?(e.exit("chunkString"),e.exit(a),f(v)):v===null||v===60||pe(v)?n(v):(e.consume(v),v===92?g:h)}function g(v){return v===60||v===62||v===92?(e.consume(v),h):h(v)}function y(v){return!c&&(v===null||v===41||He(v))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(v)):c<l&&v===40?(e.consume(v),c++,y):v===41?(e.consume(v),c--,y):v===null||v===32||v===40||Kh(v)?n(v):(e.consume(v),v===92?w:y)}function w(v){return v===40||v===41||v===92?(e.consume(v),y):y(v)}}function OR(e,t,n,r,s,i){const o=this;let a=0,u;return l;function l(h){return e.enter(r),e.enter(s),e.consume(h),e.exit(s),e.enter(i),c}function c(h){return a>999||h===null||h===91||h===93&&!u||h===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):h===93?(e.exit(i),e.enter(s),e.consume(h),e.exit(s),e.exit(r),t):pe(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||pe(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),u||(u=!Ae(h)),h===92?f:d)}function f(h){return h===91||h===92||h===93?(e.consume(h),a++,d):d(h)}}function DR(e,t,n,r,s,i){let o;return a;function a(f){return f===34||f===39||f===40?(e.enter(r),e.enter(s),e.consume(f),e.exit(s),o=f===40?41:f,u):n(f)}function u(f){return f===o?(e.enter(s),e.consume(f),e.exit(s),e.exit(r),t):(e.enter(i),l(f))}function l(f){return f===o?(e.exit(i),u(o)):f===null?n(f):pe(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),De(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===o||f===null||pe(f)?(e.exit("chunkString"),l(f)):(e.consume(f),f===92?d:c)}function d(f){return f===o||f===92?(e.consume(f),c):c(f)}}function fl(e,t){let n;return r;function r(s){return pe(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r):Ae(s)?De(e,r,n?"linePrefix":"lineSuffix")(s):t(s)}}const jV={name:"definition",tokenize:BV},FV={partial:!0,tokenize:UV};function BV(e,t,n){const r=this;let s;return i;function i(h){return e.enter("definition"),o(h)}function o(h){return OR.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return s=ur(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),u):n(h)}function u(h){return He(h)?fl(e,l)(h):l(h)}function l(h){return IR(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(FV,d,d)(h)}function d(h){return Ae(h)?De(e,f,"whitespace")(h):f(h)}function f(h){return h===null||pe(h)?(e.exit("definition"),r.parser.defined.push(s),t(h)):n(h)}}function UV(e,t,n){return r;function r(a){return He(a)?fl(e,s)(a):n(a)}function s(a){return DR(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function i(a){return Ae(a)?De(e,o,"whitespace")(a):o(a)}function o(a){return a===null||pe(a)?t(a):n(a)}}const HV={name:"hardBreakEscape",tokenize:$V};function $V(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),s}function s(i){return pe(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const zV={name:"headingAtx",resolve:VV,tokenize:WV};function VV(e,t){let n=e.length-2,r=3,s,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},En(e,r,n-r+1,[["enter",s,t],["enter",i,t],["exit",i,t],["exit",s,t]])),e}function WV(e,t,n){let r=0;return s;function s(c){return e.enter("atxHeading"),i(c)}function i(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||He(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),u(c)):c===null||pe(c)?(e.exit("atxHeading"),t(c)):Ae(c)?De(e,a,"whitespace")(c):(e.enter("atxHeadingText"),l(c))}function u(c){return c===35?(e.consume(c),u):(e.exit("atxHeadingSequence"),a(c))}function l(c){return c===null||c===35||He(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),l)}}const qV=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],mT=["pre","script","style","textarea"],KV={concrete:!0,name:"htmlFlow",resolveTo:QV,tokenize:XV},YV={partial:!0,tokenize:ZV},GV={partial:!0,tokenize:JV};function QV(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function XV(e,t,n){const r=this;let s,i,o,a,u;return l;function l(A){return c(A)}function c(A){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(A),d}function d(A){return A===33?(e.consume(A),f):A===47?(e.consume(A),i=!0,y):A===63?(e.consume(A),s=3,r.interrupt?t:C):Kt(A)?(e.consume(A),o=String.fromCharCode(A),w):n(A)}function f(A){return A===45?(e.consume(A),s=2,h):A===91?(e.consume(A),s=5,a=0,g):Kt(A)?(e.consume(A),s=4,r.interrupt?t:C):n(A)}function h(A){return A===45?(e.consume(A),r.interrupt?t:C):n(A)}function g(A){const X="CDATA[";return A===X.charCodeAt(a++)?(e.consume(A),a===X.length?r.interrupt?t:U:g):n(A)}function y(A){return Kt(A)?(e.consume(A),o=String.fromCharCode(A),w):n(A)}function w(A){if(A===null||A===47||A===62||He(A)){const X=A===47,ne=o.toLowerCase();return!X&&!i&&mT.includes(ne)?(s=1,r.interrupt?t(A):U(A)):qV.includes(o.toLowerCase())?(s=6,X?(e.consume(A),v):r.interrupt?t(A):U(A)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(A):i?b(A):E(A))}return A===45||Ft(A)?(e.consume(A),o+=String.fromCharCode(A),w):n(A)}function v(A){return A===62?(e.consume(A),r.interrupt?t:U):n(A)}function b(A){return Ae(A)?(e.consume(A),b):P(A)}function E(A){return A===47?(e.consume(A),P):A===58||A===95||Kt(A)?(e.consume(A),T):Ae(A)?(e.consume(A),E):P(A)}function T(A){return A===45||A===46||A===58||A===95||Ft(A)?(e.consume(A),T):S(A)}function S(A){return A===61?(e.consume(A),_):Ae(A)?(e.consume(A),S):E(A)}function _(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(e.consume(A),u=A,k):Ae(A)?(e.consume(A),_):I(A)}function k(A){return A===u?(e.consume(A),u=null,M):A===null||pe(A)?n(A):(e.consume(A),k)}function I(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||He(A)?S(A):(e.consume(A),I)}function M(A){return A===47||A===62||Ae(A)?E(A):n(A)}function P(A){return A===62?(e.consume(A),H):n(A)}function H(A){return A===null||pe(A)?U(A):Ae(A)?(e.consume(A),H):n(A)}function U(A){return A===45&&s===2?(e.consume(A),ie):A===60&&s===1?(e.consume(A),J):A===62&&s===4?(e.consume(A),te):A===63&&s===3?(e.consume(A),C):A===93&&s===5?(e.consume(A),L):pe(A)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(YV,j,G)(A)):A===null||pe(A)?(e.exit("htmlFlowData"),G(A)):(e.consume(A),U)}function G(A){return e.check(GV,W,j)(A)}function W(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),K}function K(A){return A===null||pe(A)?G(A):(e.enter("htmlFlowData"),U(A))}function ie(A){return A===45?(e.consume(A),C):U(A)}function J(A){return A===47?(e.consume(A),o="",B):U(A)}function B(A){if(A===62){const X=o.toLowerCase();return mT.includes(X)?(e.consume(A),te):U(A)}return Kt(A)&&o.length<8?(e.consume(A),o+=String.fromCharCode(A),B):U(A)}function L(A){return A===93?(e.consume(A),C):U(A)}function C(A){return A===62?(e.consume(A),te):A===45&&s===2?(e.consume(A),C):U(A)}function te(A){return A===null||pe(A)?(e.exit("htmlFlowData"),j(A)):(e.consume(A),te)}function j(A){return e.exit("htmlFlow"),t(A)}}function JV(e,t,n){const r=this;return s;function s(o){return pe(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):n(o)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function ZV(e,t,n){return r;function r(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(kc,t,n)}}const eW={name:"htmlText",tokenize:tW};function tW(e,t,n){const r=this;let s,i,o;return a;function a(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),u}function u(C){return C===33?(e.consume(C),l):C===47?(e.consume(C),S):C===63?(e.consume(C),E):Kt(C)?(e.consume(C),I):n(C)}function l(C){return C===45?(e.consume(C),c):C===91?(e.consume(C),i=0,g):Kt(C)?(e.consume(C),b):n(C)}function c(C){return C===45?(e.consume(C),h):n(C)}function d(C){return C===null?n(C):C===45?(e.consume(C),f):pe(C)?(o=d,J(C)):(e.consume(C),d)}function f(C){return C===45?(e.consume(C),h):d(C)}function h(C){return C===62?ie(C):C===45?f(C):d(C)}function g(C){const te="CDATA[";return C===te.charCodeAt(i++)?(e.consume(C),i===te.length?y:g):n(C)}function y(C){return C===null?n(C):C===93?(e.consume(C),w):pe(C)?(o=y,J(C)):(e.consume(C),y)}function w(C){return C===93?(e.consume(C),v):y(C)}function v(C){return C===62?ie(C):C===93?(e.consume(C),v):y(C)}function b(C){return C===null||C===62?ie(C):pe(C)?(o=b,J(C)):(e.consume(C),b)}function E(C){return C===null?n(C):C===63?(e.consume(C),T):pe(C)?(o=E,J(C)):(e.consume(C),E)}function T(C){return C===62?ie(C):E(C)}function S(C){return Kt(C)?(e.consume(C),_):n(C)}function _(C){return C===45||Ft(C)?(e.consume(C),_):k(C)}function k(C){return pe(C)?(o=k,J(C)):Ae(C)?(e.consume(C),k):ie(C)}function I(C){return C===45||Ft(C)?(e.consume(C),I):C===47||C===62||He(C)?M(C):n(C)}function M(C){return C===47?(e.consume(C),ie):C===58||C===95||Kt(C)?(e.consume(C),P):pe(C)?(o=M,J(C)):Ae(C)?(e.consume(C),M):ie(C)}function P(C){return C===45||C===46||C===58||C===95||Ft(C)?(e.consume(C),P):H(C)}function H(C){return C===61?(e.consume(C),U):pe(C)?(o=H,J(C)):Ae(C)?(e.consume(C),H):M(C)}function U(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),s=C,G):pe(C)?(o=U,J(C)):Ae(C)?(e.consume(C),U):(e.consume(C),W)}function G(C){return C===s?(e.consume(C),s=void 0,K):C===null?n(C):pe(C)?(o=G,J(C)):(e.consume(C),G)}function W(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||He(C)?M(C):(e.consume(C),W)}function K(C){return C===47||C===62||He(C)?M(C):n(C)}function ie(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):n(C)}function J(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),B}function B(C){return Ae(C)?De(e,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):L(C)}function L(C){return e.enter("htmlTextData"),o(C)}}const C1={name:"labelEnd",resolveAll:iW,resolveTo:oW,tokenize:aW},nW={tokenize:uW},rW={tokenize:lW},sW={tokenize:cW};function iW(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",t+=s}}return e.length!==n.length&&En(e,0,e.length,n),e}function oW(e,t){let n=e.length,r=0,s,i,o,a;for(;n--;)if(s=e[n][1],i){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(i=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(o=n);const u={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},l={type:"label",start:{...e[i][1].start},end:{...e[o][1].end}},c={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",u,t],["enter",l,t]],a=In(a,e.slice(i+1,i+r+3)),a=In(a,[["enter",c,t]]),a=In(a,Wf(t.parser.constructs.insideSpan.null,e.slice(i+r+4,o-3),t)),a=In(a,[["exit",c,t],e[o-2],e[o-1],["exit",l,t]]),a=In(a,e.slice(o+1)),a=In(a,[["exit",u,t]]),En(e,i,e.length,a),e}function aW(e,t,n){const r=this;let s=r.events.length,i,o;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){i=r.events[s][1];break}return a;function a(f){return i?i._inactive?d(f):(o=r.parser.defined.includes(ur(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),u):n(f)}function u(f){return f===40?e.attempt(nW,c,o?c:d)(f):f===91?e.attempt(rW,c,o?l:d)(f):o?c(f):d(f)}function l(f){return e.attempt(sW,c,d)(f)}function c(f){return t(f)}function d(f){return i._balanced=!0,n(f)}}function uW(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),s}function s(d){return He(d)?fl(e,i)(d):i(d)}function i(d){return d===41?c(d):IR(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return He(d)?fl(e,u)(d):c(d)}function a(d){return n(d)}function u(d){return d===34||d===39||d===40?DR(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function l(d){return He(d)?fl(e,c)(d):c(d)}function c(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function lW(e,t,n){const r=this;return s;function s(a){return OR.call(r,e,i,o,"reference","referenceMarker","referenceString")(a)}function i(a){return r.parser.defined.includes(ur(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function cW(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),s}function s(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const dW={name:"labelStartImage",resolveAll:C1.resolveAll,tokenize:hW};function hW(e,t,n){const r=this;return s;function s(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),i}function i(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const fW={name:"labelStartLink",resolveAll:C1.resolveAll,tokenize:pW};function pW(e,t,n){const r=this;return s;function s(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const vm={name:"lineEnding",tokenize:mW};function mW(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),De(e,t,"linePrefix")}}const Yd={name:"thematicBreak",tokenize:gW};function gW(e,t,n){let r=0,s;return i;function i(l){return e.enter("thematicBreak"),o(l)}function o(l){return s=l,a(l)}function a(l){return l===s?(e.enter("thematicBreakSequence"),u(l)):r>=3&&(l===null||pe(l))?(e.exit("thematicBreak"),t(l)):n(l)}function u(l){return l===s?(e.consume(l),r++,u):(e.exit("thematicBreakSequence"),Ae(l)?De(e,a,"whitespace")(l):a(l))}}const en={continuation:{tokenize:xW},exit:EW,name:"list",tokenize:bW},yW={partial:!0,tokenize:TW},vW={partial:!0,tokenize:wW};function bW(e,t,n){const r=this,s=r.events[r.events.length-1];let i=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,o=0;return a;function a(h){const g=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:Wg(h)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(Yd,n,l)(h):l(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(h)}return n(h)}function u(h){return Wg(h)&&++o<10?(e.consume(h),u):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),l(h)):n(h)}function l(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(kc,r.interrupt?n:c,e.attempt(yW,f,d))}function c(h){return r.containerState.initialBlankLine=!0,i++,f(h)}function d(h){return Ae(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),f):n(h)}function f(h){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function xW(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(kc,s,i);function s(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,De(e,t,"listItemIndent",r.containerState.size+1)(a)}function i(a){return r.containerState.furtherBlankLines||!Ae(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(vW,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,De(e,e.attempt(en,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function wW(e,t,n){const r=this;return De(e,s,"listItemIndent",r.containerState.size+1);function s(i){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(i):n(i)}}function EW(e){e.exit(this.containerState.type)}function TW(e,t,n){const r=this;return De(e,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(i){const o=r.events[r.events.length-1];return!Ae(i)&&o&&o[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const gT={name:"setextUnderline",resolveTo:_W,tokenize:SW};function _W(e,t){let n=e.length,r,s,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",i?(e.splice(s,0,["enter",o,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function SW(e,t,n){const r=this;let s;return i;function i(l){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),s=l,o(l)):n(l)}function o(l){return e.enter("setextHeadingLineSequence"),a(l)}function a(l){return l===s?(e.consume(l),a):(e.exit("setextHeadingLineSequence"),Ae(l)?De(e,u,"lineSuffix")(l):u(l))}function u(l){return l===null||pe(l)?(e.exit("setextHeadingLine"),t(l)):n(l)}}const CW={tokenize:kW};function kW(e){const t=this,n=e.attempt(kc,r,e.attempt(this.parser.constructs.flowInitial,s,De(e,e.attempt(this.parser.constructs.flow,s,e.attempt(IV,s)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const AW={resolveAll:MR()},NW=LR("string"),RW=LR("text");function LR(e){return{resolveAll:MR(e==="text"?PW:void 0),tokenize:t};function t(n){const r=this,s=this.parser.constructs[e],i=n.attempt(s,o,a);return o;function o(c){return l(c)?i(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),u}function u(c){return l(c)?(n.exit("data"),i(c)):(n.consume(c),u)}function l(c){if(c===null)return!0;const d=s[c];let f=-1;if(d)for(;++f<d.length;){const h=d[f];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function MR(e){return t;function t(n,r){let s=-1,i;for(;++s<=n.length;)i===void 0?n[s]&&n[s][1].type==="data"&&(i=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==i+2&&(n[i][1].end=n[s-1][1].end,n.splice(i+2,s-i-2),s=i+2),i=void 0);return e?e(n,r):n}}function PW(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],s=t.sliceStream(r);let i=s.length,o=-1,a=0,u;for(;i--;){const l=s[i];if(typeof l=="string"){for(o=l.length;l.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(l===-2)u=!0,a++;else if(l!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const l={type:n===e.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:r.start._bufferIndex+o,_index:r.start._index+i,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...l.start},r.start.offset===r.end.offset?Object.assign(r,l):(e.splice(n,0,["enter",l,t],["exit",l,t]),n+=2)}n++}return e}const IW={42:en,43:en,45:en,48:en,49:en,50:en,51:en,52:en,53:en,54:en,55:en,56:en,57:en,62:AR},OW={91:jV},DW={[-2]:ym,[-1]:ym,32:ym},LW={35:zV,42:Yd,45:[gT,Yd],60:KV,61:gT,95:Yd,96:pT,126:pT},MW={38:RR,92:NR},jW={[-5]:vm,[-4]:vm,[-3]:vm,33:dW,38:RR,42:qg,60:[fV,eW],91:fW,92:[HV,NR],93:C1,95:qg,96:CV},FW={null:[qg,AW]},BW={null:[42,95]},UW={null:[]},HW=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:BW,contentInitial:OW,disable:UW,document:IW,flow:LW,flowInitial:DW,insideSpan:FW,string:MW,text:jW},Symbol.toStringTag,{value:"Module"}));function $W(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},i=[];let o=[],a=[];const u={attempt:k(S),check:k(_),consume:b,enter:E,exit:T,interrupt:k(_,{interrupt:!0})},l={code:null,containerState:{},defineSkip:y,events:[],now:g,parser:e,previous:null,sliceSerialize:f,sliceStream:h,write:d};let c=t.tokenize.call(l,u);return t.resolveAll&&i.push(t),l;function d(H){return o=In(o,H),w(),o[o.length-1]!==null?[]:(I(t,0),l.events=Wf(i,l.events,l),l.events)}function f(H,U){return VW(h(H),U)}function h(H){return zW(o,H)}function g(){const{_bufferIndex:H,_index:U,line:G,column:W,offset:K}=r;return{_bufferIndex:H,_index:U,line:G,column:W,offset:K}}function y(H){s[H.line]=H.column,P()}function w(){let H;for(;r._index<o.length;){const U=o[r._index];if(typeof U=="string")for(H=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===H&&r._bufferIndex<U.length;)v(U.charCodeAt(r._bufferIndex));else v(U)}}function v(H){c=c(H)}function b(H){pe(H)?(r.line++,r.column=1,r.offset+=H===-3?2:1,P()):H!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),l.previous=H}function E(H,U){const G=U||{};return G.type=H,G.start=g(),l.events.push(["enter",G,l]),a.push(G),G}function T(H){const U=a.pop();return U.end=g(),l.events.push(["exit",U,l]),U}function S(H,U){I(H,U.from)}function _(H,U){U.restore()}function k(H,U){return G;function G(W,K,ie){let J,B,L,C;return Array.isArray(W)?j(W):"tokenize"in W?j([W]):te(W);function te(ae){return z;function z(he){const q=he!==null&&ae[he],le=he!==null&&ae.null,me=[...Array.isArray(q)?q:q?[q]:[],...Array.isArray(le)?le:le?[le]:[]];return j(me)(he)}}function j(ae){return J=ae,B=0,ae.length===0?ie:A(ae[B])}function A(ae){return z;function z(he){return C=M(),L=ae,ae.partial||(l.currentConstruct=ae),ae.name&&l.parser.constructs.disable.null.includes(ae.name)?ne():ae.tokenize.call(U?Object.assign(Object.create(l),U):l,u,X,ne)(he)}}function X(ae){return H(L,C),K}function ne(ae){return C.restore(),++B<J.length?A(J[B]):ie}}}function I(H,U){H.resolveAll&&!i.includes(H)&&i.push(H),H.resolve&&En(l.events,U,l.events.length-U,H.resolve(l.events.slice(U),l)),H.resolveTo&&(l.events=H.resolveTo(l.events,l))}function M(){const H=g(),U=l.previous,G=l.currentConstruct,W=l.events.length,K=Array.from(a);return{from:W,restore:ie};function ie(){r=H,l.previous=U,l.currentConstruct=G,l.events.length=W,a=K,P()}}function P(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function zW(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,i=t.end._bufferIndex;let o;if(n===s)o=[e[n].slice(r,i)];else{if(o=e.slice(n,s),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}i>0&&o.push(e[s].slice(0,i))}return o}function VW(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const i=e[n];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&s)continue;o=" ";break}default:o=String.fromCharCode(i)}s=i===-2,r.push(o)}return r.join("")}function WW(e){const r={constructs:CR([HW,...(e||{}).extensions||[]]),content:s(oV),defined:[],document:s(uV),flow:s(CW),lazy:{},string:s(NW),text:s(RW)};return r;function s(i){return o;function o(a){return $W(r,i,a)}}}function qW(e){for(;!PR(e););return e}const yT=/[\0\t\n\r]/g;function KW(){let e=1,t="",n=!0,r;return s;function s(i,o,a){const u=[];let l,c,d,f,h;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),d=0,t="",n&&(i.charCodeAt(0)===65279&&d++,n=void 0);d<i.length;){if(yT.lastIndex=d,l=yT.exec(i),f=l&&l.index!==void 0?l.index:i.length,h=i.charCodeAt(f),!l){t=i.slice(d);break}if(h===10&&d===f&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),d<f&&(u.push(i.slice(d,f)),e+=f-d),h){case 0:{u.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,u.push(-2);e++<c;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}d=f+1}return a&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}const YW=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function GW(e){return e.replace(YW,QW)}function QW(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),i=s===120||s===88;return kR(n.slice(i?2:1),i?16:10)}return S1(n)||e}const jR={}.hasOwnProperty;function XW(e,t,n){return typeof t!="string"&&(n=t,t=void 0),JW(n)(qW(WW(n).document().write(KW()(e,t,!0))))}function JW(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Ur),autolinkProtocol:M,autolinkEmail:M,atxHeading:i($n),blockQuote:i(le),characterEscape:M,characterReference:M,codeFenced:i(me),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(me,o),codeText:i(Ie,o),codeTextData:M,data:M,codeFlowValue:M,definition:i(Pe),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(Je),hardBreakEscape:i(zn),hardBreakTrailing:i(zn),htmlFlow:i(ds,o),htmlFlowData:M,htmlText:i(ds,o),htmlTextData:M,image:i(Si),label:o,link:i(Ur),listItem:i(Ci),listItemValue:f,listOrdered:i(yu,d),listUnordered:i(yu),paragraph:i(Oc),reference:A,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i($n),strong:i(Hr),thematicBreak:i(ap)},exit:{atxHeading:u(),atxHeadingSequence:S,autolink:u(),autolinkEmail:q,autolinkProtocol:he,blockQuote:u(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:ne,characterReferenceMarkerNumeric:ne,characterReferenceValue:ae,characterReference:z,codeFenced:u(w),codeFencedFence:y,codeFencedFenceInfo:h,codeFencedFenceMeta:g,codeFlowValue:P,codeIndented:u(v),codeText:u(K),codeTextData:P,data:P,definition:u(),definitionDestinationString:T,definitionLabelString:b,definitionTitleString:E,emphasis:u(),hardBreakEscape:u(U),hardBreakTrailing:u(U),htmlFlow:u(G),htmlFlowData:P,htmlText:u(W),htmlTextData:P,image:u(J),label:L,labelText:B,lineEnding:H,link:u(ie),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:X,resourceDestinationString:C,resourceTitleString:te,resource:j,setextHeading:u(I),setextHeadingLineSequence:k,setextHeadingText:_,strong:u(),thematicBreak:u()}};FR(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(V){let re={type:"root",children:[]};const be={stack:[re],tokenStack:[],config:t,enter:a,exit:l,buffer:o,resume:c,data:n},ke=[];let Me=-1;for(;++Me<V.length;)if(V[Me][1].type==="listOrdered"||V[Me][1].type==="listUnordered")if(V[Me][0]==="enter")ke.push(Me);else{const hn=ke.pop();Me=s(V,hn,Me)}for(Me=-1;++Me<V.length;){const hn=t[V[Me][0]];jR.call(hn,V[Me][1].type)&&hn[V[Me][1].type].call(Object.assign({sliceSerialize:V[Me][2].sliceSerialize},be),V[Me][1])}if(be.tokenStack.length>0){const hn=be.tokenStack[be.tokenStack.length-1];(hn[1]||vT).call(be,void 0,hn[0])}for(re.position={start:xs(V.length>0?V[0][1].start:{line:1,column:1,offset:0}),end:xs(V.length>0?V[V.length-2][1].end:{line:1,column:1,offset:0})},Me=-1;++Me<t.transforms.length;)re=t.transforms[Me](re)||re;return re}function s(V,re,be){let ke=re-1,Me=-1,hn=!1,gr,fn,kn,hs;for(;++ke<=be;){const ft=V[ke];switch(ft[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ft[0]==="enter"?Me++:Me--,hs=void 0;break}case"lineEndingBlank":{ft[0]==="enter"&&(gr&&!hs&&!Me&&!kn&&(kn=ke),hs=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:hs=void 0}if(!Me&&ft[0]==="enter"&&ft[1].type==="listItemPrefix"||Me===-1&&ft[0]==="exit"&&(ft[1].type==="listUnordered"||ft[1].type==="listOrdered")){if(gr){let fs=ke;for(fn=void 0;fs--;){const Vn=V[fs];if(Vn[1].type==="lineEnding"||Vn[1].type==="lineEndingBlank"){if(Vn[0]==="exit")continue;fn&&(V[fn][1].type="lineEndingBlank",hn=!0),Vn[1].type="lineEnding",fn=fs}else if(!(Vn[1].type==="linePrefix"||Vn[1].type==="blockQuotePrefix"||Vn[1].type==="blockQuotePrefixWhitespace"||Vn[1].type==="blockQuoteMarker"||Vn[1].type==="listItemIndent"))break}kn&&(!fn||kn<fn)&&(gr._spread=!0),gr.end=Object.assign({},fn?V[fn][1].start:ft[1].end),V.splice(fn||ke,0,["exit",gr,ft[2]]),ke++,be++}if(ft[1].type==="listItemPrefix"){const fs={type:"listItem",_spread:!1,start:Object.assign({},ft[1].start),end:void 0};gr=fs,V.splice(ke,0,["enter",fs,ft[2]]),ke++,be++,kn=void 0,hs=!0}}}return V[re][1]._spread=hn,be}function i(V,re){return be;function be(ke){a.call(this,V(ke),ke),re&&re.call(this,ke)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(V,re,be){this.stack[this.stack.length-1].children.push(V),this.stack.push(V),this.tokenStack.push([re,be||void 0]),V.position={start:xs(re.start),end:void 0}}function u(V){return re;function re(be){V&&V.call(this,be),l.call(this,be)}}function l(V,re){const be=this.stack.pop(),ke=this.tokenStack.pop();if(ke)ke[0].type!==V.type&&(re?re.call(this,V,ke[0]):(ke[1]||vT).call(this,V,ke[0]));else throw new Error("Cannot close `"+V.type+"` ("+hl({start:V.start,end:V.end})+"): its not open");be.position.end=xs(V.end)}function c(){return _1(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(V){if(this.data.expectingFirstListItemValue){const re=this.stack[this.stack.length-2];re.start=Number.parseInt(this.sliceSerialize(V),10),this.data.expectingFirstListItemValue=void 0}}function h(){const V=this.resume(),re=this.stack[this.stack.length-1];re.lang=V}function g(){const V=this.resume(),re=this.stack[this.stack.length-1];re.meta=V}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const V=this.resume(),re=this.stack[this.stack.length-1];re.value=V.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const V=this.resume(),re=this.stack[this.stack.length-1];re.value=V.replace(/(\r?\n|\r)$/g,"")}function b(V){const re=this.resume(),be=this.stack[this.stack.length-1];be.label=re,be.identifier=ur(this.sliceSerialize(V)).toLowerCase()}function E(){const V=this.resume(),re=this.stack[this.stack.length-1];re.title=V}function T(){const V=this.resume(),re=this.stack[this.stack.length-1];re.url=V}function S(V){const re=this.stack[this.stack.length-1];if(!re.depth){const be=this.sliceSerialize(V).length;re.depth=be}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function k(V){const re=this.stack[this.stack.length-1];re.depth=this.sliceSerialize(V).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function M(V){const be=this.stack[this.stack.length-1].children;let ke=be[be.length-1];(!ke||ke.type!=="text")&&(ke=op(),ke.position={start:xs(V.start),end:void 0},be.push(ke)),this.stack.push(ke)}function P(V){const re=this.stack.pop();re.value+=this.sliceSerialize(V),re.position.end=xs(V.end)}function H(V){const re=this.stack[this.stack.length-1];if(this.data.atHardBreak){const be=re.children[re.children.length-1];be.position.end=xs(V.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(re.type)&&(M.call(this,V),P.call(this,V))}function U(){this.data.atHardBreak=!0}function G(){const V=this.resume(),re=this.stack[this.stack.length-1];re.value=V}function W(){const V=this.resume(),re=this.stack[this.stack.length-1];re.value=V}function K(){const V=this.resume(),re=this.stack[this.stack.length-1];re.value=V}function ie(){const V=this.stack[this.stack.length-1];if(this.data.inReference){const re=this.data.referenceType||"shortcut";V.type+="Reference",V.referenceType=re,delete V.url,delete V.title}else delete V.identifier,delete V.label;this.data.referenceType=void 0}function J(){const V=this.stack[this.stack.length-1];if(this.data.inReference){const re=this.data.referenceType||"shortcut";V.type+="Reference",V.referenceType=re,delete V.url,delete V.title}else delete V.identifier,delete V.label;this.data.referenceType=void 0}function B(V){const re=this.sliceSerialize(V),be=this.stack[this.stack.length-2];be.label=GW(re),be.identifier=ur(re).toLowerCase()}function L(){const V=this.stack[this.stack.length-1],re=this.resume(),be=this.stack[this.stack.length-1];if(this.data.inReference=!0,be.type==="link"){const ke=V.children;be.children=ke}else be.alt=re}function C(){const V=this.resume(),re=this.stack[this.stack.length-1];re.url=V}function te(){const V=this.resume(),re=this.stack[this.stack.length-1];re.title=V}function j(){this.data.inReference=void 0}function A(){this.data.referenceType="collapsed"}function X(V){const re=this.resume(),be=this.stack[this.stack.length-1];be.label=re,be.identifier=ur(this.sliceSerialize(V)).toLowerCase(),this.data.referenceType="full"}function ne(V){this.data.characterReferenceType=V.type}function ae(V){const re=this.sliceSerialize(V),be=this.data.characterReferenceType;let ke;be?(ke=kR(re,be==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ke=S1(re);const Me=this.stack[this.stack.length-1];Me.value+=ke}function z(V){const re=this.stack.pop();re.position.end=xs(V.end)}function he(V){P.call(this,V);const re=this.stack[this.stack.length-1];re.url=this.sliceSerialize(V)}function q(V){P.call(this,V);const re=this.stack[this.stack.length-1];re.url="mailto:"+this.sliceSerialize(V)}function le(){return{type:"blockquote",children:[]}}function me(){return{type:"code",lang:null,meta:null,value:""}}function Ie(){return{type:"inlineCode",value:""}}function Pe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Je(){return{type:"emphasis",children:[]}}function $n(){return{type:"heading",depth:0,children:[]}}function zn(){return{type:"break"}}function ds(){return{type:"html",value:""}}function Si(){return{type:"image",title:null,url:"",alt:null}}function Ur(){return{type:"link",title:null,url:"",children:[]}}function yu(V){return{type:"list",ordered:V.type==="listOrdered",start:null,spread:V._spread,children:[]}}function Ci(V){return{type:"listItem",spread:V._spread,checked:null,children:[]}}function Oc(){return{type:"paragraph",children:[]}}function Hr(){return{type:"strong",children:[]}}function op(){return{type:"text",value:""}}function ap(){return{type:"thematicBreak"}}}function xs(e){return{line:e.line,column:e.column,offset:e.offset}}function FR(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?FR(e,r):ZW(e,r)}}function ZW(e,t){let n;for(n in t)if(jR.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function vT(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+hl({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+hl({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+hl({start:t.start,end:t.end})+") is still open")}function eq(e){const t=this;t.parser=n;function n(r){return XW(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function tq(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function nq(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function rq(e,t){const n=t.value?t.value+`
`:"",r={},s=t.lang?t.lang.split(/\s+/):[];s.length>0&&(r.className=["language-"+s[0]]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function sq(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function iq(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function oq(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=fu(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=i+1,a+=1,e.footnoteCounts.set(r,a);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,u);const l={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,l),e.applyData(t,l)}function aq(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function uq(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function BR(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),i=s[0];i&&i.type==="text"?i.value="["+i.value:s.unshift({type:"text",value:"["});const o=s[s.length-1];return o&&o.type==="text"?o.value+=r:s.push({type:"text",value:r}),s}function lq(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return BR(e,t);const s={src:fu(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const i={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,i),e.applyData(t,i)}function cq(e,t){const n={src:fu(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function dq(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function hq(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return BR(e,t);const s={href:fu(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const i={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function fq(e,t){const n={href:fu(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function pq(e,t,n){const r=e.all(t),s=n?mq(n):UR(t),i={},o=[];if(typeof t.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(s||a!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!s?o.push(...c.children):o.push(c)}const u=r[r.length-1];u&&(s||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const l={type:"element",tagName:"li",properties:i,children:o};return e.patch(t,l),e.applyData(t,l)}function mq(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=UR(n[r])}return t}function UR(e){const t=e.spread;return t??e.children.length>1}function gq(e,t){const n={},r=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<r.length;){const o=r[s];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function yq(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function vq(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function bq(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function xq(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),s.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=Fr(t.children[1]),u=zf(t.children[t.children.length-1]);a&&u&&(o.position={start:a,end:u}),s.push(o)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,i),e.applyData(t,i)}function wq(e,t,n){const r=n?n.children:void 0,i=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let u=-1;const l=[];for(;++u<a;){const d=t.children[u],f={},h=o?o[u]:void 0;h&&(f.align=h);let g={type:"element",tagName:i,properties:f,children:[]};d&&(g.children=e.all(d),e.patch(d,g),g=e.applyData(d,g)),l.push(g)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)}function Eq(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const bT=9,xT=32;function Tq(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const i=[];for(;r;)i.push(wT(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return i.push(wT(t.slice(s),s>0,!1)),i.join("")}function wT(e,t,n){let r=0,s=e.length;if(t){let i=e.codePointAt(r);for(;i===bT||i===xT;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(s-1);for(;i===bT||i===xT;)s--,i=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}function _q(e,t){const n={type:"text",value:Tq(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Sq(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Cq={blockquote:tq,break:nq,code:rq,delete:sq,emphasis:iq,footnoteReference:oq,heading:aq,html:uq,imageReference:lq,image:cq,inlineCode:dq,linkReference:hq,link:fq,listItem:pq,list:gq,paragraph:yq,root:vq,strong:bq,table:xq,tableCell:Eq,tableRow:wq,text:_q,thematicBreak:Sq,toml:md,yaml:md,definition:md,footnoteDefinition:md};function md(){}const HR=-1,qf=0,pl=1,Yh=2,k1=3,A1=4,N1=5,R1=6,$R=7,zR=8,ET=typeof self=="object"?self:globalThis,kq=(e,t)=>{const n=(s,i)=>(e.set(i,s),s),r=s=>{if(e.has(s))return e.get(s);const[i,o]=t[s];switch(i){case qf:case HR:return n(o,s);case pl:{const a=n([],s);for(const u of o)a.push(r(u));return a}case Yh:{const a=n({},s);for(const[u,l]of o)a[r(u)]=r(l);return a}case k1:return n(new Date(o),s);case A1:{const{source:a,flags:u}=o;return n(new RegExp(a,u),s)}case N1:{const a=n(new Map,s);for(const[u,l]of o)a.set(r(u),r(l));return a}case R1:{const a=n(new Set,s);for(const u of o)a.add(r(u));return a}case $R:{const{name:a,message:u}=o;return n(new ET[a](u),s)}case zR:return n(BigInt(o),s);case"BigInt":return n(Object(BigInt(o)),s);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new ET[i](o),s)};return r},TT=e=>kq(new Map,e)(0),Lo="",{toString:Aq}={},{keys:Nq}=Object,Iu=e=>{const t=typeof e;if(t!=="object"||!e)return[qf,t];const n=Aq.call(e).slice(8,-1);switch(n){case"Array":return[pl,Lo];case"Object":return[Yh,Lo];case"Date":return[k1,Lo];case"RegExp":return[A1,Lo];case"Map":return[N1,Lo];case"Set":return[R1,Lo];case"DataView":return[pl,n]}return n.includes("Array")?[pl,n]:n.includes("Error")?[$R,n]:[Yh,n]},gd=([e,t])=>e===qf&&(t==="function"||t==="symbol"),Rq=(e,t,n,r)=>{const s=(o,a)=>{const u=r.push(o)-1;return n.set(a,u),u},i=o=>{if(n.has(o))return n.get(o);let[a,u]=Iu(o);switch(a){case qf:{let c=o;switch(u){case"bigint":a=zR,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);c=null;break;case"undefined":return s([HR],o)}return s([a,c],o)}case pl:{if(u){let f=o;return u==="DataView"?f=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(f=new Uint8Array(o)),s([u,[...f]],o)}const c=[],d=s([a,c],o);for(const f of o)c.push(i(f));return d}case Yh:{if(u)switch(u){case"BigInt":return s([u,o.toString()],o);case"Boolean":case"Number":case"String":return s([u,o.valueOf()],o)}if(t&&"toJSON"in o)return i(o.toJSON());const c=[],d=s([a,c],o);for(const f of Nq(o))(e||!gd(Iu(o[f])))&&c.push([i(f),i(o[f])]);return d}case k1:return s([a,o.toISOString()],o);case A1:{const{source:c,flags:d}=o;return s([a,{source:c,flags:d}],o)}case N1:{const c=[],d=s([a,c],o);for(const[f,h]of o)(e||!(gd(Iu(f))||gd(Iu(h))))&&c.push([i(f),i(h)]);return d}case R1:{const c=[],d=s([a,c],o);for(const f of o)(e||!gd(Iu(f)))&&c.push(i(f));return d}}const{message:l}=o;return s([a,{name:u,message:l}],o)};return i},_T=(e,{json:t,lossy:n}={})=>{const r=[];return Rq(!(t||n),!!t,new Map,r)(e),r},Ka=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?TT(_T(e,t)):structuredClone(e):(e,t)=>TT(_T(e,t));function Pq(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Iq(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Oq(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Pq,r=e.options.footnoteBackLabel||Iq,s=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let u=-1;for(;++u<e.footnoteOrder.length;){const l=e.footnoteById.get(e.footnoteOrder[u]);if(!l)continue;const c=e.all(l),d=String(l.identifier).toUpperCase(),f=fu(d.toLowerCase());let h=0;const g=[],y=e.footnoteCounts.get(d);for(;y!==void 0&&++h<=y;){g.length>0&&g.push({type:"text",value:" "});let b=typeof n=="string"?n:n(u,h);typeof b=="string"&&(b={type:"text",value:b}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,h),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const w=c[c.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const b=w.children[w.children.length-1];b&&b.type==="text"?b.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...g)}else c.push(...g);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(c,!0)};e.patch(l,v),a.push(v)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Ka(o),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const Kf=function(e){if(e==null)return jq;if(typeof e=="function")return Yf(e);if(typeof e=="object")return Array.isArray(e)?Dq(e):Lq(e);if(typeof e=="string")return Mq(e);throw new Error("Expected function, string, or object as test")};function Dq(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Kf(e[n]);return Yf(r);function r(...s){let i=-1;for(;++i<t.length;)if(t[i].apply(this,s))return!0;return!1}}function Lq(e){const t=e;return Yf(n);function n(r){const s=r;let i;for(i in e)if(s[i]!==t[i])return!1;return!0}}function Mq(e){return Yf(t);function t(n){return n&&n.type===e}}function Yf(e){return t;function t(n,r,s){return!!(Fq(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function jq(){return!0}function Fq(e){return e!==null&&typeof e=="object"&&"type"in e}const VR=[],Bq=!0,Kg=!1,Uq="skip";function WR(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const i=Kf(s),o=r?-1:1;a(e,void 0,[])();function a(u,l,c){const d=u&&typeof u=="object"?u:{};if(typeof d.type=="string"){const h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(u.type+(h?"<"+h+">":""))+")"})}return f;function f(){let h=VR,g,y,w;if((!t||i(u,l,c[c.length-1]||void 0))&&(h=Hq(n(u,c)),h[0]===Kg))return h;if("children"in u&&u.children){const v=u;if(v.children&&h[0]!==Uq)for(y=(r?v.children.length:-1)+o,w=c.concat(v);y>-1&&y<v.children.length;){const b=v.children[y];if(g=a(b,y,w)(),g[0]===Kg)return g;y=typeof g[1]=="number"?g[1]:y+o}}return h}}}function Hq(e){return Array.isArray(e)?e:typeof e=="number"?[Bq,e]:e==null?VR:[e]}function Gf(e,t,n,r){let s,i,o;typeof t=="function"&&typeof n!="function"?(i=void 0,o=t,s=n):(i=t,o=n,s=r),WR(e,i,a,s);function a(u,l){const c=l[l.length-1],d=c?c.children.indexOf(u):void 0;return o(u,d,c)}}const Yg={}.hasOwnProperty,$q={};function zq(e,t){const n=t||$q,r=new Map,s=new Map,i=new Map,o={...Cq,...n.handlers},a={all:l,applyData:Wq,definitionById:r,footnoteById:s,footnoteCounts:i,footnoteOrder:[],handlers:o,one:u,options:n,patch:Vq,wrap:Kq};return Gf(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:s,f=String(c.identifier).toUpperCase();d.has(f)||d.set(f,c)}}),a;function u(c,d){const f=c.type,h=a.handlers[f];if(Yg.call(a.handlers,f)&&h)return h(a,c,d);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in c){const{children:y,...w}=c,v=Ka(w);return v.children=a.all(c),v}return Ka(c)}return(a.options.unknownHandler||qq)(a,c,d)}function l(c){const d=[];if("children"in c){const f=c.children;let h=-1;for(;++h<f.length;){const g=a.one(f[h],c);if(g){if(h&&f[h-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=ST(g.value)),!Array.isArray(g)&&g.type==="element")){const y=g.children[0];y&&y.type==="text"&&(y.value=ST(y.value))}Array.isArray(g)?d.push(...g):d.push(g)}}}return d}}function Vq(e,t){e.position&&(t.position=Iz(e))}function Wq(e,t){let n=t;if(e&&e.data){const r=e.data.hName,s=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&i&&Object.assign(n.properties,Ka(i)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function qq(e,t){const n=t.data||{},r="value"in t&&!(Yg.call(n,"hProperties")||Yg.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Kq(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function ST(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function CT(e,t){const n=zq(e,t),r=n.one(e,void 0),s=Oq(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&i.children.push({type:"text",value:`
`},s),i}function Yq(e,t){return e&&"run"in e?async function(n,r){const s=CT(n,{file:r,...t});await e.run(s,r)}:function(n,r){return CT(n,{file:r,...e||t})}}function kT(e){if(e)throw e}var Gd=Object.prototype.hasOwnProperty,qR=Object.prototype.toString,AT=Object.defineProperty,NT=Object.getOwnPropertyDescriptor,RT=function(t){return typeof Array.isArray=="function"?Array.isArray(t):qR.call(t)==="[object Array]"},PT=function(t){if(!t||qR.call(t)!=="[object Object]")return!1;var n=Gd.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Gd.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var s;for(s in t);return typeof s>"u"||Gd.call(t,s)},IT=function(t,n){AT&&n.name==="__proto__"?AT(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},OT=function(t,n){if(n==="__proto__")if(Gd.call(t,n)){if(NT)return NT(t,n).value}else return;return t[n]},Gq=function e(){var t,n,r,s,i,o,a=arguments[0],u=1,l=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<l;++u)if(t=arguments[u],t!=null)for(n in t)r=OT(a,n),s=OT(t,n),a!==s&&(c&&s&&(PT(s)||(i=RT(s)))?(i?(i=!1,o=r&&RT(r)?r:[]):o=r&&PT(r)?r:{},IT(a,{name:n,newValue:e(c,o,s)})):typeof s<"u"&&IT(a,{name:n,newValue:s}));return a};const bm=ef(Gq);function Gg(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Qq(){const e=[],t={run:n,use:r};return t;function n(...s){let i=-1;const o=s.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...s);function a(u,...l){const c=e[++i];let d=-1;if(u){o(u);return}for(;++d<s.length;)(l[d]===null||l[d]===void 0)&&(l[d]=s[d]);s=l,c?Xq(c,a)(...l):o(null,...l)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function Xq(e,t){let n;return r;function r(...o){const a=e.length>o.length;let u;a&&o.push(s);try{u=e.apply(this,o)}catch(l){const c=l;if(a&&n)throw c;return s(c)}a||(u&&u.then&&typeof u.then=="function"?u.then(i,s):u instanceof Error?s(u):i(u))}function s(o,...a){n||(n=!0,t(o,...a))}function i(o){s(null,o)}}const xr={basename:Jq,dirname:Zq,extname:eK,join:tK,sep:"/"};function Jq(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ac(e);let n=0,r=-1,s=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(i){n=s+1;break}}else r<0&&(i=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(i){n=s+1;break}}else o<0&&(i=!0,o=s+1),a>-1&&(e.codePointAt(s)===t.codePointAt(a--)?a<0&&(r=s):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function Zq(e){if(Ac(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function eK(e){Ac(e);let t=e.length,n=-1,r=0,s=-1,i=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?s<0?s=t:i!==1&&(i=1):s>-1&&(i=-1)}return s<0||n<0||i===0||i===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function tK(...e){let t=-1,n;for(;++t<e.length;)Ac(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":nK(n)}function nK(e){Ac(e);const t=e.codePointAt(0)===47;let n=rK(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function rK(e,t){let n="",r=0,s=-1,i=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(s===o-1||i===1))if(s!==o-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),s=o,i=0;continue}}else if(n.length>0){n="",r=0,s=o,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,o):n=e.slice(s+1,o),r=o-s-1;s=o,i=0}else a===46&&i>-1?i++:i=-1}return n}function Ac(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const sK={cwd:iK};function iK(){return"/"}function Qg(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function oK(e){if(typeof e=="string")e=new URL(e);else if(!Qg(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return aK(e)}function aK(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const xm=["history","path","basename","stem","extname","dirname"];class KR{constructor(t){let n;t?Qg(t)?n={path:t}:typeof t=="string"||uK(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":sK.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<xm.length;){const i=xm[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let s;for(s in n)xm.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?xr.basename(this.path):void 0}set basename(t){Em(t,"basename"),wm(t,"basename"),this.path=xr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?xr.dirname(this.path):void 0}set dirname(t){DT(this.basename,"dirname"),this.path=xr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?xr.extname(this.path):void 0}set extname(t){if(wm(t,"extname"),DT(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=xr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Qg(t)&&(t=oK(t)),Em(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?xr.basename(this.path,this.extname):void 0}set stem(t){Em(t,"stem"),wm(t,"stem"),this.path=xr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new Ht(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function wm(e,t){if(e&&e.includes(xr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+xr.sep+"`")}function Em(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function DT(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function uK(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const lK=function(e){const r=this.constructor.prototype,s=r[e],i=function(){return s.apply(i,arguments)};return Object.setPrototypeOf(i,r),i},cK={}.hasOwnProperty;class P1 extends lK{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Qq()}copy(){const t=new P1;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(bm(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Sm("data",this.frozen),this.namespace[t]=n,this):cK.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Sm("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=yd(t),r=this.parser||this.Parser;return Tm("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Tm("process",this.parser||this.Parser),_m("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(i,o){const a=yd(t),u=r.parse(a);r.run(u,a,function(c,d,f){if(c||!d||!f)return l(c);const h=d,g=r.stringify(h,f);fK(g)?f.value=g:f.result=g,l(c,f)});function l(c,d){c||!d?o(c):i?i(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),Tm("processSync",this.parser||this.Parser),_m("processSync",this.compiler||this.Compiler),this.process(t,s),MT("processSync","process",n),r;function s(i,o){n=!0,kT(i),r=o}}run(t,n,r){LT(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(o,a){const u=yd(n);s.run(t,u,l);function l(c,d,f){const h=d||t;c?a(c):o?o(h):r(void 0,h,f)}}}runSync(t,n){let r=!1,s;return this.run(t,n,i),MT("runSync","run",r),s;function i(o,a){kT(o),s=a,r=!0}}stringify(t,n){this.freeze();const r=yd(n),s=this.compiler||this.Compiler;return _m("stringify",s),LT(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if(Sm("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(l){if(typeof l=="function")u(l,[]);else if(typeof l=="object")if(Array.isArray(l)){const[c,...d]=l;u(c,d)}else o(l);else throw new TypeError("Expected usable value, not `"+l+"`")}function o(l){if(!("plugins"in l)&&!("settings"in l))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(l.plugins),l.settings&&(s.settings=bm(!0,s.settings,l.settings))}function a(l){let c=-1;if(l!=null)if(Array.isArray(l))for(;++c<l.length;){const d=l[c];i(d)}else throw new TypeError("Expected a list of plugins, not `"+l+"`")}function u(l,c){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===l){f=d;break}if(f===-1)r.push([l,...c]);else if(c.length>0){let[h,...g]=c;const y=r[f][1];Gg(y)&&Gg(h)&&(h=bm(!0,y,h)),r[f]=[l,h,...g]}}}}const dK=new P1().freeze();function Tm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function _m(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Sm(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function LT(e){if(!Gg(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function MT(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function yd(e){return hK(e)?e:new KR(e)}function hK(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function fK(e){return typeof e=="string"||pK(e)}function pK(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const mK="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",jT=[],FT={allowDangerousHtml:!0},gK=/^(https?|ircs?|mailto|xmpp)$/i,yK=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function YR(e){const t=vK(e),n=bK(e);return xK(t.runSync(t.parse(n),n),e)}function vK(e){const t=e.rehypePlugins||jT,n=e.remarkPlugins||jT,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...FT}:FT;return dK().use(eq).use(n).use(Yq,r).use(t)}function bK(e){const t=e.children||"",n=new KR;return typeof t=="string"&&(n.value=t),n}function xK(e,t){const n=t.allowedElements,r=t.allowElement,s=t.components,i=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,u=t.urlTransform||wK;for(const c of yK)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+mK+c.id,void 0);return Gf(e,l),jz(e,{Fragment:p.Fragment,components:s,ignoreInvalidStyle:!0,jsx:p.jsx,jsxs:p.jsxs,passKeys:!0,passNode:!0});function l(c,d,f){if(c.type==="raw"&&f&&typeof d=="number")return o?f.children.splice(d,1):f.children[d]={type:"text",value:c.value},d;if(c.type==="element"){let h;for(h in gm)if(Object.hasOwn(gm,h)&&Object.hasOwn(c.properties,h)){const g=c.properties[h],y=gm[h];(y===null||y.includes(c.tagName))&&(c.properties[h]=u(String(g||""),h,c))}}if(c.type==="element"){let h=n?!n.includes(c.tagName):i?i.includes(c.tagName):!1;if(!h&&r&&typeof d=="number"&&(h=!r(c,d,f)),h&&f&&typeof d=="number")return a&&c.children?f.children.splice(d,1,...c.children):f.children.splice(d,1),d}}}function wK(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||r!==-1&&t>r||gK.test(e.slice(0,t))?e:""}function BT(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,s=n.indexOf(t);for(;s!==-1;)r++,s=n.indexOf(t,s+t.length);return r}function EK(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function TK(e,t,n){const s=Kf((n||{}).ignore||[]),i=_K(t);let o=-1;for(;++o<i.length;)WR(e,"text",a);function a(l,c){let d=-1,f;for(;++d<c.length;){const h=c[d],g=f?f.children:void 0;if(s(h,g?g.indexOf(h):void 0,f))return;f=h}if(f)return u(l,c)}function u(l,c){const d=c[c.length-1],f=i[o][0],h=i[o][1];let g=0;const w=d.children.indexOf(l);let v=!1,b=[];f.lastIndex=0;let E=f.exec(l.value);for(;E;){const T=E.index,S={index:E.index,input:E.input,stack:[...c,l]};let _=h(...E,S);if(typeof _=="string"&&(_=_.length>0?{type:"text",value:_}:void 0),_===!1?f.lastIndex=T+1:(g!==T&&b.push({type:"text",value:l.value.slice(g,T)}),Array.isArray(_)?b.push(..._):_&&b.push(_),g=T+E[0].length,v=!0),!f.global)break;E=f.exec(l.value)}return v?(g<l.value.length&&b.push({type:"text",value:l.value.slice(g)}),d.children.splice(w,1,...b)):b=[l],w+b.length}}function _K(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const s=n[r];t.push([SK(s[0]),CK(s[1])])}return t}function SK(e){return typeof e=="string"?new RegExp(EK(e),"g"):e}function CK(e){return typeof e=="function"?e:function(){return e}}const Cm="phrasing",km=["autolink","link","image","label"];function kK(){return{transforms:[DK],enter:{literalAutolink:NK,literalAutolinkEmail:Am,literalAutolinkHttp:Am,literalAutolinkWww:Am},exit:{literalAutolink:OK,literalAutolinkEmail:IK,literalAutolinkHttp:RK,literalAutolinkWww:PK}}}function AK(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Cm,notInConstruct:km},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Cm,notInConstruct:km},{character:":",before:"[ps]",after:"\\/",inConstruct:Cm,notInConstruct:km}]}}function NK(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Am(e){this.config.enter.autolinkProtocol.call(this,e)}function RK(e){this.config.exit.autolinkProtocol.call(this,e)}function PK(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function IK(e){this.config.exit.autolinkEmail.call(this,e)}function OK(e){this.exit(e)}function DK(e){TK(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,LK],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),MK]],{ignore:["link","linkReference"]})}function LK(e,t,n,r,s){let i="";if(!GR(s)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!jK(n)))return!1;const o=FK(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:i+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function MK(e,t,n,r){return!GR(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function jK(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function FK(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const s=BT(e,"(");let i=BT(e,")");for(;r!==-1&&s>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}function GR(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||vo(n)||Vf(n))&&(!t||n!==47)}QR.peek=KK;function BK(){this.buffer()}function UK(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function HK(){this.buffer()}function $K(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function zK(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ur(this.sliceSerialize(e)).toLowerCase(),n.label=t}function VK(e){this.exit(e)}function WK(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ur(this.sliceSerialize(e)).toLowerCase(),n.label=t}function qK(e){this.exit(e)}function KK(){return"["}function QR(e,t,n,r){const s=n.createTracker(r);let i=s.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return i+=s.move(n.safe(n.associationId(e),{after:"]",before:i})),a(),o(),i+=s.move("]"),i}function YK(){return{enter:{gfmFootnoteCallString:BK,gfmFootnoteCall:UK,gfmFootnoteDefinitionLabelString:HK,gfmFootnoteDefinition:$K},exit:{gfmFootnoteCallString:zK,gfmFootnoteCall:VK,gfmFootnoteDefinitionLabelString:WK,gfmFootnoteDefinition:qK}}}function GK(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:QR},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,s,i,o){const a=i.createTracker(o);let u=a.move("[^");const l=i.enter("footnoteDefinition"),c=i.enter("label");return u+=a.move(i.safe(i.associationId(r),{before:u,after:"]"})),c(),u+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),u+=a.move((t?`
`:" ")+i.indentLines(i.containerFlow(r,a.current()),t?XR:QK))),l(),u}}function QK(e,t,n){return t===0?e:XR(e,t,n)}function XR(e,t,n){return(n?"":"    ")+e}const XK=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];JR.peek=nY;function JK(){return{canContainEols:["delete"],enter:{strikethrough:eY},exit:{strikethrough:tY}}}function ZK(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:XK}],handlers:{delete:JR}}}function eY(e){this.enter({type:"delete",children:[]},e)}function tY(e){this.exit(e)}function JR(e,t,n,r){const s=n.createTracker(r),i=n.enter("strikethrough");let o=s.move("~~");return o+=n.containerPhrasing(e,{...s.current(),before:o,after:"~"}),o+=s.move("~~"),i(),o}function nY(){return"~"}function rY(e){return e.length}function sY(e,t){const n=t||{},r=(n.align||[]).concat(),s=n.stringLength||rY,i=[],o=[],a=[],u=[];let l=0,c=-1;for(;++c<e.length;){const y=[],w=[];let v=-1;for(e[c].length>l&&(l=e[c].length);++v<e[c].length;){const b=iY(e[c][v]);if(n.alignDelimiters!==!1){const E=s(b);w[v]=E,(u[v]===void 0||E>u[v])&&(u[v]=E)}y.push(b)}o[c]=y,a[c]=w}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<l;)i[d]=UT(r[d]);else{const y=UT(r);for(;++d<l;)i[d]=y}d=-1;const f=[],h=[];for(;++d<l;){const y=i[d];let w="",v="";y===99?(w=":",v=":"):y===108?w=":":y===114&&(v=":");let b=n.alignDelimiters===!1?1:Math.max(1,u[d]-w.length-v.length);const E=w+"-".repeat(b)+v;n.alignDelimiters!==!1&&(b=w.length+b+v.length,b>u[d]&&(u[d]=b),h[d]=b),f[d]=E}o.splice(1,0,f),a.splice(1,0,h),c=-1;const g=[];for(;++c<o.length;){const y=o[c],w=a[c];d=-1;const v=[];for(;++d<l;){const b=y[d]||"";let E="",T="";if(n.alignDelimiters!==!1){const S=u[d]-(w[d]||0),_=i[d];_===114?E=" ".repeat(S):_===99?S%2?(E=" ".repeat(S/2+.5),T=" ".repeat(S/2-.5)):(E=" ".repeat(S/2),T=E):T=" ".repeat(S)}n.delimiterStart!==!1&&!d&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||d)&&v.push(" "),n.alignDelimiters!==!1&&v.push(E),v.push(b),n.alignDelimiters!==!1&&v.push(T),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||d!==l-1)&&v.push("|")}g.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return g.join(`
`)}function iY(e){return e==null?"":String(e)}function UT(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const HT={}.hasOwnProperty;function ZR(e,t){const n=t||{};function r(s,...i){let o=r.invalid;const a=r.handlers;if(s&&HT.call(s,e)){const u=String(s[e]);o=HT.call(a,u)?a[u]:r.unknown}if(o)return o.call(this,s,...i)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function oY(e,t,n,r){const s=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const o=n.indentLines(n.containerFlow(e,i.current()),aY);return s(),o}function aY(e,t,n){return">"+(n?"":" ")+e}function uY(e,t){return $T(e,t.inConstruct,!0)&&!$T(e,t.notInConstruct,!1)}function $T(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function zT(e,t,n,r){let s=-1;for(;++s<n.unsafe.length;)if(n.unsafe[s].character===`
`&&uY(n.stack,n.unsafe[s]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function lY(e,t){const n=String(e);let r=n.indexOf(t),s=r,i=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===s?++i>o&&(o=i):i=1,s=r+t.length,r=n.indexOf(t,s);return o}function cY(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function dY(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function hY(e,t,n,r){const s=dY(n),i=e.value||"",o=s==="`"?"GraveAccent":"Tilde";if(cY(e,n)){const d=n.enter("codeIndented"),f=n.indentLines(i,fY);return d(),f}const a=n.createTracker(r),u=s.repeat(Math.max(lY(i,s)+1,3)),l=n.enter("codeFenced");let c=a.move(u);if(e.lang){const d=n.enter(`codeFencedLang${o}`);c+=a.move(n.safe(e.lang,{before:c,after:" ",encode:["`"],...a.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${o}`);c+=a.move(" "),c+=a.move(n.safe(e.meta,{before:c,after:`
`,encode:["`"],...a.current()})),d()}return c+=a.move(`
`),i&&(c+=a.move(i+`
`)),c+=a.move(u),l(),c}function fY(e,t,n){return(n?"":"    ")+e}function I1(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function pY(e,t,n,r){const s=I1(n),i=s==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const u=n.createTracker(r);let l=u.move("[");return l+=u.move(n.safe(n.associationId(e),{before:l,after:"]",...u.current()})),l+=u.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),l+=u.move("<"),l+=u.move(n.safe(e.url,{before:l,after:">",...u.current()})),l+=u.move(">")):(a=n.enter("destinationRaw"),l+=u.move(n.safe(e.url,{before:l,after:e.title?" ":`
`,...u.current()}))),a(),e.title&&(a=n.enter(`title${i}`),l+=u.move(" "+s),l+=u.move(n.safe(e.title,{before:l,after:s,...u.current()})),l+=u.move(s),a()),o(),l}function mY(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function ic(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Gh(e,t,n){const r=qa(e),s=qa(t);return r===void 0?s===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}eP.peek=gY;function eP(e,t,n,r){const s=mY(n),i=n.enter("emphasis"),o=n.createTracker(r),a=o.move(s);let u=o.move(n.containerPhrasing(e,{after:s,before:a,...o.current()}));const l=u.charCodeAt(0),c=Gh(r.before.charCodeAt(r.before.length-1),l,s);c.inside&&(u=ic(l)+u.slice(1));const d=u.charCodeAt(u.length-1),f=Gh(r.after.charCodeAt(0),d,s);f.inside&&(u=u.slice(0,-1)+ic(d));const h=o.move(s);return i(),n.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},a+u+h}function gY(e,t,n){return n.options.emphasis||"*"}function yY(e,t){let n=!1;return Gf(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Kg}),!!((!e.depth||e.depth<3)&&_1(e)&&(t.options.setext||n))}function vY(e,t,n,r){const s=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(yY(e,n)){const c=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return d(),c(),f+`
`+(s===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const o="#".repeat(s),a=n.enter("headingAtx"),u=n.enter("phrasing");i.move(o+" ");let l=n.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(l)&&(l=ic(l.charCodeAt(0))+l.slice(1)),l=l?o+" "+l:o,n.options.closeAtx&&(l+=" "+o),u(),a(),l}tP.peek=bY;function tP(e){return e.value||""}function bY(){return"<"}nP.peek=xY;function nP(e,t,n,r){const s=I1(n),i=s==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const u=n.createTracker(r);let l=u.move("![");return l+=u.move(n.safe(e.alt,{before:l,after:"]",...u.current()})),l+=u.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),l+=u.move("<"),l+=u.move(n.safe(e.url,{before:l,after:">",...u.current()})),l+=u.move(">")):(a=n.enter("destinationRaw"),l+=u.move(n.safe(e.url,{before:l,after:e.title?" ":")",...u.current()}))),a(),e.title&&(a=n.enter(`title${i}`),l+=u.move(" "+s),l+=u.move(n.safe(e.title,{before:l,after:s,...u.current()})),l+=u.move(s),a()),l+=u.move(")"),o(),l}function xY(){return"!"}rP.peek=wY;function rP(e,t,n,r){const s=e.referenceType,i=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let u=a.move("![");const l=n.safe(e.alt,{before:u,after:"]",...a.current()});u+=a.move(l+"]["),o();const c=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:u,after:"]",...a.current()});return o(),n.stack=c,i(),s==="full"||!l||l!==d?u+=a.move(d+"]"):s==="shortcut"?u=u.slice(0,-1):u+=a.move("]"),u}function wY(){return"!"}sP.peek=EY;function sP(e,t,n){let r=e.value||"",s="`",i=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(r);)s+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const o=n.unsafe[i],a=n.compilePattern(o);let u;if(o.atBreak)for(;u=a.exec(r);){let l=u.index;r.charCodeAt(l)===10&&r.charCodeAt(l-1)===13&&l--,r=r.slice(0,l)+" "+r.slice(u.index+1)}}return s+r+s}function EY(){return"`"}function iP(e,t){const n=_1(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}oP.peek=TY;function oP(e,t,n,r){const s=I1(n),i=s==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,u;if(iP(e,n)){const c=n.stack;n.stack=[],a=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(e,{before:d,after:">",...o.current()})),d+=o.move(">"),a(),n.stack=c,d}a=n.enter("link"),u=n.enter("label");let l=o.move("[");return l+=o.move(n.containerPhrasing(e,{before:l,after:"](",...o.current()})),l+=o.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),l+=o.move("<"),l+=o.move(n.safe(e.url,{before:l,after:">",...o.current()})),l+=o.move(">")):(u=n.enter("destinationRaw"),l+=o.move(n.safe(e.url,{before:l,after:e.title?" ":")",...o.current()}))),u(),e.title&&(u=n.enter(`title${i}`),l+=o.move(" "+s),l+=o.move(n.safe(e.title,{before:l,after:s,...o.current()})),l+=o.move(s),u()),l+=o.move(")"),a(),l}function TY(e,t,n){return iP(e,n)?"<":"["}aP.peek=_Y;function aP(e,t,n,r){const s=e.referenceType,i=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let u=a.move("[");const l=n.containerPhrasing(e,{before:u,after:"]",...a.current()});u+=a.move(l+"]["),o();const c=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:u,after:"]",...a.current()});return o(),n.stack=c,i(),s==="full"||!l||l!==d?u+=a.move(d+"]"):s==="shortcut"?u=u.slice(0,-1):u+=a.move("]"),u}function _Y(){return"["}function O1(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function SY(e){const t=O1(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function CY(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function uP(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function kY(e,t,n,r){const s=n.enter("list"),i=n.bulletCurrent;let o=e.ordered?CY(n):O1(n);const a=e.ordered?o==="."?")":".":SY(n);let u=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const c=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&c&&(!c.children||!c.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),uP(n)===o&&c){let d=-1;for(;++d<e.children.length;){const f=e.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(o=a),n.bulletCurrent=o;const l=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=i,s(),l}function AY(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function NY(e,t,n,r){const s=AY(n);let i=n.bulletCurrent||O1(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let o=i.length+1;(s==="tab"||s==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(i+" ".repeat(o-i.length)),a.shift(o);const u=n.enter("listItem"),l=n.indentLines(n.containerFlow(e,a.current()),c);return u(),l;function c(d,f,h){return f?(h?"":" ".repeat(o))+d:(h?i:i+" ".repeat(o-i.length))+d}}function RY(e,t,n,r){const s=n.enter("paragraph"),i=n.enter("phrasing"),o=n.containerPhrasing(e,r);return i(),s(),o}const PY=Kf(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function IY(e,t,n,r){return(e.children.some(function(o){return PY(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function OY(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}lP.peek=DY;function lP(e,t,n,r){const s=OY(n),i=n.enter("strong"),o=n.createTracker(r),a=o.move(s+s);let u=o.move(n.containerPhrasing(e,{after:s,before:a,...o.current()}));const l=u.charCodeAt(0),c=Gh(r.before.charCodeAt(r.before.length-1),l,s);c.inside&&(u=ic(l)+u.slice(1));const d=u.charCodeAt(u.length-1),f=Gh(r.after.charCodeAt(0),d,s);f.inside&&(u=u.slice(0,-1)+ic(d));const h=o.move(s+s);return i(),n.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},a+u+h}function DY(e,t,n){return n.options.strong||"*"}function LY(e,t,n,r){return n.safe(e.value,r)}function MY(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function jY(e,t,n){const r=(uP(n)+(n.options.ruleSpaces?" ":"")).repeat(MY(n));return n.options.ruleSpaces?r.slice(0,-1):r}const cP={blockquote:oY,break:zT,code:hY,definition:pY,emphasis:eP,hardBreak:zT,heading:vY,html:tP,image:nP,imageReference:rP,inlineCode:sP,link:oP,linkReference:aP,list:kY,listItem:NY,paragraph:RY,root:IY,strong:lP,text:LY,thematicBreak:jY};function FY(){return{enter:{table:BY,tableData:VT,tableHeader:VT,tableRow:HY},exit:{codeText:$Y,table:UY,tableData:Nm,tableHeader:Nm,tableRow:Nm}}}function BY(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function UY(e){this.exit(e),this.data.inTable=void 0}function HY(e){this.enter({type:"tableRow",children:[]},e)}function Nm(e){this.exit(e)}function VT(e){this.enter({type:"tableCell",children:[]},e)}function $Y(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,zY));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function zY(e,t){return t==="|"?t:e}function VY(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,s=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:o,tableCell:u,tableRow:a}};function o(h,g,y,w){return l(c(h,y,w),h.align)}function a(h,g,y,w){const v=d(h,y,w),b=l([v]);return b.slice(0,b.indexOf(`
`))}function u(h,g,y,w){const v=y.enter("tableCell"),b=y.enter("phrasing"),E=y.containerPhrasing(h,{...w,before:i,after:i});return b(),v(),E}function l(h,g){return sY(h,{align:g,alignDelimiters:r,padding:n,stringLength:s})}function c(h,g,y){const w=h.children;let v=-1;const b=[],E=g.enter("table");for(;++v<w.length;)b[v]=d(w[v],g,y);return E(),b}function d(h,g,y){const w=h.children;let v=-1;const b=[],E=g.enter("tableRow");for(;++v<w.length;)b[v]=u(w[v],h,g,y);return E(),b}function f(h,g,y){let w=cP.inlineCode(h,g,y);return y.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function WY(){return{exit:{taskListCheckValueChecked:WT,taskListCheckValueUnchecked:WT,paragraph:KY}}}function qY(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:YY}}}function WT(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function KY(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const s=t.children;let i=-1,o;for(;++i<s.length;){const a=s[i];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function YY(e,t,n,r){const s=e.children[0],i=typeof e.checked=="boolean"&&s&&s.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);i&&a.move(o);let u=cP.listItem(e,t,n,{...r,...a.current()});return i&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,l)),u;function l(c){return c+o}}function GY(){return[kK(),YK(),JK(),FY(),WY()]}function QY(e){return{extensions:[AK(),GK(e),ZK(),VY(e),qY()]}}const XY={tokenize:rG,partial:!0},dP={tokenize:sG,partial:!0},hP={tokenize:iG,partial:!0},fP={tokenize:oG,partial:!0},JY={tokenize:aG,partial:!0},pP={name:"wwwAutolink",tokenize:tG,previous:gP},mP={name:"protocolAutolink",tokenize:nG,previous:yP},cs={name:"emailAutolink",tokenize:eG,previous:vP},Br={};function ZY(){return{text:Br}}let Pi=48;for(;Pi<123;)Br[Pi]=cs,Pi++,Pi===58?Pi=65:Pi===91&&(Pi=97);Br[43]=cs;Br[45]=cs;Br[46]=cs;Br[95]=cs;Br[72]=[cs,mP];Br[104]=[cs,mP];Br[87]=[cs,pP];Br[119]=[cs,pP];function eG(e,t,n){const r=this;let s,i;return o;function o(d){return!Xg(d)||!vP.call(r,r.previous)||D1(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(d))}function a(d){return Xg(d)?(e.consume(d),a):d===64?(e.consume(d),u):n(d)}function u(d){return d===46?e.check(JY,c,l)(d):d===45||d===95||Ft(d)?(i=!0,e.consume(d),u):c(d)}function l(d){return e.consume(d),s=!0,u}function c(d){return i&&s&&Kt(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function tG(e,t,n){const r=this;return s;function s(o){return o!==87&&o!==119||!gP.call(r,r.previous)||D1(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(XY,e.attempt(dP,e.attempt(hP,i),n),n)(o))}function i(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function nG(e,t,n){const r=this;let s="",i=!1;return o;function o(d){return(d===72||d===104)&&yP.call(r,r.previous)&&!D1(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),s+=String.fromCodePoint(d),e.consume(d),a):n(d)}function a(d){if(Kt(d)&&s.length<5)return s+=String.fromCodePoint(d),e.consume(d),a;if(d===58){const f=s.toLowerCase();if(f==="http"||f==="https")return e.consume(d),u}return n(d)}function u(d){return d===47?(e.consume(d),i?l:(i=!0,u)):n(d)}function l(d){return d===null||Kh(d)||He(d)||vo(d)||Vf(d)?n(d):e.attempt(dP,e.attempt(hP,c),n)(d)}function c(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function rG(e,t,n){let r=0;return s;function s(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),s):o===46&&r===3?(e.consume(o),i):n(o)}function i(o){return o===null?n(o):t(o)}}function sG(e,t,n){let r,s,i;return o;function o(l){return l===46||l===95?e.check(fP,u,a)(l):l===null||He(l)||vo(l)||l!==45&&Vf(l)?u(l):(i=!0,e.consume(l),o)}function a(l){return l===95?r=!0:(s=r,r=void 0),e.consume(l),o}function u(l){return s||r||!i?n(l):t(l)}}function iG(e,t){let n=0,r=0;return s;function s(o){return o===40?(n++,e.consume(o),s):o===41&&r<n?i(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(fP,t,i)(o):o===null||He(o)||vo(o)?t(o):(e.consume(o),s)}function i(o){return o===41&&r++,e.consume(o),s}}function oG(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),i):a===93?(e.consume(a),s):a===60||a===null||He(a)||vo(a)?t(a):n(a)}function s(a){return a===null||a===40||a===91||He(a)||vo(a)?t(a):r(a)}function i(a){return Kt(a)?o(a):n(a)}function o(a){return a===59?(e.consume(a),r):Kt(a)?(e.consume(a),o):n(a)}}function aG(e,t,n){return r;function r(i){return e.consume(i),s}function s(i){return Ft(i)?n(i):t(i)}}function gP(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||He(e)}function yP(e){return!Kt(e)}function vP(e){return!(e===47||Xg(e))}function Xg(e){return e===43||e===45||e===46||e===95||Ft(e)}function D1(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const uG={tokenize:gG,partial:!0};function lG(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:fG,continuation:{tokenize:pG},exit:mG}},text:{91:{name:"gfmFootnoteCall",tokenize:hG},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:cG,resolveTo:dG}}}}function cG(e,t,n){const r=this;let s=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;s--;){const u=r.events[s][1];if(u.type==="labelImage"){o=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return a;function a(u){if(!o||!o._balanced)return n(u);const l=ur(r.sliceSerialize({start:o.end,end:r.now()}));return l.codePointAt(0)!==94||!i.includes(l.slice(1))?n(u):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),t(u))}}function dG(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",s,t],["exit",s,t],["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function hG(e,t,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,o;return a;function a(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),u}function u(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",l)}function l(d){if(i>999||d===93&&!o||d===null||d===91||He(d))return n(d);if(d===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return s.includes(ur(r.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return He(d)||(o=!0),i++,e.consume(d),d===92?c:l}function c(d){return d===91||d===92||d===93?(e.consume(d),i++,l):l(d)}}function fG(e,t,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,o=0,a;return u;function u(g){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),l}function l(g){return g===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(g)}function c(g){if(o>999||g===93&&!a||g===null||g===91||He(g))return n(g);if(g===93){e.exit("chunkString");const y=e.exit("gfmFootnoteDefinitionLabelString");return i=ur(r.sliceSerialize(y)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return He(g)||(a=!0),o++,e.consume(g),g===92?d:c}function d(g){return g===91||g===92||g===93?(e.consume(g),o++,c):c(g)}function f(g){return g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),s.includes(i)||s.push(i),De(e,h,"gfmFootnoteDefinitionWhitespace")):n(g)}function h(g){return t(g)}}function pG(e,t,n){return e.check(kc,t,e.attempt(uG,t,n))}function mG(e){e.exit("gfmFootnoteDefinition")}function gG(e,t,n){const r=this;return De(e,s,"gfmFootnoteDefinitionIndent",5);function s(i){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(i):n(i)}}function yG(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:i,resolveAll:s};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function s(o,a){let u=-1;for(;++u<o.length;)if(o[u][0]==="enter"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._close){let l=u;for(;l--;)if(o[l][0]==="exit"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._open&&o[u][1].end.offset-o[u][1].start.offset===o[l][1].end.offset-o[l][1].start.offset){o[u][1].type="strikethroughSequence",o[l][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},o[l][1].start),end:Object.assign({},o[u][1].end)},d={type:"strikethroughText",start:Object.assign({},o[l][1].end),end:Object.assign({},o[u][1].start)},f=[["enter",c,a],["enter",o[l][1],a],["exit",o[l][1],a],["enter",d,a]],h=a.parser.constructs.insideSpan.null;h&&En(f,f.length,0,Wf(h,o.slice(l+1,u),a)),En(f,f.length,0,[["exit",d,a],["enter",o[u][1],a],["exit",o[u][1],a],["exit",c,a]]),En(o,l-1,u-l+3,f),u=l+f.length-2;break}}for(u=-1;++u<o.length;)o[u][1].type==="strikethroughSequenceTemporary"&&(o[u][1].type="data");return o}function i(o,a,u){const l=this.previous,c=this.events;let d=0;return f;function f(g){return l===126&&c[c.length-1][1].type!=="characterEscape"?u(g):(o.enter("strikethroughSequenceTemporary"),h(g))}function h(g){const y=qa(l);if(g===126)return d>1?u(g):(o.consume(g),d++,h);if(d<2&&!n)return u(g);const w=o.exit("strikethroughSequenceTemporary"),v=qa(g);return w._open=!v||v===2&&!!y,w._close=!y||y===2&&!!v,a(g)}}}class vG{constructor(){this.map=[]}add(t,n,r){bG(this,t,n,r)}consume(t){if(this.map.sort(function(i,o){return i[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let s=r.pop();for(;s;){for(const i of s)t.push(i);s=r.pop()}this.map.length=0}}function bG(e,t,n,r){let s=0;if(!(n===0&&r.length===0)){for(;s<e.map.length;){if(e.map[s][0]===t){e.map[s][1]+=n,e.map[s][2].push(...r);return}s+=1}e.map.push([t,n,r])}}function xG(e,t){let n=!1;const r=[];for(;t<e.length;){const s=e[t];if(n){if(s[0]==="enter")s[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function wG(){return{flow:{null:{name:"table",tokenize:EG,resolveAll:TG}}}}function EG(e,t,n){const r=this;let s=0,i=0,o;return a;function a(P){let H=r.events.length-1;for(;H>-1;){const W=r.events[H][1].type;if(W==="lineEnding"||W==="linePrefix")H--;else break}const U=H>-1?r.events[H][1].type:null,G=U==="tableHead"||U==="tableRow"?_:u;return G===_&&r.parser.lazy[r.now().line]?n(P):G(P)}function u(P){return e.enter("tableHead"),e.enter("tableRow"),l(P)}function l(P){return P===124||(o=!0,i+=1),c(P)}function c(P){return P===null?n(P):pe(P)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),h):n(P):Ae(P)?De(e,c,"whitespace")(P):(i+=1,o&&(o=!1,s+=1),P===124?(e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),o=!0,c):(e.enter("data"),d(P)))}function d(P){return P===null||P===124||He(P)?(e.exit("data"),c(P)):(e.consume(P),P===92?f:d)}function f(P){return P===92||P===124?(e.consume(P),d):d(P)}function h(P){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(P):(e.enter("tableDelimiterRow"),o=!1,Ae(P)?De(e,g,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):g(P))}function g(P){return P===45||P===58?w(P):P===124?(o=!0,e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),y):S(P)}function y(P){return Ae(P)?De(e,w,"whitespace")(P):w(P)}function w(P){return P===58?(i+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(P),e.exit("tableDelimiterMarker"),v):P===45?(i+=1,v(P)):P===null||pe(P)?T(P):S(P)}function v(P){return P===45?(e.enter("tableDelimiterFiller"),b(P)):S(P)}function b(P){return P===45?(e.consume(P),b):P===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(P),e.exit("tableDelimiterMarker"),E):(e.exit("tableDelimiterFiller"),E(P))}function E(P){return Ae(P)?De(e,T,"whitespace")(P):T(P)}function T(P){return P===124?g(P):P===null||pe(P)?!o||s!==i?S(P):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(P)):S(P)}function S(P){return n(P)}function _(P){return e.enter("tableRow"),k(P)}function k(P){return P===124?(e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),k):P===null||pe(P)?(e.exit("tableRow"),t(P)):Ae(P)?De(e,k,"whitespace")(P):(e.enter("data"),I(P))}function I(P){return P===null||P===124||He(P)?(e.exit("data"),k(P)):(e.consume(P),P===92?M:I)}function M(P){return P===92||P===124?(e.consume(P),I):I(P)}}function TG(e,t){let n=-1,r=!0,s=0,i=[0,0,0,0],o=[0,0,0,0],a=!1,u=0,l,c,d;const f=new vG;for(;++n<e.length;){const h=e[n],g=h[1];h[0]==="enter"?g.type==="tableHead"?(a=!1,u!==0&&(qT(f,t,u,l,c),c=void 0,u=0),l={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},f.add(n,0,[["enter",l,t]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(r=!0,d=void 0,i=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,c={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},f.add(n,0,[["enter",c,t]])),s=g.type==="tableDelimiterRow"?2:c?3:1):s&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(i[1]!==0&&(o[0]=o[1],d=vd(f,t,i,s,void 0,d),i=[0,0,0,0]),o[2]=n)):g.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(o[0]=o[1],d=vd(f,t,i,s,void 0,d)),i=o,o=[i[1],n,0,0])):g.type==="tableHead"?(a=!0,u=n):g.type==="tableRow"||g.type==="tableDelimiterRow"?(u=n,i[1]!==0?(o[0]=o[1],d=vd(f,t,i,s,n,d)):o[1]!==0&&(d=vd(f,t,o,s,n,d)),s=0):s&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(o[3]=n)}for(u!==0&&qT(f,t,u,l,c),f.consume(t.events),n=-1;++n<t.events.length;){const h=t.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=xG(t.events,n))}return e}function vd(e,t,n,r,s,i){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(i.end=Object.assign({},zo(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const u=zo(t.events,n[1]);if(i={type:o,start:Object.assign({},u),end:Object.assign({},u)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const l=zo(t.events,n[2]),c=zo(t.events,n[3]),d={type:a,start:Object.assign({},l),end:Object.assign({},c)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const f=t.events[n[2]],h=t.events[n[3]];if(f[1].end=Object.assign({},h[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const g=n[2]+1,y=n[3]-n[2]-1;e.add(g,y,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return s!==void 0&&(i.end=Object.assign({},zo(t.events,s)),e.add(s,0,[["exit",i,t]]),i=void 0),i}function qT(e,t,n,r,s){const i=[],o=zo(t.events,n);s&&(s.end=Object.assign({},o),i.push(["exit",s,t])),r.end=Object.assign({},o),i.push(["exit",r,t]),e.add(n+1,0,i)}function zo(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const _G={name:"tasklistCheck",tokenize:CG};function SG(){return{text:{91:_G}}}function CG(e,t,n){const r=this;return s;function s(u){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(u):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),i)}function i(u){return He(u)?(e.enter("taskListCheckValueUnchecked"),e.consume(u),e.exit("taskListCheckValueUnchecked"),o):u===88||u===120?(e.enter("taskListCheckValueChecked"),e.consume(u),e.exit("taskListCheckValueChecked"),o):n(u)}function o(u){return u===93?(e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(u)}function a(u){return pe(u)?t(u):Ae(u)?e.check({tokenize:kG},t,n)(u):n(u)}}function kG(e,t,n){return De(e,r,"whitespace");function r(s){return s===null?n(s):t(s)}}function AG(e){return CR([ZY(),lG(),yG(e),wG(),SG()])}const NG={};function bP(e){const t=this,n=e||NG,r=t.data(),s=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);s.push(AG(n)),i.push(GY()),o.push(QY(n))}const KT=/[#.]/g;function RG(e,t){const n=e||"",r={};let s=0,i,o;for(;s<n.length;){KT.lastIndex=s;const a=KT.exec(n),u=n.slice(s,a?a.index:n.length);u&&(i?i==="#"?r.id=u:Array.isArray(r.className)?r.className.push(u):r.className=[u]:o=u,s+=u.length),a&&(i=a[0],s++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}function xP(e,t,n){const r=n?DG(n):void 0;function s(i,o,...a){let u;if(i==null){u={type:"root",children:[]};const l=o;a.unshift(l)}else{u=RG(i,t);const l=u.tagName.toLowerCase(),c=r?r.get(l):void 0;if(u.tagName=c||l,PG(o))a.unshift(o);else for(const[d,f]of Object.entries(o))IG(e,u.properties,d,f)}for(const l of a)Jg(u.children,l);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return s}function PG(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const s=t[r];if(s&&typeof s=="object"){if(!Array.isArray(s))return!0;const i=s;for(const o of i)if(typeof o!="number"&&typeof o!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function IG(e,t,n,r){const s=Hf(e,n);let i;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;i=r}else typeof r=="boolean"?i=r:typeof r=="string"?s.spaceSeparated?i=eT(r):s.commaSeparated?i=GE(r):s.commaOrSpaceSeparated?i=eT(GE(r).join(" ")):i=YT(s,s.property,r):Array.isArray(r)?i=[...r]:i=s.property==="style"?OG(r):String(r);if(Array.isArray(i)){const o=[];for(const a of i)o.push(YT(s,s.property,a));i=o}s.property==="className"&&Array.isArray(t.className)&&(i=t.className.concat(i)),t[s.property]=i}}function Jg(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)Jg(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?Jg(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function YT(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||rc(n)===rc(t)))return!0}return n}function OG(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function DG(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const LG=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],MG=xP(Cc,"div"),jG=xP(Ei,"g",LG);function FG(e){const t=String(e),n=[];return{toOffset:s,toPoint:r};function r(i){if(typeof i=="number"&&i>-1&&i<=t.length){let o=0;for(;;){let a=n[o];if(a===void 0){const u=GT(t,n[o-1]);a=u===-1?t.length+1:u+1,n[o]=a}if(a>i)return{line:o+1,column:i-(o>0?n[o-1]:0)+1,offset:i};o++}}}function s(i){if(i&&typeof i.line=="number"&&typeof i.column=="number"&&!Number.isNaN(i.line)&&!Number.isNaN(i.column)){for(;n.length<i.line;){const a=n[n.length-1],u=GT(t,a),l=u===-1?t.length+1:u+1;if(a===l)break;n.push(l)}const o=(i.line>1?n[i.line-2]:0)+i.column-1;if(o<n[i.line-1])return o}}}function GT(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const Ki={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},wP={}.hasOwnProperty,BG=Object.prototype;function UG(e,t){const n=t||{};return L1({file:n.file||void 0,location:!1,schema:n.space==="svg"?Ei:Cc,verbose:n.verbose||!1},e)}function L1(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},Qd(e,r,n),n}case"#document":case"#document-fragment":{const r=t,s="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:EP(e,t.childNodes),data:{quirksMode:s}},e.file&&e.location){const i=String(e.file),o=FG(i),a=o.toPoint(0),u=o.toPoint(i.length);n.position={start:a,end:u}}return n}case"#documentType":{const r=t;return n={type:"doctype"},Qd(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},Qd(e,r,n),n}default:return n=HG(e,t),n}}function EP(e,t){let n=-1;const r=[];for(;++n<t.length;){const s=L1(e,t[n]);r.push(s)}return r}function HG(e,t){const n=e.schema;e.schema=t.namespaceURI===Ki.svg?Ei:Cc;let r=-1;const s={};for(;++r<t.attrs.length;){const a=t.attrs[r],u=(a.prefix?a.prefix+":":"")+a.name;wP.call(BG,u)||(s[u]=a.value)}const o=(e.schema.space==="svg"?jG:MG)(t.tagName,s,EP(e,t.childNodes));if(Qd(e,t,o),o.tagName==="template"){const a=t,u=a.sourceCodeLocation,l=u&&u.startTag&&ca(u.startTag),c=u&&u.endTag&&ca(u.endTag),d=L1(e,a.content);l&&c&&e.file&&(d.position={start:l.end,end:c.start}),o.content=d}return e.schema=n,o}function Qd(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=$G(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function $G(e,t,n){const r=ca(n);if(t.type==="element"){const s=t.children[t.children.length-1];if(r&&!n.endTag&&s&&s.position&&s.position.end&&(r.end=Object.assign({},s.position.end)),e.verbose){const i={};let o;if(n.attrs)for(o in n.attrs)wP.call(n.attrs,o)&&(i[Hf(e.schema,o).property]=ca(n.attrs[o]));n.startTag;const a=ca(n.startTag),u=n.endTag?ca(n.endTag):void 0,l={opening:a};u&&(l.closing=u),l.properties=i,t.data={position:l}}}return r}function ca(e){const t=QT({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=QT({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function QT(e){return e.line&&e.column?e:void 0}const zG={},VG={}.hasOwnProperty,TP=ZR("type",{handlers:{root:qG,element:XG,text:GG,comment:QG,doctype:YG}});function WG(e,t){const r=(t||zG).space;return TP(e,r==="svg"?Ei:Cc)}function qG(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=M1(e.children,n,t),pu(e,n),n}function KG(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=M1(e.children,n,t),pu(e,n),n}function YG(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return pu(e,t),t}function GG(e){const t={nodeName:"#text",value:e.value,parentNode:null};return pu(e,t),t}function QG(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return pu(e,t),t}function XG(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=Ei);const s=[];let i;if(e.properties){for(i in e.properties)if(i!=="children"&&VG.call(e.properties,i)){const u=JG(r,i,e.properties[i]);u&&s.push(u)}}const o=r.space,a={nodeName:e.tagName,tagName:e.tagName,attrs:s,namespaceURI:Ki[o],childNodes:[],parentNode:null};return a.childNodes=M1(e.children,a,r),pu(e,a),e.tagName==="template"&&e.content&&(a.content=KG(e.content,r)),a}function JG(e,t,n){const r=Hf(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?dR(n):bR(n));const s={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const i=s.name.indexOf(":");i<0?s.prefix="":(s.name=s.name.slice(i+1),s.prefix=r.attribute.slice(0,i)),s.namespace=Ki[r.space]}return s}function M1(e,t,n){let r=-1;const s=[];if(e)for(;++r<e.length;){const i=TP(e[r],n);i.parentNode=t,s.push(i)}return s}function pu(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const ZG=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],eQ=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Qe="";var N;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(N||(N={}));const Zt={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function _P(e){return e>=55296&&e<=57343}function tQ(e){return e>=56320&&e<=57343}function nQ(e,t){return(e-55296)*1024+9216+t}function SP(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function CP(e){return e>=64976&&e<=65007||eQ.has(e)}var $;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})($||($={}));const rQ=65536;class sQ{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=rQ,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:s,offset:i}=this,o=s+n,a=i+n;return{code:t,startLine:r,endLine:r,startCol:o,endCol:o,startOffset:a,endOffset:a}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(tQ(n))return this.pos++,this._addGap(),nQ(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,N.EOF;return this._err($.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,N.EOF;const r=this.html.charCodeAt(n);return r===N.CARRIAGE_RETURN?N.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,N.EOF;let t=this.html.charCodeAt(this.pos);return t===N.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,N.LINE_FEED):t===N.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,_P(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===N.LINE_FEED||t===N.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){SP(t)?this._err($.controlCharacterInInputStream):CP(t)&&this._err($.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Ce;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Ce||(Ce={}));function kP(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const iQ=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),oQ=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function aQ(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=oQ.get(e))!==null&&t!==void 0?t:e}var St;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(St||(St={}));const uQ=32;var Gs;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Gs||(Gs={}));function Zg(e){return e>=St.ZERO&&e<=St.NINE}function lQ(e){return e>=St.UPPER_A&&e<=St.UPPER_F||e>=St.LOWER_A&&e<=St.LOWER_F}function cQ(e){return e>=St.UPPER_A&&e<=St.UPPER_Z||e>=St.LOWER_A&&e<=St.LOWER_Z||Zg(e)}function dQ(e){return e===St.EQUALS||cQ(e)}var Tt;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Tt||(Tt={}));var Gr;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Gr||(Gr={}));class hQ{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=Tt.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Gr.Strict}startEntity(t){this.decodeMode=t,this.state=Tt.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Tt.EntityStart:return t.charCodeAt(n)===St.NUM?(this.state=Tt.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Tt.NamedEntity,this.stateNamedEntity(t,n));case Tt.NumericStart:return this.stateNumericStart(t,n);case Tt.NumericDecimal:return this.stateNumericDecimal(t,n);case Tt.NumericHex:return this.stateNumericHex(t,n);case Tt.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|uQ)===St.LOWER_X?(this.state=Tt.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Tt.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,s){if(n!==r){const i=r-n;this.result=this.result*Math.pow(s,i)+Number.parseInt(t.substr(n,i),s),this.consumed+=i}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const s=t.charCodeAt(n);if(Zg(s)||lQ(s))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const s=t.charCodeAt(n);if(Zg(s))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===St.SEMI)this.consumed+=1;else if(this.decodeMode===Gr.Strict)return 0;return this.emitCodePoint(aQ(this.result),this.consumed),this.errors&&(t!==St.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let s=r[this.treeIndex],i=(s&Gs.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=fQ(r,s,this.treeIndex+Math.max(1,i),o),this.treeIndex<0)return this.result===0||this.decodeMode===Gr.Attribute&&(i===0||dQ(o))?0:this.emitNotTerminatedNamedEntity();if(s=r[this.treeIndex],i=(s&Gs.VALUE_LENGTH)>>14,i!==0){if(o===St.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==Gr.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,s=(r[n]&Gs.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,s,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:s}=this;return this.emitCodePoint(n===1?s[t]&~Gs.VALUE_LENGTH:s[t+1],r),n===3&&this.emitCodePoint(s[t+2],r),r}end(){var t;switch(this.state){case Tt.NamedEntity:return this.result!==0&&(this.decodeMode!==Gr.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Tt.NumericDecimal:return this.emitNumericEntity(0,2);case Tt.NumericHex:return this.emitNumericEntity(0,3);case Tt.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Tt.EntityStart:return 0}}}function fQ(e,t,n,r){const s=(t&Gs.BRANCH_LENGTH)>>7,i=t&Gs.JUMP_TABLE;if(s===0)return i!==0&&r===i?n:-1;if(i){const u=r-i;return u<0||u>=s?-1:e[n+u]-1}let o=n,a=o+s-1;for(;o<=a;){const u=o+a>>>1,l=e[u];if(l<r)o=u+1;else if(l>r)a=u-1;else return e[u+s]}return-1}var Y;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(Y||(Y={}));var oo;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(oo||(oo={}));var On;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(On||(On={}));var F;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(F||(F={}));var m;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(m||(m={}));const pQ=new Map([[F.A,m.A],[F.ADDRESS,m.ADDRESS],[F.ANNOTATION_XML,m.ANNOTATION_XML],[F.APPLET,m.APPLET],[F.AREA,m.AREA],[F.ARTICLE,m.ARTICLE],[F.ASIDE,m.ASIDE],[F.B,m.B],[F.BASE,m.BASE],[F.BASEFONT,m.BASEFONT],[F.BGSOUND,m.BGSOUND],[F.BIG,m.BIG],[F.BLOCKQUOTE,m.BLOCKQUOTE],[F.BODY,m.BODY],[F.BR,m.BR],[F.BUTTON,m.BUTTON],[F.CAPTION,m.CAPTION],[F.CENTER,m.CENTER],[F.CODE,m.CODE],[F.COL,m.COL],[F.COLGROUP,m.COLGROUP],[F.DD,m.DD],[F.DESC,m.DESC],[F.DETAILS,m.DETAILS],[F.DIALOG,m.DIALOG],[F.DIR,m.DIR],[F.DIV,m.DIV],[F.DL,m.DL],[F.DT,m.DT],[F.EM,m.EM],[F.EMBED,m.EMBED],[F.FIELDSET,m.FIELDSET],[F.FIGCAPTION,m.FIGCAPTION],[F.FIGURE,m.FIGURE],[F.FONT,m.FONT],[F.FOOTER,m.FOOTER],[F.FOREIGN_OBJECT,m.FOREIGN_OBJECT],[F.FORM,m.FORM],[F.FRAME,m.FRAME],[F.FRAMESET,m.FRAMESET],[F.H1,m.H1],[F.H2,m.H2],[F.H3,m.H3],[F.H4,m.H4],[F.H5,m.H5],[F.H6,m.H6],[F.HEAD,m.HEAD],[F.HEADER,m.HEADER],[F.HGROUP,m.HGROUP],[F.HR,m.HR],[F.HTML,m.HTML],[F.I,m.I],[F.IMG,m.IMG],[F.IMAGE,m.IMAGE],[F.INPUT,m.INPUT],[F.IFRAME,m.IFRAME],[F.KEYGEN,m.KEYGEN],[F.LABEL,m.LABEL],[F.LI,m.LI],[F.LINK,m.LINK],[F.LISTING,m.LISTING],[F.MAIN,m.MAIN],[F.MALIGNMARK,m.MALIGNMARK],[F.MARQUEE,m.MARQUEE],[F.MATH,m.MATH],[F.MENU,m.MENU],[F.META,m.META],[F.MGLYPH,m.MGLYPH],[F.MI,m.MI],[F.MO,m.MO],[F.MN,m.MN],[F.MS,m.MS],[F.MTEXT,m.MTEXT],[F.NAV,m.NAV],[F.NOBR,m.NOBR],[F.NOFRAMES,m.NOFRAMES],[F.NOEMBED,m.NOEMBED],[F.NOSCRIPT,m.NOSCRIPT],[F.OBJECT,m.OBJECT],[F.OL,m.OL],[F.OPTGROUP,m.OPTGROUP],[F.OPTION,m.OPTION],[F.P,m.P],[F.PARAM,m.PARAM],[F.PLAINTEXT,m.PLAINTEXT],[F.PRE,m.PRE],[F.RB,m.RB],[F.RP,m.RP],[F.RT,m.RT],[F.RTC,m.RTC],[F.RUBY,m.RUBY],[F.S,m.S],[F.SCRIPT,m.SCRIPT],[F.SEARCH,m.SEARCH],[F.SECTION,m.SECTION],[F.SELECT,m.SELECT],[F.SOURCE,m.SOURCE],[F.SMALL,m.SMALL],[F.SPAN,m.SPAN],[F.STRIKE,m.STRIKE],[F.STRONG,m.STRONG],[F.STYLE,m.STYLE],[F.SUB,m.SUB],[F.SUMMARY,m.SUMMARY],[F.SUP,m.SUP],[F.TABLE,m.TABLE],[F.TBODY,m.TBODY],[F.TEMPLATE,m.TEMPLATE],[F.TEXTAREA,m.TEXTAREA],[F.TFOOT,m.TFOOT],[F.TD,m.TD],[F.TH,m.TH],[F.THEAD,m.THEAD],[F.TITLE,m.TITLE],[F.TR,m.TR],[F.TRACK,m.TRACK],[F.TT,m.TT],[F.U,m.U],[F.UL,m.UL],[F.SVG,m.SVG],[F.VAR,m.VAR],[F.WBR,m.WBR],[F.XMP,m.XMP]]);function mu(e){var t;return(t=pQ.get(e))!==null&&t!==void 0?t:m.UNKNOWN}const Q=m,mQ={[Y.HTML]:new Set([Q.ADDRESS,Q.APPLET,Q.AREA,Q.ARTICLE,Q.ASIDE,Q.BASE,Q.BASEFONT,Q.BGSOUND,Q.BLOCKQUOTE,Q.BODY,Q.BR,Q.BUTTON,Q.CAPTION,Q.CENTER,Q.COL,Q.COLGROUP,Q.DD,Q.DETAILS,Q.DIR,Q.DIV,Q.DL,Q.DT,Q.EMBED,Q.FIELDSET,Q.FIGCAPTION,Q.FIGURE,Q.FOOTER,Q.FORM,Q.FRAME,Q.FRAMESET,Q.H1,Q.H2,Q.H3,Q.H4,Q.H5,Q.H6,Q.HEAD,Q.HEADER,Q.HGROUP,Q.HR,Q.HTML,Q.IFRAME,Q.IMG,Q.INPUT,Q.LI,Q.LINK,Q.LISTING,Q.MAIN,Q.MARQUEE,Q.MENU,Q.META,Q.NAV,Q.NOEMBED,Q.NOFRAMES,Q.NOSCRIPT,Q.OBJECT,Q.OL,Q.P,Q.PARAM,Q.PLAINTEXT,Q.PRE,Q.SCRIPT,Q.SECTION,Q.SELECT,Q.SOURCE,Q.STYLE,Q.SUMMARY,Q.TABLE,Q.TBODY,Q.TD,Q.TEMPLATE,Q.TEXTAREA,Q.TFOOT,Q.TH,Q.THEAD,Q.TITLE,Q.TR,Q.TRACK,Q.UL,Q.WBR,Q.XMP]),[Y.MATHML]:new Set([Q.MI,Q.MO,Q.MN,Q.MS,Q.MTEXT,Q.ANNOTATION_XML]),[Y.SVG]:new Set([Q.TITLE,Q.FOREIGN_OBJECT,Q.DESC]),[Y.XLINK]:new Set,[Y.XML]:new Set,[Y.XMLNS]:new Set},ey=new Set([Q.H1,Q.H2,Q.H3,Q.H4,Q.H5,Q.H6]);F.STYLE,F.SCRIPT,F.XMP,F.IFRAME,F.NOEMBED,F.NOFRAMES,F.PLAINTEXT;var R;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(R||(R={}));const ct={DATA:R.DATA,RCDATA:R.RCDATA,RAWTEXT:R.RAWTEXT,SCRIPT_DATA:R.SCRIPT_DATA,PLAINTEXT:R.PLAINTEXT,CDATA_SECTION:R.CDATA_SECTION};function gQ(e){return e>=N.DIGIT_0&&e<=N.DIGIT_9}function Yu(e){return e>=N.LATIN_CAPITAL_A&&e<=N.LATIN_CAPITAL_Z}function yQ(e){return e>=N.LATIN_SMALL_A&&e<=N.LATIN_SMALL_Z}function Cs(e){return yQ(e)||Yu(e)}function XT(e){return Cs(e)||gQ(e)}function bd(e){return e+32}function AP(e){return e===N.SPACE||e===N.LINE_FEED||e===N.TABULATION||e===N.FORM_FEED}function JT(e){return AP(e)||e===N.SOLIDUS||e===N.GREATER_THAN_SIGN}function vQ(e){return e===N.NULL?$.nullCharacterReference:e>1114111?$.characterReferenceOutsideUnicodeRange:_P(e)?$.surrogateCharacterReference:CP(e)?$.noncharacterCharacterReference:SP(e)||e===N.CARRIAGE_RETURN?$.controlCharacterReference:null}class bQ{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=R.DATA,this.returnState=R.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new sQ(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new hQ(iQ,(r,s)=>{this.preprocessor.pos=this.entityStartPos+s-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err($.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err($.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const s=vQ(r);s&&this._err(s,1)}}:void 0)}_err(t,n=0){var r,s;(s=(r=this.handler).onParseError)===null||s===void 0||s.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Ce.START_TAG,tagName:"",tagID:m.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Ce.END_TAG,tagName:"",tagID:m.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Ce.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Ce.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(kP(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const s=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);s[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err($.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=mu(t.tagName),t.type===Ce.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err($.endTagWithAttributes),t.selfClosing&&this._err($.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Ce.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Ce.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Ce.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Ce.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=AP(t)?Ce.WHITESPACE_CHARACTER:t===N.NULL?Ce.NULL_CHARACTER:Ce.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Ce.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=R.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Gr.Attribute:Gr.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===R.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===R.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===R.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case R.DATA:{this._stateData(t);break}case R.RCDATA:{this._stateRcdata(t);break}case R.RAWTEXT:{this._stateRawtext(t);break}case R.SCRIPT_DATA:{this._stateScriptData(t);break}case R.PLAINTEXT:{this._statePlaintext(t);break}case R.TAG_OPEN:{this._stateTagOpen(t);break}case R.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case R.TAG_NAME:{this._stateTagName(t);break}case R.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case R.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case R.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case R.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case R.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case R.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case R.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case R.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case R.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case R.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case R.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case R.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case R.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case R.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case R.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case R.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case R.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case R.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case R.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case R.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case R.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case R.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case R.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case R.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case R.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case R.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case R.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case R.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case R.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case R.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case R.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case R.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case R.BOGUS_COMMENT:{this._stateBogusComment(t);break}case R.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case R.COMMENT_START:{this._stateCommentStart(t);break}case R.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case R.COMMENT:{this._stateComment(t);break}case R.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case R.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case R.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case R.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case R.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case R.COMMENT_END:{this._stateCommentEnd(t);break}case R.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case R.DOCTYPE:{this._stateDoctype(t);break}case R.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case R.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case R.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case R.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case R.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case R.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case R.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case R.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case R.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case R.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case R.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case R.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case R.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case R.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case R.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case R.CDATA_SECTION:{this._stateCdataSection(t);break}case R.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case R.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case R.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case R.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case N.LESS_THAN_SIGN:{this.state=R.TAG_OPEN;break}case N.AMPERSAND:{this._startCharacterReference();break}case N.NULL:{this._err($.unexpectedNullCharacter),this._emitCodePoint(t);break}case N.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case N.AMPERSAND:{this._startCharacterReference();break}case N.LESS_THAN_SIGN:{this.state=R.RCDATA_LESS_THAN_SIGN;break}case N.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Qe);break}case N.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case N.LESS_THAN_SIGN:{this.state=R.RAWTEXT_LESS_THAN_SIGN;break}case N.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Qe);break}case N.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case N.LESS_THAN_SIGN:{this.state=R.SCRIPT_DATA_LESS_THAN_SIGN;break}case N.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Qe);break}case N.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case N.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Qe);break}case N.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(Cs(t))this._createStartTagToken(),this.state=R.TAG_NAME,this._stateTagName(t);else switch(t){case N.EXCLAMATION_MARK:{this.state=R.MARKUP_DECLARATION_OPEN;break}case N.SOLIDUS:{this.state=R.END_TAG_OPEN;break}case N.QUESTION_MARK:{this._err($.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=R.BOGUS_COMMENT,this._stateBogusComment(t);break}case N.EOF:{this._err($.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err($.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=R.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(Cs(t))this._createEndTagToken(),this.state=R.TAG_NAME,this._stateTagName(t);else switch(t){case N.GREATER_THAN_SIGN:{this._err($.missingEndTagName),this.state=R.DATA;break}case N.EOF:{this._err($.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err($.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=R.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:{this.state=R.BEFORE_ATTRIBUTE_NAME;break}case N.SOLIDUS:{this.state=R.SELF_CLOSING_START_TAG;break}case N.GREATER_THAN_SIGN:{this.state=R.DATA,this.emitCurrentTagToken();break}case N.NULL:{this._err($.unexpectedNullCharacter),n.tagName+=Qe;break}case N.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Yu(t)?bd(t):t)}}_stateRcdataLessThanSign(t){t===N.SOLIDUS?this.state=R.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=R.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){Cs(t)?(this.state=R.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=R.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=R.BEFORE_ATTRIBUTE_NAME,!1;case N.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=R.SELF_CLOSING_START_TAG,!1;case N.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=R.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=R.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===N.SOLIDUS?this.state=R.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=R.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){Cs(t)?(this.state=R.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=R.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=R.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case N.SOLIDUS:{this.state=R.SCRIPT_DATA_END_TAG_OPEN;break}case N.EXCLAMATION_MARK:{this.state=R.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=R.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){Cs(t)?(this.state=R.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=R.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=R.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===N.HYPHEN_MINUS?(this.state=R.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=R.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===N.HYPHEN_MINUS?(this.state=R.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=R.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case N.HYPHEN_MINUS:{this.state=R.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case N.LESS_THAN_SIGN:{this.state=R.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case N.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Qe);break}case N.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case N.HYPHEN_MINUS:{this.state=R.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case N.LESS_THAN_SIGN:{this.state=R.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case N.NULL:{this._err($.unexpectedNullCharacter),this.state=R.SCRIPT_DATA_ESCAPED,this._emitChars(Qe);break}case N.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=R.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case N.HYPHEN_MINUS:{this._emitChars("-");break}case N.LESS_THAN_SIGN:{this.state=R.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case N.GREATER_THAN_SIGN:{this.state=R.SCRIPT_DATA,this._emitChars(">");break}case N.NULL:{this._err($.unexpectedNullCharacter),this.state=R.SCRIPT_DATA_ESCAPED,this._emitChars(Qe);break}case N.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=R.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===N.SOLIDUS?this.state=R.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Cs(t)?(this._emitChars("<"),this.state=R.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=R.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){Cs(t)?(this.state=R.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=R.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=R.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Zt.SCRIPT,!1)&&JT(this.preprocessor.peek(Zt.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Zt.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=R.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case N.HYPHEN_MINUS:{this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case N.LESS_THAN_SIGN:{this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case N.NULL:{this._err($.unexpectedNullCharacter),this._emitChars(Qe);break}case N.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case N.HYPHEN_MINUS:{this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case N.LESS_THAN_SIGN:{this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case N.NULL:{this._err($.unexpectedNullCharacter),this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Qe);break}case N.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case N.HYPHEN_MINUS:{this._emitChars("-");break}case N.LESS_THAN_SIGN:{this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case N.GREATER_THAN_SIGN:{this.state=R.SCRIPT_DATA,this._emitChars(">");break}case N.NULL:{this._err($.unexpectedNullCharacter),this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Qe);break}case N.EOF:{this._err($.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===N.SOLIDUS?(this.state=R.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Zt.SCRIPT,!1)&&JT(this.preprocessor.peek(Zt.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Zt.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=R.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:break;case N.SOLIDUS:case N.GREATER_THAN_SIGN:case N.EOF:{this.state=R.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case N.EQUALS_SIGN:{this._err($.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=R.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=R.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:case N.SOLIDUS:case N.GREATER_THAN_SIGN:case N.EOF:{this._leaveAttrName(),this.state=R.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case N.EQUALS_SIGN:{this._leaveAttrName(),this.state=R.BEFORE_ATTRIBUTE_VALUE;break}case N.QUOTATION_MARK:case N.APOSTROPHE:case N.LESS_THAN_SIGN:{this._err($.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case N.NULL:{this._err($.unexpectedNullCharacter),this.currentAttr.name+=Qe;break}default:this.currentAttr.name+=String.fromCodePoint(Yu(t)?bd(t):t)}}_stateAfterAttributeName(t){switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:break;case N.SOLIDUS:{this.state=R.SELF_CLOSING_START_TAG;break}case N.EQUALS_SIGN:{this.state=R.BEFORE_ATTRIBUTE_VALUE;break}case N.GREATER_THAN_SIGN:{this.state=R.DATA,this.emitCurrentTagToken();break}case N.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=R.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:break;case N.QUOTATION_MARK:{this.state=R.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case N.APOSTROPHE:{this.state=R.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case N.GREATER_THAN_SIGN:{this._err($.missingAttributeValue),this.state=R.DATA,this.emitCurrentTagToken();break}default:this.state=R.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case N.QUOTATION_MARK:{this.state=R.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case N.AMPERSAND:{this._startCharacterReference();break}case N.NULL:{this._err($.unexpectedNullCharacter),this.currentAttr.value+=Qe;break}case N.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case N.APOSTROPHE:{this.state=R.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case N.AMPERSAND:{this._startCharacterReference();break}case N.NULL:{this._err($.unexpectedNullCharacter),this.currentAttr.value+=Qe;break}case N.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:{this._leaveAttrValue(),this.state=R.BEFORE_ATTRIBUTE_NAME;break}case N.AMPERSAND:{this._startCharacterReference();break}case N.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=R.DATA,this.emitCurrentTagToken();break}case N.NULL:{this._err($.unexpectedNullCharacter),this.currentAttr.value+=Qe;break}case N.QUOTATION_MARK:case N.APOSTROPHE:case N.LESS_THAN_SIGN:case N.EQUALS_SIGN:case N.GRAVE_ACCENT:{this._err($.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case N.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:{this._leaveAttrValue(),this.state=R.BEFORE_ATTRIBUTE_NAME;break}case N.SOLIDUS:{this._leaveAttrValue(),this.state=R.SELF_CLOSING_START_TAG;break}case N.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=R.DATA,this.emitCurrentTagToken();break}case N.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this._err($.missingWhitespaceBetweenAttributes),this.state=R.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case N.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=R.DATA,this.emitCurrentTagToken();break}case N.EOF:{this._err($.eofInTag),this._emitEOFToken();break}default:this._err($.unexpectedSolidusInTag),this.state=R.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case N.GREATER_THAN_SIGN:{this.state=R.DATA,this.emitCurrentComment(n);break}case N.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case N.NULL:{this._err($.unexpectedNullCharacter),n.data+=Qe;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Zt.DASH_DASH,!0)?(this._createCommentToken(Zt.DASH_DASH.length+1),this.state=R.COMMENT_START):this._consumeSequenceIfMatch(Zt.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Zt.DOCTYPE.length+1),this.state=R.DOCTYPE):this._consumeSequenceIfMatch(Zt.CDATA_START,!0)?this.inForeignNode?this.state=R.CDATA_SECTION:(this._err($.cdataInHtmlContent),this._createCommentToken(Zt.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=R.BOGUS_COMMENT):this._ensureHibernation()||(this._err($.incorrectlyOpenedComment),this._createCommentToken(2),this.state=R.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case N.HYPHEN_MINUS:{this.state=R.COMMENT_START_DASH;break}case N.GREATER_THAN_SIGN:{this._err($.abruptClosingOfEmptyComment),this.state=R.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=R.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case N.HYPHEN_MINUS:{this.state=R.COMMENT_END;break}case N.GREATER_THAN_SIGN:{this._err($.abruptClosingOfEmptyComment),this.state=R.DATA,this.emitCurrentComment(n);break}case N.EOF:{this._err($.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=R.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case N.HYPHEN_MINUS:{this.state=R.COMMENT_END_DASH;break}case N.LESS_THAN_SIGN:{n.data+="<",this.state=R.COMMENT_LESS_THAN_SIGN;break}case N.NULL:{this._err($.unexpectedNullCharacter),n.data+=Qe;break}case N.EOF:{this._err($.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case N.EXCLAMATION_MARK:{n.data+="!",this.state=R.COMMENT_LESS_THAN_SIGN_BANG;break}case N.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=R.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===N.HYPHEN_MINUS?this.state=R.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=R.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===N.HYPHEN_MINUS?this.state=R.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=R.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==N.GREATER_THAN_SIGN&&t!==N.EOF&&this._err($.nestedComment),this.state=R.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case N.HYPHEN_MINUS:{this.state=R.COMMENT_END;break}case N.EOF:{this._err($.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=R.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case N.GREATER_THAN_SIGN:{this.state=R.DATA,this.emitCurrentComment(n);break}case N.EXCLAMATION_MARK:{this.state=R.COMMENT_END_BANG;break}case N.HYPHEN_MINUS:{n.data+="-";break}case N.EOF:{this._err($.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=R.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case N.HYPHEN_MINUS:{n.data+="--!",this.state=R.COMMENT_END_DASH;break}case N.GREATER_THAN_SIGN:{this._err($.incorrectlyClosedComment),this.state=R.DATA,this.emitCurrentComment(n);break}case N.EOF:{this._err($.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=R.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:{this.state=R.BEFORE_DOCTYPE_NAME;break}case N.GREATER_THAN_SIGN:{this.state=R.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case N.EOF:{this._err($.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingWhitespaceBeforeDoctypeName),this.state=R.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Yu(t))this._createDoctypeToken(String.fromCharCode(bd(t))),this.state=R.DOCTYPE_NAME;else switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:break;case N.NULL:{this._err($.unexpectedNullCharacter),this._createDoctypeToken(Qe),this.state=R.DOCTYPE_NAME;break}case N.GREATER_THAN_SIGN:{this._err($.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=R.DATA;break}case N.EOF:{this._err($.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=R.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:{this.state=R.AFTER_DOCTYPE_NAME;break}case N.GREATER_THAN_SIGN:{this.state=R.DATA,this.emitCurrentDoctype(n);break}case N.NULL:{this._err($.unexpectedNullCharacter),n.name+=Qe;break}case N.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Yu(t)?bd(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:break;case N.GREATER_THAN_SIGN:{this.state=R.DATA,this.emitCurrentDoctype(n);break}case N.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Zt.PUBLIC,!1)?this.state=R.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Zt.SYSTEM,!1)?this.state=R.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err($.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:{this.state=R.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case N.QUOTATION_MARK:{this._err($.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=R.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case N.APOSTROPHE:{this._err($.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=R.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case N.GREATER_THAN_SIGN:{this._err($.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=R.DATA,this.emitCurrentDoctype(n);break}case N.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:break;case N.QUOTATION_MARK:{n.publicId="",this.state=R.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case N.APOSTROPHE:{n.publicId="",this.state=R.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case N.GREATER_THAN_SIGN:{this._err($.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=R.DATA,this.emitCurrentDoctype(n);break}case N.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case N.QUOTATION_MARK:{this.state=R.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case N.NULL:{this._err($.unexpectedNullCharacter),n.publicId+=Qe;break}case N.GREATER_THAN_SIGN:{this._err($.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=R.DATA;break}case N.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case N.APOSTROPHE:{this.state=R.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case N.NULL:{this._err($.unexpectedNullCharacter),n.publicId+=Qe;break}case N.GREATER_THAN_SIGN:{this._err($.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=R.DATA;break}case N.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:{this.state=R.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case N.GREATER_THAN_SIGN:{this.state=R.DATA,this.emitCurrentDoctype(n);break}case N.QUOTATION_MARK:{this._err($.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case N.APOSTROPHE:{this._err($.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case N.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:break;case N.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=R.DATA;break}case N.QUOTATION_MARK:{n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case N.APOSTROPHE:{n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case N.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:{this.state=R.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case N.QUOTATION_MARK:{this._err($.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case N.APOSTROPHE:{this._err($.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case N.GREATER_THAN_SIGN:{this._err($.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=R.DATA,this.emitCurrentDoctype(n);break}case N.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:break;case N.QUOTATION_MARK:{n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case N.APOSTROPHE:{n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case N.GREATER_THAN_SIGN:{this._err($.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=R.DATA,this.emitCurrentDoctype(n);break}case N.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case N.QUOTATION_MARK:{this.state=R.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case N.NULL:{this._err($.unexpectedNullCharacter),n.systemId+=Qe;break}case N.GREATER_THAN_SIGN:{this._err($.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=R.DATA;break}case N.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case N.APOSTROPHE:{this.state=R.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case N.NULL:{this._err($.unexpectedNullCharacter),n.systemId+=Qe;break}case N.GREATER_THAN_SIGN:{this._err($.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=R.DATA;break}case N.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:break;case N.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=R.DATA;break}case N.EOF:{this._err($.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err($.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case N.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=R.DATA;break}case N.NULL:{this._err($.unexpectedNullCharacter);break}case N.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case N.RIGHT_SQUARE_BRACKET:{this.state=R.CDATA_SECTION_BRACKET;break}case N.EOF:{this._err($.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===N.RIGHT_SQUARE_BRACKET?this.state=R.CDATA_SECTION_END:(this._emitChars("]"),this.state=R.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case N.GREATER_THAN_SIGN:{this.state=R.DATA;break}case N.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=R.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(N.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&XT(this.preprocessor.peek(1))?R.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){XT(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===N.SEMICOLON&&this._err($.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const NP=new Set([m.DD,m.DT,m.LI,m.OPTGROUP,m.OPTION,m.P,m.RB,m.RP,m.RT,m.RTC]),ZT=new Set([...NP,m.CAPTION,m.COLGROUP,m.TBODY,m.TD,m.TFOOT,m.TH,m.THEAD,m.TR]),Qh=new Set([m.APPLET,m.CAPTION,m.HTML,m.MARQUEE,m.OBJECT,m.TABLE,m.TD,m.TEMPLATE,m.TH]),xQ=new Set([...Qh,m.OL,m.UL]),wQ=new Set([...Qh,m.BUTTON]),e_=new Set([m.ANNOTATION_XML,m.MI,m.MN,m.MO,m.MS,m.MTEXT]),t_=new Set([m.DESC,m.FOREIGN_OBJECT,m.TITLE]),EQ=new Set([m.TR,m.TEMPLATE,m.HTML]),TQ=new Set([m.TBODY,m.TFOOT,m.THEAD,m.TEMPLATE,m.HTML]),_Q=new Set([m.TABLE,m.TEMPLATE,m.HTML]),SQ=new Set([m.TD,m.TH]);class CQ{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=m.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===m.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Y.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const s=this._indexOf(t)+1;this.items.splice(s,0,n),this.tagIDs.splice(s,0,r),this.stackTop++,s===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,s===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Y.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(ey,Y.HTML)}popUntilTableCellPopped(){this.popUntilPopped(SQ,Y.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(_Q,Y.HTML)}clearBackToTableBodyContext(){this.clearBackTo(TQ,Y.HTML)}clearBackToTableRowContext(){this.clearBackTo(EQ,Y.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===m.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===m.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const s=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case Y.HTML:{if(s===t)return!0;if(n.has(s))return!1;break}case Y.SVG:{if(t_.has(s))return!1;break}case Y.MATHML:{if(e_.has(s))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Qh)}hasInListItemScope(t){return this.hasInDynamicScope(t,xQ)}hasInButtonScope(t){return this.hasInDynamicScope(t,wQ)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case Y.HTML:{if(ey.has(n))return!0;if(Qh.has(n))return!1;break}case Y.SVG:{if(t_.has(n))return!1;break}case Y.MATHML:{if(e_.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Y.HTML)switch(this.tagIDs[n]){case t:return!0;case m.TABLE:case m.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===Y.HTML)switch(this.tagIDs[t]){case m.TBODY:case m.THEAD:case m.TFOOT:return!0;case m.TABLE:case m.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Y.HTML)switch(this.tagIDs[n]){case t:return!0;case m.OPTION:case m.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&NP.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&ZT.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&ZT.has(this.currentTagId);)this.pop()}}const Rm=3;var _r;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(_r||(_r={}));const n_={type:_r.Marker};class kQ{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],s=n.length,i=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const u=this.entries[a];if(u.type===_r.Marker)break;const{element:l}=u;if(this.treeAdapter.getTagName(l)===i&&this.treeAdapter.getNamespaceURI(l)===o){const c=this.treeAdapter.getAttrList(l);c.length===s&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<Rm)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<Rm)return;const s=new Map(n.map(o=>[o.name,o.value]));let i=0;for(let o=0;o<r.length;o++){const a=r[o];a.attrs.every(u=>s.get(u.name)===u.value)&&(i+=1,i>=Rm&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(n_)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:_r.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:_r.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(n_);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===_r.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===_r.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===_r.Element&&n.element===t)}}const ks={createDocument(){return{nodeName:"#document",mode:On.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const s=e.childNodes.find(i=>i.nodeName==="#documentType");if(s)s.name=t,s.publicId=n,s.systemId=r;else{const i={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};ks.appendChild(e,i)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(ks.isTextNode(n)){n.value+=t;return}}ks.appendChild(e,ks.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&ks.isTextNode(r)?r.value+=t:ks.insertBefore(e,ks.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},RP="html",AQ="about:legacy-compat",NQ="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",PP=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],RQ=[...PP,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],PQ=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),IP=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],IQ=[...IP,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function r_(e,t){return t.some(n=>e.startsWith(n))}function OQ(e){return e.name===RP&&e.publicId===null&&(e.systemId===null||e.systemId===AQ)}function DQ(e){if(e.name!==RP)return On.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===NQ)return On.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),PQ.has(n))return On.QUIRKS;let r=t===null?RQ:PP;if(r_(n,r))return On.QUIRKS;if(r=t===null?IP:IQ,r_(n,r))return On.LIMITED_QUIRKS}return On.NO_QUIRKS}const s_={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},LQ="definitionurl",MQ="definitionURL",jQ=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),FQ=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Y.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Y.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Y.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Y.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Y.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Y.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Y.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:Y.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Y.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Y.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Y.XMLNS}]]),BQ=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),UQ=new Set([m.B,m.BIG,m.BLOCKQUOTE,m.BODY,m.BR,m.CENTER,m.CODE,m.DD,m.DIV,m.DL,m.DT,m.EM,m.EMBED,m.H1,m.H2,m.H3,m.H4,m.H5,m.H6,m.HEAD,m.HR,m.I,m.IMG,m.LI,m.LISTING,m.MENU,m.META,m.NOBR,m.OL,m.P,m.PRE,m.RUBY,m.S,m.SMALL,m.SPAN,m.STRONG,m.STRIKE,m.SUB,m.SUP,m.TABLE,m.TT,m.U,m.UL,m.VAR]);function HQ(e){const t=e.tagID;return t===m.FONT&&e.attrs.some(({name:r})=>r===oo.COLOR||r===oo.SIZE||r===oo.FACE)||UQ.has(t)}function OP(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===LQ){e.attrs[t].name=MQ;break}}function DP(e){for(let t=0;t<e.attrs.length;t++){const n=jQ.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function j1(e){for(let t=0;t<e.attrs.length;t++){const n=FQ.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function $Q(e){const t=BQ.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=mu(e.tagName))}function zQ(e,t){return t===Y.MATHML&&(e===m.MI||e===m.MO||e===m.MN||e===m.MS||e===m.MTEXT)}function VQ(e,t,n){if(t===Y.MATHML&&e===m.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===oo.ENCODING){const s=n[r].value.toLowerCase();return s===s_.TEXT_HTML||s===s_.APPLICATION_XML}}return t===Y.SVG&&(e===m.FOREIGN_OBJECT||e===m.DESC||e===m.TITLE)}function WQ(e,t,n,r){return(!r||r===Y.HTML)&&VQ(e,t,n)||(!r||r===Y.MATHML)&&zQ(e,t)}const qQ="hidden",KQ=8,YQ=3;var O;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(O||(O={}));const GQ={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},LP=new Set([m.TABLE,m.TBODY,m.TFOOT,m.THEAD,m.TR]),i_={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:ks,onParseError:null};class o_{constructor(t,n,r=null,s=null){this.fragmentContext=r,this.scriptHandler=s,this.currentToken=null,this.stopped=!1,this.insertionMode=O.INITIAL,this.originalInsertionMode=O.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...i_,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new bQ(this.options,this),this.activeFormattingElements=new kQ(this.treeAdapter),this.fragmentContextID=r?mu(this.treeAdapter.getTagName(r)):m.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new CQ(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...i_,...n};t??(t=r.treeAdapter.createElement(F.TEMPLATE,Y.HTML,[]));const s=r.treeAdapter.createElement("documentmock",Y.HTML,[]),i=new this(r,s,t);return i.fragmentContextID===m.TEMPLATE&&i.tmplInsertionModeStack.unshift(O.IN_TEMPLATE),i._initTokenizerForFragmentParsing(),i._insertFakeRootElement(),i._resetInsertionMode(),i._findFormInFragmentContext(),i}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var s;if(!this.onParseError)return;const i=(s=t.location)!==null&&s!==void 0?s:GQ,o={code:n,startLine:i.startLine,startCol:i.startCol,startOffset:i.startOffset,endLine:r?i.startLine:i.endLine,endCol:r?i.startCol:i.endCol,endOffset:r?i.startOffset:i.endOffset};this.onParseError(o)}onItemPush(t,n,r){var s,i;(i=(s=this.treeAdapter).onItemPush)===null||i===void 0||i.call(s,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,s;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(s=(r=this.treeAdapter).onItemPop)===null||s===void 0||s.call(r,t,this.openElements.current),n){let i,o;this.openElements.stackTop===0&&this.fragmentContext?(i=this.fragmentContext,o=this.fragmentContextID):{current:i,currentTagId:o}=this.openElements,this._setContextModes(i,o)}}_setContextModes(t,n){const r=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===Y.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,Y.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=O.TEXT}switchToPlaintextParsing(){this.insertionMode=O.TEXT,this.originalInsertionMode=O.IN_BODY,this.tokenizer.state=ct.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===F.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Y.HTML))switch(this.fragmentContextID){case m.TITLE:case m.TEXTAREA:{this.tokenizer.state=ct.RCDATA;break}case m.STYLE:case m.XMP:case m.IFRAME:case m.NOEMBED:case m.NOFRAMES:case m.NOSCRIPT:{this.tokenizer.state=ct.RAWTEXT;break}case m.SCRIPT:{this.tokenizer.state=ct.SCRIPT_DATA;break}case m.PLAINTEXT:{this.tokenizer.state=ct.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",s=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,s),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,Y.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,Y.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(F.HTML,Y.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,m.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const s=this.treeAdapter.getChildNodes(n),i=r?s.lastIndexOf(r):s.length,o=s[i-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:u,endCol:l,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:u,endCol:l,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,s=this.treeAdapter.getTagName(t),i=n.type===Ce.END_TAG&&s===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,i)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===m.SVG&&this.treeAdapter.getTagName(n)===F.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Y.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===m.MGLYPH||t.tagID===m.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,Y.HTML)}_processToken(t){switch(t.type){case Ce.CHARACTER:{this.onCharacter(t);break}case Ce.NULL_CHARACTER:{this.onNullCharacter(t);break}case Ce.COMMENT:{this.onComment(t);break}case Ce.DOCTYPE:{this.onDoctype(t);break}case Ce.START_TAG:{this._processStartTag(t);break}case Ce.END_TAG:{this.onEndTag(t);break}case Ce.EOF:{this.onEof(t);break}case Ce.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const s=this.treeAdapter.getNamespaceURI(n),i=this.treeAdapter.getAttrList(n);return WQ(t,s,i,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(s=>s.type===_r.Marker||this.openElements.contains(s.element)),r=n===-1?t-1:n-1;for(let s=r;s>=0;s--){const i=this.activeFormattingElements.entries[s];this._insertElement(i.token,this.treeAdapter.getNamespaceURI(i.element)),i.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=O.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(m.P),this.openElements.popUntilTagNamePopped(m.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case m.TR:{this.insertionMode=O.IN_ROW;return}case m.TBODY:case m.THEAD:case m.TFOOT:{this.insertionMode=O.IN_TABLE_BODY;return}case m.CAPTION:{this.insertionMode=O.IN_CAPTION;return}case m.COLGROUP:{this.insertionMode=O.IN_COLUMN_GROUP;return}case m.TABLE:{this.insertionMode=O.IN_TABLE;return}case m.BODY:{this.insertionMode=O.IN_BODY;return}case m.FRAMESET:{this.insertionMode=O.IN_FRAMESET;return}case m.SELECT:{this._resetInsertionModeForSelect(t);return}case m.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case m.HTML:{this.insertionMode=this.headElement?O.AFTER_HEAD:O.BEFORE_HEAD;return}case m.TD:case m.TH:{if(t>0){this.insertionMode=O.IN_CELL;return}break}case m.HEAD:{if(t>0){this.insertionMode=O.IN_HEAD;return}break}}this.insertionMode=O.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===m.TEMPLATE)break;if(r===m.TABLE){this.insertionMode=O.IN_SELECT_IN_TABLE;return}}this.insertionMode=O.IN_SELECT}_isElementCausesFosterParenting(t){return LP.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case m.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Y.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case m.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return mQ[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){SJ(this,t);return}switch(this.insertionMode){case O.INITIAL:{Ou(this,t);break}case O.BEFORE_HTML:{ml(this,t);break}case O.BEFORE_HEAD:{gl(this,t);break}case O.IN_HEAD:{yl(this,t);break}case O.IN_HEAD_NO_SCRIPT:{vl(this,t);break}case O.AFTER_HEAD:{bl(this,t);break}case O.IN_BODY:case O.IN_CAPTION:case O.IN_CELL:case O.IN_TEMPLATE:{jP(this,t);break}case O.TEXT:case O.IN_SELECT:case O.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case O.IN_TABLE:case O.IN_TABLE_BODY:case O.IN_ROW:{Pm(this,t);break}case O.IN_TABLE_TEXT:{zP(this,t);break}case O.IN_COLUMN_GROUP:{Xh(this,t);break}case O.AFTER_BODY:{Jh(this,t);break}case O.AFTER_AFTER_BODY:{Xd(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){_J(this,t);return}switch(this.insertionMode){case O.INITIAL:{Ou(this,t);break}case O.BEFORE_HTML:{ml(this,t);break}case O.BEFORE_HEAD:{gl(this,t);break}case O.IN_HEAD:{yl(this,t);break}case O.IN_HEAD_NO_SCRIPT:{vl(this,t);break}case O.AFTER_HEAD:{bl(this,t);break}case O.TEXT:{this._insertCharacters(t);break}case O.IN_TABLE:case O.IN_TABLE_BODY:case O.IN_ROW:{Pm(this,t);break}case O.IN_COLUMN_GROUP:{Xh(this,t);break}case O.AFTER_BODY:{Jh(this,t);break}case O.AFTER_AFTER_BODY:{Xd(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){ty(this,t);return}switch(this.insertionMode){case O.INITIAL:case O.BEFORE_HTML:case O.BEFORE_HEAD:case O.IN_HEAD:case O.IN_HEAD_NO_SCRIPT:case O.AFTER_HEAD:case O.IN_BODY:case O.IN_TABLE:case O.IN_CAPTION:case O.IN_COLUMN_GROUP:case O.IN_TABLE_BODY:case O.IN_ROW:case O.IN_CELL:case O.IN_SELECT:case O.IN_SELECT_IN_TABLE:case O.IN_TEMPLATE:case O.IN_FRAMESET:case O.AFTER_FRAMESET:{ty(this,t);break}case O.IN_TABLE_TEXT:{Du(this,t);break}case O.AFTER_BODY:{nX(this,t);break}case O.AFTER_AFTER_BODY:case O.AFTER_AFTER_FRAMESET:{rX(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case O.INITIAL:{sX(this,t);break}case O.BEFORE_HEAD:case O.IN_HEAD:case O.IN_HEAD_NO_SCRIPT:case O.AFTER_HEAD:{this._err(t,$.misplacedDoctype);break}case O.IN_TABLE_TEXT:{Du(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,$.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?CJ(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case O.INITIAL:{Ou(this,t);break}case O.BEFORE_HTML:{iX(this,t);break}case O.BEFORE_HEAD:{aX(this,t);break}case O.IN_HEAD:{pr(this,t);break}case O.IN_HEAD_NO_SCRIPT:{cX(this,t);break}case O.AFTER_HEAD:{hX(this,t);break}case O.IN_BODY:{$t(this,t);break}case O.IN_TABLE:{Ya(this,t);break}case O.IN_TABLE_TEXT:{Du(this,t);break}case O.IN_CAPTION:{uJ(this,t);break}case O.IN_COLUMN_GROUP:{U1(this,t);break}case O.IN_TABLE_BODY:{Jf(this,t);break}case O.IN_ROW:{Zf(this,t);break}case O.IN_CELL:{dJ(this,t);break}case O.IN_SELECT:{qP(this,t);break}case O.IN_SELECT_IN_TABLE:{fJ(this,t);break}case O.IN_TEMPLATE:{mJ(this,t);break}case O.AFTER_BODY:{yJ(this,t);break}case O.IN_FRAMESET:{vJ(this,t);break}case O.AFTER_FRAMESET:{xJ(this,t);break}case O.AFTER_AFTER_BODY:{EJ(this,t);break}case O.AFTER_AFTER_FRAMESET:{TJ(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?kJ(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case O.INITIAL:{Ou(this,t);break}case O.BEFORE_HTML:{oX(this,t);break}case O.BEFORE_HEAD:{uX(this,t);break}case O.IN_HEAD:{lX(this,t);break}case O.IN_HEAD_NO_SCRIPT:{dX(this,t);break}case O.AFTER_HEAD:{fX(this,t);break}case O.IN_BODY:{Xf(this,t);break}case O.TEXT:{JX(this,t);break}case O.IN_TABLE:{oc(this,t);break}case O.IN_TABLE_TEXT:{Du(this,t);break}case O.IN_CAPTION:{lJ(this,t);break}case O.IN_COLUMN_GROUP:{cJ(this,t);break}case O.IN_TABLE_BODY:{ny(this,t);break}case O.IN_ROW:{WP(this,t);break}case O.IN_CELL:{hJ(this,t);break}case O.IN_SELECT:{KP(this,t);break}case O.IN_SELECT_IN_TABLE:{pJ(this,t);break}case O.IN_TEMPLATE:{gJ(this,t);break}case O.AFTER_BODY:{GP(this,t);break}case O.IN_FRAMESET:{bJ(this,t);break}case O.AFTER_FRAMESET:{wJ(this,t);break}case O.AFTER_AFTER_BODY:{Xd(this,t);break}}}onEof(t){switch(this.insertionMode){case O.INITIAL:{Ou(this,t);break}case O.BEFORE_HTML:{ml(this,t);break}case O.BEFORE_HEAD:{gl(this,t);break}case O.IN_HEAD:{yl(this,t);break}case O.IN_HEAD_NO_SCRIPT:{vl(this,t);break}case O.AFTER_HEAD:{bl(this,t);break}case O.IN_BODY:case O.IN_TABLE:case O.IN_CAPTION:case O.IN_COLUMN_GROUP:case O.IN_TABLE_BODY:case O.IN_ROW:case O.IN_CELL:case O.IN_SELECT:case O.IN_SELECT_IN_TABLE:{HP(this,t);break}case O.TEXT:{ZX(this,t);break}case O.IN_TABLE_TEXT:{Du(this,t);break}case O.IN_TEMPLATE:{YP(this,t);break}case O.AFTER_BODY:case O.IN_FRAMESET:case O.AFTER_FRAMESET:case O.AFTER_AFTER_BODY:case O.AFTER_AFTER_FRAMESET:{B1(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===N.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case O.IN_HEAD:case O.IN_HEAD_NO_SCRIPT:case O.AFTER_HEAD:case O.TEXT:case O.IN_COLUMN_GROUP:case O.IN_SELECT:case O.IN_SELECT_IN_TABLE:case O.IN_FRAMESET:case O.AFTER_FRAMESET:{this._insertCharacters(t);break}case O.IN_BODY:case O.IN_CAPTION:case O.IN_CELL:case O.IN_TEMPLATE:case O.AFTER_BODY:case O.AFTER_AFTER_BODY:case O.AFTER_AFTER_FRAMESET:{MP(this,t);break}case O.IN_TABLE:case O.IN_TABLE_BODY:case O.IN_ROW:{Pm(this,t);break}case O.IN_TABLE_TEXT:{$P(this,t);break}}}}function QQ(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):UP(e,t),n}function XQ(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const s=e.openElements.items[r];if(s===t.element)break;e._isSpecialElement(s,e.openElements.tagIDs[r])&&(n=s)}return n||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),n}function JQ(e,t,n){let r=t,s=e.openElements.getCommonAncestor(t);for(let i=0,o=s;o!==n;i++,o=s){s=e.openElements.getCommonAncestor(o);const a=e.activeFormattingElements.getElementEntry(o),u=a&&i>=YQ;!a||u?(u&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(o)):(o=ZQ(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function ZQ(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function eX(e,t,n){const r=e.treeAdapter.getTagName(t),s=mu(r);if(e._isElementCausesFosterParenting(s))e._fosterParentElement(n);else{const i=e.treeAdapter.getNamespaceURI(t);s===m.TEMPLATE&&i===Y.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function tX(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:s}=n,i=e.treeAdapter.createElement(s.tagName,r,s.attrs);e._adoptNodes(t,i),e.treeAdapter.appendChild(t,i),e.activeFormattingElements.insertElementAfterBookmark(i,s),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,i,s.tagID)}function F1(e,t){for(let n=0;n<KQ;n++){const r=QQ(e,t);if(!r)break;const s=XQ(e,r);if(!s)break;e.activeFormattingElements.bookmark=r;const i=JQ(e,s,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(i),o&&eX(e,o,i),tX(e,s,r)}}function ty(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function nX(e,t){e._appendCommentNode(t,e.openElements.items[0])}function rX(e,t){e._appendCommentNode(t,e.document)}function B1(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],s=e.treeAdapter.getNodeSourceCodeLocation(r);if(s&&!s.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const i=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(i);o&&!o.endTag&&e._setEndLocation(i,t)}}}}function sX(e,t){e._setDocumentType(t);const n=t.forceQuirks?On.QUIRKS:DQ(t);OQ(t)||e._err(t,$.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=O.BEFORE_HTML}function Ou(e,t){e._err(t,$.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,On.QUIRKS),e.insertionMode=O.BEFORE_HTML,e._processToken(t)}function iX(e,t){t.tagID===m.HTML?(e._insertElement(t,Y.HTML),e.insertionMode=O.BEFORE_HEAD):ml(e,t)}function oX(e,t){const n=t.tagID;(n===m.HTML||n===m.HEAD||n===m.BODY||n===m.BR)&&ml(e,t)}function ml(e,t){e._insertFakeRootElement(),e.insertionMode=O.BEFORE_HEAD,e._processToken(t)}function aX(e,t){switch(t.tagID){case m.HTML:{$t(e,t);break}case m.HEAD:{e._insertElement(t,Y.HTML),e.headElement=e.openElements.current,e.insertionMode=O.IN_HEAD;break}default:gl(e,t)}}function uX(e,t){const n=t.tagID;n===m.HEAD||n===m.BODY||n===m.HTML||n===m.BR?gl(e,t):e._err(t,$.endTagWithoutMatchingOpenElement)}function gl(e,t){e._insertFakeElement(F.HEAD,m.HEAD),e.headElement=e.openElements.current,e.insertionMode=O.IN_HEAD,e._processToken(t)}function pr(e,t){switch(t.tagID){case m.HTML:{$t(e,t);break}case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:{e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case m.TITLE:{e._switchToTextParsing(t,ct.RCDATA);break}case m.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,ct.RAWTEXT):(e._insertElement(t,Y.HTML),e.insertionMode=O.IN_HEAD_NO_SCRIPT);break}case m.NOFRAMES:case m.STYLE:{e._switchToTextParsing(t,ct.RAWTEXT);break}case m.SCRIPT:{e._switchToTextParsing(t,ct.SCRIPT_DATA);break}case m.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=O.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(O.IN_TEMPLATE);break}case m.HEAD:{e._err(t,$.misplacedStartTagForHeadElement);break}default:yl(e,t)}}function lX(e,t){switch(t.tagID){case m.HEAD:{e.openElements.pop(),e.insertionMode=O.AFTER_HEAD;break}case m.BODY:case m.BR:case m.HTML:{yl(e,t);break}case m.TEMPLATE:{ko(e,t);break}default:e._err(t,$.endTagWithoutMatchingOpenElement)}}function ko(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==m.TEMPLATE&&e._err(t,$.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(m.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,$.endTagWithoutMatchingOpenElement)}function yl(e,t){e.openElements.pop(),e.insertionMode=O.AFTER_HEAD,e._processToken(t)}function cX(e,t){switch(t.tagID){case m.HTML:{$t(e,t);break}case m.BASEFONT:case m.BGSOUND:case m.HEAD:case m.LINK:case m.META:case m.NOFRAMES:case m.STYLE:{pr(e,t);break}case m.NOSCRIPT:{e._err(t,$.nestedNoscriptInHead);break}default:vl(e,t)}}function dX(e,t){switch(t.tagID){case m.NOSCRIPT:{e.openElements.pop(),e.insertionMode=O.IN_HEAD;break}case m.BR:{vl(e,t);break}default:e._err(t,$.endTagWithoutMatchingOpenElement)}}function vl(e,t){const n=t.type===Ce.EOF?$.openElementsLeftAfterEof:$.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=O.IN_HEAD,e._processToken(t)}function hX(e,t){switch(t.tagID){case m.HTML:{$t(e,t);break}case m.BODY:{e._insertElement(t,Y.HTML),e.framesetOk=!1,e.insertionMode=O.IN_BODY;break}case m.FRAMESET:{e._insertElement(t,Y.HTML),e.insertionMode=O.IN_FRAMESET;break}case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:case m.NOFRAMES:case m.SCRIPT:case m.STYLE:case m.TEMPLATE:case m.TITLE:{e._err(t,$.abandonedHeadElementChild),e.openElements.push(e.headElement,m.HEAD),pr(e,t),e.openElements.remove(e.headElement);break}case m.HEAD:{e._err(t,$.misplacedStartTagForHeadElement);break}default:bl(e,t)}}function fX(e,t){switch(t.tagID){case m.BODY:case m.HTML:case m.BR:{bl(e,t);break}case m.TEMPLATE:{ko(e,t);break}default:e._err(t,$.endTagWithoutMatchingOpenElement)}}function bl(e,t){e._insertFakeElement(F.BODY,m.BODY),e.insertionMode=O.IN_BODY,Qf(e,t)}function Qf(e,t){switch(t.type){case Ce.CHARACTER:{jP(e,t);break}case Ce.WHITESPACE_CHARACTER:{MP(e,t);break}case Ce.COMMENT:{ty(e,t);break}case Ce.START_TAG:{$t(e,t);break}case Ce.END_TAG:{Xf(e,t);break}case Ce.EOF:{HP(e,t);break}}}function MP(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function jP(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function pX(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function mX(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function gX(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Y.HTML),e.insertionMode=O.IN_FRAMESET)}function yX(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,Y.HTML)}function vX(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&ey.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Y.HTML)}function bX(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,Y.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function xX(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,Y.HTML),n||(e.formElement=e.openElements.current))}function wX(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const s=e.openElements.tagIDs[r];if(n===m.LI&&s===m.LI||(n===m.DD||n===m.DT)&&(s===m.DD||s===m.DT)){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.popUntilTagNamePopped(s);break}if(s!==m.ADDRESS&&s!==m.DIV&&s!==m.P&&e._isSpecialElement(e.openElements.items[r],s))break}e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,Y.HTML)}function EX(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,Y.HTML),e.tokenizer.state=ct.PLAINTEXT}function TX(e,t){e.openElements.hasInScope(m.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(m.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.framesetOk=!1}function _X(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(F.A);n&&(F1(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function SX(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function CX(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(m.NOBR)&&(F1(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Y.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function kX(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function AX(e,t){e.treeAdapter.getDocumentMode(e.document)!==On.QUIRKS&&e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,Y.HTML),e.framesetOk=!1,e.insertionMode=O.IN_TABLE}function FP(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Y.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function BP(e){const t=kP(e,oo.TYPE);return t!=null&&t.toLowerCase()===qQ}function NX(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Y.HTML),BP(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function RX(e,t){e._appendElement(t,Y.HTML),t.ackSelfClosing=!0}function PX(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._appendElement(t,Y.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function IX(e,t){t.tagName=F.IMG,t.tagID=m.IMG,FP(e,t)}function OX(e,t){e._insertElement(t,Y.HTML),e.skipNextNewLine=!0,e.tokenizer.state=ct.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=O.TEXT}function DX(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,ct.RAWTEXT)}function LX(e,t){e.framesetOk=!1,e._switchToTextParsing(t,ct.RAWTEXT)}function a_(e,t){e._switchToTextParsing(t,ct.RAWTEXT)}function MX(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===O.IN_TABLE||e.insertionMode===O.IN_CAPTION||e.insertionMode===O.IN_TABLE_BODY||e.insertionMode===O.IN_ROW||e.insertionMode===O.IN_CELL?O.IN_SELECT_IN_TABLE:O.IN_SELECT}function jX(e,t){e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML)}function FX(e,t){e.openElements.hasInScope(m.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Y.HTML)}function BX(e,t){e.openElements.hasInScope(m.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(m.RTC),e._insertElement(t,Y.HTML)}function UX(e,t){e._reconstructActiveFormattingElements(),OP(t),j1(t),t.selfClosing?e._appendElement(t,Y.MATHML):e._insertElement(t,Y.MATHML),t.ackSelfClosing=!0}function HX(e,t){e._reconstructActiveFormattingElements(),DP(t),j1(t),t.selfClosing?e._appendElement(t,Y.SVG):e._insertElement(t,Y.SVG),t.ackSelfClosing=!0}function u_(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML)}function $t(e,t){switch(t.tagID){case m.I:case m.S:case m.B:case m.U:case m.EM:case m.TT:case m.BIG:case m.CODE:case m.FONT:case m.SMALL:case m.STRIKE:case m.STRONG:{SX(e,t);break}case m.A:{_X(e,t);break}case m.H1:case m.H2:case m.H3:case m.H4:case m.H5:case m.H6:{vX(e,t);break}case m.P:case m.DL:case m.OL:case m.UL:case m.DIV:case m.DIR:case m.NAV:case m.MAIN:case m.MENU:case m.ASIDE:case m.CENTER:case m.FIGURE:case m.FOOTER:case m.HEADER:case m.HGROUP:case m.DIALOG:case m.DETAILS:case m.ADDRESS:case m.ARTICLE:case m.SEARCH:case m.SECTION:case m.SUMMARY:case m.FIELDSET:case m.BLOCKQUOTE:case m.FIGCAPTION:{yX(e,t);break}case m.LI:case m.DD:case m.DT:{wX(e,t);break}case m.BR:case m.IMG:case m.WBR:case m.AREA:case m.EMBED:case m.KEYGEN:{FP(e,t);break}case m.HR:{PX(e,t);break}case m.RB:case m.RTC:{FX(e,t);break}case m.RT:case m.RP:{BX(e,t);break}case m.PRE:case m.LISTING:{bX(e,t);break}case m.XMP:{DX(e,t);break}case m.SVG:{HX(e,t);break}case m.HTML:{pX(e,t);break}case m.BASE:case m.LINK:case m.META:case m.STYLE:case m.TITLE:case m.SCRIPT:case m.BGSOUND:case m.BASEFONT:case m.TEMPLATE:{pr(e,t);break}case m.BODY:{mX(e,t);break}case m.FORM:{xX(e,t);break}case m.NOBR:{CX(e,t);break}case m.MATH:{UX(e,t);break}case m.TABLE:{AX(e,t);break}case m.INPUT:{NX(e,t);break}case m.PARAM:case m.TRACK:case m.SOURCE:{RX(e,t);break}case m.IMAGE:{IX(e,t);break}case m.BUTTON:{TX(e,t);break}case m.APPLET:case m.OBJECT:case m.MARQUEE:{kX(e,t);break}case m.IFRAME:{LX(e,t);break}case m.SELECT:{MX(e,t);break}case m.OPTION:case m.OPTGROUP:{jX(e,t);break}case m.NOEMBED:case m.NOFRAMES:{a_(e,t);break}case m.FRAMESET:{gX(e,t);break}case m.TEXTAREA:{OX(e,t);break}case m.NOSCRIPT:{e.options.scriptingEnabled?a_(e,t):u_(e,t);break}case m.PLAINTEXT:{EX(e,t);break}case m.COL:case m.TH:case m.TD:case m.TR:case m.HEAD:case m.FRAME:case m.TBODY:case m.TFOOT:case m.THEAD:case m.CAPTION:case m.COLGROUP:break;default:u_(e,t)}}function $X(e,t){if(e.openElements.hasInScope(m.BODY)&&(e.insertionMode=O.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function zX(e,t){e.openElements.hasInScope(m.BODY)&&(e.insertionMode=O.AFTER_BODY,GP(e,t))}function VX(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function WX(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(m.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(m.FORM):n&&e.openElements.remove(n))}function qX(e){e.openElements.hasInButtonScope(m.P)||e._insertFakeElement(F.P,m.P),e._closePElement()}function KX(e){e.openElements.hasInListItemScope(m.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(m.LI),e.openElements.popUntilTagNamePopped(m.LI))}function YX(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function GX(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function QX(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function XX(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(F.BR,m.BR),e.openElements.pop(),e.framesetOk=!1}function UP(e,t){const n=t.tagName,r=t.tagID;for(let s=e.openElements.stackTop;s>0;s--){const i=e.openElements.items[s],o=e.openElements.tagIDs[s];if(r===o&&(r!==m.UNKNOWN||e.treeAdapter.getTagName(i)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=s&&e.openElements.shortenToLength(s);break}if(e._isSpecialElement(i,o))break}}function Xf(e,t){switch(t.tagID){case m.A:case m.B:case m.I:case m.S:case m.U:case m.EM:case m.TT:case m.BIG:case m.CODE:case m.FONT:case m.NOBR:case m.SMALL:case m.STRIKE:case m.STRONG:{F1(e,t);break}case m.P:{qX(e);break}case m.DL:case m.UL:case m.OL:case m.DIR:case m.DIV:case m.NAV:case m.PRE:case m.MAIN:case m.MENU:case m.ASIDE:case m.BUTTON:case m.CENTER:case m.FIGURE:case m.FOOTER:case m.HEADER:case m.HGROUP:case m.DIALOG:case m.ADDRESS:case m.ARTICLE:case m.DETAILS:case m.SEARCH:case m.SECTION:case m.SUMMARY:case m.LISTING:case m.FIELDSET:case m.BLOCKQUOTE:case m.FIGCAPTION:{VX(e,t);break}case m.LI:{KX(e);break}case m.DD:case m.DT:{YX(e,t);break}case m.H1:case m.H2:case m.H3:case m.H4:case m.H5:case m.H6:{GX(e);break}case m.BR:{XX(e);break}case m.BODY:{$X(e,t);break}case m.HTML:{zX(e,t);break}case m.FORM:{WX(e);break}case m.APPLET:case m.OBJECT:case m.MARQUEE:{QX(e,t);break}case m.TEMPLATE:{ko(e,t);break}default:UP(e,t)}}function HP(e,t){e.tmplInsertionModeStack.length>0?YP(e,t):B1(e,t)}function JX(e,t){var n;t.tagID===m.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function ZX(e,t){e._err(t,$.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Pm(e,t){if(e.openElements.currentTagId!==void 0&&LP.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=O.IN_TABLE_TEXT,t.type){case Ce.CHARACTER:{zP(e,t);break}case Ce.WHITESPACE_CHARACTER:{$P(e,t);break}}else Nc(e,t)}function eJ(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Y.HTML),e.insertionMode=O.IN_CAPTION}function tJ(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Y.HTML),e.insertionMode=O.IN_COLUMN_GROUP}function nJ(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(F.COLGROUP,m.COLGROUP),e.insertionMode=O.IN_COLUMN_GROUP,U1(e,t)}function rJ(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Y.HTML),e.insertionMode=O.IN_TABLE_BODY}function sJ(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(F.TBODY,m.TBODY),e.insertionMode=O.IN_TABLE_BODY,Jf(e,t)}function iJ(e,t){e.openElements.hasInTableScope(m.TABLE)&&(e.openElements.popUntilTagNamePopped(m.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function oJ(e,t){BP(t)?e._appendElement(t,Y.HTML):Nc(e,t),t.ackSelfClosing=!0}function aJ(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,Y.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Ya(e,t){switch(t.tagID){case m.TD:case m.TH:case m.TR:{sJ(e,t);break}case m.STYLE:case m.SCRIPT:case m.TEMPLATE:{pr(e,t);break}case m.COL:{nJ(e,t);break}case m.FORM:{aJ(e,t);break}case m.TABLE:{iJ(e,t);break}case m.TBODY:case m.TFOOT:case m.THEAD:{rJ(e,t);break}case m.INPUT:{oJ(e,t);break}case m.CAPTION:{eJ(e,t);break}case m.COLGROUP:{tJ(e,t);break}default:Nc(e,t)}}function oc(e,t){switch(t.tagID){case m.TABLE:{e.openElements.hasInTableScope(m.TABLE)&&(e.openElements.popUntilTagNamePopped(m.TABLE),e._resetInsertionMode());break}case m.TEMPLATE:{ko(e,t);break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TBODY:case m.TD:case m.TFOOT:case m.TH:case m.THEAD:case m.TR:break;default:Nc(e,t)}}function Nc(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Qf(e,t),e.fosterParentingEnabled=n}function $P(e,t){e.pendingCharacterTokens.push(t)}function zP(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Du(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Nc(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const VP=new Set([m.CAPTION,m.COL,m.COLGROUP,m.TBODY,m.TD,m.TFOOT,m.TH,m.THEAD,m.TR]);function uJ(e,t){const n=t.tagID;VP.has(n)?e.openElements.hasInTableScope(m.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(m.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=O.IN_TABLE,Ya(e,t)):$t(e,t)}function lJ(e,t){const n=t.tagID;switch(n){case m.CAPTION:case m.TABLE:{e.openElements.hasInTableScope(m.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(m.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=O.IN_TABLE,n===m.TABLE&&oc(e,t));break}case m.BODY:case m.COL:case m.COLGROUP:case m.HTML:case m.TBODY:case m.TD:case m.TFOOT:case m.TH:case m.THEAD:case m.TR:break;default:Xf(e,t)}}function U1(e,t){switch(t.tagID){case m.HTML:{$t(e,t);break}case m.COL:{e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case m.TEMPLATE:{pr(e,t);break}default:Xh(e,t)}}function cJ(e,t){switch(t.tagID){case m.COLGROUP:{e.openElements.currentTagId===m.COLGROUP&&(e.openElements.pop(),e.insertionMode=O.IN_TABLE);break}case m.TEMPLATE:{ko(e,t);break}case m.COL:break;default:Xh(e,t)}}function Xh(e,t){e.openElements.currentTagId===m.COLGROUP&&(e.openElements.pop(),e.insertionMode=O.IN_TABLE,e._processToken(t))}function Jf(e,t){switch(t.tagID){case m.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Y.HTML),e.insertionMode=O.IN_ROW;break}case m.TH:case m.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(F.TR,m.TR),e.insertionMode=O.IN_ROW,Zf(e,t);break}case m.CAPTION:case m.COL:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=O.IN_TABLE,Ya(e,t));break}default:Ya(e,t)}}function ny(e,t){const n=t.tagID;switch(t.tagID){case m.TBODY:case m.TFOOT:case m.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=O.IN_TABLE);break}case m.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=O.IN_TABLE,oc(e,t));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TD:case m.TH:case m.TR:break;default:oc(e,t)}}function Zf(e,t){switch(t.tagID){case m.TH:case m.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,Y.HTML),e.insertionMode=O.IN_CELL,e.activeFormattingElements.insertMarker();break}case m.CAPTION:case m.COL:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:case m.TR:{e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=O.IN_TABLE_BODY,Jf(e,t));break}default:Ya(e,t)}}function WP(e,t){switch(t.tagID){case m.TR:{e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=O.IN_TABLE_BODY);break}case m.TABLE:{e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=O.IN_TABLE_BODY,ny(e,t));break}case m.TBODY:case m.TFOOT:case m.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(m.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=O.IN_TABLE_BODY,ny(e,t));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TD:case m.TH:break;default:oc(e,t)}}function dJ(e,t){const n=t.tagID;VP.has(n)?(e.openElements.hasInTableScope(m.TD)||e.openElements.hasInTableScope(m.TH))&&(e._closeTableCell(),Zf(e,t)):$t(e,t)}function hJ(e,t){const n=t.tagID;switch(n){case m.TD:case m.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=O.IN_ROW);break}case m.TABLE:case m.TBODY:case m.TFOOT:case m.THEAD:case m.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),WP(e,t));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:break;default:Xf(e,t)}}function qP(e,t){switch(t.tagID){case m.HTML:{$t(e,t);break}case m.OPTION:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e._insertElement(t,Y.HTML);break}case m.OPTGROUP:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e.openElements.currentTagId===m.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Y.HTML);break}case m.HR:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e.openElements.currentTagId===m.OPTGROUP&&e.openElements.pop(),e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case m.INPUT:case m.KEYGEN:case m.TEXTAREA:case m.SELECT:{e.openElements.hasInSelectScope(m.SELECT)&&(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode(),t.tagID!==m.SELECT&&e._processStartTag(t));break}case m.SCRIPT:case m.TEMPLATE:{pr(e,t);break}}}function KP(e,t){switch(t.tagID){case m.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===m.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===m.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===m.OPTGROUP&&e.openElements.pop();break}case m.OPTION:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop();break}case m.SELECT:{e.openElements.hasInSelectScope(m.SELECT)&&(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode());break}case m.TEMPLATE:{ko(e,t);break}}}function fJ(e,t){const n=t.tagID;n===m.CAPTION||n===m.TABLE||n===m.TBODY||n===m.TFOOT||n===m.THEAD||n===m.TR||n===m.TD||n===m.TH?(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode(),e._processStartTag(t)):qP(e,t)}function pJ(e,t){const n=t.tagID;n===m.CAPTION||n===m.TABLE||n===m.TBODY||n===m.TFOOT||n===m.THEAD||n===m.TR||n===m.TD||n===m.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode(),e.onEndTag(t)):KP(e,t)}function mJ(e,t){switch(t.tagID){case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:case m.NOFRAMES:case m.SCRIPT:case m.STYLE:case m.TEMPLATE:case m.TITLE:{pr(e,t);break}case m.CAPTION:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:{e.tmplInsertionModeStack[0]=O.IN_TABLE,e.insertionMode=O.IN_TABLE,Ya(e,t);break}case m.COL:{e.tmplInsertionModeStack[0]=O.IN_COLUMN_GROUP,e.insertionMode=O.IN_COLUMN_GROUP,U1(e,t);break}case m.TR:{e.tmplInsertionModeStack[0]=O.IN_TABLE_BODY,e.insertionMode=O.IN_TABLE_BODY,Jf(e,t);break}case m.TD:case m.TH:{e.tmplInsertionModeStack[0]=O.IN_ROW,e.insertionMode=O.IN_ROW,Zf(e,t);break}default:e.tmplInsertionModeStack[0]=O.IN_BODY,e.insertionMode=O.IN_BODY,$t(e,t)}}function gJ(e,t){t.tagID===m.TEMPLATE&&ko(e,t)}function YP(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(m.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):B1(e,t)}function yJ(e,t){t.tagID===m.HTML?$t(e,t):Jh(e,t)}function GP(e,t){var n;if(t.tagID===m.HTML){if(e.fragmentContext||(e.insertionMode=O.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===m.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else Jh(e,t)}function Jh(e,t){e.insertionMode=O.IN_BODY,Qf(e,t)}function vJ(e,t){switch(t.tagID){case m.HTML:{$t(e,t);break}case m.FRAMESET:{e._insertElement(t,Y.HTML);break}case m.FRAME:{e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case m.NOFRAMES:{pr(e,t);break}}}function bJ(e,t){t.tagID===m.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==m.FRAMESET&&(e.insertionMode=O.AFTER_FRAMESET))}function xJ(e,t){switch(t.tagID){case m.HTML:{$t(e,t);break}case m.NOFRAMES:{pr(e,t);break}}}function wJ(e,t){t.tagID===m.HTML&&(e.insertionMode=O.AFTER_AFTER_FRAMESET)}function EJ(e,t){t.tagID===m.HTML?$t(e,t):Xd(e,t)}function Xd(e,t){e.insertionMode=O.IN_BODY,Qf(e,t)}function TJ(e,t){switch(t.tagID){case m.HTML:{$t(e,t);break}case m.NOFRAMES:{pr(e,t);break}}}function _J(e,t){t.chars=Qe,e._insertCharacters(t)}function SJ(e,t){e._insertCharacters(t),e.framesetOk=!1}function QP(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Y.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function CJ(e,t){if(HQ(t))QP(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===Y.MATHML?OP(t):r===Y.SVG&&($Q(t),DP(t)),j1(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function kJ(e,t){if(t.tagID===m.P||t.tagID===m.BR){QP(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===Y.HTML){e._endTagOutsideForeignContent(t);break}const s=e.treeAdapter.getTagName(r);if(s.toLowerCase()===t.tagName){t.tagName=s,e.openElements.shortenToLength(n);break}}}F.AREA,F.BASE,F.BASEFONT,F.BGSOUND,F.BR,F.COL,F.EMBED,F.FRAME,F.HR,F.IMG,F.INPUT,F.KEYGEN,F.LINK,F.META,F.PARAM,F.SOURCE,F.TRACK,F.WBR;const AJ=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,NJ=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),l_={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function XP(e,t){const n=BJ(e),r=ZR("type",{handlers:{root:RJ,element:PJ,text:IJ,comment:ZP,doctype:OJ,raw:LJ},unknown:MJ}),s={parser:n?new o_(l_):o_.getFragmentParser(void 0,l_),handle(a){r(a,s)},stitches:!1,options:t||{}};r(e,s),gu(s,Fr());const i=n?s.parser.document:s.parser.getFragment(),o=UG(i,{file:s.options.file});return s.stitches&&Gf(o,"comment",function(a,u,l){const c=a;if(c.value.stitch&&l&&u!==void 0){const d=l.children;return d[u]=c.value.stitch,u}}),o.type==="root"&&o.children.length===1&&o.children[0].type===e.type?o.children[0]:o}function JP(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function RJ(e,t){JP(e.children,t)}function PJ(e,t){jJ(e,t),JP(e.children,t),FJ(e,t)}function IJ(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:Ce.CHARACTER,chars:e.value,location:Rc(e)};gu(t,Fr(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function OJ(e,t){const n={type:Ce.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Rc(e)};gu(t,Fr(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function DJ(e,t){t.stitches=!0;const n=UJ(e);if("children"in e&&"children"in n){const r=XP({type:"root",children:e.children},t.options);n.children=r.children}ZP({type:"comment",value:{stitch:n}},t)}function ZP(e,t){const n=e.value,r={type:Ce.COMMENT,data:n,location:Rc(e)};gu(t,Fr(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function LJ(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,eI(t,Fr(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(AJ,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function MJ(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))DJ(n,t);else{let r="";throw NJ.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function gu(e,t){eI(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=ct.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function eI(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function jJ(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===ct.PLAINTEXT)return;gu(t,Fr(e));const r=t.parser.openElements.current;let s="namespaceURI"in r?r.namespaceURI:Ki.html;s===Ki.html&&n==="svg"&&(s=Ki.svg);const i=WG({...e,children:[]},{space:s===Ki.svg?"svg":"html"}),o={type:Ce.START_TAG,tagName:n,tagID:mu(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in i?i.attrs:[],location:Rc(e)};t.parser.currentToken=o,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function FJ(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&ZG.includes(n)||t.parser.tokenizer.state===ct.PLAINTEXT)return;gu(t,zf(e));const r={type:Ce.END_TAG,tagName:n,tagID:mu(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Rc(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===ct.RCDATA||t.parser.tokenizer.state===ct.RAWTEXT||t.parser.tokenizer.state===ct.SCRIPT_DATA)&&(t.parser.tokenizer.state=ct.DATA)}function BJ(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function Rc(e){const t=Fr(e)||{line:void 0,column:void 0,offset:void 0},n=zf(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function UJ(e){return"children"in e?Ka({...e,children:[]}):Ka(e)}function HJ(e){return function(t,n){return XP(t,{...e,file:n})}}function Gu(e){return typeof e=="string"?e:typeof e=="number"?String(e):x.isValidElement(e)?x.Children.toArray(e.props.children).map(Gu).join(""):""}function $J(e){return e.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}const hr=({children:e,className:t=""})=>{const n=new Map;function r(s){let i=$J(s);const o=n.get(i)??0;return n.set(i,o+1),o>0&&(i=`${i}-${o+1}`),i}return p.jsx("div",{className:`text-sm leading-relaxed ${t}`,children:p.jsx(YR,{remarkPlugins:[bP],components:{h1:({children:s})=>{const i=r(Gu(s));return p.jsx("h1",{id:i,className:"text-lg text-foreground mt-5 mb-2",children:s})},h2:({children:s})=>{const i=r(Gu(s));return p.jsx("h2",{id:i,className:"text-base text-foreground mt-4 mb-2",children:s})},h3:({children:s})=>{const i=r(Gu(s));return p.jsx("h3",{id:i,className:"text-sm text-foreground mt-3 mb-1.5",children:s})},h4:({children:s})=>{const i=r(Gu(s));return p.jsx("h4",{id:i,className:"text-sm text-foreground mt-2 mb-1",children:s})},p:({children:s})=>p.jsx("p",{className:"text-sm text-secondary-foreground leading-relaxed mb-2",children:s}),ul:({children:s})=>p.jsx("ul",{className:"list-disc ml-4 mb-2 space-y-0.5",children:s}),ol:({children:s})=>p.jsx("ol",{className:"list-decimal ml-4 mb-2 space-y-0.5",children:s}),li:({children:s})=>p.jsx("li",{className:"text-sm text-secondary-foreground",children:s}),strong:({children:s})=>p.jsx("strong",{className:"font-subheading text-foreground",children:s}),em:({children:s})=>p.jsx("em",{className:"italic",children:s}),blockquote:({children:s})=>p.jsx("blockquote",{className:"border-l-2 border-primary pl-3 text-sm text-muted-foreground italic my-2",children:s}),code:({children:s})=>p.jsx("code",{className:"rounded bg-muted/50 px-1.5 py-0.5 text-xs font-mono text-foreground",children:s}),pre:({children:s})=>p.jsx("pre",{className:"rounded-lg bg-muted/50 border border-border p-3 my-2 overflow-x-auto text-xs font-mono text-foreground",children:s}),table:({children:s})=>p.jsx("div",{className:"overflow-x-auto my-3 rounded-lg border border-border",children:p.jsx("table",{className:"text-xs border-collapse w-full",children:s})}),thead:({children:s})=>p.jsx("thead",{className:"bg-muted/50",children:s}),tbody:({children:s})=>p.jsx("tbody",{children:s}),tr:({children:s})=>p.jsx("tr",{className:"border-b border-border/50 last:border-b-0",children:s}),th:({children:s})=>p.jsx("th",{className:"text-left px-3 py-2 font-subheading text-foreground border-b border-border",children:s}),td:({children:s})=>p.jsx("td",{className:"px-3 py-2 text-secondary-foreground",children:s}),hr:()=>p.jsx("hr",{className:"border-border my-4"}),a:({href:s,children:i})=>{const o=s&&/^javascript:/i.test(s)?void 0:s;return p.jsx("a",{href:o,className:"text-primary underline",target:"_blank",rel:"noopener noreferrer",children:i})}},children:e})})},zJ=({children:e,className:t=""})=>p.jsx("div",{className:`text-sm leading-relaxed ${t}`,children:p.jsx(YR,{remarkPlugins:[bP],rehypePlugins:[HJ],components:{p:({children:n})=>p.jsx("p",{className:"text-sm text-secondary-foreground leading-relaxed mb-2",children:n}),ul:({children:n})=>p.jsx("ul",{className:"list-disc ml-4 mb-2 space-y-0.5",children:n}),ol:({children:n})=>p.jsx("ol",{className:"list-decimal ml-4 mb-2 space-y-0.5",children:n}),li:({children:n})=>p.jsx("li",{className:"text-sm text-secondary-foreground",children:n}),strong:({children:n})=>p.jsx("strong",{className:"font-subheading text-foreground",children:n}),em:({children:n})=>p.jsx("em",{className:"italic",children:n}),h1:({children:n})=>p.jsx("h1",{className:"text-lg text-foreground mt-5 mb-2",children:n}),h2:({children:n})=>p.jsx("h2",{className:"text-base text-foreground mt-4 mb-2",children:n}),h3:({children:n})=>p.jsx("h3",{className:"text-sm text-foreground mt-3 mb-1.5",children:n}),h4:({children:n})=>p.jsx("h4",{className:"text-sm text-foreground mt-2 mb-1",children:n}),ins:({children:n})=>p.jsx("ins",{className:"bg-success/15 rounded-sm no-underline",children:n}),del:({children:n})=>p.jsx("del",{className:"bg-destructive/15 rounded-sm",children:n}),hr:()=>p.jsx("hr",{className:"border-border my-4"}),a:({href:n,children:r})=>{const s=n&&/^javascript:/i.test(n)?void 0:n;return p.jsx("a",{href:s,className:"text-primary underline",target:"_blank",rel:"noopener noreferrer",children:r})}},children:e})});class VJ{diff(t,n,r={}){let s;typeof r=="function"?(s=r,r={}):"callback"in r&&(s=r.callback);const i=this.castInput(t,r),o=this.castInput(n,r),a=this.removeEmpty(this.tokenize(i,r)),u=this.removeEmpty(this.tokenize(o,r));return this.diffWithOptionsObj(a,u,r,s)}diffWithOptionsObj(t,n,r,s){var i;const o=b=>{if(b=this.postProcess(b,r),s){setTimeout(function(){s(b)},0);return}else return b},a=n.length,u=t.length;let l=1,c=a+u;r.maxEditLength!=null&&(c=Math.min(c,r.maxEditLength));const d=(i=r.timeout)!==null&&i!==void 0?i:1/0,f=Date.now()+d,h=[{oldPos:-1,lastComponent:void 0}];let g=this.extractCommon(h[0],n,t,0,r);if(h[0].oldPos+1>=u&&g+1>=a)return o(this.buildValues(h[0].lastComponent,n,t));let y=-1/0,w=1/0;const v=()=>{for(let b=Math.max(y,-l);b<=Math.min(w,l);b+=2){let E;const T=h[b-1],S=h[b+1];T&&(h[b-1]=void 0);let _=!1;if(S){const I=S.oldPos-b;_=S&&0<=I&&I<a}const k=T&&T.oldPos+1<u;if(!_&&!k){h[b]=void 0;continue}if(!k||_&&T.oldPos<S.oldPos?E=this.addToPath(S,!0,!1,0,r):E=this.addToPath(T,!1,!0,1,r),g=this.extractCommon(E,n,t,b,r),E.oldPos+1>=u&&g+1>=a)return o(this.buildValues(E.lastComponent,n,t))||!0;h[b]=E,E.oldPos+1>=u&&(w=Math.min(w,b-1)),g+1>=a&&(y=Math.max(y,b+1))}l++};if(s)(function b(){setTimeout(function(){if(l>c||Date.now()>f)return s(void 0);v()||b()},0)})();else for(;l<=c&&Date.now()<=f;){const b=v();if(b)return b}}addToPath(t,n,r,s,i){const o=t.lastComponent;return o&&!i.oneChangePerToken&&o.added===n&&o.removed===r?{oldPos:t.oldPos+s,lastComponent:{count:o.count+1,added:n,removed:r,previousComponent:o.previousComponent}}:{oldPos:t.oldPos+s,lastComponent:{count:1,added:n,removed:r,previousComponent:o}}}extractCommon(t,n,r,s,i){const o=n.length,a=r.length;let u=t.oldPos,l=u-s,c=0;for(;l+1<o&&u+1<a&&this.equals(r[u+1],n[l+1],i);)l++,u++,c++,i.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return c&&!i.oneChangePerToken&&(t.lastComponent={count:c,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=u,l}equals(t,n,r){return r.comparator?r.comparator(t,n):t===n||!!r.ignoreCase&&t.toLowerCase()===n.toLowerCase()}removeEmpty(t){const n=[];for(let r=0;r<t.length;r++)t[r]&&n.push(t[r]);return n}castInput(t,n){return t}tokenize(t,n){return Array.from(t)}join(t){return t.join("")}postProcess(t,n){return t}get useLongestToken(){return!1}buildValues(t,n,r){const s=[];let i;for(;t;)s.push(t),i=t.previousComponent,delete t.previousComponent,t=i;s.reverse();const o=s.length;let a=0,u=0,l=0;for(;a<o;a++){const c=s[a];if(c.removed)c.value=this.join(r.slice(l,l+c.count)),l+=c.count;else{if(!c.added&&this.useLongestToken){let d=n.slice(u,u+c.count);d=d.map(function(f,h){const g=r[l+h];return g.length>f.length?g:f}),c.value=this.join(d)}else c.value=this.join(n.slice(u,u+c.count));u+=c.count,c.added||(l+=c.count)}}return s}}function c_(e,t){let n;for(n=0;n<e.length&&n<t.length;n++)if(e[n]!=t[n])return e.slice(0,n);return e.slice(0,n)}function d_(e,t){let n;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(n=0;n<e.length&&n<t.length;n++)if(e[e.length-(n+1)]!=t[t.length-(n+1)])return e.slice(-n);return e.slice(-n)}function ry(e,t,n){if(e.slice(0,t.length)!=t)throw Error(`string ${JSON.stringify(e)} doesn't start with prefix ${JSON.stringify(t)}; this is a bug`);return n+e.slice(t.length)}function sy(e,t,n){if(!t)return e+n;if(e.slice(-t.length)!=t)throw Error(`string ${JSON.stringify(e)} doesn't end with suffix ${JSON.stringify(t)}; this is a bug`);return e.slice(0,-t.length)+n}function Lu(e,t){return ry(e,t,"")}function xd(e,t){return sy(e,t,"")}function h_(e,t){return t.slice(0,WJ(e,t))}function WJ(e,t){let n=0;e.length>t.length&&(n=e.length-t.length);let r=t.length;e.length<t.length&&(r=e.length);const s=Array(r);let i=0;s[0]=0;for(let o=1;o<r;o++){for(t[o]==t[i]?s[o]=s[i]:s[o]=i;i>0&&t[o]!=t[i];)i=s[i];t[o]==t[i]&&i++}i=0;for(let o=n;o<e.length;o++){for(;i>0&&e[o]!=t[i];)i=s[i];e[o]==t[i]&&i++}return i}function Mu(e){let t;for(t=e.length-1;t>=0&&e[t].match(/\s/);t--);return e.substring(t+1)}function ws(e){const t=e.match(/^\s*/);return t?t[0]:""}const f_="a-zA-Z0-9_\\u{AD}\\u{C0}-\\u{D6}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",qJ=new RegExp(`[${f_}]+|\\s+|[^${f_}]`,"ug");class KJ extends VJ{equals(t,n,r){return r.ignoreCase&&(t=t.toLowerCase(),n=n.toLowerCase()),t.trim()===n.trim()}tokenize(t,n={}){let r;if(n.intlSegmenter){const o=n.intlSegmenter;if(o.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');r=[];for(const a of Array.from(o.segment(t))){const u=a.segment;r.length&&/\s/.test(r[r.length-1])&&/\s/.test(u)?r[r.length-1]+=u:r.push(u)}}else r=t.match(qJ)||[];const s=[];let i=null;return r.forEach(o=>{/\s/.test(o)?i==null?s.push(o):s.push(s.pop()+o):i!=null&&/\s/.test(i)?s[s.length-1]==i?s.push(s.pop()+o):s.push(i+o):s.push(o),i=o}),s}join(t){return t.map((n,r)=>r==0?n:n.replace(/^\s+/,"")).join("")}postProcess(t,n){if(!t||n.oneChangePerToken)return t;let r=null,s=null,i=null;return t.forEach(o=>{o.added?s=o:o.removed?i=o:((s||i)&&p_(r,i,s,o),r=o,s=null,i=null)}),(s||i)&&p_(r,i,s,null),t}}const YJ=new KJ;function tI(e,t,n){return YJ.diff(e,t,n)}function p_(e,t,n,r){if(t&&n){const s=ws(t.value),i=Mu(t.value),o=ws(n.value),a=Mu(n.value);if(e){const u=c_(s,o);e.value=sy(e.value,o,u),t.value=Lu(t.value,u),n.value=Lu(n.value,u)}if(r){const u=d_(i,a);r.value=ry(r.value,a,u),t.value=xd(t.value,u),n.value=xd(n.value,u)}}else if(n){if(e){const s=ws(n.value);n.value=n.value.substring(s.length)}if(r){const s=ws(r.value);r.value=r.value.substring(s.length)}}else if(e&&r){const s=ws(r.value),i=ws(t.value),o=Mu(t.value),a=c_(s,i);t.value=Lu(t.value,a);const u=d_(Lu(s,a),o);t.value=xd(t.value,u),r.value=ry(r.value,s,u),e.value=sy(e.value,s,s.slice(0,s.length-u.length))}else if(r){const s=ws(r.value),i=Mu(t.value),o=h_(i,s);t.value=xd(t.value,o)}else if(e){const s=Mu(e.value),i=ws(t.value),o=h_(s,i);t.value=Lu(t.value,o)}}function m_(e,t){return e===t?[{text:e,type:"unchanged"}]:tI(e,t).map(n=>({text:n.value,type:n.added?"added":n.removed?"removed":"unchanged"}))}function g_({segments:e}){return p.jsx(p.Fragment,{children:e.map((t,n)=>p.jsx("span",{className:t.type==="added"?"bg-success/15 rounded-sm":t.type==="removed"?"bg-destructive/15 line-through rounded-sm":"",children:t.text},n))})}const GJ=({before:e,after:t})=>{const n=Math.max(e.headers.length,t.headers.length),r=Math.max(e.rows.length,t.rows.length),s=x.useMemo(()=>{const o=[];for(let a=0;a<n;a++){const u=e.headers[a]??"",l=t.headers[a]??"";o.push(m_(u,l))}return o},[e.headers,t.headers,n]),i=x.useMemo(()=>{const o=[];for(let a=0;a<r;a++){const u=e.rows[a],l=t.rows[a];if(u)if(l){const c=[];let d=!1;for(let f=0;f<n;f++){const h=u[f]??"",g=l[f]??"",y=m_(h,g);h!==g&&(d=!0),c.push(y)}o.push({cells:c,rowType:d?"changed":"unchanged"})}else{const c=u.map(d=>[{text:d,type:"removed"}]);for(;c.length<n;)c.push([{text:"",type:"unchanged"}]);o.push({cells:c,rowType:"removed"})}else{const c=(l??[]).map(d=>[{text:d,type:"added"}]);for(;c.length<n;)c.push([{text:"",type:"unchanged"}]);o.push({cells:c,rowType:"added"})}}return o},[e.rows,t.rows,r,n]);return p.jsx("div",{className:"overflow-x-auto rounded-lg border border-border",children:p.jsxs("table",{className:"text-xs border-collapse w-full",children:[p.jsx("thead",{className:"bg-muted/50",children:p.jsx("tr",{className:"border-b border-border/50",children:s.map((o,a)=>p.jsx("th",{className:"text-left px-3 py-2 font-subheading text-foreground border-b border-border",children:p.jsx(g_,{segments:o})},a))})}),p.jsx("tbody",{children:i.map((o,a)=>p.jsx("tr",{className:`border-b border-border/50 last:border-b-0 ${o.rowType==="added"?"bg-success/5":o.rowType==="removed"?"bg-destructive/5":""}`,children:o.cells.map((u,l)=>p.jsx("td",{className:"px-3 py-2 text-secondary-foreground",children:p.jsx(g_,{segments:u})},l))},a))})]})})};function y_(e){const t=e.split(`
`);let n=0;for(const r of t)if(r.trimStart().startsWith("|")){if(n++,n>=2)return!0}else n=0;return!1}function fi(e){const t=e.split(`
`),n=[];let r=0;for(;r<t.length;){const s=t[r];if(n.push(s),s.trimStart().startsWith("|")&&r+1<t.length&&t[r+1].trimStart().startsWith("|")&&!nI(t[r+1])&&!(r>0&&t[r-1].trimStart().startsWith("|"))){const o=iy(s).length,a="| "+Array(o).fill("---").join(" | ")+" |";n.push(a)}r++}return n.join(`
`)}function nI(e){const t=e.trim();return/^\|[\s|:\-]+\|$/.test(t)&&t.includes("---")}function iy(e){const t=e.trim(),n=t.startsWith("|")?t.slice(1):t;return(n.endsWith("|")?n.slice(0,-1):n).split("|").map(s=>s.trim())}function v_(e){const t=e.split(`
`).map(o=>o.trim()).filter(o=>o.length>0);if(t.length<1)return null;const n=t.filter(o=>o.startsWith("|"));if(n.length<1)return null;const r=n.filter(o=>!nI(o));if(r.length<1)return null;const s=iy(r[0]),i=r.slice(1).map(o=>iy(o));return{headers:s,rows:i}}function QJ(e,t){return tI(e,t).map(n=>({text:n.value,type:n.added?"added":n.removed?"removed":"unchanged"}))}const rI=({before:e,after:t,fullSize:n=!1})=>{const r=n?"text-[10px]":"text-[9px]",s=n?"p-2":"p-1.5",i=n?"max-h-[60vh] overflow-y-auto":"max-h-[200px] overflow-y-auto";return e?e===t?p.jsxs("div",{children:[p.jsx("span",{className:`${r} font-overline text-muted-foreground uppercase tracking-wider`,children:"No changes"}),p.jsx("div",{className:`mt-1 rounded bg-muted/30 border border-border ${s} text-foreground leading-relaxed min-h-[40px] ${i}`,children:p.jsx(hr,{children:fi(t)})})]}):y_(e)||y_(t)?p.jsx(XJ,{before:e,after:t,labelClass:r,padClass:s,maxH:i}):p.jsx(JJ,{before:e,after:t,labelClass:r,padClass:s,maxH:i}):p.jsxs("div",{children:[p.jsx("span",{className:`${r} font-overline text-muted-foreground uppercase tracking-wider`,children:"New content"}),p.jsx("div",{className:`mt-1 rounded bg-success/5 border border-success/10 ${s} text-foreground leading-relaxed min-h-[40px] ${i}`,children:p.jsx(hr,{children:fi(t)})})]})},XJ=({before:e,after:t,labelClass:n,padClass:r,maxH:s})=>{const i=x.useMemo(()=>v_(e),[e]),o=x.useMemo(()=>v_(t),[t]);return i&&o?p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("span",{className:`${n} font-overline text-muted-foreground uppercase tracking-wider`,children:"Changes"}),p.jsxs("span",{className:`${n} text-muted-foreground/60`,children:[p.jsx("span",{className:"text-destructive",children:"red"})," = removed, ",p.jsx("span",{className:"text-success",children:"green"})," = added"]})]}),p.jsx("div",{className:`${s}`,children:p.jsx(GJ,{before:i,after:o})})]}):p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{children:[p.jsx("span",{className:`${n} font-overline text-muted-foreground uppercase tracking-wider`,children:"Current version"}),p.jsx("div",{className:`mt-1 rounded bg-destructive/5 border border-destructive/10 ${r} text-muted-foreground leading-relaxed min-h-[40px] ${s}`,children:p.jsx(hr,{children:fi(e)})})]}),p.jsxs("div",{children:[p.jsx("span",{className:`${n} font-overline text-muted-foreground uppercase tracking-wider`,children:"Proposed version"}),p.jsx("div",{className:`mt-1 rounded bg-success/5 border border-success/10 ${r} text-foreground leading-relaxed min-h-[40px] ${s}`,children:p.jsx(hr,{children:fi(t)})})]})]})},JJ=({before:e,after:t,labelClass:n,maxH:r})=>{const s=x.useMemo(()=>QJ(e,t).map(o=>o.type==="added"?`<ins>${o.text}</ins>`:o.type==="removed"?`<del>${o.text}</del>`:o.text).join(""),[e,t]);return p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("span",{className:`${n} font-overline text-muted-foreground uppercase tracking-wider`,children:"Changes"}),p.jsxs("span",{className:`${n} text-muted-foreground/60`,children:[p.jsx("span",{className:"text-destructive",children:"red"})," = removed, ",p.jsx("span",{className:"text-success",children:"green"})," = added"]})]}),p.jsx("div",{className:`overflow-x-auto rounded-lg border border-border p-3 ${r}`,children:p.jsx(zJ,{children:fi(s)})})]})};function Es(e,t,n,r){const{selectionStart:s,selectionEnd:i,value:o}=e,a=o.slice(s,i),u=`${t}${a}${n}`,l=o.slice(0,s)+u+o.slice(i);r(l),requestAnimationFrame(()=>{e.selectionStart=s+t.length,e.selectionEnd=s+t.length+a.length,e.focus()})}function wd(e,t,n){const{selectionStart:r,selectionEnd:s,value:i}=e,o=i.lastIndexOf(`
`,r-1)+1,a=i.indexOf(`
`,s),l=i.slice(o,a===-1?void 0:a).split(`
`).map(d=>`${t}${d}`).join(`
`),c=i.slice(0,o)+l+(a===-1?"":i.slice(a));n(c)}const H1=({markdown:e,onChange:t})=>{const n=x.useRef(null),r=x.useCallback(i=>{const o=n.current;if(!(!o||!(i.metaKey||i.ctrlKey)))if(i.key==="b")i.preventDefault(),Es(o,"**","**",t);else if(i.key==="i")i.preventDefault(),Es(o,"_","_",t);else if(i.key==="k"){i.preventDefault();const u=o.value.slice(o.selectionStart,o.selectionEnd);Es(o,"[",`](${u?"":"url"})`,t)}else i.key==="e"?(i.preventDefault(),Es(o,"`","`",t)):i.shiftKey&&i.key==="8"&&(i.preventDefault(),wd(o,"- ",t))},[t]),s=x.useCallback(i=>{if(i.key!=="Tab")return;i.preventDefault();const o=n.current;if(!o)return;const{selectionStart:a,selectionEnd:u,value:l}=o,c=l.slice(0,a)+"  "+l.slice(u);t(c),requestAnimationFrame(()=>{o.selectionStart=o.selectionEnd=a+2,o.focus()})},[t]);return p.jsxs("div",{className:"rounded-lg border border-border overflow-hidden",children:[p.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 bg-muted/50 border-b border-border",children:[p.jsx(Ii,{label:"Bold",shortcut:"B",onClick:()=>n.current&&Es(n.current,"**","**",t)}),p.jsx(Ii,{label:"Italic",shortcut:"I",onClick:()=>n.current&&Es(n.current,"_","_",t)}),p.jsx(Ii,{label:"Code",shortcut:"E",onClick:()=>n.current&&Es(n.current,"`","`",t)}),p.jsx(Ii,{label:"Link",shortcut:"K",onClick:()=>n.current&&Es(n.current,"[","](url)",t)}),p.jsx("div",{className:"w-px h-4 bg-border mx-1"}),p.jsx(Ii,{label:"H2",onClick:()=>n.current&&wd(n.current,"## ",t)}),p.jsx(Ii,{label:"H3",onClick:()=>n.current&&wd(n.current,"### ",t)}),p.jsx(Ii,{label:"List",onClick:()=>n.current&&wd(n.current,"- ",t)})]}),p.jsx("textarea",{ref:n,value:e,onChange:i=>t(i.target.value),onKeyDown:i=>{r(i),s(i)},className:"w-full min-h-[300px] bg-card p-4 text-sm text-foreground font-mono leading-relaxed resize-y outline-none focus:ring-2 focus:ring-primary/30 transition-all",spellCheck:!0})]})};function Ii({label:e,shortcut:t,onClick:n}){return p.jsx("button",{type:"button",onClick:n,title:t?`${e} (Cmd+${t})`:e,className:"px-2 py-1 text-[11px] font-caption text-muted-foreground hover:text-foreground hover:bg-muted rounded transition-colors",children:e})}const ZJ=({title:e,onClick:t})=>p.jsxs("button",{onClick:t,className:"inline-flex items-center gap-1.5 rounded-full border border-primary/20 bg-primary/5 hover:bg-primary/10 pl-2 pr-2.5 py-1 text-left transition-colors group flex-shrink-0",children:[p.jsx(Sh,{className:"w-3 h-3 text-primary flex-shrink-0"}),p.jsx("span",{className:"text-[11px] font-subheading text-foreground whitespace-nowrap",children:e}),p.jsx($u,{className:"w-3 h-3 text-primary opacity-50 group-hover:opacity-100 group-hover:translate-x-0.5 transition-all flex-shrink-0"})]});function sI(e){return e.replace(/^[\s\u00A0]+|[\s\u00A0]+$/g,"")}function eZ(e){return e.replace(/\*\*(.+?)\*\*/g,"$1").replace(/\*(.+?)\*/g,"$1").replace(/__(.+?)__/g,"$1").replace(/_(.+?)_/g,"$1").replace(/`(.+?)`/g,"$1").replace(/\[(.+?)\]\(.+?\)/g,"$1").replace(/["""\u201C\u201D]/g,"")}function b_(e,t,n){const r=eZ(e).toLowerCase();return t.filter(s=>{if(s.id===n)return!1;const i=sI(s.title);return i.length<5?!1:r.includes(i.toLowerCase())})}const Im=({edit:e,onAccept:t,onReject:n,status:r,isProcessing:s})=>{const i=r!=="pending",[o,a]=x.useState(!1),[u,l]=x.useState(!1),[c,d]=x.useState(""),[f,h]=x.useState(null),g=cR(),y=f??e.after,w=()=>{d(y),l(!0)},v=()=>{g.mutate({editId:e.id,afterText:c},{onSuccess:()=>{h(c),l(!1)}})},b=T=>u?p.jsxs("div",{className:"space-y-3",children:[e.before&&p.jsxs("div",{className:`rounded-lg border border-border bg-muted/50 ${T?"p-3":"p-2"}`,children:[p.jsx("div",{className:`${T?"text-xs":"text-[9px]"} font-caption text-muted-foreground mb-1.5`,children:"Current version (read-only)"}),p.jsx(hr,{children:e.before})]}),p.jsx(H1,{markdown:c,onChange:d}),p.jsxs("div",{className:"flex gap-2 justify-end",children:[p.jsx("button",{onClick:()=>l(!1),className:"rounded-lg px-3 py-1.5 text-xs font-subheading text-muted-foreground hover:text-foreground transition-colors",children:"Cancel"}),p.jsx("button",{disabled:!c.trim()||c===y||g.isPending,onClick:v,className:"rounded-lg bg-primary px-3 py-1.5 text-xs font-subheading text-primary-foreground disabled:opacity-30 transition-opacity",children:g.isPending?"Saving...":"Save"})]})]}):p.jsx(rI,{before:e.before,after:y,fullSize:T}),E=T=>!i&&!u?p.jsxs("div",{className:`flex gap-2 ${T?"pt-2":"pt-1"}`,children:[p.jsxs("button",{onClick:w,className:`flex items-center justify-center gap-1 rounded-md border border-border hover:bg-muted/50 px-2 ${T?"py-2 text-sm":"py-1.5 text-[11px]"} font-subheading text-muted-foreground hover:text-foreground transition-colors`,children:[p.jsx(dv,{className:"w-3 h-3"}),"Edit"]}),p.jsxs("button",{onClick:()=>{n(e.id),a(!1)},disabled:s,className:`flex-1 flex items-center justify-center gap-1 rounded-md bg-destructive/15 hover:bg-destructive/25 px-2 ${T?"py-2 text-sm":"py-1.5 text-[11px]"} font-subheading text-destructive transition-colors disabled:opacity-30`,children:[s?p.jsx(rt,{className:"w-3 h-3 animate-spin"}):p.jsx(po,{className:"w-3 h-3"}),"Reject"]}),p.jsxs("button",{onClick:()=>{t(e.id),a(!1)},disabled:s,className:`flex-1 flex items-center justify-center gap-1 rounded-md bg-success/15 hover:bg-success/25 px-2 ${T?"py-2 text-sm":"py-1.5 text-[11px]"} font-subheading text-success transition-colors disabled:opacity-30`,children:[s?p.jsx(rt,{className:"w-3 h-3 animate-spin"}):p.jsx(Fl,{className:"w-3 h-3"}),"Accept"]})]}):null;return p.jsxs(p.Fragment,{children:[p.jsxs(Ue.div,{initial:{opacity:0,scale:.97},animate:{opacity:1,scale:1},className:`rounded-lg border p-3 space-y-2 ${i?r==="accepted"?"border-success/30 bg-success/5":"border-destructive/30 bg-destructive/5 opacity-60":"border-primary/30 bg-primary/5"}`,children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx(Tx,{className:"w-3 h-3 text-primary"}),p.jsx("span",{className:"text-[11px] font-subheading text-foreground",children:e.sectionTitle}),i&&p.jsx("span",{className:`rounded px-1.5 py-0.5 text-[9px] font-mono font-caption ${r==="accepted"?"bg-success/15 text-success":"bg-destructive/15 text-destructive"}`,children:r})]}),!u&&p.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-1 text-[9px] font-caption text-muted-foreground hover:text-foreground transition-colors",children:[p.jsx(c4,{className:"w-3 h-3"}),"Expand"]})]}),e.rationale&&!u&&p.jsx("p",{className:"text-[11px] text-muted-foreground italic leading-snug",children:e.rationale}),b(!1),E(!1)]}),o&&Za.createPortal(p.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-8",onClick:()=>a(!1),children:[p.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm"}),p.jsxs(Ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},onClick:T=>T.stopPropagation(),className:"relative w-full max-w-4xl rounded-xl border border-border bg-card shadow-lg p-6 space-y-4 max-h-[90vh] overflow-y-auto",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Tx,{className:"w-4 h-4 text-primary"}),p.jsx("span",{className:"text-sm font-subheading text-foreground",children:e.sectionTitle}),i&&p.jsx("span",{className:`rounded px-1.5 py-0.5 text-[10px] font-mono font-caption ${r==="accepted"?"bg-success/15 text-success":"bg-destructive/15 text-destructive"}`,children:r})]}),p.jsx("button",{onClick:()=>a(!1),className:"rounded-md p-1 hover:bg-muted transition-colors",children:p.jsx(po,{className:"w-4 h-4 text-muted-foreground"})})]}),e.rationale&&!u&&p.jsx("p",{className:"text-sm text-muted-foreground italic leading-snug",children:e.rationale}),b(!0),E(!0)]})]}),document.body)]})},iI=({currentSection:e,sectionId:t,isEmbedded:n=!1,prefillMessage:r,prefillKey:s,onNavigateToSection:i,sections:o})=>{const a=x.useMemo(()=>t?`section-${t}`:"dashboard",[t]),{data:u}=B$(a),{sendMessage:l,isStreaming:c,streamingContent:d,stagedEdits:f,suggestions:h,isToolRunning:g,clearStream:y}=U$(),w=uR(),v=lR(),[b,E]=x.useState([]),[T,S]=x.useState(""),[_,k]=x.useState({}),[I,M]=x.useState([]),[P,H]=x.useState(null),U=x.useRef(null),G=x.useRef(null);x.useEffect(()=>{var z;r&&(S(r),(z=G.current)==null||z.focus())},[s]);const[W,K]=x.useState(!1),ie=x.useRef(null),J=typeof window<"u"&&("SpeechRecognition"in window||"webkitSpeechRecognition"in window),B=()=>{var le;if(W){(le=ie.current)==null||le.stop();return}const z=window.SpeechRecognition||window.webkitSpeechRecognition,he=new z;he.continuous=!0,he.interimResults=!0,he.lang="en-US";const q=T.trim()?T.trimEnd()+" ":"";he.onresult=me=>{let Ie="";for(let Pe=0;Pe<me.results.length;Pe++)Ie+=me.results[Pe][0].transcript;S(q+Ie)},he.onend=()=>K(!1),he.onerror=()=>K(!1),ie.current=he,he.start(),K(!0)},L=x.useMemo(()=>[{id:"initial",role:"assistant",content:n&&e?`You're viewing: **${e}**

Just tell me what you want to add or change  I'll figure out where it belongs in the playbook. It doesn't have to be about this section.

I can also help with gaps, questions, or drafting new content.`:`Hi! I'm your playbook assistant. Just tell me what you want to add or change  I'll figure out where it goes.

You can paste notes, describe a new technique, or ask me to fill a gap. I'll draft the content and place it in the right section for your review.`,timestamp:new Date().toISOString()},...u??[],...b],[u,b,n,e]);x.useEffect(()=>{E([]),k({}),M([])},[a]);const C=x.useRef(0);x.useEffect(()=>{u&&u.length>C.current&&b.length>0&&!c&&E([]),C.current=(u==null?void 0:u.length)??0},[u,c,b.length]),x.useEffect(()=>{var z;(z=U.current)==null||z.scrollTo({top:U.current.scrollHeight,behavior:"smooth"})},[L,d,f]);const[te,j]=x.useState([]);x.useEffect(()=>{if(!o||!i)return;if(d){j(b_(d,o,t));return}const z=[...L].reverse().find(he=>he.role==="assistant"&&he.id!=="initial");z&&j(b_(z.content,o,t))},[d,L,o,t,i]);const A=async z=>{H(z);try{await w.mutateAsync(z),k(he=>({...he,[z]:"accepted"})),zi.success("Edit approved and applied!")}catch{zi.error("Failed to approve edit")}finally{H(null)}},X=async z=>{H(z);try{await v.mutateAsync(z),k(he=>({...he,[z]:"rejected"})),zi.success("Edit rejected")}catch{zi.error("Failed to reject edit")}finally{H(null)}},ne=async z=>{var q;if(!z.trim()||c)return;(q=ie.current)==null||q.stop(),M([]);const he={id:`local-${Date.now()}`,role:"user",content:z,timestamp:new Date().toISOString()};E(le=>[...le,he]),S(""),G.current&&(G.current.style.height="auto");try{const le=await l(z,{conversationId:a,sectionContext:t?{sectionId:t,sectionTitle:e??""}:void 0});(le.edits.length>0||le.content.trim())&&E(me=>[...me,{id:`assistant-${Date.now()}`,role:"assistant",content:le.content,timestamp:new Date().toISOString(),edits:le.edits.length>0?le.edits:void 0}]),M(le.suggestions),y()}catch{y()}},ae=()=>ne(T);return p.jsxs(Ue.div,{initial:{opacity:0,y:n?0:20},animate:{opacity:1,y:0},transition:{delay:n?0:.2},className:`flex flex-col ${n?"h-full bg-muted/30":"rounded-xl border border-border bg-card shadow-card h-[600px]"}`,children:[p.jsxs("div",{className:`flex items-center gap-2 px-5 py-4 ${n?"border-b border-border/50":"border-b border-border"}`,children:[p.jsx("div",{className:"w-7 h-7 rounded-lg gradient-primary flex items-center justify-center",children:p.jsx(hv,{className:"w-4 h-4 text-primary-foreground"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-sm text-foreground",children:"AI Assistant"}),p.jsx("p",{className:"text-[11px] text-muted-foreground",children:n?"Context-aware help":"Draft and edit playbook content"})]})]}),p.jsxs("div",{ref:U,className:"flex-1 overflow-y-auto px-5 py-4 space-y-4",children:[p.jsx(nc,{children:L.map(z=>{var he;return p.jsxs(Ue.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:`flex gap-3 ${z.role==="user"?"flex-row-reverse":""}`,children:[p.jsx("div",{className:`w-7 h-7 rounded-lg flex items-center justify-center flex-shrink-0 ${z.role==="assistant"?"bg-primary/10 text-primary":"bg-secondary text-secondary-foreground"}`,children:z.role==="assistant"?p.jsx(Cu,{className:"w-4 h-4"}):p.jsx(b4,{className:"w-4 h-4"})}),p.jsxs("div",{className:"max-w-[80%] space-y-2",children:[z.content&&p.jsx("div",{className:`rounded-xl px-4 py-3 text-sm leading-relaxed ${z.role==="assistant"?"bg-muted text-foreground":"bg-primary text-primary-foreground"}`,children:z.role==="assistant"?p.jsx(hr,{children:z.content}):p.jsx("div",{className:"whitespace-pre-wrap",children:z.content})}),(he=z.edits)==null?void 0:he.map(q=>p.jsx(Im,{edit:q,onAccept:A,onReject:X,status:_[q.id]??q.status??"pending",isProcessing:P===q.id},q.id))]})]},z.id)})}),d&&p.jsxs(Ue.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"flex gap-3",children:[p.jsx("div",{className:"w-7 h-7 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:p.jsx(Cu,{className:"w-4 h-4 text-primary"})}),p.jsxs("div",{className:"max-w-[80%] space-y-2",children:[p.jsx("div",{className:"rounded-xl px-4 py-3 text-sm leading-relaxed bg-muted text-foreground",children:p.jsx(hr,{children:d})}),f.map(z=>p.jsx(Im,{edit:z,onAccept:A,onReject:X,status:_[z.id]??z.status??"pending",isProcessing:P===z.id},z.id))]})]}),!d&&f.length>0&&p.jsxs(Ue.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"flex gap-3",children:[p.jsx("div",{className:"w-7 h-7 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:p.jsx(Cu,{className:"w-4 h-4 text-primary"})}),p.jsx("div",{className:"max-w-[80%] space-y-2",children:f.map(z=>p.jsx(Im,{edit:z,onAccept:A,onReject:X,status:_[z.id]??z.status??"pending",isProcessing:P===z.id},z.id))})]}),c&&g&&p.jsxs(Ue.div,{initial:{opacity:0},animate:{opacity:1},className:"flex gap-3",children:[p.jsx("div",{className:"w-7 h-7 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:p.jsx(Cu,{className:"w-4 h-4 text-primary"})}),p.jsxs("div",{className:"bg-muted rounded-xl px-4 py-3 flex items-center gap-2",children:[p.jsx(rt,{className:"w-3.5 h-3.5 text-primary animate-spin"}),p.jsx("span",{className:"text-xs text-muted-foreground",children:"Staging edit..."})]})]}),c&&!d&&!g&&f.length===0&&p.jsxs(Ue.div,{initial:{opacity:0},animate:{opacity:1},className:"flex gap-3",children:[p.jsx("div",{className:"w-7 h-7 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:p.jsx(Cu,{className:"w-4 h-4 text-primary"})}),p.jsx("div",{className:"bg-muted rounded-xl px-4 py-3",children:p.jsx("div",{className:"flex gap-1",children:[0,1,2].map(z=>p.jsx(Ue.div,{className:"w-1.5 h-1.5 rounded-full bg-muted-foreground",animate:{opacity:[.3,1,.3]},transition:{duration:1,repeat:1/0,delay:z*.2}},z))})})]}),c&&!g&&(d||f.length>0)&&p.jsxs(Ue.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-2 pl-10 py-1",children:[p.jsx("div",{className:"flex gap-1",children:[0,1,2].map(z=>p.jsx(Ue.div,{className:"w-1 h-1 rounded-full bg-primary/40",animate:{opacity:[.3,1,.3]},transition:{duration:1,repeat:1/0,delay:z*.2}},z))}),p.jsx("span",{className:"text-[11px] text-muted-foreground",children:"Still working"})]}),(h.length>0||I.length>0)&&!c&&p.jsx(Ue.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},className:"flex gap-3 pl-10",children:p.jsx("div",{className:"flex flex-wrap gap-2",children:(h.length>0?h:I).map(z=>p.jsx("button",{onClick:()=>ne(z),className:"rounded-full border border-primary/20 bg-primary/10 hover:bg-primary/20 px-3 py-1.5 text-xs font-subheading text-primary transition-colors",children:z},z))})})]}),p.jsx("div",{className:"px-4 py-3 border-t border-border",children:p.jsxs("div",{className:"flex items-end gap-2 bg-muted rounded-xl px-4 py-2",children:[p.jsx("textarea",{ref:G,value:T,onChange:z=>{S(z.target.value),z.target.style.height="auto",z.target.style.height=Math.min(z.target.scrollHeight,120)+"px"},onKeyDown:z=>{z.key==="Enter"&&!z.shiftKey&&(z.preventDefault(),ae())},placeholder:"Ask me to draft content, fill gaps, or edit sections...",className:"flex-1 bg-transparent text-sm text-foreground placeholder:text-muted-foreground outline-none resize-none leading-relaxed py-1",rows:1,disabled:c}),J&&p.jsx("button",{onClick:B,disabled:c,className:`w-8 h-8 rounded-lg flex items-center justify-center transition-all disabled:opacity-30 ${W?"bg-red-500/15 text-red-500 animate-pulse":"text-muted-foreground hover:text-foreground"}`,title:W?"Stop listening":"Voice input",children:W?p.jsx(d4,{className:"w-4 h-4"}):p.jsx(h4,{className:"w-4 h-4"})}),p.jsx("button",{onClick:ae,disabled:!T.trim()||c,className:"w-8 h-8 rounded-lg gradient-primary flex items-center justify-center disabled:opacity-30 transition-opacity",children:p.jsx(Bk,{className:"w-4 h-4 text-primary-foreground"})})]})}),te.length>0&&i&&p.jsxs("div",{className:"border-t border-border px-3 py-2 flex items-center gap-2 overflow-x-auto",children:[p.jsx("span",{className:"text-[10px] font-caption text-muted-foreground uppercase tracking-wide whitespace-nowrap flex-shrink-0",children:"Go to"}),te.map(z=>p.jsx(ZJ,{title:sI(z.title),onClick:()=>i(z.id)},z.id))]})]})};function tZ(){const e=Ut();return Cn({mutationFn:async t=>{const{data:n,error:r}=await ve.functions.invoke("publish",{body:{provider:t}});if(r)throw new Error(r.message||"Publish failed");return n},onSuccess:()=>{e.invalidateQueries({queryKey:["staged-edits"]})}})}function oI(){return vi({queryKey:["connections"],queryFn:async()=>{const{data:e,error:t}=await ve.from("connections").select("id, provider, workspace_id, connected_by, created_at").order("created_at",{ascending:!1});if(t)throw t;return e??[]}})}function aI(){return async e=>{const{data:t,error:n}=await ve.functions.invoke(`auth-${e}`,{body:{action:"connect"}});if(n)throw n;if(!(t!=null&&t.url))throw new Error("No OAuth URL returned");window.location.href=t.url}}const nZ={confluence:"Confluence",notion:"Notion"},rZ=({before:e,after:t})=>e?e===t?p.jsx("div",{className:"rounded-lg border border-border bg-background p-4 max-h-[60vh] overflow-y-auto",children:p.jsx(hr,{children:fi(t)})}):p.jsx(rI,{before:e,after:t,fullSize:!0}):p.jsxs("div",{className:"rounded-lg border border-success/20 bg-success/5 p-4 max-h-[60vh] overflow-y-auto",children:[p.jsx("div",{className:"text-[11px] font-overline text-success uppercase tracking-wider mb-2",children:"New content"}),p.jsx(hr,{children:fi(t)})]}),sZ=()=>{var _;const{data:e,isLoading:t}=H$(),{data:n}=oI(),r=uR(),s=lR(),i=z$(),o=V$(),a=cR(),u=tZ(),[l,c]=x.useState(!1),[d,f]=x.useState(null),[h,g]=x.useState(""),y=((_=n==null?void 0:n.find(k=>k.provider==="confluence"||k.provider==="notion"))==null?void 0:_.provider)??null,w=y?nZ[y]??y:null;if(t||!e)return p.jsx("div",{className:"rounded-xl border border-border bg-card p-6 shadow-card flex items-center justify-center min-h-[300px]",children:p.jsx(rt,{className:"w-6 h-6 text-primary animate-spin"})});const v=e.filter(k=>k.status==="pending"),b=e.filter(k=>k.status==="rejected"),E=e.some(k=>k.status==="approved"),T=l?e:e.filter(k=>k.status!=="rejected"),S=async()=>{if(y)try{const k=await u.mutateAsync(y);zi.success(`Published ${k.published} section(s) to ${w}`)}catch(k){zi.error(k.message)}};return p.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"rounded-xl border border-border bg-card p-6 shadow-card",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(r4,{className:"w-5 h-5 text-primary"}),p.jsx("h2",{className:"text-lg text-foreground",children:"Review & Publish"}),v.length>0&&p.jsxs("span",{className:"rounded-full bg-warning/15 text-warning text-xs font-caption px-2.5 py-0.5",children:[v.length," to review"]}),b.length>0&&p.jsxs("button",{onClick:()=>c(k=>!k),className:"flex items-center gap-1 rounded-full px-2.5 py-0.5 text-xs font-subheading text-muted-foreground hover:text-foreground transition-colors",children:[l?p.jsx(i4,{className:"w-3.5 h-3.5"}):p.jsx(o4,{className:"w-3.5 h-3.5"}),b.length," dismissed"]})]}),p.jsxs("div",{className:"flex gap-2",children:[w&&p.jsxs("button",{disabled:!E||u.isPending,onClick:S,className:"flex items-center gap-1.5 rounded-lg bg-primary px-4 py-2 text-sm font-subheading text-primary-foreground disabled:opacity-30 transition-opacity",children:[u.isPending?p.jsx(rt,{className:"w-3.5 h-3.5 animate-spin"}):p.jsx(Bk,{className:"w-3.5 h-3.5"}),u.isSuccess?"Published!":`Publish to ${w}`]}),p.jsxs(k2,{children:[p.jsx(A2,{asChild:!0,children:p.jsxs("button",{className:"flex items-center gap-1.5 rounded-lg bg-secondary px-4 py-2 text-sm font-subheading text-secondary-foreground opacity-50 cursor-default",children:[p.jsx(e4,{className:"w-3.5 h-3.5"}),"Notify team"]})}),p.jsx(Cv,{children:"Only available for users who have linked the Taskbase Sales Coach"})]})]})]}),p.jsxs("div",{className:"space-y-4",children:[T.map(k=>p.jsxs(Ue.div,{layout:"position",className:`rounded-xl border p-5 transition-colors ${k.status==="approved"?"border-success/30 bg-card":k.status==="rejected"?"border-destructive/30 bg-destructive/5 opacity-50":"border-border bg-muted/30"}`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center gap-2.5",children:[p.jsx("span",{className:"text-sm font-subheading text-foreground",children:k.section}),p.jsx("span",{className:`rounded-full px-2.5 py-0.5 text-xs font-caption ${k.status==="approved"?"bg-success/15 text-success":k.status==="rejected"?"bg-destructive/15 text-destructive":"bg-warning/15 text-warning"}`,children:k.status==="approved"?"Accepted":k.status==="rejected"?"Dismissed":"Needs review"}),k.source&&p.jsx("div",{className:`flex items-center gap-1 rounded-full px-2 py-0.5 text-xs font-subheading ${k.source==="chat"?"bg-primary/10 text-primary":"bg-secondary/50 text-secondary-foreground"}`,children:k.source==="chat"?p.jsxs(p.Fragment,{children:[p.jsx(hv,{className:"w-3 h-3"}),p.jsx("span",{children:"AI suggestion"})]}):p.jsxs(p.Fragment,{children:[p.jsx(m4,{className:"w-3 h-3"}),p.jsx("span",{children:"Your edit"})]})})]}),k.status==="approved"&&p.jsxs("button",{onClick:()=>i.mutate(k.id),disabled:i.isPending,className:"flex items-center gap-1.5 rounded-lg bg-muted px-3 py-1.5 text-xs font-subheading text-muted-foreground hover:text-foreground transition-colors",children:[p.jsx(_x,{className:"w-3 h-3"}),"Undo"]}),k.status==="rejected"&&p.jsxs("button",{onClick:()=>o.mutate(k.id),disabled:o.isPending,className:"flex items-center gap-1.5 rounded-lg bg-muted px-3 py-1.5 text-xs font-subheading text-muted-foreground hover:text-foreground transition-colors",children:[p.jsx(_x,{className:"w-3 h-3"}),"Undo"]})]}),d===k.id?p.jsxs("div",{className:"space-y-3",children:[k.before&&p.jsxs("div",{className:"rounded-lg border border-border bg-muted/50 p-3",children:[p.jsx("div",{className:"text-xs font-caption text-muted-foreground mb-1.5",children:"Current version (read-only)"}),p.jsx(hr,{children:fi(k.before)})]}),p.jsx(H1,{markdown:h,onChange:g}),p.jsxs("div",{className:"flex gap-2 justify-end",children:[p.jsx("button",{onClick:()=>f(null),className:"rounded-lg px-4 py-2 text-sm font-subheading text-muted-foreground hover:text-foreground transition-colors",children:"Cancel"}),p.jsx("button",{disabled:!h.trim()||h===k.after||a.isPending,onClick:()=>{a.mutate({editId:k.id,afterText:h},{onSuccess:()=>f(null)})},className:"rounded-lg bg-primary px-4 py-2 text-sm font-subheading text-primary-foreground disabled:opacity-30 transition-opacity",children:a.isPending?"Saving...":"Save"})]})]}):p.jsxs("div",{children:[p.jsx(rZ,{before:k.before,after:k.after}),p.jsx("div",{className:"flex items-center justify-end mt-3",children:k.status==="pending"&&p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("button",{onClick:()=>{f(k.id),g(k.after)},className:"flex items-center gap-1.5 rounded-lg border border-border px-3 py-1.5 text-xs font-subheading text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors",children:[p.jsx(dv,{className:"w-3 h-3"}),"Edit"]}),p.jsxs("button",{onClick:()=>s.mutate(k.id),disabled:s.isPending,className:"flex items-center gap-1.5 rounded-lg border border-destructive/30 px-3 py-1.5 text-xs font-subheading text-destructive hover:bg-destructive/10 transition-colors",children:[p.jsx(po,{className:"w-3.5 h-3.5"}),"Dismiss"]}),p.jsxs("button",{onClick:()=>r.mutate(k.id),disabled:r.isPending,className:"flex items-center gap-1.5 rounded-lg bg-success/15 px-4 py-1.5 text-xs font-overline text-success hover:bg-success/25 transition-colors",children:[p.jsx(Fl,{className:"w-3.5 h-3.5"}),"Accept"]})]})})]})]},k.id)),T.length===0&&p.jsx("div",{className:"text-center py-10 text-muted-foreground text-sm",children:e.length===0?"No suggested changes yet. Use the chat to get started.":'All suggestions have been dismissed. Click "dismissed" above to review them.'})]})]})};function $1(){const e=vi({queryKey:["playbook-sections"],queryFn:async()=>{const{data:t,error:n}=await ve.from("playbook_sections").select("*").order("sort_order");if(n)throw n;const{data:r,error:s}=await ve.from("section_skills").select("*");if(s)throw s;return(t??[]).map(i=>({id:i.id,title:i.title,content:i.content,depth:i.depth??0,lastUpdated:i.last_updated,skillsCovered:(r??[]).filter(o=>o.section_id===i.id).map(o=>({skillId:o.skill_id,coverageNote:o.coverage_note??null}))}))}});return{...e,isRefetching:e.isFetching&&!e.isLoading}}function iZ(){const e=Ut();return Cn({mutationFn:async()=>{const t=[ve.from("section_skills").delete().neq("skill_id",""),ve.from("staged_edits").delete().neq("id","00000000-0000-0000-0000-000000000000"),ve.from("chat_messages").delete().neq("id","00000000-0000-0000-0000-000000000000")];for(const o of t){const{error:a}=await o;if(a)throw a}const{error:n}=await ve.from("playbook_sections").delete().neq("id","00000000-0000-0000-0000-000000000000");if(n)throw n;const{error:r}=await ve.from("imports").delete().neq("id","00000000-0000-0000-0000-000000000000");if(r)throw r;const{error:s}=await ve.from("connections").delete().neq("id","00000000-0000-0000-0000-000000000000");if(s)throw s;const{error:i}=await ve.from("user_skills").update({status:"missing",last_updated:null,section_title:null,coverage_note:null,fulfilled:!1}).neq("skill_id","");if(i)throw i},onSuccess:()=>{e.invalidateQueries({queryKey:["playbook-sections"]}),e.invalidateQueries({queryKey:["skills"]}),e.invalidateQueries({queryKey:["health-score"]}),e.invalidateQueries({queryKey:["staged-edits"]}),e.invalidateQueries({queryKey:["imports"]}),e.invalidateQueries({queryKey:["connections"]})}})}function oZ(){const e=Ut();return Cn({mutationFn:async({id:t,content:n})=>{const{error:r}=await ve.from("playbook_sections").update({content:n,last_updated:new Date().toISOString().split("T")[0]}).eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["playbook-sections"]})}})}function aZ(e){return e.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}function uZ(e){const t=[],n=new Map;for(const r of e.split(`
`)){const s=r.match(/^(#{2,4})\s+(.+)/);if(!s)continue;const i=s[1].length,o=s[2].replace(/\*\*/g,"").replace(/`/g,"").trim();let a=aZ(o);const u=n.get(a)??0;n.set(a,u+1),u>0&&(a=`${a}-${u+1}`),t.push({text:o,level:i,slug:a})}return t}var Om=0;function uI(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??x_()),document.body.insertAdjacentElement("beforeend",e[1]??x_()),Om++,()=>{Om===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Om--}},[])}function x_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Dm="focusScope.autoFocusOnMount",Lm="focusScope.autoFocusOnUnmount",w_={bubbles:!1,cancelable:!0},lZ="FocusScope",z1=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,u]=x.useState(null),l=Or(s),c=Or(i),d=x.useRef(null),f=ht(t,y=>u(y)),h=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let y=function(E){if(h.paused||!a)return;const T=E.target;a.contains(T)?d.current=T:As(d.current,{select:!0})},w=function(E){if(h.paused||!a)return;const T=E.relatedTarget;T!==null&&(a.contains(T)||As(d.current,{select:!0}))},v=function(E){if(document.activeElement===document.body)for(const S of E)S.removedNodes.length>0&&As(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const b=new MutationObserver(v);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),b.disconnect()}}},[r,a,h.paused]),x.useEffect(()=>{if(a){T_.add(h);const y=document.activeElement;if(!a.contains(y)){const v=new CustomEvent(Dm,w_);a.addEventListener(Dm,l),a.dispatchEvent(v),v.defaultPrevented||(cZ(mZ(lI(a)),{select:!0}),document.activeElement===y&&As(a))}return()=>{a.removeEventListener(Dm,l),setTimeout(()=>{const v=new CustomEvent(Lm,w_);a.addEventListener(Lm,c),a.dispatchEvent(v),v.defaultPrevented||As(y??document.body,{select:!0}),a.removeEventListener(Lm,c),T_.remove(h)},0)}}},[a,l,c,h]);const g=x.useCallback(y=>{if(!n&&!r||h.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(w&&v){const b=y.currentTarget,[E,T]=dZ(b);E&&T?!y.shiftKey&&v===T?(y.preventDefault(),n&&As(E,{select:!0})):y.shiftKey&&v===E&&(y.preventDefault(),n&&As(T,{select:!0})):v===b&&y.preventDefault()}},[n,r,h.paused]);return p.jsx(Re.div,{tabIndex:-1,...o,ref:f,onKeyDown:g})});z1.displayName=lZ;function cZ(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(As(r,{select:t}),document.activeElement!==n)return}function dZ(e){const t=lI(e),n=E_(t,e),r=E_(t.reverse(),e);return[n,r]}function lI(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function E_(e,t){for(const n of e)if(!hZ(n,{upTo:t}))return n}function hZ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function fZ(e){return e instanceof HTMLInputElement&&"select"in e}function As(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&fZ(e)&&t&&e.select()}}var T_=pZ();function pZ(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=__(e,t),e.unshift(t)},remove(t){var n;e=__(e,t),(n=e[0])==null||n.resume()}}}function __(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function mZ(e){return e.filter(t=>t.tagName!=="A")}var gZ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Mo=new WeakMap,Ed=new WeakMap,Td={},Mm=0,cI=function(e){return e&&(e.host||cI(e.parentNode))},yZ=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=cI(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},vZ=function(e,t,n,r){var s=yZ(t,Array.isArray(e)?e:[e]);Td[n]||(Td[n]=new WeakMap);var i=Td[n],o=[],a=new Set,u=new Set(s),l=function(d){!d||a.has(d)||(a.add(d),l(d.parentNode))};s.forEach(l);var c=function(d){!d||u.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))c(f);else try{var h=f.getAttribute(r),g=h!==null&&h!=="false",y=(Mo.get(f)||0)+1,w=(i.get(f)||0)+1;Mo.set(f,y),i.set(f,w),o.push(f),y===1&&g&&Ed.set(f,!0),w===1&&f.setAttribute(n,"true"),g||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return c(t),a.clear(),Mm++,function(){o.forEach(function(d){var f=Mo.get(d)-1,h=i.get(d)-1;Mo.set(d,f),i.set(d,h),f||(Ed.has(d)||d.removeAttribute(r),Ed.delete(d)),h||d.removeAttribute(n)}),Mm--,Mm||(Mo=new WeakMap,Mo=new WeakMap,Ed=new WeakMap,Td={})}},dI=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=gZ(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),vZ(r,s,n,"aria-hidden")):function(){return null}},Jd="right-scroll-bar-position",Zd="width-before-scroll-bar",bZ="with-scroll-bars-hidden",xZ="--removed-body-scroll-bar-size";function jm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function wZ(e,t){var n=x.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var EZ=typeof window<"u"?x.useLayoutEffect:x.useEffect,S_=new WeakMap;function TZ(e,t){var n=wZ(null,function(r){return e.forEach(function(s){return jm(s,r)})});return EZ(function(){var r=S_.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(a){i.has(a)||jm(a,null)}),i.forEach(function(a){s.has(a)||jm(a,o)})}S_.set(n,e)},[e]),n}function _Z(e){return e}function SZ(e,t){t===void 0&&(t=_Z);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var u=function(){var c=o;o=[],c.forEach(i)},l=function(){return Promise.resolve().then(u)};l(),n={push:function(c){o.push(c),l()},filter:function(c){return o=o.filter(c),n}}}};return s}function CZ(e){e===void 0&&(e={});var t=SZ(null);return t.options=Cr({async:!0,ssr:!1},e),t}var hI=function(e){var t=e.sideCar,n=au(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,Cr({},n))};hI.isSideCarExport=!0;function kZ(e,t){return e.useMedium(t),hI}var fI=CZ(),Fm=function(){},ep=x.forwardRef(function(e,t){var n=x.useRef(null),r=x.useState({onScrollCapture:Fm,onWheelCapture:Fm,onTouchMoveCapture:Fm}),s=r[0],i=r[1],o=e.forwardProps,a=e.children,u=e.className,l=e.removeScrollBar,c=e.enabled,d=e.shards,f=e.sideCar,h=e.noRelative,g=e.noIsolation,y=e.inert,w=e.allowPinchZoom,v=e.as,b=v===void 0?"div":v,E=e.gapMode,T=au(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,_=TZ([n,t]),k=Cr(Cr({},T),s);return x.createElement(x.Fragment,null,c&&x.createElement(S,{sideCar:fI,removeScrollBar:l,shards:d,noRelative:h,noIsolation:g,inert:y,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:E}),o?x.cloneElement(x.Children.only(a),Cr(Cr({},k),{ref:_})):x.createElement(b,Cr({},k,{className:u,ref:_}),a))});ep.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ep.classNames={fullWidth:Zd,zeroRight:Jd};var AZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function NZ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=AZ();return t&&e.setAttribute("nonce",t),e}function RZ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function PZ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var IZ=function(){var e=0,t=null;return{add:function(n){e==0&&(t=NZ())&&(RZ(t,n),PZ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},OZ=function(){var e=IZ();return function(t,n){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},pI=function(){var e=OZ(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},DZ={left:0,top:0,right:0,gap:0},Bm=function(e){return parseInt(e||"",10)||0},LZ=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Bm(n),Bm(r),Bm(s)]},MZ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return DZ;var t=LZ(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},jZ=pI(),Ea="data-scroll-locked",FZ=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(bZ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ea,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Jd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Zd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Jd," .").concat(Jd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Zd," .").concat(Zd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ea,`] {
    `).concat(xZ,": ").concat(a,`px;
  }
`)},C_=function(){var e=parseInt(document.body.getAttribute(Ea)||"0",10);return isFinite(e)?e:0},BZ=function(){x.useEffect(function(){return document.body.setAttribute(Ea,(C_()+1).toString()),function(){var e=C_()-1;e<=0?document.body.removeAttribute(Ea):document.body.setAttribute(Ea,e.toString())}},[])},UZ=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;BZ();var i=x.useMemo(function(){return MZ(s)},[s]);return x.createElement(jZ,{styles:FZ(i,!t,s,n?"":"!important")})},oy=!1;if(typeof window<"u")try{var _d=Object.defineProperty({},"passive",{get:function(){return oy=!0,!0}});window.addEventListener("test",_d,_d),window.removeEventListener("test",_d,_d)}catch{oy=!1}var jo=oy?{passive:!1}:!1,HZ=function(e){return e.tagName==="TEXTAREA"},mI=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!HZ(e)&&n[t]==="visible")},$Z=function(e){return mI(e,"overflowY")},zZ=function(e){return mI(e,"overflowX")},k_=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=gI(e,r);if(s){var i=yI(e,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},VZ=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},WZ=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},gI=function(e,t){return e==="v"?$Z(t):zZ(t)},yI=function(e,t){return e==="v"?VZ(t):WZ(t)},qZ=function(e,t){return e==="h"&&t==="rtl"?-1:1},KZ=function(e,t,n,r,s){var i=qZ(e,window.getComputedStyle(t).direction),o=i*r,a=n.target,u=t.contains(a),l=!1,c=o>0,d=0,f=0;do{if(!a)break;var h=yI(e,a),g=h[0],y=h[1],w=h[2],v=y-w-i*g;(g||v)&&gI(e,a)&&(d+=v,f+=g);var b=a.parentNode;a=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!u&&a!==document.body||u&&(t.contains(a)||t===a));return(c&&(Math.abs(d)<1||!s)||!c&&(Math.abs(f)<1||!s))&&(l=!0),l},Sd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},A_=function(e){return[e.deltaX,e.deltaY]},N_=function(e){return e&&"current"in e?e.current:e},YZ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},GZ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},QZ=0,Fo=[];function XZ(e){var t=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),s=x.useState(QZ++)[0],i=x.useState(pI)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=Zj([e.lockRef.current],(e.shards||[]).map(N_),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=x.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var v=Sd(y),b=n.current,E="deltaX"in y?y.deltaX:b[0]-v[0],T="deltaY"in y?y.deltaY:b[1]-v[1],S,_=y.target,k=Math.abs(E)>Math.abs(T)?"h":"v";if("touches"in y&&k==="h"&&_.type==="range")return!1;var I=k_(k,_);if(!I)return!0;if(I?S=k:(S=k==="v"?"h":"v",I=k_(k,_)),!I)return!1;if(!r.current&&"changedTouches"in y&&(E||T)&&(r.current=S),!S)return!0;var M=r.current||S;return KZ(M,w,y,M==="h"?E:T,!0)},[]),u=x.useCallback(function(y){var w=y;if(!(!Fo.length||Fo[Fo.length-1]!==i)){var v="deltaY"in w?A_(w):Sd(w),b=t.current.filter(function(S){return S.name===w.type&&(S.target===w.target||w.target===S.shadowParent)&&YZ(S.delta,v)})[0];if(b&&b.should){w.cancelable&&w.preventDefault();return}if(!b){var E=(o.current.shards||[]).map(N_).filter(Boolean).filter(function(S){return S.contains(w.target)}),T=E.length>0?a(w,E[0]):!o.current.noIsolation;T&&w.cancelable&&w.preventDefault()}}},[]),l=x.useCallback(function(y,w,v,b){var E={name:y,delta:w,target:v,should:b,shadowParent:JZ(v)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(T){return T!==E})},1)},[]),c=x.useCallback(function(y){n.current=Sd(y),r.current=void 0},[]),d=x.useCallback(function(y){l(y.type,A_(y),y.target,a(y,e.lockRef.current))},[]),f=x.useCallback(function(y){l(y.type,Sd(y),y.target,a(y,e.lockRef.current))},[]);x.useEffect(function(){return Fo.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",u,jo),document.addEventListener("touchmove",u,jo),document.addEventListener("touchstart",c,jo),function(){Fo=Fo.filter(function(y){return y!==i}),document.removeEventListener("wheel",u,jo),document.removeEventListener("touchmove",u,jo),document.removeEventListener("touchstart",c,jo)}},[]);var h=e.removeScrollBar,g=e.inert;return x.createElement(x.Fragment,null,g?x.createElement(i,{styles:GZ(s)}):null,h?x.createElement(UZ,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function JZ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ZZ=kZ(fI,XZ);var V1=x.forwardRef(function(e,t){return x.createElement(ep,Cr({},e,{ref:t,sideCar:ZZ}))});V1.classNames=ep.classNames;var tp="Popover",[vI,Ute]=us(tp,[su]),Pc=su(),[eee,_i]=vI(tp),bI=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,a=Pc(t),u=x.useRef(null),[l,c]=x.useState(!1),[d,f]=To({prop:r,defaultProp:s??!1,onChange:i,caller:tp});return p.jsx(Ev,{...a,children:p.jsx(eee,{scope:t,contentId:jn(),triggerRef:u,open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),hasCustomAnchor:l,onCustomAnchorAdd:x.useCallback(()=>c(!0),[]),onCustomAnchorRemove:x.useCallback(()=>c(!1),[]),modal:o,children:n})})};bI.displayName=tp;var xI="PopoverAnchor",tee=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=_i(xI,n),i=Pc(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return x.useEffect(()=>(o(),()=>a()),[o,a]),p.jsx(Sf,{...i,...r,ref:t})});tee.displayName=xI;var wI="PopoverTrigger",EI=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=_i(wI,n),i=Pc(n),o=ht(t,s.triggerRef),a=p.jsx(Re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":kI(s.open),...r,ref:o,onClick:Te(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:p.jsx(Sf,{asChild:!0,...i,children:a})});EI.displayName=wI;var W1="PopoverPortal",[nee,ree]=vI(W1,{forceMount:void 0}),TI=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,i=_i(W1,t);return p.jsx(nee,{scope:t,forceMount:n,children:p.jsx(fr,{present:n||i.open,children:p.jsx(vf,{asChild:!0,container:s,children:r})})})};TI.displayName=W1;var Ga="PopoverContent",_I=x.forwardRef((e,t)=>{const n=ree(Ga,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,i=_i(Ga,e.__scopePopover);return p.jsx(fr,{present:r||i.open,children:i.modal?p.jsx(iee,{...s,ref:t}):p.jsx(oee,{...s,ref:t})})});_I.displayName=Ga;var see=jl("PopoverContent.RemoveScroll"),iee=x.forwardRef((e,t)=>{const n=_i(Ga,e.__scopePopover),r=x.useRef(null),s=ht(t,r),i=x.useRef(!1);return x.useEffect(()=>{const o=r.current;if(o)return dI(o)},[]),p.jsx(V1,{as:see,allowPinchZoom:!0,children:p.jsx(SI,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Te(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Te(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,u=a.button===0&&a.ctrlKey===!0,l=a.button===2||u;i.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:Te(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),oee=x.forwardRef((e,t)=>{const n=_i(Ga,e.__scopePopover),r=x.useRef(!1),s=x.useRef(!1);return p.jsx(SI,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var u,l;(u=e.onInteractOutside)==null||u.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((l=n.triggerRef.current)==null?void 0:l.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),SI=x.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:l,onInteractOutside:c,...d}=e,f=_i(Ga,n),h=Pc(n);return uI(),p.jsx(z1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:p.jsx(eu,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:c,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:l,onDismiss:()=>f.onOpenChange(!1),children:p.jsx(Tv,{"data-state":kI(f.open),role:"dialog",id:f.contentId,...h,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),CI="PopoverClose",aee=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=_i(CI,n);return p.jsx(Re.button,{type:"button",...r,ref:t,onClick:Te(e.onClick,()=>s.onOpenChange(!1))})});aee.displayName=CI;var uee="PopoverArrow",lee=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Pc(n);return p.jsx(_v,{...s,...r,ref:t})});lee.displayName=uee;function kI(e){return e?"open":"closed"}var cee=bI,dee=EI,hee=TI,AI=_I;const fee=cee,pee=dee,NI=x.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>p.jsx(hee,{children:p.jsx(AI,{ref:s,align:t,sideOffset:n,className:ut("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));NI.displayName=AI.displayName;var R_=1,mee=.9,gee=.8,yee=.17,Um=.1,Hm=.999,vee=.9999,bee=.99,xee=/[\\\/_+.#"@\[\(\{&]/,wee=/[\\\/_+.#"@\[\(\{&]/g,Eee=/[\s-]/,RI=/[\s-]/g;function ay(e,t,n,r,s,i,o){if(i===t.length)return s===e.length?R_:bee;var a=`${s},${i}`;if(o[a]!==void 0)return o[a];for(var u=r.charAt(i),l=n.indexOf(u,s),c=0,d,f,h,g;l>=0;)d=ay(e,t,n,r,l+1,i+1,o),d>c&&(l===s?d*=R_:xee.test(e.charAt(l-1))?(d*=gee,h=e.slice(s,l-1).match(wee),h&&s>0&&(d*=Math.pow(Hm,h.length))):Eee.test(e.charAt(l-1))?(d*=mee,g=e.slice(s,l-1).match(RI),g&&s>0&&(d*=Math.pow(Hm,g.length))):(d*=yee,s>0&&(d*=Math.pow(Hm,l-s))),e.charAt(l)!==t.charAt(i)&&(d*=vee)),(d<Um&&n.charAt(l-1)===r.charAt(i+1)||r.charAt(i+1)===r.charAt(i)&&n.charAt(l-1)!==r.charAt(i))&&(f=ay(e,t,n,r,l+1,i+2,o),f*Um>d&&(d=f*Um)),d>c&&(c=d),l=n.indexOf(u,l+1);return o[a]=c,c}function P_(e){return e.toLowerCase().replace(RI," ")}function Tee(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,ay(e,t,P_(e),P_(t),0,0,{})}var np="Dialog",[PI,Hte]=us(np),[_ee,mr]=PI(np),II=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=x.useRef(null),u=x.useRef(null),[l,c]=To({prop:r,defaultProp:s??!1,onChange:i,caller:np});return p.jsx(_ee,{scope:t,triggerRef:a,contentRef:u,contentId:jn(),titleId:jn(),descriptionId:jn(),open:l,onOpenChange:c,onOpenToggle:x.useCallback(()=>c(d=>!d),[c]),modal:o,children:n})};II.displayName=np;var OI="DialogTrigger",See=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=mr(OI,n),i=ht(t,s.triggerRef);return p.jsx(Re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Y1(s.open),...r,ref:i,onClick:Te(e.onClick,s.onOpenToggle)})});See.displayName=OI;var q1="DialogPortal",[Cee,DI]=PI(q1,{forceMount:void 0}),LI=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=mr(q1,t);return p.jsx(Cee,{scope:t,forceMount:n,children:x.Children.map(r,o=>p.jsx(fr,{present:n||i.open,children:p.jsx(vf,{asChild:!0,container:s,children:o})}))})};LI.displayName=q1;var Zh="DialogOverlay",MI=x.forwardRef((e,t)=>{const n=DI(Zh,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=mr(Zh,e.__scopeDialog);return i.modal?p.jsx(fr,{present:r||i.open,children:p.jsx(Aee,{...s,ref:t})}):null});MI.displayName=Zh;var kee=jl("DialogOverlay.RemoveScroll"),Aee=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=mr(Zh,n);return p.jsx(V1,{as:kee,allowPinchZoom:!0,shards:[s.contentRef],children:p.jsx(Re.div,{"data-state":Y1(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),bo="DialogContent",jI=x.forwardRef((e,t)=>{const n=DI(bo,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=mr(bo,e.__scopeDialog);return p.jsx(fr,{present:r||i.open,children:i.modal?p.jsx(Nee,{...s,ref:t}):p.jsx(Ree,{...s,ref:t})})});jI.displayName=bo;var Nee=x.forwardRef((e,t)=>{const n=mr(bo,e.__scopeDialog),r=x.useRef(null),s=ht(t,n.contentRef,r);return x.useEffect(()=>{const i=r.current;if(i)return dI(i)},[]),p.jsx(FI,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Te(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Te(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Te(e.onFocusOutside,i=>i.preventDefault())})}),Ree=x.forwardRef((e,t)=>{const n=mr(bo,e.__scopeDialog),r=x.useRef(!1),s=x.useRef(!1);return p.jsx(FI,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var u,l;(u=e.onInteractOutside)==null||u.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((l=n.triggerRef.current)==null?void 0:l.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),FI=x.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=mr(bo,n),u=x.useRef(null),l=ht(t,u);return uI(),p.jsxs(p.Fragment,{children:[p.jsx(z1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:p.jsx(eu,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Y1(a.open),...o,ref:l,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(Pee,{titleId:a.titleId}),p.jsx(Oee,{contentRef:u,descriptionId:a.descriptionId})]})]})}),K1="DialogTitle",BI=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=mr(K1,n);return p.jsx(Re.h2,{id:s.titleId,...r,ref:t})});BI.displayName=K1;var UI="DialogDescription",HI=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=mr(UI,n);return p.jsx(Re.p,{id:s.descriptionId,...r,ref:t})});HI.displayName=UI;var $I="DialogClose",zI=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=mr($I,n);return p.jsx(Re.button,{type:"button",...r,ref:t,onClick:Te(e.onClick,()=>s.onOpenChange(!1))})});zI.displayName=$I;function Y1(e){return e?"open":"closed"}var VI="DialogTitleWarning",[$te,WI]=sL(VI,{contentName:bo,titleName:K1,docsSlug:"dialog"}),Pee=({titleId:e})=>{const t=WI(VI),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Iee="DialogDescriptionWarning",Oee=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${WI(Iee).contentName}}.`;return x.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Dee=II,qI=LI,G1=MI,Q1=jI,KI=BI,YI=HI,Lee=zI,ju='[cmdk-group=""]',$m='[cmdk-group-items=""]',Mee='[cmdk-group-heading=""]',GI='[cmdk-item=""]',I_=`${GI}:not([aria-disabled="true"])`,uy="cmdk-item-select",Vo="data-value",jee=(e,t,n)=>Tee(e,t,n),QI=x.createContext(void 0),Ic=()=>x.useContext(QI),XI=x.createContext(void 0),X1=()=>x.useContext(XI),JI=x.createContext(void 0),ZI=x.forwardRef((e,t)=>{let n=Wo(()=>{var j,A;return{search:"",value:(A=(j=e.value)!=null?j:e.defaultValue)!=null?A:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=Wo(()=>new Set),s=Wo(()=>new Map),i=Wo(()=>new Map),o=Wo(()=>new Set),a=e3(e),{label:u,children:l,value:c,onValueChange:d,filter:f,shouldFilter:h,loop:g,disablePointerSelection:y=!1,vimBindings:w=!0,...v}=e,b=jn(),E=jn(),T=jn(),S=x.useRef(null),_=Yee();xo(()=>{if(c!==void 0){let j=c.trim();n.current.value=j,k.emit()}},[c]),xo(()=>{_(6,G)},[]);let k=x.useMemo(()=>({subscribe:j=>(o.current.add(j),()=>o.current.delete(j)),snapshot:()=>n.current,setState:(j,A,X)=>{var ne,ae,z,he;if(!Object.is(n.current[j],A)){if(n.current[j]=A,j==="search")U(),P(),_(1,H);else if(j==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let q=document.getElementById(T);q?q.focus():(ne=document.getElementById(b))==null||ne.focus()}if(_(7,()=>{var q;n.current.selectedItemId=(q=W())==null?void 0:q.id,k.emit()}),X||_(5,G),((ae=a.current)==null?void 0:ae.value)!==void 0){let q=A??"";(he=(z=a.current).onValueChange)==null||he.call(z,q);return}}k.emit()}},emit:()=>{o.current.forEach(j=>j())}}),[]),I=x.useMemo(()=>({value:(j,A,X)=>{var ne;A!==((ne=i.current.get(j))==null?void 0:ne.value)&&(i.current.set(j,{value:A,keywords:X}),n.current.filtered.items.set(j,M(A,X)),_(2,()=>{P(),k.emit()}))},item:(j,A)=>(r.current.add(j),A&&(s.current.has(A)?s.current.get(A).add(j):s.current.set(A,new Set([j]))),_(3,()=>{U(),P(),n.current.value||H(),k.emit()}),()=>{i.current.delete(j),r.current.delete(j),n.current.filtered.items.delete(j);let X=W();_(4,()=>{U(),(X==null?void 0:X.getAttribute("id"))===j&&H(),k.emit()})}),group:j=>(s.current.has(j)||s.current.set(j,new Set),()=>{i.current.delete(j),s.current.delete(j)}),filter:()=>a.current.shouldFilter,label:u||e["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:b,inputId:T,labelId:E,listInnerRef:S}),[]);function M(j,A){var X,ne;let ae=(ne=(X=a.current)==null?void 0:X.filter)!=null?ne:jee;return j?ae(j,n.current.search,A):0}function P(){if(!n.current.search||a.current.shouldFilter===!1)return;let j=n.current.filtered.items,A=[];n.current.filtered.groups.forEach(ne=>{let ae=s.current.get(ne),z=0;ae.forEach(he=>{let q=j.get(he);z=Math.max(q,z)}),A.push([ne,z])});let X=S.current;K().sort((ne,ae)=>{var z,he;let q=ne.getAttribute("id"),le=ae.getAttribute("id");return((z=j.get(le))!=null?z:0)-((he=j.get(q))!=null?he:0)}).forEach(ne=>{let ae=ne.closest($m);ae?ae.appendChild(ne.parentElement===ae?ne:ne.closest(`${$m} > *`)):X.appendChild(ne.parentElement===X?ne:ne.closest(`${$m} > *`))}),A.sort((ne,ae)=>ae[1]-ne[1]).forEach(ne=>{var ae;let z=(ae=S.current)==null?void 0:ae.querySelector(`${ju}[${Vo}="${encodeURIComponent(ne[0])}"]`);z==null||z.parentElement.appendChild(z)})}function H(){let j=K().find(X=>X.getAttribute("aria-disabled")!=="true"),A=j==null?void 0:j.getAttribute(Vo);k.setState("value",A||void 0)}function U(){var j,A,X,ne;if(!n.current.search||a.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let ae=0;for(let z of r.current){let he=(A=(j=i.current.get(z))==null?void 0:j.value)!=null?A:"",q=(ne=(X=i.current.get(z))==null?void 0:X.keywords)!=null?ne:[],le=M(he,q);n.current.filtered.items.set(z,le),le>0&&ae++}for(let[z,he]of s.current)for(let q of he)if(n.current.filtered.items.get(q)>0){n.current.filtered.groups.add(z);break}n.current.filtered.count=ae}function G(){var j,A,X;let ne=W();ne&&(((j=ne.parentElement)==null?void 0:j.firstChild)===ne&&((X=(A=ne.closest(ju))==null?void 0:A.querySelector(Mee))==null||X.scrollIntoView({block:"nearest"})),ne.scrollIntoView({block:"nearest"}))}function W(){var j;return(j=S.current)==null?void 0:j.querySelector(`${GI}[aria-selected="true"]`)}function K(){var j;return Array.from(((j=S.current)==null?void 0:j.querySelectorAll(I_))||[])}function ie(j){let A=K()[j];A&&k.setState("value",A.getAttribute(Vo))}function J(j){var A;let X=W(),ne=K(),ae=ne.findIndex(he=>he===X),z=ne[ae+j];(A=a.current)!=null&&A.loop&&(z=ae+j<0?ne[ne.length-1]:ae+j===ne.length?ne[0]:ne[ae+j]),z&&k.setState("value",z.getAttribute(Vo))}function B(j){let A=W(),X=A==null?void 0:A.closest(ju),ne;for(;X&&!ne;)X=j>0?qee(X,ju):Kee(X,ju),ne=X==null?void 0:X.querySelector(I_);ne?k.setState("value",ne.getAttribute(Vo)):J(j)}let L=()=>ie(K().length-1),C=j=>{j.preventDefault(),j.metaKey?L():j.altKey?B(1):J(1)},te=j=>{j.preventDefault(),j.metaKey?ie(0):j.altKey?B(-1):J(-1)};return x.createElement(Re.div,{ref:t,tabIndex:-1,...v,"cmdk-root":"",onKeyDown:j=>{var A;(A=v.onKeyDown)==null||A.call(v,j);let X=j.nativeEvent.isComposing||j.keyCode===229;if(!(j.defaultPrevented||X))switch(j.key){case"n":case"j":{w&&j.ctrlKey&&C(j);break}case"ArrowDown":{C(j);break}case"p":case"k":{w&&j.ctrlKey&&te(j);break}case"ArrowUp":{te(j);break}case"Home":{j.preventDefault(),ie(0);break}case"End":{j.preventDefault(),L();break}case"Enter":{j.preventDefault();let ne=W();if(ne){let ae=new Event(uy);ne.dispatchEvent(ae)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:I.inputId,id:I.labelId,style:Qee},u),rp(e,j=>x.createElement(XI.Provider,{value:k},x.createElement(QI.Provider,{value:I},j))))}),Fee=x.forwardRef((e,t)=>{var n,r;let s=jn(),i=x.useRef(null),o=x.useContext(JI),a=Ic(),u=e3(e),l=(r=(n=u.current)==null?void 0:n.forceMount)!=null?r:o==null?void 0:o.forceMount;xo(()=>{if(!l)return a.item(s,o==null?void 0:o.id)},[l]);let c=t3(s,i,[e.value,e.children,i],e.keywords),d=X1(),f=pi(_=>_.value&&_.value===c.current),h=pi(_=>l||a.filter()===!1?!0:_.search?_.filtered.items.get(s)>0:!0);x.useEffect(()=>{let _=i.current;if(!(!_||e.disabled))return _.addEventListener(uy,g),()=>_.removeEventListener(uy,g)},[h,e.onSelect,e.disabled]);function g(){var _,k;y(),(k=(_=u.current).onSelect)==null||k.call(_,c.current)}function y(){d.setState("value",c.current,!0)}if(!h)return null;let{disabled:w,value:v,onSelect:b,forceMount:E,keywords:T,...S}=e;return x.createElement(Re.div,{ref:fo(i,t),...S,id:s,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!f,"data-disabled":!!w,"data-selected":!!f,onPointerMove:w||a.getDisablePointerSelection()?void 0:y,onClick:w?void 0:g},e.children)}),Bee=x.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:s,...i}=e,o=jn(),a=x.useRef(null),u=x.useRef(null),l=jn(),c=Ic(),d=pi(h=>s||c.filter()===!1?!0:h.search?h.filtered.groups.has(o):!0);xo(()=>c.group(o),[]),t3(o,a,[e.value,e.heading,u]);let f=x.useMemo(()=>({id:o,forceMount:s}),[s]);return x.createElement(Re.div,{ref:fo(a,t),...i,"cmdk-group":"",role:"presentation",hidden:d?void 0:!0},n&&x.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:l},n),rp(e,h=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?l:void 0},x.createElement(JI.Provider,{value:f},h))))}),Uee=x.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,s=x.useRef(null),i=pi(o=>!o.search);return!n&&!i?null:x.createElement(Re.div,{ref:fo(s,t),...r,"cmdk-separator":"",role:"separator"})}),Hee=x.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,s=e.value!=null,i=X1(),o=pi(l=>l.search),a=pi(l=>l.selectedItemId),u=Ic();return x.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),x.createElement(Re.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":a,id:u.inputId,type:"text",value:s?e.value:o,onChange:l=>{s||i.setState("search",l.target.value),n==null||n(l.target.value)}})}),$ee=x.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...s}=e,i=x.useRef(null),o=x.useRef(null),a=pi(l=>l.selectedItemId),u=Ic();return x.useEffect(()=>{if(o.current&&i.current){let l=o.current,c=i.current,d,f=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let h=l.offsetHeight;c.style.setProperty("--cmdk-list-height",h.toFixed(1)+"px")})});return f.observe(l),()=>{cancelAnimationFrame(d),f.unobserve(l)}}},[]),x.createElement(Re.div,{ref:fo(i,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":r,id:u.listId},rp(e,l=>x.createElement("div",{ref:fo(o,u.listInnerRef),"cmdk-list-sizer":""},l)))}),zee=x.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:s,contentClassName:i,container:o,...a}=e;return x.createElement(Dee,{open:n,onOpenChange:r},x.createElement(qI,{container:o},x.createElement(G1,{"cmdk-overlay":"",className:s}),x.createElement(Q1,{"aria-label":e.label,"cmdk-dialog":"",className:i},x.createElement(ZI,{ref:t,...a}))))}),Vee=x.forwardRef((e,t)=>pi(n=>n.filtered.count===0)?x.createElement(Re.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Wee=x.forwardRef((e,t)=>{let{progress:n,children:r,label:s="Loading...",...i}=e;return x.createElement(Re.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},rp(e,o=>x.createElement("div",{"aria-hidden":!0},o)))}),dn=Object.assign(ZI,{List:$ee,Item:Fee,Input:Hee,Group:Bee,Separator:Uee,Dialog:zee,Empty:Vee,Loading:Wee});function qee(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function Kee(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function e3(e){let t=x.useRef(e);return xo(()=>{t.current=e}),t}var xo=typeof window>"u"?x.useEffect:x.useLayoutEffect;function Wo(e){let t=x.useRef();return t.current===void 0&&(t.current=e()),t}function pi(e){let t=X1(),n=()=>e(t.snapshot());return x.useSyncExternalStore(t.subscribe,n,n)}function t3(e,t,n,r=[]){let s=x.useRef(),i=Ic();return xo(()=>{var o;let a=(()=>{var l;for(let c of n){if(typeof c=="string")return c.trim();if(typeof c=="object"&&"current"in c)return c.current?(l=c.current.textContent)==null?void 0:l.trim():s.current}})(),u=r.map(l=>l.trim());i.value(e,a,u),(o=t.current)==null||o.setAttribute(Vo,a),s.current=a}),s}var Yee=()=>{let[e,t]=x.useState(),n=Wo(()=>new Map);return xo(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,s)=>{n.current.set(r,s),t({})}};function Gee(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function rp({asChild:e,children:t},n){return e&&x.isValidElement(t)?x.cloneElement(Gee(t),{ref:t.ref},n(t.props.children)):n(t)}var Qee={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Xee=qI,n3=x.forwardRef(({className:e,...t},n)=>p.jsx(G1,{ref:n,className:ut("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));n3.displayName=G1.displayName;const Jee=x.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(Xee,{children:[p.jsx(n3,{}),p.jsxs(Q1,{ref:r,className:ut("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,p.jsxs(Lee,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[p.jsx(po,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Jee.displayName=Q1.displayName;const Zee=x.forwardRef(({className:e,...t},n)=>p.jsx(KI,{ref:n,className:ut("text-lg font-semibold leading-none tracking-tight",e),...t}));Zee.displayName=KI.displayName;const ete=x.forwardRef(({className:e,...t},n)=>p.jsx(YI,{ref:n,className:ut("text-sm text-muted-foreground",e),...t}));ete.displayName=YI.displayName;const r3=x.forwardRef(({className:e,...t},n)=>p.jsx(dn,{ref:n,className:ut("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));r3.displayName=dn.displayName;const s3=x.forwardRef(({className:e,...t},n)=>p.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[p.jsx(v4,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),p.jsx(dn.Input,{ref:n,className:ut("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));s3.displayName=dn.Input.displayName;const i3=x.forwardRef(({className:e,...t},n)=>p.jsx(dn.List,{ref:n,className:ut("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));i3.displayName=dn.List.displayName;const o3=x.forwardRef((e,t)=>p.jsx(dn.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));o3.displayName=dn.Empty.displayName;const ly=x.forwardRef(({className:e,...t},n)=>p.jsx(dn.Group,{ref:n,className:ut("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));ly.displayName=dn.Group.displayName;const tte=x.forwardRef(({className:e,...t},n)=>p.jsx(dn.Separator,{ref:n,className:ut("-mx-1 h-px bg-border",e),...t}));tte.displayName=dn.Separator.displayName;const cy=x.forwardRef(({className:e,...t},n)=>p.jsx(dn.Item,{ref:n,className:ut("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));cy.displayName=dn.Item.displayName;var sp="Collapsible",[nte,zte]=us(sp),[rte,J1]=nte(sp),a3=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:o,...a}=e,[u,l]=To({prop:r,defaultProp:s??!1,onChange:o,caller:sp});return p.jsx(rte,{scope:n,disabled:i,contentId:jn(),open:u,onOpenToggle:x.useCallback(()=>l(c=>!c),[l]),children:p.jsx(Re.div,{"data-state":eb(u),"data-disabled":i?"":void 0,...a,ref:t})})});a3.displayName=sp;var u3="CollapsibleTrigger",ste=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=J1(u3,n);return p.jsx(Re.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":eb(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:Te(e.onClick,s.onOpenToggle)})});ste.displayName=u3;var Z1="CollapsibleContent",l3=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=J1(Z1,e.__scopeCollapsible);return p.jsx(fr,{present:n||s.open,children:({present:i})=>p.jsx(ite,{...r,ref:t,present:i})})});l3.displayName=Z1;var ite=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=e,o=J1(Z1,n),[a,u]=x.useState(r),l=x.useRef(null),c=ht(t,l),d=x.useRef(0),f=d.current,h=x.useRef(0),g=h.current,y=o.open||a,w=x.useRef(y),v=x.useRef(void 0);return x.useEffect(()=>{const b=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(b)},[]),Dr(()=>{const b=l.current;if(b){v.current=v.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const E=b.getBoundingClientRect();d.current=E.height,h.current=E.width,w.current||(b.style.transitionDuration=v.current.transitionDuration,b.style.animationName=v.current.animationName),u(r)}},[o.open,r]),p.jsx(Re.div,{"data-state":eb(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!y,...i,ref:c,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:y&&s})});function eb(e){return e?"open":"closed"}var ote=a3;const ate=ote,ute=l3,lte={covered:{icon:Rr,color:"text-success",bg:"bg-success/10"},partial:{icon:vc,color:"text-warning",bg:"bg-warning/10"},missing:{icon:yc,color:"text-destructive",bg:"bg-destructive/10"}},O_=e=>e?new Date().getTime()-new Date(e).getTime()>90*24*60*60*1e3:!1,D_=[{key:"covered",icon:Rr,label:"Covered",color:"text-success"},{key:"partial",icon:vc,label:"Partial",color:"text-warning"},{key:"missing",icon:yc,label:"Missing",color:"text-destructive"},{key:"outdated",icon:cv,label:"Outdated",color:"text-muted-foreground"}],L_={covered:{Icon:Rr,color:"text-success"},partial:{Icon:vc,color:"text-warning"},missing:{Icon:yc,color:"text-destructive"}};function cte({skillFilter:e,skillsFramework:t,allSkills:n,onSkillFilterChange:r}){const[s,i]=x.useState(!1);return p.jsx("div",{className:"px-3 py-2 border-b border-border/50",children:p.jsxs(fee,{open:s,onOpenChange:i,children:[p.jsx(pee,{asChild:!0,children:p.jsxs("button",{role:"combobox","aria-expanded":s,className:"flex w-full items-center justify-between rounded-md border border-border bg-muted/30 px-2 py-1.5 text-[11px] text-foreground outline-none focus:ring-1 focus:ring-primary/30 hover:bg-muted/50 transition-colors",children:[e?p.jsx("span",{className:"flex items-center gap-1.5 truncate",children:(()=>{const o=n.find(l=>l.id===e.skillId);if(!o)return e.skillName;const{Icon:a,color:u}=L_[o.status];return p.jsxs(p.Fragment,{children:[p.jsx(a,{className:`w-3 h-3 flex-shrink-0 ${u}`}),p.jsx("span",{className:"truncate",children:o.name})]})})()}):p.jsx("span",{className:"text-muted-foreground",children:"All sections"}),p.jsx(n4,{className:"ml-1 h-3 w-3 shrink-0 opacity-50"})]})}),p.jsx(NI,{className:"w-56 p-0",align:"start",children:p.jsxs(r3,{children:[p.jsx(s3,{placeholder:"Filter by skill...",className:"h-8 text-xs"}),p.jsxs(i3,{children:[p.jsx(o3,{children:"No skill found."}),p.jsx(ly,{children:p.jsxs(cy,{value:"__all__",onSelect:()=>{r(null),i(!1)},className:"text-xs",children:[p.jsx(Fl,{className:`mr-1.5 h-3 w-3 ${e?"opacity-0":"opacity-100"}`}),"All sections"]})}),t==null?void 0:t.map(o=>p.jsx(ly,{heading:o.name,children:o.skills.map(a=>{const{Icon:u,color:l}=L_[a.status],c=(e==null?void 0:e.skillId)===a.id;return p.jsxs(cy,{value:a.name,onSelect:()=>{r({skillId:a.id,skillName:a.name}),i(!1)},className:"text-xs",children:[p.jsx(Fl,{className:`mr-1.5 h-3 w-3 flex-shrink-0 ${c?"opacity-100":"opacity-0"}`}),p.jsx(u,{className:`mr-1.5 h-3 w-3 flex-shrink-0 ${l}`}),p.jsx("span",{className:"truncate",children:a.name})]},a.id)})},o.id))]})]})})]})})}function dte(e){const t=[],n=[];for(const r of e){const s={...r,children:[]};for(;n.length>0&&n[n.length-1].depth>=r.depth;)n.pop();n.length===0?t.push(s):n[n.length-1].children.push(s),n.push(s)}return t}function c3({node:e,currentId:t,expandedSections:n,headingsMap:r,getSkillsForSection:s,onSelect:i,onToggle:o,level:a}){const u=t===e.id,l=n.has(e.id),c=r.get(e.id)??[],d=e.children.length>0||c.length>0,f=s(e.id),h=f.filter(w=>w.status==="covered").length,g=f.length,y=a*12+8;return p.jsxs("div",{children:[p.jsxs("div",{className:`flex items-start text-xs transition-colors ${u?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,style:{paddingLeft:`${y}px`},children:[p.jsx("button",{onClick:w=>{w.stopPropagation(),d&&o(e.id)},className:`w-5 h-7 flex items-center justify-center flex-shrink-0 ${d?"cursor-pointer":"invisible"}`,tabIndex:d?0:-1,children:p.jsx(Fk,{className:`w-3 h-3 transition-transform ${l?"rotate-90":""}`})}),p.jsxs("button",{onClick:()=>i(e.id),className:"flex-1 text-left py-2 pr-3 flex items-start gap-1.5 min-w-0",children:[p.jsx(Sh,{className:"w-3 h-3 mt-0.5 flex-shrink-0 opacity-50"}),p.jsxs("div",{className:"min-w-0",children:[p.jsx("span",{className:"block truncate",children:e.title}),g>0&&p.jsxs("span",{className:`text-[10px] font-mono ${h===g?"text-success":"text-muted-foreground"}`,children:[h,"/",g," skills"]})]})]})]}),d&&p.jsx(ate,{open:l,children:p.jsxs(ute,{children:[e.children.map(w=>p.jsx(c3,{node:w,currentId:t,expandedSections:n,headingsMap:r,getSkillsForSection:s,onSelect:i,onToggle:o,level:a+1},w.id)),u&&c.length>0&&p.jsx("div",{className:"pb-1",children:c.map(w=>p.jsx("button",{onClick:()=>{var v;return(v=document.getElementById(w.slug))==null?void 0:v.scrollIntoView({behavior:"smooth",block:"start"})},className:"w-full text-left text-[11px] py-1 text-muted-foreground hover:text-foreground hover:bg-muted/30 transition-colors truncate",style:{paddingLeft:`${y+20+(w.level-2)*12}px`},title:w.text,children:w.text},w.slug))})]})})]})}const hte=({skillFilter:e,onSkillFilterChange:t,initialSectionId:n,onInitialSectionConsumed:r})=>{var he;const{data:s,isLoading:i,isRefetching:o}=$1(),{data:a,isLoading:u}=g1(),l=oZ(),c=$$(),d=JN(),[f,h]=x.useState(null),[g,y]=x.useState(!1),[w,v]=x.useState(""),[b,E]=x.useState(!1),[T,S]=x.useState(null),[_,k]=x.useState(new Set),[I,M]=x.useState(!0),[P,H]=x.useState(),U=x.useRef(0),G=x.useMemo(()=>(a==null?void 0:a.flatMap(q=>q.skills))??[],[a]),W=x.useMemo(()=>{const q=new Map;if(s){const le=new Map(G.map(me=>[me.id,me]));for(const me of s){const Ie=[];for(const Pe of me.skillsCovered){const Je=le.get(Pe.skillId);Je&&Ie.push({...Je,sectionNote:Pe.coverageNote??void 0})}Ie.length>0&&q.set(me.id,Ie)}}return le=>q.get(le)??[]},[G,s]),{displaySections:K,filterMode:ie}=x.useMemo(()=>{if(!s)return{displaySections:[],filterMode:"none"};let q=s,le="none";if(e){const me=G.find(Pe=>Pe.id===e.skillId),Ie=s.filter(Pe=>!!(Pe.skillsCovered.some(Je=>Je.skillId===e.skillId)||me!=null&&me.section&&me.section===Pe.title));if(Ie.length>0)q=Ie,le="direct";else{const Pe=a==null?void 0:a.find(Je=>Je.skills.some($n=>$n.id===e.skillId));if(Pe){const Je=new Set(Pe.skills.map(zn=>zn.id)),$n=s.filter(zn=>zn.skillsCovered.some(ds=>Je.has(ds.skillId)));$n.length>0?(q=$n,le="category"):le="unlinked"}else le="unlinked"}}return T&&(q=q.filter(me=>{const Ie=W(me.id);return Ie.length===0?!1:T==="outdated"?Ie.some(Pe=>O_(Pe.lastUpdated)):Ie.some(Pe=>Pe.status===T)})),{displaySections:q,filterMode:le}},[e,T,s,G,a,W]),J=x.useMemo(()=>{const q={covered:0,partial:0,missing:0,outdated:0};for(const le of G)le.status==="covered"&&q.covered++,le.status==="partial"&&q.partial++,le.status==="missing"&&q.missing++,O_(le.lastUpdated)&&q.outdated++;return q},[G]),B=x.useMemo(()=>{const q=new Map;for(const le of K){const me=uZ(le.content);me.length>0&&q.set(le.id,me)}return q},[K]),L=x.useMemo(()=>dte(K),[K]),C=x.useCallback(q=>{k(le=>{const me=new Set(le);return me.has(q)?me.delete(q):me.add(q),me})},[]),te=x.useCallback(q=>{h(q),y(!1),k(le=>{const me=new Set(le);return me.add(q),me})},[]);if(x.useEffect(()=>{(e||T)&&K.length>0&&(h(K[0].id),y(!1))},[e==null?void 0:e.skillId,T,K]),x.useEffect(()=>{n&&(s!=null&&s.some(q=>q.id===n))&&(h(n),k(q=>new Set([...q,n])),y(!1),r==null||r())},[n,s]),i||u||!s||!a)return p.jsx("div",{className:"rounded-xl border border-border bg-card shadow-card flex items-center justify-center h-[calc(100vh-180px)]",children:p.jsx(rt,{className:"w-6 h-6 text-primary animate-spin"})});const j=f??((he=K[0])==null?void 0:he.id),A=K.find(q=>q.id===j)??K[0];if(!A)return p.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"rounded-xl border border-border bg-card shadow-card flex flex-col h-[calc(100vh-180px)]",children:[p.jsx("div",{className:"px-5 py-3 border-b border-border",children:p.jsxs("div",{className:"flex items-center gap-6 flex-wrap",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Sh,{className:"w-4 h-4 text-primary"}),p.jsx("h2",{className:"text-sm text-foreground",children:"Playbook Content"})]}),p.jsx("div",{className:"h-5 w-px bg-border"}),p.jsx("div",{className:"flex items-center gap-2",children:D_.map(({key:q,icon:le,label:me,color:Ie})=>{const Pe=J[q],Je=T===q;return p.jsxs("button",{onClick:()=>S(Je?null:q),className:`flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-subheading transition-all ${Je?"bg-primary/10 ring-2 ring-primary/30":"bg-muted/50 hover:bg-muted/80"}`,children:[p.jsx(le,{className:`w-3.5 h-3.5 ${Ie}`}),p.jsx("span",{className:"text-muted-foreground",children:me}),p.jsx("span",{className:`font-overline font-mono ${Ie}`,children:Pe})]},q)})})]})}),p.jsx("div",{className:"flex-1 flex items-center justify-center text-sm text-muted-foreground",children:"No sections match this filter."})]});const X=W(A.id),ne=()=>{v(A.content),y(!0)},ae=()=>{y(!1),v("")},z=async()=>{if(w===A.content){y(!1);return}try{await l.mutateAsync({id:A.id,content:w}),await c.mutateAsync({sectionId:A.id,before:A.content,after:w,source:"manual",autoApprove:!0}),y(!1),v(""),E(!0),setTimeout(()=>E(!1),2e3)}catch{zi.error("Failed to save edit")}};return p.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"rounded-xl border border-border bg-card shadow-card flex flex-col h-[calc(100vh-180px)]",children:[p.jsx("div",{className:"px-5 py-3 border-b border-border",children:p.jsxs("div",{className:"flex items-center gap-6 flex-wrap",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Sh,{className:"w-4 h-4 text-primary"}),p.jsx("h2",{className:"text-sm text-foreground",children:"Playbook Content"}),o&&p.jsx(rt,{className:"w-3.5 h-3.5 text-muted-foreground animate-spin"})]}),p.jsx("div",{className:"h-5 w-px bg-border"}),p.jsx("div",{className:"flex items-center gap-2",children:D_.map(({key:q,icon:le,label:me,color:Ie})=>{const Pe=J[q],Je=T===q;return p.jsxs("button",{onClick:()=>S(Je?null:q),className:`flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-subheading transition-all ${Je?"bg-primary/10 ring-2 ring-primary/30":"bg-muted/50 hover:bg-muted/80"}`,children:[p.jsx(le,{className:`w-3.5 h-3.5 ${Ie}`}),p.jsx("span",{className:"text-muted-foreground",children:me}),p.jsx("span",{className:`font-overline font-mono ${Ie}`,children:Pe})]},q)})}),e&&p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx(a4,{className:"w-3 h-3 text-primary"}),p.jsxs("span",{className:"text-[11px] text-muted-foreground",children:[ie==="direct"&&`${K.length} section${K.length!==1?"s":""} for`,ie==="category"&&`${K.length} related section${K.length!==1?"s":""} for`,ie==="unlinked"&&"No linked sections for"]}),p.jsx("span",{className:"text-[11px] font-caption text-primary",children:e.skillName}),ie==="unlinked"&&p.jsx("span",{className:"text-[11px] text-muted-foreground",children:" consider adding a new section"})]}),p.jsxs("button",{onClick:()=>t(null),className:"flex items-center gap-1 rounded-lg bg-muted px-2 py-0.5 text-[10px] font-caption text-muted-foreground hover:bg-muted/80 transition-colors",children:[p.jsx(po,{className:"w-2.5 h-2.5"}),"Clear"]})]}),p.jsx(nc,{mode:"wait",children:b&&p.jsxs(Ue.span,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0},className:"flex items-center gap-1 text-[10px] text-success font-subheading",children:[p.jsx(Rr,{className:"w-3 h-3"}),"Saved  staged for review"]},"saved")}),p.jsx("button",{onClick:()=>M(q=>!q),className:"ml-auto flex items-center gap-1.5 rounded-lg bg-muted/50 px-2.5 py-1.5 text-[11px] font-subheading text-muted-foreground hover:bg-muted/80 hover:text-foreground transition-colors",title:I?"Hide chat panel":"Show chat panel",children:I?p.jsx(f4,{className:"w-3.5 h-3.5"}):p.jsx(p4,{className:"w-3.5 h-3.5"})})]})}),p.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[p.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[p.jsxs("div",{className:"w-56 border-r border-border flex-shrink-0 flex flex-col",children:[p.jsx(cte,{skillFilter:e,skillsFramework:a,allSkills:G,onSkillFilterChange:t}),p.jsx("div",{className:"flex-1 overflow-y-auto py-1",children:L.map(q=>p.jsx(c3,{node:q,currentId:j,expandedSections:_,headingsMap:B,getSkillsForSection:W,onSelect:te,onToggle:C,level:0},q.id))})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[p.jsxs("div",{className:"mb-4",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx("h3",{className:"text-lg text-foreground",children:A.title.replace(/^\u00A0+/,"")}),p.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground font-mono bg-muted rounded px-2 py-0.5",children:[p.jsx(cv,{className:"w-2.5 h-2.5"}),A.lastUpdated]}),g?p.jsxs("div",{className:"flex items-center gap-1.5 ml-auto",children:[p.jsxs("button",{onClick:ae,className:"flex items-center gap-1 rounded-lg bg-muted px-2.5 py-1 text-[11px] font-caption text-muted-foreground hover:bg-muted/80 transition-colors",children:[p.jsx(po,{className:"w-3 h-3"}),"Cancel"]}),p.jsxs("button",{onClick:z,disabled:l.isPending,className:"flex items-center gap-1 rounded-lg gradient-primary px-2.5 py-1 text-[11px] font-caption text-primary-foreground transition-opacity disabled:opacity-50",children:[l.isPending?p.jsx(rt,{className:"w-3 h-3 animate-spin"}):p.jsx(y4,{className:"w-3 h-3"}),"Save"]})]}):p.jsxs("button",{onClick:ne,className:"flex items-center gap-1 rounded-lg bg-secondary px-2.5 py-1 text-[11px] font-subheading text-secondary-foreground hover:bg-secondary/80 transition-colors ml-auto",children:[p.jsx(dv,{className:"w-3 h-3"}),"Edit"]})]}),X.length>0&&p.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-4",children:[X.map(q=>{const le=lte[q.status],me=le.icon,Ie=q.status!=="covered",Pe=p.jsxs("span",{className:`inline-flex items-center gap-1 rounded-md px-2 py-1 text-[11px] font-subheading border ${q.fulfilled?"bg-muted/30 border-border/40 text-muted-foreground":`${le.bg} border-transparent`} ${Ie?"cursor-help":""}`,children:[p.jsx(me,{className:`w-3 h-3 ${q.fulfilled?"text-muted-foreground":le.color}`}),p.jsx("span",{className:q.fulfilled?"line-through":"",children:q.name}),q.fulfilled&&p.jsx("span",{className:"text-[10px] text-muted-foreground italic",children:"Dismissed"})]});return Ie?p.jsxs(oR,{openDelay:300,closeDelay:200,children:[p.jsx(aR,{asChild:!0,children:Pe}),p.jsx(v1,{side:"bottom",className:"w-auto max-w-xs p-2 text-xs",children:p.jsxs("div",{className:"flex flex-col gap-1.5",children:[q.sectionNote&&p.jsx("p",{className:"text-muted-foreground",children:q.sectionNote}),p.jsx("button",{onClick:Je=>{Je.stopPropagation(),d.mutate({skillId:q.id,fulfilled:!q.fulfilled})},className:"text-[11px] font-subheading text-foreground hover:text-primary transition-colors text-left",children:q.fulfilled?"Undo":"Dismiss"})]})})]},q.id):p.jsx("span",{children:Pe},q.id)}),(()=>{const q=X.filter(le=>le.status!=="covered"&&le.sectionNote);return q.length===0?null:p.jsxs("button",{onClick:()=>{const me=`Help me improve this section. Here are the skill gaps:

${q.map(Ie=>`- **${Ie.name}** (${Ie.status}): ${Ie.sectionNote}`).join(`
`)}`;U.current+=1,H({text:me,key:U.current}),I||M(!0)},className:"inline-flex items-center gap-1 rounded-md px-2 py-1 text-[11px] font-subheading text-primary bg-primary/10 hover:bg-primary/20 transition-colors",children:[p.jsx(hv,{className:"w-3 h-3"}),"Improve with AI"]})})()]})]}),g?p.jsx(H1,{markdown:w,onChange:v}):p.jsx(hr,{children:A.content})]})]}),p.jsx(nc,{initial:!1,children:I&&p.jsx(Ue.div,{initial:{width:0,opacity:0},animate:{width:400,opacity:1},exit:{width:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"flex-shrink-0 border-l border-border overflow-hidden",children:p.jsx(iI,{currentSection:A.title,sectionId:A.id,isEmbedded:!0,prefillMessage:P==null?void 0:P.text,prefillKey:P==null?void 0:P.key})})})]})]})};function fte(){return vi({queryKey:["imports"],queryFn:async()=>{const{data:e,error:t}=await ve.from("imports").select("*").order("started_at",{ascending:!1});if(t)throw t;return e??[]}})}function d3(e){const t=Ut();return Cn({mutationFn:async({provider:n,content:r,pdfBase64:s})=>{e==null||e("extracting");const{data:i,error:o}=await ve.functions.invoke("import",{body:{provider:n,content:r,pdfBase64:s}});if(o)throw o;e==null||e("analyzing");const{error:a}=await ve.functions.invoke("analyze");if(a)throw a;return i},onSuccess:()=>{t.invalidateQueries({queryKey:["imports"]}),t.invalidateQueries({queryKey:["playbook-sections"]}),t.invalidateQueries({queryKey:["skills"]}),t.invalidateQueries({queryKey:["health-score"]})}})}function h3(){const e=Ut();return Cn({mutationFn:async()=>{const{data:t,error:n}=await ve.functions.invoke("import-notion");if(n)throw n;return t},onSuccess:()=>{e.invalidateQueries({queryKey:["imports"]}),e.invalidateQueries({queryKey:["playbook-sections"]}),e.invalidateQueries({queryKey:["skills"]}),e.invalidateQueries({queryKey:["connections"]})}})}function f3(){const e=Ut();return Cn({mutationFn:async t=>{const{data:n,error:r}=await ve.functions.invoke("import-confluence",{body:t?{pageIds:t}:{}});if(r)throw r;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["imports"]}),e.invalidateQueries({queryKey:["playbook-sections"]}),e.invalidateQueries({queryKey:["skills"]}),e.invalidateQueries({queryKey:["connections"]})}})}const p3={confluence:{name:"Confluence",icon:"C"},notion:{name:"Notion",icon:"N"},pdf:{name:"PDF Upload",icon:"P"}};function pte(e){const t=Date.now()-new Date(e).getTime(),n=Math.floor(t/6e4);if(n<1)return"just now";if(n<60)return`${n}m ago`;const r=Math.floor(n/60);return r<24?`${r}h ago`:`${Math.floor(r/24)}d ago`}const mte=()=>{const{data:e,isLoading:t}=oI(),{data:n,isLoading:r}=fte(),{data:s}=$1(),i=aI(),o=d3(),a=h3(),u=f3(),l=x.useRef(null),c=iZ(),[d,f]=x.useState(!1),[h,g]=x.useState(null),[y,w]=x.useState(!1),[v,b]=x.useState(null),E=(s==null?void 0:s.length)??0;n==null||n[0];const T=async I=>{var P;const M=(P=I.target.files)==null?void 0:P[0];if(M){b(null),f(!0);try{if(M.name.endsWith(".pdf")){const H=await M.arrayBuffer(),U=btoa(new Uint8Array(H).reduce((G,W)=>G+String.fromCharCode(W),""));await o.mutateAsync({provider:"pdf",pdfBase64:U})}else{const H=await M.text();await o.mutateAsync({provider:"pdf",content:H})}}catch(H){b(H.message)}finally{f(!1),l.current&&(l.current.value="")}}},S=async I=>{b(null),g(I);try{I==="notion"?await a.mutateAsync():I==="confluence"&&await u.mutateAsync(void 0)}catch(M){b(M.message)}finally{g(null)}},_=async I=>{b(null);try{await i(I)}catch(M){b(M.message)}},k=new Set((e??[]).map(I=>I.provider));return p.jsxs("div",{className:"max-w-2xl space-y-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg text-foreground",children:"Integrations"}),p.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Connect a source or upload a file to import your playbook.",E>0&&p.jsxs("span",{className:"text-foreground font-subheading",children:[" ",E," sections currently loaded."]})]})]}),v&&p.jsxs("div",{className:"flex items-start gap-2 rounded-lg border border-destructive/30 bg-destructive/5 p-3",children:[p.jsx(zu,{className:"w-4 h-4 text-destructive mt-0.5 shrink-0"}),p.jsx("p",{className:"text-xs text-destructive",children:v})]}),p.jsx("input",{ref:l,type:"file",accept:".pdf,.txt,.md",className:"hidden",onChange:T}),p.jsxs("div",{className:"space-y-3",children:[p.jsx(M_,{provider:"confluence",connected:k.has("confluence"),loading:t,reimporting:h==="confluence",onConnect:()=>_("confluence"),onReimport:()=>S("confluence")}),p.jsx(M_,{provider:"notion",connected:k.has("notion"),loading:t,reimporting:h==="notion",onConnect:()=>_("notion"),onReimport:()=>S("notion")}),p.jsxs("div",{className:"flex items-center gap-4 rounded-xl border border-border bg-card p-4",children:[p.jsx("span",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center text-sm font-overline text-primary shrink-0",children:"P"}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("div",{className:"text-sm text-foreground",children:"PDF / Text Upload"}),p.jsx("div",{className:"text-xs text-muted-foreground",children:"Upload a .pdf, .txt, or .md file"})]}),p.jsx("button",{onClick:()=>{var I;return(I=l.current)==null?void 0:I.click()},disabled:d,className:"flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-subheading transition-colors gradient-primary text-primary-foreground disabled:opacity-50",children:d?p.jsxs(p.Fragment,{children:[p.jsx(rt,{className:"w-3.5 h-3.5 animate-spin"})," Uploading..."]}):p.jsxs(p.Fragment,{children:[p.jsx(Uk,{className:"w-3.5 h-3.5"})," Upload"]})})]})]}),!r&&n&&n.length>0&&p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm text-foreground mb-3",children:"Import history"}),p.jsx("div",{className:"space-y-2",children:n.slice(0,5).map(I=>{const M=p3[I.provider]??{name:I.provider,icon:"?"};return p.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-border bg-muted/30 px-4 py-2.5",children:[p.jsx("span",{className:"w-7 h-7 rounded-md bg-primary/10 flex items-center justify-center text-[11px] font-overline text-primary shrink-0",children:M.icon}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("span",{className:"text-xs font-subheading text-foreground",children:M.name}),I.metadata&&I.metadata.sections_created!=null&&p.jsxs("span",{className:"text-xs text-muted-foreground ml-1.5",children:[" ",String(I.metadata.sections_created)," sections"]})]}),p.jsx("span",{className:`text-[11px] font-subheading ${I.status==="completed"?"text-success":I.status==="failed"?"text-destructive":"text-muted-foreground"}`,children:I.status==="completed"?"Completed":I.status==="failed"?"Failed":I.status==="processing"?"Processing...":"Pending"}),p.jsx("span",{className:"text-[11px] text-muted-foreground shrink-0",children:pte(I.started_at)})]},I.id)})})]}),E>0&&p.jsx("div",{className:"rounded-xl border border-destructive/20 bg-destructive/5 p-4",children:p.jsxs("div",{className:"flex items-center justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm text-foreground",children:"Start over"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Wipe all playbook sections, staged edits, chat history, and connections."})]}),y?p.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[p.jsx("button",{onClick:()=>w(!1),className:"rounded-lg px-3 py-1.5 text-xs font-subheading bg-muted hover:bg-muted/80 text-foreground transition-colors",children:"Cancel"}),p.jsx("button",{onClick:async()=>{b(null);try{await c.mutateAsync(),w(!1)}catch(I){b(I.message)}},disabled:c.isPending,className:"flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-subheading bg-destructive text-destructive-foreground hover:bg-destructive/90 transition-colors disabled:opacity-50",children:c.isPending?p.jsxs(p.Fragment,{children:[p.jsx(rt,{className:"w-3.5 h-3.5 animate-spin"})," Wiping..."]}):p.jsxs(p.Fragment,{children:[p.jsx(Sx,{className:"w-3.5 h-3.5"})," Confirm wipe"]})})]}):p.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-subheading bg-destructive/10 text-destructive hover:bg-destructive/20 transition-colors shrink-0",children:[p.jsx(Sx,{className:"w-3.5 h-3.5"})," Restart"]})]})})]})};function M_({provider:e,connected:t,loading:n,reimporting:r,onConnect:s,onReimport:i}){const o=p3[e]??{name:e,icon:"?"};return p.jsxs("div",{className:"flex items-center gap-4 rounded-xl border border-border bg-card p-4",children:[p.jsx("span",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center text-sm font-overline text-primary shrink-0",children:o.icon}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-sm text-foreground",children:o.name}),t&&p.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-success font-subheading",children:[p.jsx(Rr,{className:"w-3 h-3"})," Connected"]})]}),p.jsx("div",{className:"text-xs text-muted-foreground",children:t?"Re-import to refresh your playbook content":`Connect your ${o.name} workspace`})]}),n?p.jsx(rt,{className:"w-4 h-4 text-muted-foreground animate-spin"}):t?p.jsx("button",{onClick:i,disabled:r,className:"flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-subheading transition-colors bg-muted hover:bg-muted/80 text-foreground disabled:opacity-50",children:r?p.jsxs(p.Fragment,{children:[p.jsx(rt,{className:"w-3.5 h-3.5 animate-spin"})," Importing..."]}):p.jsxs(p.Fragment,{children:[p.jsx(g4,{className:"w-3.5 h-3.5"})," Re-import"]})}):p.jsxs("button",{onClick:s,className:"flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-subheading transition-colors gradient-primary text-primary-foreground",children:[p.jsx(s4,{className:"w-3.5 h-3.5"})," Connect"]})]})}function gte(e){return vi({queryKey:["confluence-spaces"],queryFn:async()=>{const{data:t,error:n}=await ve.functions.invoke("confluence-browse",{body:{action:"list-spaces"}});if(n)throw n;return t.spaces},enabled:e})}function yte(e){return vi({queryKey:["confluence-pages",e],queryFn:async()=>{const{data:t,error:n}=await ve.functions.invoke("confluence-browse",{body:{action:"list-pages",spaceId:e}});if(n)throw n;return t.pages},enabled:!!e})}function vte(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ip="Checkbox",[bte,Vte]=us(ip),[xte,tb]=bte(ip);function wte(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:a,onCheckedChange:u,required:l,value:c="on",internal_do_not_use_render:d}=e,[f,h]=To({prop:n,defaultProp:s??!1,onChange:u,caller:ip}),[g,y]=x.useState(null),[w,v]=x.useState(null),b=x.useRef(!1),E=g?!!o||!!g.closest("form"):!0,T={checked:f,disabled:i,setChecked:h,control:g,setControl:y,name:a,form:o,value:c,hasConsumerStoppedPropagationRef:b,required:l,defaultChecked:oi(s)?!1:s,isFormControl:E,bubbleInput:w,setBubbleInput:v};return p.jsx(xte,{scope:t,...T,children:Ete(d)?d(T):r})}var m3="CheckboxTrigger",g3=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:i,value:o,disabled:a,checked:u,required:l,setControl:c,setChecked:d,hasConsumerStoppedPropagationRef:f,isFormControl:h,bubbleInput:g}=tb(m3,e),y=ht(s,c),w=x.useRef(u);return x.useEffect(()=>{const v=i==null?void 0:i.form;if(v){const b=()=>d(w.current);return v.addEventListener("reset",b),()=>v.removeEventListener("reset",b)}},[i,d]),p.jsx(Re.button,{type:"button",role:"checkbox","aria-checked":oi(u)?"mixed":u,"aria-required":l,"data-state":w3(u),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:y,onKeyDown:Te(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:Te(n,v=>{d(b=>oi(b)?!0:!b),g&&h&&(f.current=v.isPropagationStopped(),f.current||v.stopPropagation())})})});g3.displayName=m3;var nb=x.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:u,onCheckedChange:l,form:c,...d}=e;return p.jsx(wte,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:a,required:o,onCheckedChange:l,name:r,form:c,value:u,internal_do_not_use_render:({isFormControl:f})=>p.jsxs(p.Fragment,{children:[p.jsx(g3,{...d,ref:t,__scopeCheckbox:n}),f&&p.jsx(x3,{__scopeCheckbox:n})]})})});nb.displayName=ip;var y3="CheckboxIndicator",v3=x.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,i=tb(y3,n);return p.jsx(fr,{present:r||oi(i.checked)||i.checked===!0,children:p.jsx(Re.span,{"data-state":w3(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});v3.displayName=y3;var b3="CheckboxBubbleInput",x3=x.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:a,disabled:u,name:l,value:c,form:d,bubbleInput:f,setBubbleInput:h}=tb(b3,e),g=ht(n,h),y=vte(i),w=l2(r);x.useEffect(()=>{const b=f;if(!b)return;const E=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(E,"checked").set,_=!s.current;if(y!==i&&S){const k=new Event("click",{bubbles:_});b.indeterminate=oi(i),S.call(b,oi(i)?!1:i),b.dispatchEvent(k)}},[f,y,i,s]);const v=x.useRef(oi(i)?!1:i);return p.jsx(Re.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??v.current,required:a,disabled:u,name:l,value:c,form:d,...t,tabIndex:-1,ref:g,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});x3.displayName=b3;function Ete(e){return typeof e=="function"}function oi(e){return e==="indeterminate"}function w3(e){return oi(e)?"indeterminate":e?"checked":"unchecked"}const dy=x.forwardRef(({className:e,...t},n)=>p.jsx(nb,{ref:n,className:ut("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:p.jsx(v3,{className:ut("flex items-center justify-center text-current"),children:p.jsx(Fl,{className:"h-4 w-4"})})}));dy.displayName=nb.displayName;function j_({className:e,...t}){return p.jsx("div",{className:ut("animate-pulse rounded-md bg-muted",e),...t})}const Tte=`# Taskbase Sales Playbook

## How to Use This Playbook

This playbook is your practical guide to selling effectively. It covers who we sell to, what to say, how to run meetings, and how to close deals. Use it as a daily reference  not a one-time read.

Every section is designed to give you actionable guidance. Adapt the examples to your own style, but stay consistent with the messaging and process.

---

# ICP & Problem Landscape

## Ideal Customer Profile

**Target companies:**
- B2B SaaS companies with 50500 employees
- Annual revenue between $5M$100M
- Have an established sales team (5+ reps)
- Selling a product with average deal size > $10K ARR
- Using at least a CRM (Salesforce, HubSpot) and basic sales tools

**Industries we win in:**
- Software & Technology
- Financial Services (FinTech)
- Professional Services
- Healthcare Technology

**Geographic focus:** North America, Western Europe

**Company signals that indicate fit:**
- Recently hired a VP of Sales or CRO
- Expanding their sales team (job postings for AEs/SDRs)
- Mentions of "sales enablement" or "revenue operations" in job postings
- Recently raised Series AC funding

## ICP Fit Assessment & Red Flags

**Strong fit indicators:**
- Sales team actively uses a CRM with structured pipeline stages
- Leadership is data-driven and tracks sales metrics
- They have (or are building) a sales playbook in some form
- Pain around onboarding new reps or inconsistent messaging

**Red flags  proceed with caution:**
- No dedicated sales team (founder-led sales only)
- Deal size < $5K ARR (ROI is harder to justify)
- No CRM or pipeline process in place
- "We don't believe in playbooks" mindset from leadership
- Company is in cost-cutting mode with hiring freeze

**Disqualification criteria (walk away):**
- Fewer than 3 sales reps
- No budget authority identified after 2 meetings
- Product is pre-revenue or pre-PMF
- They want a free tool, not a paid solution

## Persona Challenges & Success Metrics

### VP of Sales / CRO
**Challenges:**
- New reps take 6+ months to ramp
- Inconsistent messaging across the team
- No visibility into what "good" looks like
- Playbook exists but nobody uses it

**Success metrics:**
- Reduce ramp time from 6 months to 3 months
- Increase win rate by 1015%
- Standardize messaging across all reps

### Sales Enablement Manager
**Challenges:**
- Playbook content is scattered across tools (Google Docs, Notion, Confluence)
- Hard to keep content up to date
- No way to measure if reps are actually using the playbook
- Onboarding is ad-hoc and inconsistent

**Success metrics:**
- Single source of truth for all playbook content
- Measurable adoption and engagement
- Faster content updates and distribution

### Head of Revenue Operations
**Challenges:**
- Disconnected tools and processes
- No standardized methodology across teams
- Difficulty identifying skill gaps across the organization

**Success metrics:**
- Integrated workflow with existing CRM and tools
- Data-driven coaching recommendations
- Consistent process adherence

## Decision-Maker Roles & Buying Groups

**Typical buying committee:**

| Role | Involvement | What they care about |
|------|------------|---------------------|
| VP of Sales / CRO | Decision maker | Revenue impact, rep performance, scalability |
| Sales Enablement | Champion / Evaluator | Ease of use, content management, adoption |
| Rev Ops | Technical evaluator | Integrations, data, reporting |
| Finance / CFO | Budget approver | ROI, cost per rep, contract terms |
| Individual Rep | End user (sometimes consulted) | Ease of use, relevance of content |

**Key insight:** The champion is usually Sales Enablement, but the budget holder is VP of Sales or CRO. Always get both in the room by meeting 2.

## Use Cases & Proven Value

### Use Case 1: New Rep Onboarding
"A Series B SaaS company reduced new rep ramp time from 5.5 months to 2.5 months by giving every new hire a structured, interactive playbook on day one."

### Use Case 2: Messaging Consistency
"A 40-person sales team went from 15 different elevator pitches to one unified message framework. Their demo-to-close rate improved by 22%."

### Use Case 3: Playbook Modernization
"A VP of Sales had a 90-page PDF playbook that nobody read. After migrating to an interactive format, weekly playbook engagement went from 2% to 68% of the team."

### Use Case 4: Skill Gap Analysis
"A CRO discovered that 80% of their team couldn't handle pricing objections effectively. Targeted coaching on that single skill improved average deal size by 18%."

---

# Value Proposition & Messaging

## Core Value Proposition

**One-liner:** We help sales teams turn their playbook into a living tool that reps actually use  so every rep sells like your best rep.

**Elevator pitch (30 seconds):**
"Most sales teams have a playbook somewhere  a PDF, a Notion doc, a Confluence page. The problem is nobody reads it, it's always out of date, and there's no way to know if your team is actually following it. We turn that static document into an interactive, always-current guide that identifies skill gaps and helps reps improve where it matters most."

**Value pillars:**
1. **Living playbook**  Not a static document. Always current, always accessible.
2. **Skill gap visibility**  See exactly where each rep needs to improve.
3. **Faster ramp**  New reps get up to speed in weeks, not months.
4. **Consistent execution**  Every rep follows the same proven process.

## Persona-Specific Messaging

### For VP of Sales / CRO:
"You've invested in building a playbook, but how do you know your team is following it? We give you visibility into skill gaps across your team and help every rep execute like your top performer."

### For Sales Enablement:
"You're spending hours maintaining playbook content across scattered docs. We give you one place to manage everything, with built-in analytics so you can see what's working and what's not."

### For Rev Ops:
"We integrate with your existing stack and give you data on process adherence and skill coverage  so you can make coaching recommendations based on evidence, not gut feel."

## Pitch Scripts

### Cold call opener:
"Hi [Name], this is [Your Name] from Taskbase. I'm reaching out because I noticed you're scaling your sales team  congrats on the growth. Quick question: how are you onboarding new reps right now? Do they have a structured playbook to follow, or is it more ad-hoc?"

### Email sequence  first touch:
Subject: Your playbook is probably a PDF nobody reads

"Hi [Name],

I talk to sales leaders every week who tell me the same thing: they have a playbook, but their reps don't use it.

The usual reasons: it's out of date, it's buried in a doc somewhere, and there's no way to know if anyone's actually reading it.

We help teams like [similar company] turn their playbook into something reps open every day. Their ramp time dropped by 50%.

Worth a 15-minute chat?"

### LinkedIn message:
"Hi [Name]  saw you're growing the sales team at [Company]. Curious: how are you handling playbook and onboarding for new reps? We've helped similar teams cut ramp time in half. Happy to share how if you're interested."

## Objection Handling Foundations

**Framework: Acknowledge  Clarify  Respond  Redirect**

When handling objections, follow this pattern:
1. **Acknowledge**  Show you heard them. "That's a fair concern."
2. **Clarify**  Make sure you understand. "Can you tell me more about what's driving that?"
3. **Respond**  Address with evidence or reframe. Use customer stories when possible.
4. **Redirect**  Move the conversation forward. "Given that, would it make sense to..."

**Key principle:** Objections are buying signals. They mean the prospect is engaged enough to push back. Never get defensive.

## Product Capabilities & Customer Outcomes

| Capability | What it does | Customer outcome |
|-----------|-------------|-----------------|
| Playbook import | Brings in content from Notion, Confluence, PDF | No starting from scratch  use what you have |
| Skill mapping | Maps playbook sections to sales skills framework | See exactly what's covered and what's missing |
| Gap analysis | Identifies missing or weak playbook areas | Prioritize what to fix first |
| AI coaching | Suggests improvements for weak sections | Better content without hiring a consultant |
| Section editing | Edit and improve playbook content in-app | Keep the playbook current and relevant |
| Health score | Overall playbook quality metric | Track improvement over time |

---

# Sales Vocabulary & Buyer Language

## Internal Sales Terminology

| Term | Definition |
|------|-----------|
| Health score | Percentage of skills covered in the customer's playbook |
| Skill gap | A sales skill that's missing or poorly covered in the playbook |
| Coverage | How well a playbook section addresses a specific skill |
| Section | A discrete topic area within the playbook |
| Ramp time | Time from new rep hire to full productivity |

## Buyer-Facing Terminology

Use language the buyer uses, not our internal jargon:

| We say internally | Say this to buyers |
|-------------------|-------------------|
| Skill mapping | "We analyze your playbook to find gaps" |
| Health score | "Your playbook quality score" |
| Import pipeline | "We bring in your existing playbook content" |
| Section analysis | "We break down your playbook by topic" |

## Terms to Avoid & Correct Usage

**Avoid:**
- "AI-powered" (overused, triggers skepticism)  Say "smart analysis" or just describe what it does
- "Disruptive"  Say "different approach" or "better way"
- "Synergy"  Be specific about what integrates with what
- "Best-in-class"  Use specific metrics or customer quotes instead
- "Paradigm shift"  Just explain the change plainly

**Correct usage examples:**
- Don't say: "Our AI-powered platform disrupts sales enablement"
- Do say: "We analyze your playbook and show you exactly which skills your team needs to work on"

## Key Industry Terms

Know these terms  your buyers use them daily:

- **Sales enablement:** The process of providing reps with the tools, content, and training they need to sell effectively
- **Revenue operations (Rev Ops):** The function that aligns sales, marketing, and CS operations
- **MEDDIC/MEDDPICC:** Popular qualification frameworks (Metrics, Economic Buyer, Decision Process, Decision Criteria, Identify Pain, Champion, Competition)
- **BANT:** Budget, Authority, Need, Timeline  classic qualification framework
- **ACV/ARR:** Annual Contract Value / Annual Recurring Revenue
- **Stage progression:** Movement of a deal through pipeline stages
- **Win rate:** Percentage of opportunities that close-won

## Correct Language Examples

**In a discovery call:**
-  "What does your onboarding process look like for new reps today?"
-  "Do you have a playbook?" (too direct, might get a defensive "yes" even if it's bad)

**When discussing value:**
-  "Teams like yours typically see ramp time drop by 40-50%"
-  "We guarantee faster ramp times" (never guarantee specific outcomes)

**When talking about competition:**
-  "The approach we take is different because we start with what you already have"
-  "Competitor X is terrible because they make you start from scratch"

---

# Qualification & Risk Assessment

## Qualification Methodology

We use a simplified MEDDIC approach adapted for our sales motion:

| Element | Question to answer | Minimum bar |
|---------|-------------------|-------------|
| **Metrics** | What measurable outcome do they want? | Can articulate at least one (ramp time, win rate, etc.) |
| **Economic Buyer** | Who signs the check? | Identified by name and title |
| **Decision Process** | How do they evaluate and buy? | Understand steps and timeline |
| **Decision Criteria** | What matters most to them? | Know their top 3 priorities |
| **Identified Pain** | What's broken today? | Can describe a specific, current problem |
| **Champion** | Who is selling internally for us? | Have an engaged internal advocate |

## ICP Fit in Qualification

Score each deal on ICP fit early (in discovery or first call):

**A-tier (pursue aggressively):**
- 50-500 employees, $10M+ revenue
- Established sales team with 10+ reps
- Active sales enablement function
- Budget confirmed or likely

**B-tier (pursue with conditions):**
- 20-50 employees or 500-1000 employees
- Sales team of 5-10 reps
- No dedicated enablement but VP Sales is engaged
- Budget TBD but interest is genuine

**C-tier (qualify harder before investing time):**
- <20 employees or >1000 (different motion needed)
- Very early sales team (<5 reps)
- No clear champion
- "Just exploring" with no timeline

## Risk Detection Guidance

**Watch for these during discovery and demo:**

- **"We need to check with..." (unnamed person)**  Decision process is unclear. Ask: "Can you walk me through who else would need to weigh in?"
- **Multiple reschedules**  Low priority or champion losing interest. Address directly.
- **"Can you just send a proposal?"**  They may be comparison shopping. Push for a meeting to present it live.
- **No access to economic buyer by meeting 3**  Deal may stall. Escalate with champion.
- **"We're also looking at [competitor]"**  Normal, but ask what criteria they're evaluating on.

## Deal Health Flags

**Green flags (healthy deal):**
- Champion actively engaged and responsive
- Multiple stakeholders involved
- Clear timeline and budget range discussed
- They're sharing internal context freely
- Next steps are always confirmed

**Yellow flags (needs attention):**
- Communication slowing down
- Rescheduled meetings
- Only one person engaged
- "We need more time" without specifics
- Asking for heavy discounts early

**Red flags (deal at risk):**
- Gone dark for 2+ weeks
- Champion left the company
- "We decided to build internally"
- No budget allocated and no plan to get it
- They won't introduce you to the economic buyer

## True Requirements vs Nice-to-Haves

During qualification, separate what they actually need from wish-list items:

**Ask:** "If you could only solve one problem with a tool like this, what would it be?"

**True requirements** (deal-breakers if missing):
- Must integrate with their CRM
- Must support their existing content (Notion/Confluence/PDF)
- Must be usable by reps without training
- Must have a way to measure adoption

**Nice-to-haves** (want but won't kill the deal):
- Custom branding
- Advanced analytics
- API access
- SSO (unless enterprise)

---

# Sales Process & Meeting Sequences

## Sales Process Overview

| Stage | Goal | Key activities | Typical duration |
|-------|------|---------------|-----------------|
| 1. Prospecting | Generate interest | Cold outreach, inbound follow-up | Ongoing |
| 2. Discovery | Understand their world | Discovery call, stakeholder mapping | 1-2 weeks |
| 3. Demo | Show the solution | Tailored demo, technical validation | 1 week |
| 4. Proposal | Present the deal | Pricing, business case, negotiation | 1-2 weeks |
| 5. Close | Get the signature | Contract review, final objections | 1-2 weeks |

**Average sales cycle:** 30-45 days for mid-market, 60-90 days for enterprise.

## Stage Exit Criteria

**Prospecting  Discovery:**
- Prospect agreed to a meeting
- Basic ICP fit confirmed (company size, industry)
- Key contact identified

**Discovery  Demo:**
- Pain identified and articulated by the prospect
- At least one success metric discussed
- Champion identified
- ICP fit confirmed (A or B tier)

**Demo  Proposal:**
- Demo completed with positive feedback
- Economic buyer identified (even if not yet met)
- Decision timeline discussed
- No blocking technical requirements

**Proposal  Close:**
- Proposal delivered and reviewed
- All decision makers have seen the solution
- Pricing discussed and within range
- Legal/procurement process started

## Meeting Sequences

### Meeting 1: Discovery Call (30 min)
**Agenda:**
1. Introductions and context (5 min)
2. Their current state and challenges (15 min)
3. Quick overview of our approach (5 min)
4. Next steps (5 min)

**Goal:** Understand their pain, confirm ICP fit, earn the demo.

### Meeting 2: Tailored Demo (45 min)
**Agenda:**
1. Recap discovery findings (5 min)
2. Tailored demo based on their pain points (25 min)
3. Q&A and objection handling (10 min)
4. Next steps  introduce economic buyer (5 min)

**Goal:** Show them what "good" looks like for their specific situation.

### Meeting 3: Business Case / Proposal Review (30 min)
**Agenda:**
1. Recap value and fit (5 min)
2. Walk through proposal and pricing (15 min)
3. Address concerns (5 min)
4. Discuss timeline and next steps (5 min)

**Goal:** Get verbal agreement and start procurement.

## Process Best Practices & Examples

**Always:**
- Send a recap email within 2 hours of every meeting
- Confirm next meeting before ending the current one
- Share something valuable (insight, benchmark, article) between meetings
- Keep your CRM updated same-day

**Example recap email:**
"Hi [Name], thanks for the great conversation today. Here's what I took away:
- Your main challenge is [X]
- You're looking for [Y] outcome
- Next step: [specific action and date]

Let me know if I missed anything. Looking forward to [next meeting]."

## Common Mistakes & What Good Looks Like

| Mistake | What good looks like |
|---------|---------------------|
| Demoing without discovery | Always do discovery first  even if they insist on "just a quick demo" |
| Talking to only one person | Get 2+ stakeholders involved by meeting 2 |
| Sending a proposal without presenting it | Always walk through the proposal live |
| Letting deals go dark | Follow up within 48 hours if you don't hear back |
| Discounting too early | Understand their budget first, then discuss pricing |
| Skipping the recap email | Send one after every single meeting |

---

# Discovery & Customer-Centric Questioning

## Company-Specific Discovery Questions

**Understanding their current state:**
- "Walk me through how a new rep gets up to speed today. What's the process?"
- "Where does your sales playbook live right now? Is it one doc or scattered across tools?"
- "When was the last time your playbook was updated?"
- "How do you know if your reps are actually following the playbook?"

**Understanding the impact:**
- "What happens when a rep goes off-script? How often does that happen?"
- "How long does it take a new rep to hit quota today?"
- "If you could wave a magic wand and fix one thing about your sales team's execution, what would it be?"

## Stakeholder Mapping Questions

- "Besides yourself, who else cares about how the sales team is ramping and executing?"
- "Who would need to sign off on a purchase like this?"
- "Is there a Rev Ops or enablement team involved in evaluating tools?"
- "How have you made similar decisions in the past? What was the process?"

## Discovery-to-Value Connection

Map what you learn in discovery to the value you present in the demo:

| They say... | You show... |
|------------|------------|
| "Our playbook is a 90-page PDF" | Import their PDF and show it analyzed in minutes |
| "New reps take 6 months to ramp" | Skill gap analysis showing exactly where to focus |
| "We don't know if reps follow the process" | Health score and coverage metrics |
| "Content is spread across Notion and Confluence" | Multi-source import bringing everything together |
| "Our messaging is inconsistent" | Messaging section with clear talk tracks |

## True Requirements Probing

- "You mentioned you need [X]. Help me understand  what happens if you don't have that?"
- "If [X feature] wasn't available, would that be a deal-breaker or just a preference?"
- "What's the minimum you need to see in a tool to feel confident moving forward?"
- "Which of these capabilities would have the biggest impact on your team tomorrow?"

## Decision Process Uncovering

- "What does your evaluation process typically look like for a tool like this?"
- "Are there other solutions you're comparing us against?"
- "What's your ideal timeline for having something in place?"
- "Is there a budget allocated for this, or would we need to make the case for it?"
- "Who else would need to see a demo before you could move forward?"

---

# Demo & Solution Fit

## Demo Storyline & Sequence

**The golden rule:** Never demo features. Demo outcomes.

**Standard demo flow (25 minutes):**

1. **Set the stage (3 min):** "Based on what you told me, your biggest challenge is [X]. Let me show you how we'd solve that."

2. **Import their world (5 min):** Show importing from whatever source they use (Notion, Confluence, or PDF). Use their actual content if possible, or a similar example.

3. **Show the analysis (7 min):** Walk through the skill mapping and health score. Highlight gaps that match their stated pain points.

4. **Demonstrate improvement (5 min):** Show how they'd fill a gap  edit a section, get AI suggestions, see the health score improve.

5. **Connect to outcomes (5 min):** "Imagine every new rep started day one with this. Instead of 6 months to ramp, you're looking at 2-3 months."

## Customer-Specific Demo Examples

**For a company with a PDF playbook:**
"I see you have a comprehensive PDF. Let me show you what happens when we import it..."  Import their actual PDF, show the analysis, highlight that 30% of skills might be missing.

**For a company using Notion:**
"You've got great content in Notion. Let me connect to a similar workspace and show you how it all comes together..."  Show Notion import flow, emphasize that scattered pages become one structured playbook.

**For a company with no playbook:**
"Starting from scratch is actually an advantage  you get to build it right from day one. Let me show you our template..."  Use the Taskbase template playbook, show how comprehensive it is out of the box.

## Solution Fit Assessment

Before the demo, rate solution fit on these dimensions:

| Dimension | Good fit | Stretch | Poor fit |
|-----------|----------|---------|----------|
| Content source | Uses Notion, Confluence, or has PDFs | Uses a tool we don't integrate with yet | No existing content and no willingness to create |
| Team size | 5-100 reps | 100-500 reps (need enterprise features) | <5 reps (ROI hard to justify) |
| Process maturity | Has defined stages and some playbook content | Has a process but it's informal | No process at all |
| Tech savviness | Comfortable with SaaS tools | Needs hand-holding | Resistant to new tools |

## Persona-Based Demo Adaptation

**For VP of Sales:** Focus on health score, skill gaps across the team, and ramp time impact. Skip technical details.

**For Sales Enablement:** Focus on content management, import flow, editing experience. Show how easy it is to update and maintain.

**For Rev Ops:** Focus on integrations, data and metrics, process adherence tracking. Show the analytical side.

**For a mixed audience:** Lead with the business outcome (VP), show the product (Enablement), address technical questions (Rev Ops).

## Risk Areas & Humility

**Be honest about what we don't do (yet):**
- "We're not a replacement for your CRM  we complement it"
- "Our analytics are focused on playbook coverage, not individual rep performance tracking"
- "We don't do live call coaching  we help with the preparation and knowledge side"

**When they ask about something we can't do:**
"That's not something we support today. What I'd recommend is [alternative approach]. Would that work for your situation?"

Never overpromise. It's better to lose a deal honestly than win one that churns.

---

# Objection & Pricing Handling

## Context-Aware Objection Handling

### "We already have a playbook"
**Context:** They have content but it's not working.
**Response:** "That's actually ideal  we're not asking you to start over. We take what you have and make it actionable. Most teams we work with have a playbook; the challenge is that nobody uses it. Can I ask: when was the last time a rep actually opened your playbook?"

### "We don't have budget for this"
**Context:** Budget isn't allocated yet.
**Response:** "Understood  budget is always a consideration. Let me ask this: what's the cost of one rep taking 6 months to ramp instead of 3? For most teams our size, that's $50-100K in lost productivity. We can help you build the business case if that would be useful."

### "We're evaluating other solutions"
**Context:** Competitive situation.
**Response:** "Smart to look at options. What criteria are you evaluating against? I want to make sure we're addressing what matters most to you. What I hear from teams that chose us is that our approach of starting with their existing content  rather than making them build from scratch  is what set us apart."

### "We can build this internally"
**Context:** DIY consideration.
**Response:** "You absolutely could. The question is whether that's the best use of your team's time. Most teams we talk to tried the internal route first  a Google Doc here, a Notion page there  and found that maintaining it became a full-time job. How much time is your enablement team spending on playbook maintenance today?"

### "This seems too simple / not enterprise enough"
**Context:** Enterprise buyer wants complexity.
**Response:** "Simplicity is actually intentional. The #1 reason playbook tools fail is because they're too complex for reps to use daily. We focus on making something your team will actually open every day. That said, let me show you the analytics and customization options  there's depth beneath the simplicity."

## Persona-Specific Objection Patterns

**VP of Sales objections tend to be about:** ROI, time to value, will reps actually use it.
 Respond with metrics, customer stories, and adoption data.

**Enablement objections tend to be about:** Ease of content management, migration effort, feature gaps.
 Respond with product demos, import flow, and roadmap.

**Rev Ops objections tend to be about:** Integrations, data security, technical requirements.
 Respond with documentation, architecture overview, and reference calls.

## Pricing Question Guidelines

**When they ask "How much does it cost?" early:**
"Pricing depends on team size and needs. Before I give you a number, I want to make sure we're solving the right problem  that way I can recommend the right package. Can I ask a few more questions first?"

**When presenting pricing:**
- Always present pricing in context of value, not in isolation
- Show the cost per rep per month (makes it feel small)
- Compare to the cost of the problem (slow ramp, lost deals)
- Offer annual pricing with a discount

**Discount guidelines:**
- Never discount more than 15% without manager approval
- Prefer adding value (extended trial, extra onboarding support) over cutting price
- Annual commitment = standard discount (10-15% over monthly)
- Multi-year deals can go up to 20% with VP approval

## Top Rep Response Examples

**When a deal is stalling:**
Top rep: "Hey [Name], I want to be upfront  I noticed we've pushed this meeting twice. I totally understand if priorities have shifted. Can you help me understand where this stands on your end? If the timing isn't right, that's okay  I'd rather know so I can be helpful when it is."

**When asked for a deep discount:**
Top rep: "I hear you on budget constraints. Here's what I can do: if we go with an annual commitment, I can offer [X]% off. But more importantly, let me show you the ROI model  most teams see payback within 60 days based on ramp time reduction alone."

## Trust Preservation Do's & Don'ts

**Do:**
- Admit when you don't know something: "Great question  let me check and get back to you by tomorrow"
- Acknowledge their concerns genuinely before responding
- Share both pros and cons of your approach
- Reference specific customer examples (with permission)
- Follow through on every promise, no matter how small

**Don't:**
- Trash talk competitors
- Make promises about future features without confirming with product
- Pressure a prospect into a decision they're not ready for
- Ignore concerns or try to "handle" them away
- Use high-pressure closing tactics

---

# Tools, Tech Stack & Usage

## CRM Usage Rules & Fields

**Required fields for every opportunity:**

| Field | When to update | Format |
|-------|---------------|--------|
| Stage | After every meeting | Use standard stage names |
| Next Step | After every interaction | Specific action + date |
| Close Date | Discovery onwards | Best estimate, update weekly |
| Amount | After pricing discussion | Annual contract value |
| Champion | Once identified | Contact name |
| Competition | When discovered | Competitor name(s) |
| Notes | After every meeting | Key takeaways, not transcripts |

**CRM hygiene rules:**
- Update opportunity stage within 24 hours of stage change
- Every opportunity must have a next step with a date
- Add meeting notes the same day
- Flag at-risk deals immediately, don't wait for pipeline review

## Sales Engagement Tools

| Tool | Purpose | When to use |
|------|---------|-------------|
| CRM (Salesforce/HubSpot) | Pipeline management | Every deal, every day |
| Email sequencing tool | Outbound prospecting | Prospecting stage |
| Calendar/scheduling tool | Meeting booking | All stages |
| Video conferencing | Virtual meetings | Discovery, demo, proposal |
| Document sharing | Proposals, case studies | Demo onwards |
| Sales intelligence | Research & signals | Pre-call research |

## Handover Processes

**SDR to AE handover:**
1. SDR books the meeting and sends intro email (cc AE)
2. SDR fills out handover note: company context, pain points mentioned, contact details
3. AE reviews handover before the meeting
4. AE sends a follow-up to the SDR after discovery: qualified or not, and why

**AE to CS handover (post-close):**
1. AE fills out customer handover doc: why they bought, key stakeholders, success criteria, potential risks
2. AE introduces CS manager via email before contract starts
3. AE joins the first onboarding call
4. CS owns the relationship from onboarding day 1

## Meeting Notes Standards

**Every meeting note should include:**
1. **Attendees**  Who was there, their roles
2. **Key takeaways**  3-5 bullet points on what you learned
3. **Objections raised**  What concerns came up
4. **Next steps**  Specific actions with owners and dates
5. **Deal health update**  Any change to risk level or timeline

**Template:**
"Date: [Date] | Attendees: [Names & roles]
Takeaways: [bullets]
Objections: [bullets]
Next steps: [who does what by when]
Deal health: [green/yellow/red + reason]"

## Forecasting Expectations

**Commit categories:**
- **Commit:** 90%+ probability. Contract sent, verbal agreement, just waiting on signatures.
- **Best case:** 60-80% probability. Demo done, proposal being reviewed, no blockers identified.
- **Pipeline:** 30-50% probability. Discovery done, solution fit confirmed, but not all decision makers engaged.
- **Upside:** <30% probability. Early stage, still qualifying.

**Rules:**
- Only forecast deals you've had a conversation about in the last 14 days
- If you haven't talked to the prospect in 2 weeks, move it to upside
- Close dates must be based on the prospect's timeline, not yours
- Update your forecast every Friday before end of day

---

# Opportunity Management & Deal Control

## Mutual Commitment Checklists

**Before requesting a proposal meeting:**
- [ ] Discovery completed with identified pain
- [ ] At least 2 stakeholders engaged
- [ ] Economic buyer identified by name
- [ ] Budget range discussed
- [ ] Decision timeline confirmed
- [ ] No unresolved blocking objections

**Before sending a contract:**
- [ ] Pricing and terms verbally agreed
- [ ] All decision makers have seen the demo
- [ ] Legal/procurement requirements identified
- [ ] Implementation timeline discussed
- [ ] Success criteria defined

## Next-Step Control Techniques

**The "specific ask" approach:**
Instead of: "Let's reconnect next week"
Say: "I'd love to schedule a 30-minute demo for you and [other stakeholder] next Tuesday or Wednesday. Does 2pm work?"

**The "mutual agenda" approach:**
"For our next meeting, I think it would be valuable to [specific agenda item]. Would it make sense to include [other stakeholder] since they'd need to weigh in on [specific topic]?"

**The "pre-commitment" approach:**
"If the demo goes well and you see the value, what would the next step be on your end? I want to make sure we're aligned on the process."

## Internal Alignment Playbook

**When to involve your manager:**
- Deal is > $50K ACV
- Enterprise prospect with complex buying committee
- Prospect asks for non-standard terms
- Deal has been stuck for > 2 weeks
- You need executive alignment (your VP to their VP)

**How to ask for help:**
Come with context, not just a request. Share: deal background, where it's stuck, what you've tried, and what you think would help.

## Opportunity Prioritization

**Focus your time based on this matrix:**

| | High ICP fit | Low ICP fit |
|---|---|---|
| **Strong engagement** | Top priority  invest heavily | Qualify harder  might not be a fit |
| **Low engagement** | Re-engage  they should be a fit | Deprioritize  move to nurture |

**Weekly priority check:**
1. Which deals have a next step this week?
2. Which deals are at risk of stalling?
3. Which new opportunities need qualification?
4. Which deals should I deprioritize or close-lost?

## Decision Process Understanding

**Map the buying process early:**

Questions to ask:
- "Have you bought a tool like this before? What was the process?"
- "Who needs to approve a purchase in this price range?"
- "Is there a procurement or legal review involved?"
- "What's your typical timeline from 'yes we want this' to signed contract?"

**Common buying processes:**

| Company size | Typical process | Timeline |
|-------------|----------------|----------|
| < 100 employees | VP decides, maybe one other person | 2-4 weeks |
| 100-500 employees | Committee of 3-5, possibly procurement | 4-8 weeks |
| 500+ employees | Formal procurement, security review, legal | 8-16 weeks |

**Pro tip:** Ask about the process in meeting 1. Don't wait until you're trying to close.
`;function _te(e){const t=new Set(e.map(s=>s.id)),n=new Map;for(const s of e){const i=s.parentId&&t.has(s.parentId)?s.parentId:null,o=n.get(i)??[];o.push(s),n.set(i,o)}function r(s,i){return(n.get(s)??[]).map(o=>({...o,depth:i,children:r(o.id,i+1)}))}return r(null,0)}function E3(e){const t=[];for(const n of e)t.push(n),t.push(...E3(n.children));return t}function T3(e){const t=[];for(const n of e.children)t.push(n.id),t.push(...T3(n));return t}const F_=[{id:"taskbase",name:"Taskbase Playbook",icon:"TB",desc:"Start with our ready-made sales playbook",isOAuth:!1},{id:"notion",name:"Notion",icon:"N",desc:"Connect your Notion workspace",isOAuth:!0},{id:"confluence",name:"Confluence",icon:"C",desc:"Link your Confluence space",isOAuth:!0},{id:"pdf",name:"PDF Upload",icon:"P",desc:"Upload a playbook PDF",isOAuth:!1}],Ste=({onComplete:e})=>{const{data:t}=ZN(),n=t?t.missing+t.partial:0,r=aI(),s=x.useRef(null),[i,o]=x.useState("source"),[a,u]=x.useState("extracting"),l=d3(u),c=h3(),d=f3(),[f,h]=x.useState(null),[g,y]=x.useState(null),[w,v]=x.useState(null),[b,E]=x.useState(new Set),[T,S]=x.useState(new Set),_=gte(i==="pick-space"),k=yte(i==="pick-pages"?w:null),I=x.useMemo(()=>_te(k.data??[]),[k.data]),M=x.useMemo(()=>E3(I),[I]),P=x.useMemo(()=>{const L=new Map;for(const C of M)L.set(C.id,C);return L},[M]);x.useEffect(()=>{const L=new URLSearchParams(window.location.search),C=L.get("connected"),te=L.get("error");if((C||te)&&window.history.replaceState({},"",window.location.pathname),te){y(`OAuth failed: ${te.replace(/_/g," ")}`);return}C==="notion"&&(u("extracting"),o("analyzing"),c.mutate(void 0,{onSuccess:()=>e(),onError:j=>{y(j.message),o("source")}})),C==="confluence"&&o("pick-space")},[]);const H=async()=>{var C;if(!f)return;y(null);const L=F_.find(te=>te.id===f);if(L)if(f==="taskbase"){o("analyzing");try{u("extracting"),await l.mutateAsync({provider:"taskbase",content:Tte}),e()}catch(te){y(te.message),o("source")}}else if(L.isOAuth)try{await r(f)}catch{y(`Could not start ${L.name} OAuth. Make sure the edge functions are running (supabase functions serve).`)}else f==="pdf"&&((C=s.current)==null||C.click())},U=async L=>{var te;const C=(te=L.target.files)==null?void 0:te[0];if(C){o("analyzing");try{if(u("extracting"),C.name.endsWith(".pdf")){const j=await C.arrayBuffer(),A=btoa(new Uint8Array(j).reduce((X,ne)=>X+String.fromCharCode(ne),""));await l.mutateAsync({provider:"pdf",pdfBase64:A})}else{const j=await C.text();await l.mutateAsync({provider:"pdf",content:j})}e()}catch(j){y(j.message),o("source")}}},G=L=>{v(L),E(new Set),S(new Set),o("pick-pages")},W=L=>{const C=P.get(L);if(!C)return;const te=T3(C);E(j=>{const A=new Set(j);if(A.has(L)){A.delete(L);for(const X of te)A.delete(X)}else{A.add(L);for(const X of te)A.add(X)}return A})},K=L=>{S(C=>{const te=new Set(C);return te.has(L)?te.delete(L):te.add(L),te})},ie=()=>{const L=k.data??[];b.size===L.length?E(new Set):E(new Set(L.map(C=>C.id)))},J=L=>L.map(C=>{const te=C.children.length>0,j=T.has(C.id);return p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 rounded-lg py-2 hover:bg-muted/50 transition-colors",style:{paddingLeft:`${C.depth*20+12}px`,paddingRight:12},children:[te?p.jsx("button",{onClick:()=>K(C.id),className:"w-5 h-5 flex items-center justify-center shrink-0 text-muted-foreground hover:text-foreground",children:p.jsx(Fk,{className:`w-3.5 h-3.5 transition-transform ${j?"rotate-90":""}`})}):p.jsx("span",{className:"w-5"}),p.jsxs("label",{className:"flex items-center gap-2.5 min-w-0 flex-1 cursor-pointer",children:[p.jsx(dy,{checked:b.has(C.id),onCheckedChange:()=>W(C.id)}),p.jsx("span",{className:"text-sm text-foreground truncate",children:C.title}),te&&p.jsx("span",{className:"text-[10px] text-muted-foreground shrink-0",children:C.children.length})]})]}),te&&j&&J(C.children)]},C.id)}),B=()=>{y(null),u("extracting"),o("analyzing"),d.mutate([...b],{onSuccess:()=>e(),onError:L=>{y(L.message),o("pick-pages")}})};return p.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:p.jsxs(Ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-lg rounded-2xl border border-border bg-card p-8 shadow-card",children:[p.jsx("input",{ref:s,type:"file",accept:".pdf,.txt,.md",className:"hidden",onChange:U}),p.jsxs(nc,{mode:"wait",children:[i==="source"&&p.jsxs(Ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[p.jsx("h2",{className:"text-2xl text-foreground mb-1",children:"Connect your playbook"}),p.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Choose where your sales playbook lives"}),p.jsx("div",{className:"space-y-2 mb-6",children:F_.map(L=>p.jsxs("button",{onClick:()=>h(L.id),className:`w-full flex items-center gap-4 rounded-xl p-4 border transition-all ${f===L.id?"border-primary bg-primary/5 shadow-glow":"border-border bg-muted/30 hover:border-muted-foreground/30"}`,children:[p.jsx("span",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center text-sm font-overline text-primary",children:L.icon}),p.jsxs("div",{className:"text-left",children:[p.jsx("div",{className:"text-sm font-subheading text-foreground",children:L.name}),p.jsx("div",{className:"text-xs text-muted-foreground",children:L.desc})]}),f===L.id&&p.jsx(Rr,{className:"w-5 h-5 text-primary ml-auto"})]},L.id))}),g&&p.jsxs("div",{className:"flex items-start gap-2 rounded-lg border border-destructive/30 bg-destructive/5 p-3 mb-3",children:[p.jsx(zu,{className:"w-4 h-4 text-destructive mt-0.5 shrink-0"}),p.jsx("p",{className:"text-xs text-destructive",children:g})]}),p.jsx("button",{onClick:H,disabled:!f,className:"w-full flex items-center justify-center gap-2 rounded-xl gradient-primary py-3 text-sm font-subheading text-primary-foreground disabled:opacity-30 transition-opacity",children:f==="taskbase"?p.jsxs(p.Fragment,{children:["Use Template & Analyze",p.jsx($u,{className:"w-4 h-4"})]}):f==="pdf"?p.jsxs(p.Fragment,{children:[p.jsx(Uk,{className:"w-4 h-4"}),"Upload & Analyze"]}):p.jsxs(p.Fragment,{children:["Connect & Analyze",p.jsx($u,{className:"w-4 h-4"})]})})]},"source"),i==="pick-space"&&p.jsxs(Ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[p.jsxs("button",{onClick:()=>o("source"),className:"flex items-center gap-1 text-xs text-muted-foreground hover:text-foreground mb-4 transition-colors",children:[p.jsx(Ex,{className:"w-3 h-3"}),"Back"]}),p.jsx("h2",{className:"text-2xl text-foreground mb-1",children:"Select a space"}),p.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Choose the Confluence space that contains your playbook"}),_.isLoading&&p.jsx("div",{className:"space-y-2",children:Array.from({length:4}).map((L,C)=>p.jsx(j_,{className:"h-14 w-full rounded-xl"},C))}),_.error&&p.jsxs("div",{className:"flex items-start gap-2 rounded-lg border border-destructive/30 bg-destructive/5 p-3",children:[p.jsx(zu,{className:"w-4 h-4 text-destructive mt-0.5 shrink-0"}),p.jsx("p",{className:"text-xs text-destructive",children:_.error.message})]}),_.data&&p.jsx("div",{className:"max-h-72 overflow-y-auto pr-1",children:p.jsx("div",{className:"space-y-2",children:_.data.map(L=>p.jsxs("button",{onClick:()=>G(L.id),className:"w-full flex items-center gap-4 rounded-xl p-4 border border-border bg-muted/30 hover:border-muted-foreground/30 transition-all text-left",children:[p.jsx("span",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center text-xs font-overline text-primary uppercase",children:L.key.slice(0,2)}),p.jsxs("div",{className:"min-w-0 flex-1",children:[p.jsx("div",{className:"text-sm font-subheading text-foreground truncate",children:L.name}),p.jsx("div",{className:"text-xs text-muted-foreground",children:L.key})]}),p.jsx($u,{className:"w-4 h-4 text-muted-foreground shrink-0"})]},L.id))})})]},"pick-space"),i==="pick-pages"&&p.jsxs(Ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[p.jsxs("button",{onClick:()=>{o("pick-space"),v(null),E(new Set)},className:"flex items-center gap-1 text-xs text-muted-foreground hover:text-foreground mb-4 transition-colors",children:[p.jsx(Ex,{className:"w-3 h-3"}),"Back"]}),p.jsx("h2",{className:"text-2xl text-foreground mb-1",children:"Select pages"}),p.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose which pages contain your sales playbook"}),k.isLoading&&p.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((L,C)=>p.jsx(j_,{className:"h-10 w-full rounded-lg"},C))}),k.error&&p.jsxs("div",{className:"flex items-start gap-2 rounded-lg border border-destructive/30 bg-destructive/5 p-3 mb-3",children:[p.jsx(zu,{className:"w-4 h-4 text-destructive mt-0.5 shrink-0"}),p.jsx("p",{className:"text-xs text-destructive",children:k.error.message})]}),g&&p.jsxs("div",{className:"flex items-start gap-2 rounded-lg border border-destructive/30 bg-destructive/5 p-3 mb-3",children:[p.jsx(zu,{className:"w-4 h-4 text-destructive mt-0.5 shrink-0"}),p.jsx("p",{className:"text-xs text-destructive",children:g})]}),k.data&&k.data.length>0&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx(dy,{checked:b.size===k.data.length,onCheckedChange:ie}),p.jsxs("span",{className:"text-xs text-muted-foreground",children:["Select all (",k.data.length," pages)"]})]}),p.jsx("div",{className:"max-h-60 overflow-y-auto pr-1 mb-4",children:p.jsx("div",{className:"space-y-0.5",children:J(I)})}),p.jsxs("button",{onClick:B,disabled:b.size===0,className:"w-full flex items-center justify-center gap-2 rounded-xl gradient-primary py-3 text-sm font-subheading text-primary-foreground disabled:opacity-30 transition-opacity",children:["Import ",b.size," ",b.size===1?"page":"pages",p.jsx($u,{className:"w-4 h-4"})]})]}),k.data&&k.data.length===0&&p.jsx("p",{className:"text-sm text-muted-foreground text-center py-6",children:"No pages found in this space."})]},"pick-pages"),i==="analyzing"&&p.jsxs(Ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-8",children:[p.jsx(rt,{className:"w-10 h-10 text-primary mx-auto mb-4 animate-spin"}),p.jsx("h2",{className:"text-xl text-foreground mb-2",children:a==="extracting"?"Extracting content":"Analyzing your playbook"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:a==="extracting"?"Reading and converting your document to structured content":"Mapping sections to skills framework"}),p.jsxs("div",{className:"mt-6 space-y-2",children:[p.jsxs("div",{className:"flex items-center gap-2 justify-center text-xs text-muted-foreground",children:[a==="extracting"?p.jsx(rt,{className:"w-3 h-3 animate-spin text-primary"}):p.jsx(Rr,{className:"w-3 h-3 text-success"}),"Extracting content"]}),p.jsxs("div",{className:"flex items-center gap-2 justify-center text-xs text-muted-foreground",children:[a==="analyzing"?p.jsx(rt,{className:"w-3 h-3 animate-spin text-primary"}):p.jsx("span",{className:"w-3 h-3 rounded-full border border-muted-foreground/30"}),"Mapping skills"]})]}),p.jsx("p",{className:"mt-4 text-xs text-muted-foreground",children:"This can take up to 5 minutes"})]},"analyzing"),i==="done"&&p.jsxs(Ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-8",children:[p.jsx("div",{className:"w-14 h-14 rounded-2xl gradient-primary mx-auto mb-4 flex items-center justify-center",children:p.jsx(Rr,{className:"w-7 h-7 text-primary-foreground"})}),p.jsx("h2",{className:"text-xl text-foreground mb-2",children:"Playbook connected!"}),p.jsxs("p",{className:"text-sm text-muted-foreground mb-6",children:["We found ",n," gaps in your skills coverage. Let's fix them."]}),p.jsx("button",{onClick:e,className:"rounded-xl gradient-primary px-6 py-3 text-sm font-subheading text-primary-foreground",children:"View Dashboard"})]},"done")]})]})})},Cte=()=>{const{data:e,isLoading:t}=$1(),n=((e==null?void 0:e.length)??0)>0,[r,s]=x.useState("dashboard"),[i,o]=x.useState(!1);x.useEffect(()=>{!t&&!n&&o(!0)},[t,n]);const[a,u]=x.useState(null),[l,c]=x.useState(null),[d,f]=x.useState(null),h=(y,w)=>{c({skillId:y,skillName:w}),s("playbook")},g=y=>{f(y),s("playbook")};return p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx(nc,{children:i&&p.jsx(Ste,{onComplete:()=>{o(!1),s("dashboard")}})}),p.jsx(S$,{activeTab:r,setActiveTab:s}),p.jsxs("main",{className:"max-w-[1600px] mx-auto px-6 py-8 min-h-[calc(100vh-8rem)]",children:[r==="dashboard"&&p.jsxs("div",{className:"space-y-5",children:[p.jsx(k$,{activeFilter:a,onFilterChange:y=>u(y===a?null:y)}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_480px] gap-5 items-start",children:[p.jsx(F$,{onFillGap:h,statusFilter:a}),p.jsx("div",{className:"lg:sticky lg:top-20",children:p.jsx(iI,{onNavigateToSection:g,sections:e})})]})]}),r==="playbook"&&p.jsx(hte,{skillFilter:l,onSkillFilterChange:c,initialSectionId:d,onInitialSectionConsumed:()=>f(null)}),r==="staging"&&p.jsx(sZ,{}),r==="integrations"&&p.jsx(mte,{})]}),p.jsx("footer",{className:"border-t border-border py-4 mt-8",children:p.jsxs("p",{className:"text-center text-xs text-muted-foreground",children:["Powered by ",p.jsx("a",{href:"https://taskbase.com",target:"_blank",rel:"noopener noreferrer",className:"font-subheading text-primary hover:underline",children:"Taskbase"})]})})]})};function B_(){const{signIn:e,signUp:t}=Of(),n=Mv(),s=So().pathname==="/signup"?"signup":"login",[i,o]=x.useState(null),[a,u]=x.useState(!1),[l,c]=x.useState(!1),d=async h=>{h.preventDefault(),o(null),u(!0);const g=new FormData(h.currentTarget),y=await e(g.get("email"),g.get("password"));u(!1),y.error?o(y.error.message):n("/")},f=async h=>{h.preventDefault(),o(null);const g=new FormData(h.currentTarget);if(!l){o("You must accept the prototype disclaimer to sign up.");return}u(!0);const y=await t(g.get("email"),g.get("password"),g.get("name"));u(!1),y.error?o(y.error.message):n("/")};return p.jsxs("div",{className:"login-bg min-h-screen flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[p.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden z-[2]",children:[p.jsx("div",{className:"absolute -top-20 -left-20 w-72 h-72 rounded-full bg-[#D1B0FC]/[0.06] blur-2xl"}),p.jsx("div",{className:"absolute top-1/4 -right-16 w-56 h-56 rounded-full bg-[#95ABF4]/[0.05] blur-xl"}),p.jsx("div",{className:"absolute bottom-1/4 left-[10%] w-40 h-40 rounded-full bg-[#6D57D1]/[0.08] blur-lg"}),p.jsx("div",{className:"absolute -bottom-10 right-[20%] w-64 h-64 rounded-full bg-[#95ABF4]/[0.04] blur-2xl"}),p.jsx("div",{className:"absolute top-[15%] left-[25%] w-2 h-2 rounded-full bg-[#D1B0FC]/30"}),p.jsx("div",{className:"absolute top-[30%] right-[30%] w-1.5 h-1.5 rounded-full bg-[#95ABF4]/25"}),p.jsx("div",{className:"absolute bottom-[20%] left-[40%] w-2.5 h-2.5 rounded-full bg-[#D1B0FC]/20"}),p.jsx("div",{className:"absolute top-[60%] right-[15%] w-2 h-2 rounded-full bg-[#6D57D1]/30"}),p.jsx("div",{className:"absolute top-[45%] left-[12%] w-1.5 h-1.5 rounded-full bg-[#95ABF4]/25"})]}),p.jsx("div",{className:"w-full max-w-sm flex-1 flex flex-col justify-center relative z-10",children:p.jsxs("div",{className:"rounded-xl bg-white p-5 shadow-2xl",children:[p.jsx("h2",{className:"text-lg text-foreground mb-1",children:s==="login"?"Sign in":"Create account"}),p.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:s==="login"?"Enter your credentials to continue":"Fill in your details below"}),s==="login"?p.jsxs("form",{onSubmit:d,className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"login-email",className:"block text-xs font-caption text-foreground mb-1.5",children:"Email"}),p.jsx("input",{type:"email",id:"login-email",name:"email",autoComplete:"email",required:!0,className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/50",placeholder:"you@company.com"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"login-password",className:"block text-xs font-caption text-foreground mb-1.5",children:"Password"}),p.jsx("input",{type:"password",id:"login-password",name:"password",autoComplete:"current-password",required:!0,minLength:6,className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/50",placeholder:""})]}),p.jsx("div",{className:"flex justify-end",children:p.jsx(rw,{to:"/forgot-password",className:"text-xs text-primary hover:underline",children:"Forgot password?"})}),i&&p.jsx("p",{className:"text-xs text-destructive font-caption",children:i}),p.jsxs("button",{type:"submit",disabled:a,className:"w-full flex items-center justify-center gap-2 rounded-lg gradient-primary py-2.5 text-sm font-subheading text-primary-foreground disabled:opacity-50 transition-opacity",children:[a&&p.jsx(rt,{className:"w-4 h-4 animate-spin"}),"Sign in"]})]}):p.jsxs("form",{onSubmit:f,className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"signup-name",className:"block text-xs font-caption text-foreground mb-1.5",children:"Full name"}),p.jsx("input",{type:"text",id:"signup-name",name:"name",autoComplete:"off",required:!0,className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/50",placeholder:"Jane Smith"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"signup-email",className:"block text-xs font-caption text-foreground mb-1.5",children:"Email"}),p.jsx("input",{type:"email",id:"signup-email",name:"email",autoComplete:"email",required:!0,className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/50",placeholder:"you@company.com"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"signup-password",className:"block text-xs font-caption text-foreground mb-1.5",children:"Password"}),p.jsx("input",{type:"password",id:"signup-password",name:"password",autoComplete:"new-password",required:!0,minLength:6,className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/50",placeholder:""})]}),p.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:l,onChange:h=>c(h.target.checked),className:"mt-0.5 rounded border-border"}),p.jsx("span",{className:"text-xs text-muted-foreground leading-relaxed",children:"This is an early-stage prototype with limited spots. If no spots are available you'll be placed on a waiting list. Features may change and data may be reset without notice. No warranties are provided. By signing up you agree to be contacted by Taskbase."})]}),i&&p.jsx("p",{className:"text-xs text-destructive font-caption",children:i}),p.jsxs("button",{type:"submit",disabled:a,className:"w-full flex items-center justify-center gap-2 rounded-lg gradient-primary py-2.5 text-sm font-subheading text-primary-foreground disabled:opacity-50 transition-opacity",children:[a&&p.jsx(rt,{className:"w-4 h-4 animate-spin"}),"Create account"]})]}),p.jsx("div",{className:"mt-4 text-center",children:p.jsx(rw,{to:s==="login"?"/signup":"/login",onClick:()=>o(null),className:"text-xs text-primary hover:underline",children:s==="login"?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})}),p.jsxs("p",{className:"py-4 text-xs text-white/60 relative z-10",children:["Powered by ",p.jsx("a",{href:"https://taskbase.com",target:"_blank",rel:"noopener noreferrer",className:"font-subheading text-white/80 hover:text-white transition-colors",children:"Taskbase"})]})]})}const kte=()=>{const e=So();return x.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),p.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"mb-4 text-4xl",children:"404"}),p.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},Ate=new M5;function Nte({children:e}){const{session:t,loading:n}=Of();return n?p.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:p.jsx(rt,{className:"w-6 h-6 text-primary animate-spin"})}):t?p.jsx(p.Fragment,{children:e}):p.jsx(Q2,{to:"/login",replace:!0})}function U_({children:e}){const{session:t,loading:n}=Of();return n?p.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:p.jsx(rt,{className:"w-6 h-6 text-primary animate-spin"})}):t?p.jsx(Q2,{to:"/",replace:!0}):p.jsx(p.Fragment,{children:e})}const Rte=()=>p.jsx(H5,{client:Ate,children:p.jsx(PB,{children:p.jsxs(x5,{children:[p.jsx(t6,{}),p.jsx(O6,{}),p.jsx(Yj,{children:p.jsxs(Hj,{children:[p.jsx(Wu,{path:"/login",element:p.jsx(U_,{children:p.jsx(B_,{})})}),p.jsx(Wu,{path:"/signup",element:p.jsx(U_,{children:p.jsx(B_,{})})}),p.jsx(Wu,{path:"/",element:p.jsx(Nte,{children:p.jsx(Cte,{})})}),p.jsx(Wu,{path:"*",element:p.jsx(kte,{})})]})})]})})});ck(document.getElementById("root")).render(p.jsx(Rte,{}));
