var d1=e=>{throw TypeError(e)};var hp=(e,t,n)=>t.has(e)||d1("Cannot "+n);var D=(e,t,n)=>(hp(e,t,"read from private field"),n?n.call(e):t.get(e)),ye=(e,t,n)=>t.has(e)?d1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),le=(e,t,n,r)=>(hp(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ce=(e,t,n)=>(hp(e,t,"access private method"),n);var Lc=(e,t,n,r)=>({set _(s){le(e,t,s,n)},get _(){return D(e,t,r)}});function D3(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tk={exports:{}},sf={},nk={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hc=Symbol.for("react.element"),L3=Symbol.for("react.portal"),M3=Symbol.for("react.fragment"),j3=Symbol.for("react.strict_mode"),F3=Symbol.for("react.profiler"),B3=Symbol.for("react.provider"),U3=Symbol.for("react.context"),H3=Symbol.for("react.forward_ref"),$3=Symbol.for("react.suspense"),z3=Symbol.for("react.memo"),V3=Symbol.for("react.lazy"),h1=Symbol.iterator;function W3(e){return e===null||typeof e!="object"?null:(e=h1&&e[h1]||e["@@iterator"],typeof e=="function"?e:null)}var rk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sk=Object.assign,ik={};function el(e,t,n){this.props=e,this.context=t,this.refs=ik,this.updater=n||rk}el.prototype.isReactComponent={};el.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};el.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ak(){}ak.prototype=el.prototype;function yy(e,t,n){this.props=e,this.context=t,this.refs=ik,this.updater=n||rk}var vy=yy.prototype=new ak;vy.constructor=yy;sk(vy,el.prototype);vy.isPureReactComponent=!0;var f1=Array.isArray,ok=Object.prototype.hasOwnProperty,by={current:null},lk={key:!0,ref:!0,__self:!0,__source:!0};function uk(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)ok.call(t,r)&&!lk.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:hc,type:e,key:i,ref:a,props:s,_owner:by.current}}function q3(e,t){return{$$typeof:hc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xy(e){return typeof e=="object"&&e!==null&&e.$$typeof===hc}function K3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var p1=/\/+/g;function fp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?K3(""+e.key):t.toString(36)}function Ad(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case hc:case L3:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+fp(a,0):r,f1(s)?(n="",e!=null&&(n=e.replace(p1,"$&/")+"/"),Ad(s,t,n,"",function(u){return u})):s!=null&&(xy(s)&&(s=q3(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(p1,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",f1(e))for(var o=0;o<e.length;o++){i=e[o];var l=r+fp(i,o);a+=Ad(i,t,n,l,s)}else if(l=W3(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=r+fp(i,o++),a+=Ad(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Mc(e,t,n){if(e==null)return e;var r=[],s=0;return Ad(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Y3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nn={current:null},Nd={transition:null},G3={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:Nd,ReactCurrentOwner:by};function ck(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:Mc,forEach:function(e,t,n){Mc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Mc(e,function(){t++}),t},toArray:function(e){return Mc(e,function(t){return t})||[]},only:function(e){if(!xy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Oe.Component=el;Oe.Fragment=M3;Oe.Profiler=F3;Oe.PureComponent=yy;Oe.StrictMode=j3;Oe.Suspense=$3;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G3;Oe.act=ck;Oe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=sk({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=by.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)ok.call(t,l)&&!lk.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:hc,type:e.type,key:s,ref:i,props:r,_owner:a}};Oe.createContext=function(e){return e={$$typeof:U3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:B3,_context:e},e.Consumer=e};Oe.createElement=uk;Oe.createFactory=function(e){var t=uk.bind(null,e);return t.type=e,t};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(e){return{$$typeof:H3,render:e}};Oe.isValidElement=xy;Oe.lazy=function(e){return{$$typeof:V3,_payload:{_status:-1,_result:e},_init:Y3}};Oe.memo=function(e,t){return{$$typeof:z3,type:e,compare:t===void 0?null:t}};Oe.startTransition=function(e){var t=Nd.transition;Nd.transition={};try{e()}finally{Nd.transition=t}};Oe.unstable_act=ck;Oe.useCallback=function(e,t){return nn.current.useCallback(e,t)};Oe.useContext=function(e){return nn.current.useContext(e)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(e){return nn.current.useDeferredValue(e)};Oe.useEffect=function(e,t){return nn.current.useEffect(e,t)};Oe.useId=function(){return nn.current.useId()};Oe.useImperativeHandle=function(e,t,n){return nn.current.useImperativeHandle(e,t,n)};Oe.useInsertionEffect=function(e,t){return nn.current.useInsertionEffect(e,t)};Oe.useLayoutEffect=function(e,t){return nn.current.useLayoutEffect(e,t)};Oe.useMemo=function(e,t){return nn.current.useMemo(e,t)};Oe.useReducer=function(e,t,n){return nn.current.useReducer(e,t,n)};Oe.useRef=function(e){return nn.current.useRef(e)};Oe.useState=function(e){return nn.current.useState(e)};Oe.useSyncExternalStore=function(e,t,n){return nn.current.useSyncExternalStore(e,t,n)};Oe.useTransition=function(){return nn.current.useTransition()};Oe.version="18.3.1";nk.exports=Oe;var b=nk.exports;const ie=rf(b),wy=D3({__proto__:null,default:ie},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q3=b,X3=Symbol.for("react.element"),J3=Symbol.for("react.fragment"),Z3=Object.prototype.hasOwnProperty,eO=Q3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tO={key:!0,ref:!0,__self:!0,__source:!0};function dk(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Z3.call(t,r)&&!tO.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:X3,type:e,key:i,ref:a,props:s,_owner:eO.current}}sf.Fragment=J3;sf.jsx=dk;sf.jsxs=dk;tk.exports=sf;var p=tk.exports,hk={exports:{}},In={},fk={exports:{}},pk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,L){var _=F.length;F.push(L);e:for(;0<_;){var ne=_-1>>>1,j=F[ne];if(0<s(j,L))F[ne]=L,F[_]=j,_=ne;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var L=F[0],_=F.pop();if(_!==L){F[0]=_;e:for(var ne=0,j=F.length,A=j>>>1;ne<A;){var X=2*(ne+1)-1,Q=F[X],oe=X+1,$=F[oe];if(0>s(Q,_))oe<j&&0>s($,Q)?(F[ne]=$,F[oe]=_,ne=oe):(F[ne]=Q,F[X]=_,ne=X);else if(oe<j&&0>s($,_))F[ne]=$,F[oe]=_,ne=oe;else break e}}return L}function s(F,L){var _=F.sortIndex-L.sortIndex;return _!==0?_:F.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,d=null,f=3,h=!1,g=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(F){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=F)r(u),L.sortIndex=L.expirationTime,t(l,L);else break;L=n(u)}}function T(F){if(y=!1,E(F),!g)if(n(l)!==null)g=!0,ae(k);else{var L=n(u);L!==null&&J(T,L.startTime-F)}}function k(F,L){g=!1,y&&(y=!1,v(O),O=-1),h=!0;var _=f;try{for(E(L),d=n(l);d!==null&&(!(d.expirationTime>L)||F&&!H());){var ne=d.callback;if(typeof ne=="function"){d.callback=null,f=d.priorityLevel;var j=ne(d.expirationTime<=L);L=e.unstable_now(),typeof j=="function"?d.callback=j:d===n(l)&&r(l),E(L)}else r(l);d=n(l)}if(d!==null)var A=!0;else{var X=n(u);X!==null&&J(T,X.startTime-L),A=!1}return A}finally{d=null,f=_,h=!1}}var S=!1,C=null,O=-1,M=5,I=-1;function H(){return!(e.unstable_now()-I<M)}function U(){if(C!==null){var F=e.unstable_now();I=F;var L=!0;try{L=C(!0,F)}finally{L?G():(S=!1,C=null)}}else S=!1}var G;if(typeof x=="function")G=function(){x(U)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,q=W.port2;W.port1.onmessage=U,G=function(){q.postMessage(null)}}else G=function(){w(U,0)};function ae(F){C=F,S||(S=!0,G())}function J(F,L){O=w(function(){F(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){g||h||(g=!0,ae(k))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(F){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var _=f;f=L;try{return F()}finally{f=_}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,L){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var _=f;f=F;try{return L()}finally{f=_}},e.unstable_scheduleCallback=function(F,L,_){var ne=e.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?ne+_:ne):_=ne,F){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=_+j,F={id:c++,callback:L,priorityLevel:F,startTime:_,expirationTime:j,sortIndex:-1},_>ne?(F.sortIndex=_,t(u,F),n(l)===null&&F===n(u)&&(y?(v(O),O=-1):y=!0,J(T,_-ne))):(F.sortIndex=j,t(l,F),g||h||(g=!0,ae(k))),F},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(F){var L=f;return function(){var _=f;f=L;try{return F.apply(this,arguments)}finally{f=_}}}})(pk);fk.exports=pk;var nO=fk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rO=b,Nn=nO;function te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mk=new Set,wu={};function Sa(e,t){Bo(e,t),Bo(e+"Capture",t)}function Bo(e,t){for(wu[e]=t,e=0;e<t.length;e++)mk.add(t[e])}var ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qm=Object.prototype.hasOwnProperty,sO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m1={},g1={};function iO(e){return qm.call(g1,e)?!0:qm.call(m1,e)?!1:sO.test(e)?g1[e]=!0:(m1[e]=!0,!1)}function aO(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function oO(e,t,n,r){if(t===null||typeof t>"u"||aO(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rn(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ft[e]=new rn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ft[t]=new rn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ft[e]=new rn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ft[e]=new rn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ft[e]=new rn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ft[e]=new rn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ft[e]=new rn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ft[e]=new rn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ft[e]=new rn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ey=/[\-:]([a-z])/g;function Ty(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ey,Ty);Ft[t]=new rn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ey,Ty);Ft[t]=new rn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ey,Ty);Ft[t]=new rn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ft[e]=new rn(e,1,!1,e.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ft[e]=new rn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sy(e,t,n,r){var s=Ft.hasOwnProperty(t)?Ft[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(oO(t,n,s,r)&&(n=null),r||s===null?iO(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var us=rO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jc=Symbol.for("react.element"),Ga=Symbol.for("react.portal"),Qa=Symbol.for("react.fragment"),ky=Symbol.for("react.strict_mode"),Km=Symbol.for("react.profiler"),gk=Symbol.for("react.provider"),yk=Symbol.for("react.context"),_y=Symbol.for("react.forward_ref"),Ym=Symbol.for("react.suspense"),Gm=Symbol.for("react.suspense_list"),Cy=Symbol.for("react.memo"),Rs=Symbol.for("react.lazy"),vk=Symbol.for("react.offscreen"),y1=Symbol.iterator;function wl(e){return e===null||typeof e!="object"?null:(e=y1&&e[y1]||e["@@iterator"],typeof e=="function"?e:null)}var at=Object.assign,pp;function Hl(e){if(pp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);pp=t&&t[1]||""}return`
`+pp+e}var mp=!1;function gp(e,t){if(!e||mp)return"";mp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{mp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Hl(e):""}function lO(e){switch(e.tag){case 5:return Hl(e.type);case 16:return Hl("Lazy");case 13:return Hl("Suspense");case 19:return Hl("SuspenseList");case 0:case 2:case 15:return e=gp(e.type,!1),e;case 11:return e=gp(e.type.render,!1),e;case 1:return e=gp(e.type,!0),e;default:return""}}function Qm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qa:return"Fragment";case Ga:return"Portal";case Km:return"Profiler";case ky:return"StrictMode";case Ym:return"Suspense";case Gm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yk:return(e.displayName||"Context")+".Consumer";case gk:return(e._context.displayName||"Context")+".Provider";case _y:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cy:return t=e.displayName||null,t!==null?t:Qm(e.type)||"Memo";case Rs:t=e._payload,e=e._init;try{return Qm(e(t))}catch{}}return null}function uO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qm(t);case 8:return t===ky?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ui(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cO(e){var t=bk(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fc(e){e._valueTracker||(e._valueTracker=cO(e))}function xk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=bk(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function rh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xm(e,t){var n=t.checked;return at({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function v1(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ui(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function wk(e,t){t=t.checked,t!=null&&Sy(e,"checked",t,!1)}function Jm(e,t){wk(e,t);var n=ui(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zm(e,t.type,n):t.hasOwnProperty("defaultValue")&&Zm(e,t.type,ui(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function b1(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Zm(e,t,n){(t!=="number"||rh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var $l=Array.isArray;function mo(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ui(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function eg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(te(91));return at({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function x1(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(te(92));if($l(n)){if(1<n.length)throw Error(te(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ui(n)}}function Ek(e,t){var n=ui(t.value),r=ui(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function w1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Tk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Tk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bc,Sk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bc=Bc||document.createElement("div"),Bc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Eu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dO=["Webkit","ms","Moz","O"];Object.keys(Xl).forEach(function(e){dO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xl[t]=Xl[e]})});function kk(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Xl.hasOwnProperty(e)&&Xl[e]?(""+t).trim():t+"px"}function _k(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=kk(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var hO=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ng(e,t){if(t){if(hO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(te(62))}}function rg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sg=null;function Ay(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ig=null,go=null,yo=null;function E1(e){if(e=mc(e)){if(typeof ig!="function")throw Error(te(280));var t=e.stateNode;t&&(t=cf(t),ig(e.stateNode,e.type,t))}}function Ck(e){go?yo?yo.push(e):yo=[e]:go=e}function Ak(){if(go){var e=go,t=yo;if(yo=go=null,E1(e),t)for(e=0;e<t.length;e++)E1(t[e])}}function Nk(e,t){return e(t)}function Ik(){}var yp=!1;function Rk(e,t,n){if(yp)return e(t,n);yp=!0;try{return Nk(e,t,n)}finally{yp=!1,(go!==null||yo!==null)&&(Ik(),Ak())}}function Tu(e,t){var n=e.stateNode;if(n===null)return null;var r=cf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(te(231,t,typeof n));return n}var ag=!1;if(ns)try{var El={};Object.defineProperty(El,"passive",{get:function(){ag=!0}}),window.addEventListener("test",El,El),window.removeEventListener("test",El,El)}catch{ag=!1}function fO(e,t,n,r,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Jl=!1,sh=null,ih=!1,og=null,pO={onError:function(e){Jl=!0,sh=e}};function mO(e,t,n,r,s,i,a,o,l){Jl=!1,sh=null,fO.apply(pO,arguments)}function gO(e,t,n,r,s,i,a,o,l){if(mO.apply(this,arguments),Jl){if(Jl){var u=sh;Jl=!1,sh=null}else throw Error(te(198));ih||(ih=!0,og=u)}}function ka(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Pk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function T1(e){if(ka(e)!==e)throw Error(te(188))}function yO(e){var t=e.alternate;if(!t){if(t=ka(e),t===null)throw Error(te(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return T1(s),e;if(i===r)return T1(s),t;i=i.sibling}throw Error(te(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?e:t}function Ok(e){return e=yO(e),e!==null?Dk(e):null}function Dk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dk(e);if(t!==null)return t;e=e.sibling}return null}var Lk=Nn.unstable_scheduleCallback,S1=Nn.unstable_cancelCallback,vO=Nn.unstable_shouldYield,bO=Nn.unstable_requestPaint,ht=Nn.unstable_now,xO=Nn.unstable_getCurrentPriorityLevel,Ny=Nn.unstable_ImmediatePriority,Mk=Nn.unstable_UserBlockingPriority,ah=Nn.unstable_NormalPriority,wO=Nn.unstable_LowPriority,jk=Nn.unstable_IdlePriority,af=null,Pr=null;function EO(e){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(af,e,void 0,(e.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:kO,TO=Math.log,SO=Math.LN2;function kO(e){return e>>>=0,e===0?32:31-(TO(e)/SO|0)|0}var Uc=64,Hc=4194304;function zl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function oh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=zl(o):(i&=a,i!==0&&(r=zl(i)))}else a=n&~s,a!==0?r=zl(a):i!==0&&(r=zl(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ur(t),s=1<<n,r|=e[n],t&=~s;return r}function _O(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CO(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-ur(i),o=1<<a,l=s[a];l===-1?(!(o&n)||o&r)&&(s[a]=_O(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function lg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fk(){var e=Uc;return Uc<<=1,!(Uc&4194240)&&(Uc=64),e}function vp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function fc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ur(t),e[t]=n}function AO(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ur(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Iy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ur(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var $e=0;function Bk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Uk,Ry,Hk,$k,zk,ug=!1,$c=[],Js=null,Zs=null,ei=null,Su=new Map,ku=new Map,Ds=[],NO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function k1(e,t){switch(e){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":Su.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ku.delete(t.pointerId)}}function Tl(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=mc(t),t!==null&&Ry(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function IO(e,t,n,r,s){switch(t){case"focusin":return Js=Tl(Js,e,t,n,r,s),!0;case"dragenter":return Zs=Tl(Zs,e,t,n,r,s),!0;case"mouseover":return ei=Tl(ei,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Su.set(i,Tl(Su.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ku.set(i,Tl(ku.get(i)||null,e,t,n,r,s)),!0}return!1}function Vk(e){var t=Hi(e.target);if(t!==null){var n=ka(t);if(n!==null){if(t=n.tag,t===13){if(t=Pk(n),t!==null){e.blockedOn=t,zk(e.priority,function(){Hk(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Id(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=cg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);sg=r,n.target.dispatchEvent(r),sg=null}else return t=mc(n),t!==null&&Ry(t),e.blockedOn=n,!1;t.shift()}return!0}function _1(e,t,n){Id(e)&&n.delete(t)}function RO(){ug=!1,Js!==null&&Id(Js)&&(Js=null),Zs!==null&&Id(Zs)&&(Zs=null),ei!==null&&Id(ei)&&(ei=null),Su.forEach(_1),ku.forEach(_1)}function Sl(e,t){e.blockedOn===t&&(e.blockedOn=null,ug||(ug=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,RO)))}function _u(e){function t(s){return Sl(s,e)}if(0<$c.length){Sl($c[0],e);for(var n=1;n<$c.length;n++){var r=$c[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Js!==null&&Sl(Js,e),Zs!==null&&Sl(Zs,e),ei!==null&&Sl(ei,e),Su.forEach(t),ku.forEach(t),n=0;n<Ds.length;n++)r=Ds[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ds.length&&(n=Ds[0],n.blockedOn===null);)Vk(n),n.blockedOn===null&&Ds.shift()}var vo=us.ReactCurrentBatchConfig,lh=!0;function PO(e,t,n,r){var s=$e,i=vo.transition;vo.transition=null;try{$e=1,Py(e,t,n,r)}finally{$e=s,vo.transition=i}}function OO(e,t,n,r){var s=$e,i=vo.transition;vo.transition=null;try{$e=4,Py(e,t,n,r)}finally{$e=s,vo.transition=i}}function Py(e,t,n,r){if(lh){var s=cg(e,t,n,r);if(s===null)Ap(e,t,r,uh,n),k1(e,r);else if(IO(s,e,t,n,r))r.stopPropagation();else if(k1(e,r),t&4&&-1<NO.indexOf(e)){for(;s!==null;){var i=mc(s);if(i!==null&&Uk(i),i=cg(e,t,n,r),i===null&&Ap(e,t,r,uh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ap(e,t,r,null,n)}}var uh=null;function cg(e,t,n,r){if(uh=null,e=Ay(r),e=Hi(e),e!==null)if(t=ka(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Pk(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return uh=e,null}function Wk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xO()){case Ny:return 1;case Mk:return 4;case ah:case wO:return 16;case jk:return 536870912;default:return 16}default:return 16}}var Ks=null,Oy=null,Rd=null;function qk(){if(Rd)return Rd;var e,t=Oy,n=t.length,r,s="value"in Ks?Ks.value:Ks.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return Rd=s.slice(e,1<r?1-r:void 0)}function Pd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zc(){return!0}function C1(){return!1}function Rn(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?zc:C1,this.isPropagationStopped=C1,this}return at(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zc)},persist:function(){},isPersistent:zc}),t}var tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dy=Rn(tl),pc=at({},tl,{view:0,detail:0}),DO=Rn(pc),bp,xp,kl,of=at({},pc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ly,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kl&&(kl&&e.type==="mousemove"?(bp=e.screenX-kl.screenX,xp=e.screenY-kl.screenY):xp=bp=0,kl=e),bp)},movementY:function(e){return"movementY"in e?e.movementY:xp}}),A1=Rn(of),LO=at({},of,{dataTransfer:0}),MO=Rn(LO),jO=at({},pc,{relatedTarget:0}),wp=Rn(jO),FO=at({},tl,{animationName:0,elapsedTime:0,pseudoElement:0}),BO=Rn(FO),UO=at({},tl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),HO=Rn(UO),$O=at({},tl,{data:0}),N1=Rn($O),zO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qO(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=WO[e])?!!t[e]:!1}function Ly(){return qO}var KO=at({},pc,{key:function(e){if(e.key){var t=zO[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?VO[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ly,charCode:function(e){return e.type==="keypress"?Pd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),YO=Rn(KO),GO=at({},of,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I1=Rn(GO),QO=at({},pc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ly}),XO=Rn(QO),JO=at({},tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZO=Rn(JO),eD=at({},of,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tD=Rn(eD),nD=[9,13,27,32],My=ns&&"CompositionEvent"in window,Zl=null;ns&&"documentMode"in document&&(Zl=document.documentMode);var rD=ns&&"TextEvent"in window&&!Zl,Kk=ns&&(!My||Zl&&8<Zl&&11>=Zl),R1=" ",P1=!1;function Yk(e,t){switch(e){case"keyup":return nD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xa=!1;function sD(e,t){switch(e){case"compositionend":return Gk(t);case"keypress":return t.which!==32?null:(P1=!0,R1);case"textInput":return e=t.data,e===R1&&P1?null:e;default:return null}}function iD(e,t){if(Xa)return e==="compositionend"||!My&&Yk(e,t)?(e=qk(),Rd=Oy=Ks=null,Xa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kk&&t.locale!=="ko"?null:t.data;default:return null}}var aD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!aD[e.type]:t==="textarea"}function Qk(e,t,n,r){Ck(r),t=ch(t,"onChange"),0<t.length&&(n=new Dy("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var eu=null,Cu=null;function oD(e){o_(e,0)}function lf(e){var t=eo(e);if(xk(t))return e}function lD(e,t){if(e==="change")return t}var Xk=!1;if(ns){var Ep;if(ns){var Tp="oninput"in document;if(!Tp){var D1=document.createElement("div");D1.setAttribute("oninput","return;"),Tp=typeof D1.oninput=="function"}Ep=Tp}else Ep=!1;Xk=Ep&&(!document.documentMode||9<document.documentMode)}function L1(){eu&&(eu.detachEvent("onpropertychange",Jk),Cu=eu=null)}function Jk(e){if(e.propertyName==="value"&&lf(Cu)){var t=[];Qk(t,Cu,e,Ay(e)),Rk(oD,t)}}function uD(e,t,n){e==="focusin"?(L1(),eu=t,Cu=n,eu.attachEvent("onpropertychange",Jk)):e==="focusout"&&L1()}function cD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lf(Cu)}function dD(e,t){if(e==="click")return lf(t)}function hD(e,t){if(e==="input"||e==="change")return lf(t)}function fD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fr=typeof Object.is=="function"?Object.is:fD;function Au(e,t){if(fr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!qm.call(t,s)||!fr(e[s],t[s]))return!1}return!0}function M1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function j1(e,t){var n=M1(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=M1(n)}}function Zk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function e_(){for(var e=window,t=rh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=rh(e.document)}return t}function jy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pD(e){var t=e_(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Zk(n.ownerDocument.documentElement,n)){if(r!==null&&jy(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=j1(n,i);var a=j1(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mD=ns&&"documentMode"in document&&11>=document.documentMode,Ja=null,dg=null,tu=null,hg=!1;function F1(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hg||Ja==null||Ja!==rh(r)||(r=Ja,"selectionStart"in r&&jy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),tu&&Au(tu,r)||(tu=r,r=ch(dg,"onSelect"),0<r.length&&(t=new Dy("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ja)))}function Vc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Za={animationend:Vc("Animation","AnimationEnd"),animationiteration:Vc("Animation","AnimationIteration"),animationstart:Vc("Animation","AnimationStart"),transitionend:Vc("Transition","TransitionEnd")},Sp={},t_={};ns&&(t_=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function uf(e){if(Sp[e])return Sp[e];if(!Za[e])return e;var t=Za[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in t_)return Sp[e]=t[n];return e}var n_=uf("animationend"),r_=uf("animationiteration"),s_=uf("animationstart"),i_=uf("transitionend"),a_=new Map,B1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yi(e,t){a_.set(e,t),Sa(t,[e])}for(var kp=0;kp<B1.length;kp++){var _p=B1[kp],gD=_p.toLowerCase(),yD=_p[0].toUpperCase()+_p.slice(1);yi(gD,"on"+yD)}yi(n_,"onAnimationEnd");yi(r_,"onAnimationIteration");yi(s_,"onAnimationStart");yi("dblclick","onDoubleClick");yi("focusin","onFocus");yi("focusout","onBlur");yi(i_,"onTransitionEnd");Bo("onMouseEnter",["mouseout","mouseover"]);Bo("onMouseLeave",["mouseout","mouseover"]);Bo("onPointerEnter",["pointerout","pointerover"]);Bo("onPointerLeave",["pointerout","pointerover"]);Sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vl));function U1(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,gO(r,t,void 0,e),e.currentTarget=null}function o_(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;U1(s,o,u),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;U1(s,o,u),i=l}}}if(ih)throw e=og,ih=!1,og=null,e}function Xe(e,t){var n=t[yg];n===void 0&&(n=t[yg]=new Set);var r=e+"__bubble";n.has(r)||(l_(t,e,2,!1),n.add(r))}function Cp(e,t,n){var r=0;t&&(r|=4),l_(n,e,r,t)}var Wc="_reactListening"+Math.random().toString(36).slice(2);function Nu(e){if(!e[Wc]){e[Wc]=!0,mk.forEach(function(n){n!=="selectionchange"&&(vD.has(n)||Cp(n,!1,e),Cp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wc]||(t[Wc]=!0,Cp("selectionchange",!1,t))}}function l_(e,t,n,r){switch(Wk(t)){case 1:var s=PO;break;case 4:s=OO;break;default:s=Py}n=s.bind(null,t,n,e),s=void 0,!ag||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ap(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Hi(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}Rk(function(){var u=i,c=Ay(n),d=[];e:{var f=a_.get(e);if(f!==void 0){var h=Dy,g=e;switch(e){case"keypress":if(Pd(n)===0)break e;case"keydown":case"keyup":h=YO;break;case"focusin":g="focus",h=wp;break;case"focusout":g="blur",h=wp;break;case"beforeblur":case"afterblur":h=wp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=A1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=MO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=XO;break;case n_:case r_:case s_:h=BO;break;case i_:h=ZO;break;case"scroll":h=DO;break;case"wheel":h=tD;break;case"copy":case"cut":case"paste":h=HO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=I1}var y=(t&4)!==0,w=!y&&e==="scroll",v=y?f!==null?f+"Capture":null:f;y=[];for(var x=u,E;x!==null;){E=x;var T=E.stateNode;if(E.tag===5&&T!==null&&(E=T,v!==null&&(T=Tu(x,v),T!=null&&y.push(Iu(x,T,E)))),w)break;x=x.return}0<y.length&&(f=new h(f,g,null,n,c),d.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==sg&&(g=n.relatedTarget||n.fromElement)&&(Hi(g)||g[rs]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=u,g=g?Hi(g):null,g!==null&&(w=ka(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=u),h!==g)){if(y=A1,T="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(y=I1,T="onPointerLeave",v="onPointerEnter",x="pointer"),w=h==null?f:eo(h),E=g==null?f:eo(g),f=new y(T,x+"leave",h,n,c),f.target=w,f.relatedTarget=E,T=null,Hi(c)===u&&(y=new y(v,x+"enter",g,n,c),y.target=E,y.relatedTarget=w,T=y),w=T,h&&g)t:{for(y=h,v=g,x=0,E=y;E;E=Ra(E))x++;for(E=0,T=v;T;T=Ra(T))E++;for(;0<x-E;)y=Ra(y),x--;for(;0<E-x;)v=Ra(v),E--;for(;x--;){if(y===v||v!==null&&y===v.alternate)break t;y=Ra(y),v=Ra(v)}y=null}else y=null;h!==null&&H1(d,f,h,y,!1),g!==null&&w!==null&&H1(d,w,g,y,!0)}}e:{if(f=u?eo(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var k=lD;else if(O1(f))if(Xk)k=hD;else{k=cD;var S=uD}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=dD);if(k&&(k=k(e,u))){Qk(d,k,n,c);break e}S&&S(e,f,u),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Zm(f,"number",f.value)}switch(S=u?eo(u):window,e){case"focusin":(O1(S)||S.contentEditable==="true")&&(Ja=S,dg=u,tu=null);break;case"focusout":tu=dg=Ja=null;break;case"mousedown":hg=!0;break;case"contextmenu":case"mouseup":case"dragend":hg=!1,F1(d,n,c);break;case"selectionchange":if(mD)break;case"keydown":case"keyup":F1(d,n,c)}var C;if(My)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Xa?Yk(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(Kk&&n.locale!=="ko"&&(Xa||O!=="onCompositionStart"?O==="onCompositionEnd"&&Xa&&(C=qk()):(Ks=c,Oy="value"in Ks?Ks.value:Ks.textContent,Xa=!0)),S=ch(u,O),0<S.length&&(O=new N1(O,e,null,n,c),d.push({event:O,listeners:S}),C?O.data=C:(C=Gk(n),C!==null&&(O.data=C)))),(C=rD?sD(e,n):iD(e,n))&&(u=ch(u,"onBeforeInput"),0<u.length&&(c=new N1("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=C))}o_(d,t)})}function Iu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ch(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Tu(e,n),i!=null&&r.unshift(Iu(e,i,s)),i=Tu(e,t),i!=null&&r.push(Iu(e,i,s))),e=e.return}return r}function Ra(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function H1(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,s?(l=Tu(n,i),l!=null&&a.unshift(Iu(n,l,o))):s||(l=Tu(n,i),l!=null&&a.push(Iu(n,l,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var bD=/\r\n?/g,xD=/\u0000|\uFFFD/g;function $1(e){return(typeof e=="string"?e:""+e).replace(bD,`
`).replace(xD,"")}function qc(e,t,n){if(t=$1(t),$1(e)!==t&&n)throw Error(te(425))}function dh(){}var fg=null,pg=null;function mg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gg=typeof setTimeout=="function"?setTimeout:void 0,wD=typeof clearTimeout=="function"?clearTimeout:void 0,z1=typeof Promise=="function"?Promise:void 0,ED=typeof queueMicrotask=="function"?queueMicrotask:typeof z1<"u"?function(e){return z1.resolve(null).then(e).catch(TD)}:gg;function TD(e){setTimeout(function(){throw e})}function Np(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),_u(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);_u(t)}function ti(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function V1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var nl=Math.random().toString(36).slice(2),Nr="__reactFiber$"+nl,Ru="__reactProps$"+nl,rs="__reactContainer$"+nl,yg="__reactEvents$"+nl,SD="__reactListeners$"+nl,kD="__reactHandles$"+nl;function Hi(e){var t=e[Nr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[rs]||n[Nr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=V1(e);e!==null;){if(n=e[Nr])return n;e=V1(e)}return t}e=n,n=e.parentNode}return null}function mc(e){return e=e[Nr]||e[rs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function eo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(te(33))}function cf(e){return e[Ru]||null}var vg=[],to=-1;function vi(e){return{current:e}}function Je(e){0>to||(e.current=vg[to],vg[to]=null,to--)}function Ye(e,t){to++,vg[to]=e.current,e.current=t}var ci={},Wt=vi(ci),fn=vi(!1),ca=ci;function Uo(e,t){var n=e.type.contextTypes;if(!n)return ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function pn(e){return e=e.childContextTypes,e!=null}function hh(){Je(fn),Je(Wt)}function W1(e,t,n){if(Wt.current!==ci)throw Error(te(168));Ye(Wt,t),Ye(fn,n)}function u_(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(te(108,uO(e)||"Unknown",s));return at({},n,r)}function fh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,ca=Wt.current,Ye(Wt,e),Ye(fn,fn.current),!0}function q1(e,t,n){var r=e.stateNode;if(!r)throw Error(te(169));n?(e=u_(e,t,ca),r.__reactInternalMemoizedMergedChildContext=e,Je(fn),Je(Wt),Ye(Wt,e)):Je(fn),Ye(fn,n)}var Yr=null,df=!1,Ip=!1;function c_(e){Yr===null?Yr=[e]:Yr.push(e)}function _D(e){df=!0,c_(e)}function bi(){if(!Ip&&Yr!==null){Ip=!0;var e=0,t=$e;try{var n=Yr;for($e=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Yr=null,df=!1}catch(s){throw Yr!==null&&(Yr=Yr.slice(e+1)),Lk(Ny,bi),s}finally{$e=t,Ip=!1}}return null}var no=[],ro=0,ph=null,mh=0,Ln=[],Mn=0,da=null,Jr=1,Zr="";function Di(e,t){no[ro++]=mh,no[ro++]=ph,ph=e,mh=t}function d_(e,t,n){Ln[Mn++]=Jr,Ln[Mn++]=Zr,Ln[Mn++]=da,da=e;var r=Jr;e=Zr;var s=32-ur(r)-1;r&=~(1<<s),n+=1;var i=32-ur(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Jr=1<<32-ur(t)+s|n<<s|r,Zr=i+e}else Jr=1<<i|n<<s|r,Zr=e}function Fy(e){e.return!==null&&(Di(e,1),d_(e,1,0))}function By(e){for(;e===ph;)ph=no[--ro],no[ro]=null,mh=no[--ro],no[ro]=null;for(;e===da;)da=Ln[--Mn],Ln[Mn]=null,Zr=Ln[--Mn],Ln[Mn]=null,Jr=Ln[--Mn],Ln[Mn]=null}var _n=null,kn=null,tt=!1,lr=null;function h_(e,t){var n=Bn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function K1(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,_n=e,kn=ti(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,_n=e,kn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=da!==null?{id:Jr,overflow:Zr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Bn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,_n=e,kn=null,!0):!1;default:return!1}}function bg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xg(e){if(tt){var t=kn;if(t){var n=t;if(!K1(e,t)){if(bg(e))throw Error(te(418));t=ti(n.nextSibling);var r=_n;t&&K1(e,t)?h_(r,n):(e.flags=e.flags&-4097|2,tt=!1,_n=e)}}else{if(bg(e))throw Error(te(418));e.flags=e.flags&-4097|2,tt=!1,_n=e}}}function Y1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_n=e}function Kc(e){if(e!==_n)return!1;if(!tt)return Y1(e),tt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!mg(e.type,e.memoizedProps)),t&&(t=kn)){if(bg(e))throw f_(),Error(te(418));for(;t;)h_(e,t),t=ti(t.nextSibling)}if(Y1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){kn=ti(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}kn=null}}else kn=_n?ti(e.stateNode.nextSibling):null;return!0}function f_(){for(var e=kn;e;)e=ti(e.nextSibling)}function Ho(){kn=_n=null,tt=!1}function Uy(e){lr===null?lr=[e]:lr.push(e)}var CD=us.ReactCurrentBatchConfig;function _l(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,e))}return e}function Yc(e,t){throw e=Object.prototype.toString.call(t),Error(te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function G1(e){var t=e._init;return t(e._payload)}function p_(e){function t(v,x){if(e){var E=v.deletions;E===null?(v.deletions=[x],v.flags|=16):E.push(x)}}function n(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function s(v,x){return v=ii(v,x),v.index=0,v.sibling=null,v}function i(v,x,E){return v.index=E,e?(E=v.alternate,E!==null?(E=E.index,E<x?(v.flags|=2,x):E):(v.flags|=2,x)):(v.flags|=1048576,x)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,x,E,T){return x===null||x.tag!==6?(x=jp(E,v.mode,T),x.return=v,x):(x=s(x,E),x.return=v,x)}function l(v,x,E,T){var k=E.type;return k===Qa?c(v,x,E.props.children,T,E.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Rs&&G1(k)===x.type)?(T=s(x,E.props),T.ref=_l(v,x,E),T.return=v,T):(T=Bd(E.type,E.key,E.props,null,v.mode,T),T.ref=_l(v,x,E),T.return=v,T)}function u(v,x,E,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==E.containerInfo||x.stateNode.implementation!==E.implementation?(x=Fp(E,v.mode,T),x.return=v,x):(x=s(x,E.children||[]),x.return=v,x)}function c(v,x,E,T,k){return x===null||x.tag!==7?(x=oa(E,v.mode,T,k),x.return=v,x):(x=s(x,E),x.return=v,x)}function d(v,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return x=jp(""+x,v.mode,E),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case jc:return E=Bd(x.type,x.key,x.props,null,v.mode,E),E.ref=_l(v,null,x),E.return=v,E;case Ga:return x=Fp(x,v.mode,E),x.return=v,x;case Rs:var T=x._init;return d(v,T(x._payload),E)}if($l(x)||wl(x))return x=oa(x,v.mode,E,null),x.return=v,x;Yc(v,x)}return null}function f(v,x,E,T){var k=x!==null?x.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return k!==null?null:o(v,x,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case jc:return E.key===k?l(v,x,E,T):null;case Ga:return E.key===k?u(v,x,E,T):null;case Rs:return k=E._init,f(v,x,k(E._payload),T)}if($l(E)||wl(E))return k!==null?null:c(v,x,E,T,null);Yc(v,E)}return null}function h(v,x,E,T,k){if(typeof T=="string"&&T!==""||typeof T=="number")return v=v.get(E)||null,o(x,v,""+T,k);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case jc:return v=v.get(T.key===null?E:T.key)||null,l(x,v,T,k);case Ga:return v=v.get(T.key===null?E:T.key)||null,u(x,v,T,k);case Rs:var S=T._init;return h(v,x,E,S(T._payload),k)}if($l(T)||wl(T))return v=v.get(E)||null,c(x,v,T,k,null);Yc(x,T)}return null}function g(v,x,E,T){for(var k=null,S=null,C=x,O=x=0,M=null;C!==null&&O<E.length;O++){C.index>O?(M=C,C=null):M=C.sibling;var I=f(v,C,E[O],T);if(I===null){C===null&&(C=M);break}e&&C&&I.alternate===null&&t(v,C),x=i(I,x,O),S===null?k=I:S.sibling=I,S=I,C=M}if(O===E.length)return n(v,C),tt&&Di(v,O),k;if(C===null){for(;O<E.length;O++)C=d(v,E[O],T),C!==null&&(x=i(C,x,O),S===null?k=C:S.sibling=C,S=C);return tt&&Di(v,O),k}for(C=r(v,C);O<E.length;O++)M=h(C,v,O,E[O],T),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?O:M.key),x=i(M,x,O),S===null?k=M:S.sibling=M,S=M);return e&&C.forEach(function(H){return t(v,H)}),tt&&Di(v,O),k}function y(v,x,E,T){var k=wl(E);if(typeof k!="function")throw Error(te(150));if(E=k.call(E),E==null)throw Error(te(151));for(var S=k=null,C=x,O=x=0,M=null,I=E.next();C!==null&&!I.done;O++,I=E.next()){C.index>O?(M=C,C=null):M=C.sibling;var H=f(v,C,I.value,T);if(H===null){C===null&&(C=M);break}e&&C&&H.alternate===null&&t(v,C),x=i(H,x,O),S===null?k=H:S.sibling=H,S=H,C=M}if(I.done)return n(v,C),tt&&Di(v,O),k;if(C===null){for(;!I.done;O++,I=E.next())I=d(v,I.value,T),I!==null&&(x=i(I,x,O),S===null?k=I:S.sibling=I,S=I);return tt&&Di(v,O),k}for(C=r(v,C);!I.done;O++,I=E.next())I=h(C,v,O,I.value,T),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?O:I.key),x=i(I,x,O),S===null?k=I:S.sibling=I,S=I);return e&&C.forEach(function(U){return t(v,U)}),tt&&Di(v,O),k}function w(v,x,E,T){if(typeof E=="object"&&E!==null&&E.type===Qa&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case jc:e:{for(var k=E.key,S=x;S!==null;){if(S.key===k){if(k=E.type,k===Qa){if(S.tag===7){n(v,S.sibling),x=s(S,E.props.children),x.return=v,v=x;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Rs&&G1(k)===S.type){n(v,S.sibling),x=s(S,E.props),x.ref=_l(v,S,E),x.return=v,v=x;break e}n(v,S);break}else t(v,S);S=S.sibling}E.type===Qa?(x=oa(E.props.children,v.mode,T,E.key),x.return=v,v=x):(T=Bd(E.type,E.key,E.props,null,v.mode,T),T.ref=_l(v,x,E),T.return=v,v=T)}return a(v);case Ga:e:{for(S=E.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===E.containerInfo&&x.stateNode.implementation===E.implementation){n(v,x.sibling),x=s(x,E.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else t(v,x);x=x.sibling}x=Fp(E,v.mode,T),x.return=v,v=x}return a(v);case Rs:return S=E._init,w(v,x,S(E._payload),T)}if($l(E))return g(v,x,E,T);if(wl(E))return y(v,x,E,T);Yc(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,x!==null&&x.tag===6?(n(v,x.sibling),x=s(x,E),x.return=v,v=x):(n(v,x),x=jp(E,v.mode,T),x.return=v,v=x),a(v)):n(v,x)}return w}var $o=p_(!0),m_=p_(!1),gh=vi(null),yh=null,so=null,Hy=null;function $y(){Hy=so=yh=null}function zy(e){var t=gh.current;Je(gh),e._currentValue=t}function wg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function bo(e,t){yh=e,Hy=so=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(hn=!0),e.firstContext=null)}function Wn(e){var t=e._currentValue;if(Hy!==e)if(e={context:e,memoizedValue:t,next:null},so===null){if(yh===null)throw Error(te(308));so=e,yh.dependencies={lanes:0,firstContext:e}}else so=so.next=e;return t}var $i=null;function Vy(e){$i===null?$i=[e]:$i.push(e)}function g_(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Vy(t)):(n.next=s.next,s.next=n),t.interleaved=n,ss(e,r)}function ss(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ps=!1;function Wy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function es(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ni(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Fe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ss(e,n)}return s=r.interleaved,s===null?(t.next=t,Vy(r)):(t.next=s.next,s.next=t),r.interleaved=t,ss(e,n)}function Od(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Iy(e,n)}}function Q1(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vh(e,t,n,r){var s=e.updateQueue;Ps=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;a=0,c=u=l=null,o=i;do{var f=o.lane,h=o.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,y=o;switch(f=t,h=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(h,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(h,d,f):g,f==null)break e;d=at({},d,f);break e;case 2:Ps=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else h={eventTime:h,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);fa|=a,e.lanes=a,e.memoizedState=d}}function X1(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(te(191,s));s.call(r)}}}var gc={},Or=vi(gc),Pu=vi(gc),Ou=vi(gc);function zi(e){if(e===gc)throw Error(te(174));return e}function qy(e,t){switch(Ye(Ou,t),Ye(Pu,e),Ye(Or,gc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=tg(t,e)}Je(Or),Ye(Or,t)}function zo(){Je(Or),Je(Pu),Je(Ou)}function v_(e){zi(Ou.current);var t=zi(Or.current),n=tg(t,e.type);t!==n&&(Ye(Pu,e),Ye(Or,n))}function Ky(e){Pu.current===e&&(Je(Or),Je(Pu))}var rt=vi(0);function bh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rp=[];function Yy(){for(var e=0;e<Rp.length;e++)Rp[e]._workInProgressVersionPrimary=null;Rp.length=0}var Dd=us.ReactCurrentDispatcher,Pp=us.ReactCurrentBatchConfig,ha=0,it=null,St=null,At=null,xh=!1,nu=!1,Du=0,AD=0;function Bt(){throw Error(te(321))}function Gy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!fr(e[n],t[n]))return!1;return!0}function Qy(e,t,n,r,s,i){if(ha=i,it=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Dd.current=e===null||e.memoizedState===null?PD:OD,e=n(r,s),nu){i=0;do{if(nu=!1,Du=0,25<=i)throw Error(te(301));i+=1,At=St=null,t.updateQueue=null,Dd.current=DD,e=n(r,s)}while(nu)}if(Dd.current=wh,t=St!==null&&St.next!==null,ha=0,At=St=it=null,xh=!1,t)throw Error(te(300));return e}function Xy(){var e=Du!==0;return Du=0,e}function Er(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?it.memoizedState=At=e:At=At.next=e,At}function qn(){if(St===null){var e=it.alternate;e=e!==null?e.memoizedState:null}else e=St.next;var t=At===null?it.memoizedState:At.next;if(t!==null)At=t,St=e;else{if(e===null)throw Error(te(310));St=e,e={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},At===null?it.memoizedState=At=e:At=At.next=e}return At}function Lu(e,t){return typeof t=="function"?t(e):t}function Op(e){var t=qn(),n=t.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=e;var r=St,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,u=i;do{var c=u.lane;if((ha&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,it.lanes|=c,fa|=c}u=u.next}while(u!==null&&u!==i);l===null?a=r:l.next=o,fr(r,t.memoizedState)||(hn=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,it.lanes|=i,fa|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Dp(e){var t=qn(),n=t.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);fr(i,t.memoizedState)||(hn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function b_(){}function x_(e,t){var n=it,r=qn(),s=t(),i=!fr(r.memoizedState,s);if(i&&(r.memoizedState=s,hn=!0),r=r.queue,Jy(T_.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,Mu(9,E_.bind(null,n,r,s,t),void 0,null),It===null)throw Error(te(349));ha&30||w_(n,t,s)}return s}function w_(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=it.updateQueue,t===null?(t={lastEffect:null,stores:null},it.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function E_(e,t,n,r){t.value=n,t.getSnapshot=r,S_(t)&&k_(e)}function T_(e,t,n){return n(function(){S_(t)&&k_(e)})}function S_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fr(e,n)}catch{return!0}}function k_(e){var t=ss(e,1);t!==null&&cr(t,e,1,-1)}function J1(e){var t=Er();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lu,lastRenderedState:e},t.queue=e,e=e.dispatch=RD.bind(null,it,e),[t.memoizedState,e]}function Mu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=it.updateQueue,t===null?(t={lastEffect:null,stores:null},it.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function __(){return qn().memoizedState}function Ld(e,t,n,r){var s=Er();it.flags|=e,s.memoizedState=Mu(1|t,n,void 0,r===void 0?null:r)}function hf(e,t,n,r){var s=qn();r=r===void 0?null:r;var i=void 0;if(St!==null){var a=St.memoizedState;if(i=a.destroy,r!==null&&Gy(r,a.deps)){s.memoizedState=Mu(t,n,i,r);return}}it.flags|=e,s.memoizedState=Mu(1|t,n,i,r)}function Z1(e,t){return Ld(8390656,8,e,t)}function Jy(e,t){return hf(2048,8,e,t)}function C_(e,t){return hf(4,2,e,t)}function A_(e,t){return hf(4,4,e,t)}function N_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function I_(e,t,n){return n=n!=null?n.concat([e]):null,hf(4,4,N_.bind(null,t,e),n)}function Zy(){}function R_(e,t){var n=qn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gy(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function P_(e,t){var n=qn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gy(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function O_(e,t,n){return ha&21?(fr(n,t)||(n=Fk(),it.lanes|=n,fa|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,hn=!0),e.memoizedState=n)}function ND(e,t){var n=$e;$e=n!==0&&4>n?n:4,e(!0);var r=Pp.transition;Pp.transition={};try{e(!1),t()}finally{$e=n,Pp.transition=r}}function D_(){return qn().memoizedState}function ID(e,t,n){var r=si(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},L_(e))M_(t,n);else if(n=g_(e,t,n,r),n!==null){var s=tn();cr(n,e,r,s),j_(n,t,r)}}function RD(e,t,n){var r=si(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(L_(e))M_(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,fr(o,a)){var l=t.interleaved;l===null?(s.next=s,Vy(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=g_(e,t,s,r),n!==null&&(s=tn(),cr(n,e,r,s),j_(n,t,r))}}function L_(e){var t=e.alternate;return e===it||t!==null&&t===it}function M_(e,t){nu=xh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function j_(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Iy(e,n)}}var wh={readContext:Wn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},PD={readContext:Wn,useCallback:function(e,t){return Er().memoizedState=[e,t===void 0?null:t],e},useContext:Wn,useEffect:Z1,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ld(4194308,4,N_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ld(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ld(4,2,e,t)},useMemo:function(e,t){var n=Er();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Er();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ID.bind(null,it,e),[r.memoizedState,e]},useRef:function(e){var t=Er();return e={current:e},t.memoizedState=e},useState:J1,useDebugValue:Zy,useDeferredValue:function(e){return Er().memoizedState=e},useTransition:function(){var e=J1(!1),t=e[0];return e=ND.bind(null,e[1]),Er().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=it,s=Er();if(tt){if(n===void 0)throw Error(te(407));n=n()}else{if(n=t(),It===null)throw Error(te(349));ha&30||w_(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Z1(T_.bind(null,r,i,e),[e]),r.flags|=2048,Mu(9,E_.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Er(),t=It.identifierPrefix;if(tt){var n=Zr,r=Jr;n=(r&~(1<<32-ur(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Du++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=AD++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},OD={readContext:Wn,useCallback:R_,useContext:Wn,useEffect:Jy,useImperativeHandle:I_,useInsertionEffect:C_,useLayoutEffect:A_,useMemo:P_,useReducer:Op,useRef:__,useState:function(){return Op(Lu)},useDebugValue:Zy,useDeferredValue:function(e){var t=qn();return O_(t,St.memoizedState,e)},useTransition:function(){var e=Op(Lu)[0],t=qn().memoizedState;return[e,t]},useMutableSource:b_,useSyncExternalStore:x_,useId:D_,unstable_isNewReconciler:!1},DD={readContext:Wn,useCallback:R_,useContext:Wn,useEffect:Jy,useImperativeHandle:I_,useInsertionEffect:C_,useLayoutEffect:A_,useMemo:P_,useReducer:Dp,useRef:__,useState:function(){return Dp(Lu)},useDebugValue:Zy,useDeferredValue:function(e){var t=qn();return St===null?t.memoizedState=e:O_(t,St.memoizedState,e)},useTransition:function(){var e=Dp(Lu)[0],t=qn().memoizedState;return[e,t]},useMutableSource:b_,useSyncExternalStore:x_,useId:D_,unstable_isNewReconciler:!1};function nr(e,t){if(e&&e.defaultProps){t=at({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Eg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:at({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ff={isMounted:function(e){return(e=e._reactInternals)?ka(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tn(),s=si(e),i=es(r,s);i.payload=t,n!=null&&(i.callback=n),t=ni(e,i,s),t!==null&&(cr(t,e,s,r),Od(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tn(),s=si(e),i=es(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ni(e,i,s),t!==null&&(cr(t,e,s,r),Od(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tn(),r=si(e),s=es(n,r);s.tag=2,t!=null&&(s.callback=t),t=ni(e,s,r),t!==null&&(cr(t,e,r,n),Od(t,e,r))}};function ex(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Au(n,r)||!Au(s,i):!0}function F_(e,t,n){var r=!1,s=ci,i=t.contextType;return typeof i=="object"&&i!==null?i=Wn(i):(s=pn(t)?ca:Wt.current,r=t.contextTypes,i=(r=r!=null)?Uo(e,s):ci),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ff,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function tx(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ff.enqueueReplaceState(t,t.state,null)}function Tg(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Wy(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Wn(i):(i=pn(t)?ca:Wt.current,s.context=Uo(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Eg(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ff.enqueueReplaceState(s,s.state,null),vh(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Vo(e,t){try{var n="",r=t;do n+=lO(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Lp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Sg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var LD=typeof WeakMap=="function"?WeakMap:Map;function B_(e,t,n){n=es(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Th||(Th=!0,Dg=r),Sg(e,t)},n}function U_(e,t,n){n=es(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Sg(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Sg(e,t),typeof r!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function nx(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new LD;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=GD.bind(null,e,t,n),t.then(e,e))}function rx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function sx(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=es(-1,1),t.tag=2,ni(n,t,1))),n.lanes|=1),e)}var MD=us.ReactCurrentOwner,hn=!1;function Qt(e,t,n,r){t.child=e===null?m_(t,null,n,r):$o(t,e.child,n,r)}function ix(e,t,n,r,s){n=n.render;var i=t.ref;return bo(t,s),r=Qy(e,t,n,r,i,s),n=Xy(),e!==null&&!hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,is(e,t,s)):(tt&&n&&Fy(t),t.flags|=1,Qt(e,t,r,s),t.child)}function ax(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!ov(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,H_(e,t,i,r,s)):(e=Bd(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Au,n(a,r)&&e.ref===t.ref)return is(e,t,s)}return t.flags|=1,e=ii(i,r),e.ref=t.ref,e.return=t,t.child=e}function H_(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Au(i,r)&&e.ref===t.ref)if(hn=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(hn=!0);else return t.lanes=e.lanes,is(e,t,s)}return kg(e,t,n,r,s)}function $_(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(ao,En),En|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ye(ao,En),En|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ye(ao,En),En|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ye(ao,En),En|=r;return Qt(e,t,s,n),t.child}function z_(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function kg(e,t,n,r,s){var i=pn(n)?ca:Wt.current;return i=Uo(t,i),bo(t,s),n=Qy(e,t,n,r,i,s),r=Xy(),e!==null&&!hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,is(e,t,s)):(tt&&r&&Fy(t),t.flags|=1,Qt(e,t,n,s),t.child)}function ox(e,t,n,r,s){if(pn(n)){var i=!0;fh(t)}else i=!1;if(bo(t,s),t.stateNode===null)Md(e,t),F_(t,n,r),Tg(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Wn(u):(u=pn(n)?ca:Wt.current,u=Uo(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&tx(t,a,r,u),Ps=!1;var f=t.memoizedState;a.state=f,vh(t,r,a,s),l=t.memoizedState,o!==r||f!==l||fn.current||Ps?(typeof c=="function"&&(Eg(t,n,c,r),l=t.memoizedState),(o=Ps||ex(t,n,o,r,f,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,y_(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:nr(t.type,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wn(l):(l=pn(n)?ca:Wt.current,l=Uo(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==l)&&tx(t,a,r,l),Ps=!1,f=t.memoizedState,a.state=f,vh(t,r,a,s);var g=t.memoizedState;o!==d||f!==g||fn.current||Ps?(typeof h=="function"&&(Eg(t,n,h,r),g=t.memoizedState),(u=Ps||ex(t,n,u,r,f,g,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return _g(e,t,n,r,i,s)}function _g(e,t,n,r,s,i){z_(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&q1(t,n,!1),is(e,t,i);r=t.stateNode,MD.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=$o(t,e.child,null,i),t.child=$o(t,null,o,i)):Qt(e,t,o,i),t.memoizedState=r.state,s&&q1(t,n,!0),t.child}function V_(e){var t=e.stateNode;t.pendingContext?W1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&W1(e,t.context,!1),qy(e,t.containerInfo)}function lx(e,t,n,r,s){return Ho(),Uy(s),t.flags|=256,Qt(e,t,n,r),t.child}var Cg={dehydrated:null,treeContext:null,retryLane:0};function Ag(e){return{baseLanes:e,cachePool:null,transitions:null}}function W_(e,t,n){var r=t.pendingProps,s=rt.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ye(rt,s&1),e===null)return xg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=gf(a,r,0,null),e=oa(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ag(n),t.memoizedState=Cg,e):ev(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return jD(e,t,a,r,o,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ii(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=ii(o,i):(i=oa(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?Ag(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=Cg,r}return i=e.child,e=i.sibling,r=ii(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ev(e,t){return t=gf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gc(e,t,n,r){return r!==null&&Uy(r),$o(t,e.child,null,n),e=ev(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jD(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=Lp(Error(te(422))),Gc(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=gf({mode:"visible",children:r.children},s,0,null),i=oa(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&$o(t,e.child,null,a),t.child.memoizedState=Ag(a),t.memoizedState=Cg,i);if(!(t.mode&1))return Gc(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(te(419)),r=Lp(i,r,void 0),Gc(e,t,a,r)}if(o=(a&e.childLanes)!==0,hn||o){if(r=It,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ss(e,s),cr(r,e,s,-1))}return av(),r=Lp(Error(te(421))),Gc(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=QD.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,kn=ti(s.nextSibling),_n=t,tt=!0,lr=null,e!==null&&(Ln[Mn++]=Jr,Ln[Mn++]=Zr,Ln[Mn++]=da,Jr=e.id,Zr=e.overflow,da=t),t=ev(t,r.children),t.flags|=4096,t)}function ux(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),wg(e.return,t,n)}function Mp(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function q_(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Qt(e,t,r.children,n),r=rt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ux(e,n,t);else if(e.tag===19)ux(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ye(rt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&bh(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Mp(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&bh(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Mp(t,!0,n,null,i);break;case"together":Mp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Md(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function is(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fa|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(te(153));if(t.child!==null){for(e=t.child,n=ii(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ii(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function FD(e,t,n){switch(t.tag){case 3:V_(t),Ho();break;case 5:v_(t);break;case 1:pn(t.type)&&fh(t);break;case 4:qy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ye(gh,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ye(rt,rt.current&1),t.flags|=128,null):n&t.child.childLanes?W_(e,t,n):(Ye(rt,rt.current&1),e=is(e,t,n),e!==null?e.sibling:null);Ye(rt,rt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return q_(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ye(rt,rt.current),r)break;return null;case 22:case 23:return t.lanes=0,$_(e,t,n)}return is(e,t,n)}var K_,Ng,Y_,G_;K_=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ng=function(){};Y_=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,zi(Or.current);var i=null;switch(n){case"input":s=Xm(e,s),r=Xm(e,r),i=[];break;case"select":s=at({},s,{value:void 0}),r=at({},r,{value:void 0}),i=[];break;case"textarea":s=eg(e,s),r=eg(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=dh)}ng(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wu.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Xe("scroll",e),i||o===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};G_=function(e,t,n,r){n!==r&&(t.flags|=4)};function Cl(e,t){if(!tt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function BD(e,t,n){var r=t.pendingProps;switch(By(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(t),null;case 1:return pn(t.type)&&hh(),Ut(t),null;case 3:return r=t.stateNode,zo(),Je(fn),Je(Wt),Yy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Kc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,lr!==null&&(jg(lr),lr=null))),Ng(e,t),Ut(t),null;case 5:Ky(t);var s=zi(Ou.current);if(n=t.type,e!==null&&t.stateNode!=null)Y_(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(te(166));return Ut(t),null}if(e=zi(Or.current),Kc(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Nr]=t,r[Ru]=i,e=(t.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(s=0;s<Vl.length;s++)Xe(Vl[s],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":v1(r,i),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Xe("invalid",r);break;case"textarea":x1(r,i),Xe("invalid",r)}ng(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&qc(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&qc(r.textContent,o,e),s=["children",""+o]):wu.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Xe("scroll",r)}switch(n){case"input":Fc(r),b1(r,i,!0);break;case"textarea":Fc(r),w1(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=dh)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Tk(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Nr]=t,e[Ru]=r,K_(e,t,!1,!1),t.stateNode=e;e:{switch(a=rg(n,r),n){case"dialog":Xe("cancel",e),Xe("close",e),s=r;break;case"iframe":case"object":case"embed":Xe("load",e),s=r;break;case"video":case"audio":for(s=0;s<Vl.length;s++)Xe(Vl[s],e);s=r;break;case"source":Xe("error",e),s=r;break;case"img":case"image":case"link":Xe("error",e),Xe("load",e),s=r;break;case"details":Xe("toggle",e),s=r;break;case"input":v1(e,r),s=Xm(e,r),Xe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=at({},r,{value:void 0}),Xe("invalid",e);break;case"textarea":x1(e,r),s=eg(e,r),Xe("invalid",e);break;default:s=r}ng(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?_k(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Sk(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Eu(e,l):typeof l=="number"&&Eu(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(wu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Xe("scroll",e):l!=null&&Sy(e,i,l,a))}switch(n){case"input":Fc(e),b1(e,r,!1);break;case"textarea":Fc(e),w1(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ui(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?mo(e,!!r.multiple,i,!1):r.defaultValue!=null&&mo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=dh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ut(t),null;case 6:if(e&&t.stateNode!=null)G_(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(te(166));if(n=zi(Ou.current),zi(Or.current),Kc(t)){if(r=t.stateNode,n=t.memoizedProps,r[Nr]=t,(i=r.nodeValue!==n)&&(e=_n,e!==null))switch(e.tag){case 3:qc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qc(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nr]=t,t.stateNode=r}return Ut(t),null;case 13:if(Je(rt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tt&&kn!==null&&t.mode&1&&!(t.flags&128))f_(),Ho(),t.flags|=98560,i=!1;else if(i=Kc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(te(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(te(317));i[Nr]=t}else Ho(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ut(t),i=!1}else lr!==null&&(jg(lr),lr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||rt.current&1?_t===0&&(_t=3):av())),t.updateQueue!==null&&(t.flags|=4),Ut(t),null);case 4:return zo(),Ng(e,t),e===null&&Nu(t.stateNode.containerInfo),Ut(t),null;case 10:return zy(t.type._context),Ut(t),null;case 17:return pn(t.type)&&hh(),Ut(t),null;case 19:if(Je(rt),i=t.memoizedState,i===null)return Ut(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)Cl(i,!1);else{if(_t!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=bh(e),a!==null){for(t.flags|=128,Cl(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ye(rt,rt.current&1|2),t.child}e=e.sibling}i.tail!==null&&ht()>Wo&&(t.flags|=128,r=!0,Cl(i,!1),t.lanes=4194304)}else{if(!r)if(e=bh(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Cl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!tt)return Ut(t),null}else 2*ht()-i.renderingStartTime>Wo&&n!==1073741824&&(t.flags|=128,r=!0,Cl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ht(),t.sibling=null,n=rt.current,Ye(rt,r?n&1|2:n&1),t):(Ut(t),null);case 22:case 23:return iv(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?En&1073741824&&(Ut(t),t.subtreeFlags&6&&(t.flags|=8192)):Ut(t),null;case 24:return null;case 25:return null}throw Error(te(156,t.tag))}function UD(e,t){switch(By(t),t.tag){case 1:return pn(t.type)&&hh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zo(),Je(fn),Je(Wt),Yy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ky(t),null;case 13:if(Je(rt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(te(340));Ho()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Je(rt),null;case 4:return zo(),null;case 10:return zy(t.type._context),null;case 22:case 23:return iv(),null;case 24:return null;default:return null}}var Qc=!1,$t=!1,HD=typeof WeakSet=="function"?WeakSet:Set,ce=null;function io(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ut(e,t,r)}else n.current=null}function Ig(e,t,n){try{n()}catch(r){ut(e,t,r)}}var cx=!1;function $D(e,t){if(fg=lh,e=e_(),jy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var h;d!==n||s!==0&&d.nodeType!==3||(o=a+s),d!==i||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++u===s&&(o=a),f===i&&++c===r&&(l=a),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(pg={focusedElem:e,selectionRange:n},lh=!1,ce=t;ce!==null;)if(t=ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ce=e;else for(;ce!==null;){t=ce;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,w=g.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:nr(t.type,y),w);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(T){ut(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,ce=e;break}ce=t.return}return g=cx,cx=!1,g}function ru(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ig(t,n,i)}s=s.next}while(s!==r)}}function pf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Rg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Q_(e){var t=e.alternate;t!==null&&(e.alternate=null,Q_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nr],delete t[Ru],delete t[yg],delete t[SD],delete t[kD])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function X_(e){return e.tag===5||e.tag===3||e.tag===4}function dx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||X_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=dh));else if(r!==4&&(e=e.child,e!==null))for(Pg(e,t,n),e=e.sibling;e!==null;)Pg(e,t,n),e=e.sibling}function Og(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Og(e,t,n),e=e.sibling;e!==null;)Og(e,t,n),e=e.sibling}var Lt=null,ar=!1;function bs(e,t,n){for(n=n.child;n!==null;)J_(e,t,n),n=n.sibling}function J_(e,t,n){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(af,n)}catch{}switch(n.tag){case 5:$t||io(n,t);case 6:var r=Lt,s=ar;Lt=null,bs(e,t,n),Lt=r,ar=s,Lt!==null&&(ar?(e=Lt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(ar?(e=Lt,n=n.stateNode,e.nodeType===8?Np(e.parentNode,n):e.nodeType===1&&Np(e,n),_u(e)):Np(Lt,n.stateNode));break;case 4:r=Lt,s=ar,Lt=n.stateNode.containerInfo,ar=!0,bs(e,t,n),Lt=r,ar=s;break;case 0:case 11:case 14:case 15:if(!$t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Ig(n,t,a),s=s.next}while(s!==r)}bs(e,t,n);break;case 1:if(!$t&&(io(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ut(n,t,o)}bs(e,t,n);break;case 21:bs(e,t,n);break;case 22:n.mode&1?($t=(r=$t)||n.memoizedState!==null,bs(e,t,n),$t=r):bs(e,t,n);break;default:bs(e,t,n)}}function hx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new HD),t.forEach(function(r){var s=XD.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Xn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Lt=o.stateNode,ar=!1;break e;case 3:Lt=o.stateNode.containerInfo,ar=!0;break e;case 4:Lt=o.stateNode.containerInfo,ar=!0;break e}o=o.return}if(Lt===null)throw Error(te(160));J_(i,a,s),Lt=null,ar=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ut(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Z_(t,e),t=t.sibling}function Z_(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xn(t,e),wr(e),r&4){try{ru(3,e,e.return),pf(3,e)}catch(y){ut(e,e.return,y)}try{ru(5,e,e.return)}catch(y){ut(e,e.return,y)}}break;case 1:Xn(t,e),wr(e),r&512&&n!==null&&io(n,n.return);break;case 5:if(Xn(t,e),wr(e),r&512&&n!==null&&io(n,n.return),e.flags&32){var s=e.stateNode;try{Eu(s,"")}catch(y){ut(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&wk(s,i),rg(o,a);var u=rg(o,i);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?_k(s,d):c==="dangerouslySetInnerHTML"?Sk(s,d):c==="children"?Eu(s,d):Sy(s,c,d,u)}switch(o){case"input":Jm(s,i);break;case"textarea":Ek(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?mo(s,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?mo(s,!!i.multiple,i.defaultValue,!0):mo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ru]=i}catch(y){ut(e,e.return,y)}}break;case 6:if(Xn(t,e),wr(e),r&4){if(e.stateNode===null)throw Error(te(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){ut(e,e.return,y)}}break;case 3:if(Xn(t,e),wr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_u(t.containerInfo)}catch(y){ut(e,e.return,y)}break;case 4:Xn(t,e),wr(e);break;case 13:Xn(t,e),wr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(rv=ht())),r&4&&hx(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?($t=(u=$t)||c,Xn(t,e),$t=u):Xn(t,e),wr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(ce=e,c=e.child;c!==null;){for(d=ce=c;ce!==null;){switch(f=ce,h=f.child,f.tag){case 0:case 11:case 14:case 15:ru(4,f,f.return);break;case 1:io(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){ut(r,n,y)}}break;case 5:io(f,f.return);break;case 22:if(f.memoizedState!==null){px(d);continue}}h!==null?(h.return=f,ce=h):px(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=kk("display",a))}catch(y){ut(e,e.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){ut(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Xn(t,e),wr(e),r&4&&hx(e);break;case 21:break;default:Xn(t,e),wr(e)}}function wr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(X_(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Eu(s,""),r.flags&=-33);var i=dx(e);Og(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=dx(e);Pg(e,o,a);break;default:throw Error(te(161))}}catch(l){ut(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zD(e,t,n){ce=e,eC(e)}function eC(e,t,n){for(var r=(e.mode&1)!==0;ce!==null;){var s=ce,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Qc;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||$t;o=Qc;var u=$t;if(Qc=a,($t=l)&&!u)for(ce=s;ce!==null;)a=ce,l=a.child,a.tag===22&&a.memoizedState!==null?mx(s):l!==null?(l.return=a,ce=l):mx(s);for(;i!==null;)ce=i,eC(i),i=i.sibling;ce=s,Qc=o,$t=u}fx(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ce=i):fx(e)}}function fx(e){for(;ce!==null;){var t=ce;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$t||pf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!$t)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:nr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&X1(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}X1(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&_u(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}$t||t.flags&512&&Rg(t)}catch(f){ut(t,t.return,f)}}if(t===e){ce=null;break}if(n=t.sibling,n!==null){n.return=t.return,ce=n;break}ce=t.return}}function px(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ce=n;break}ce=t.return}}function mx(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pf(4,t)}catch(l){ut(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ut(t,s,l)}}var i=t.return;try{Rg(t)}catch(l){ut(t,i,l)}break;case 5:var a=t.return;try{Rg(t)}catch(l){ut(t,a,l)}}}catch(l){ut(t,t.return,l)}if(t===e){ce=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ce=o;break}ce=t.return}}var VD=Math.ceil,Eh=us.ReactCurrentDispatcher,tv=us.ReactCurrentOwner,Hn=us.ReactCurrentBatchConfig,Fe=0,It=null,wt=null,jt=0,En=0,ao=vi(0),_t=0,ju=null,fa=0,mf=0,nv=0,su=null,dn=null,rv=0,Wo=1/0,qr=null,Th=!1,Dg=null,ri=null,Xc=!1,Ys=null,Sh=0,iu=0,Lg=null,jd=-1,Fd=0;function tn(){return Fe&6?ht():jd!==-1?jd:jd=ht()}function si(e){return e.mode&1?Fe&2&&jt!==0?jt&-jt:CD.transition!==null?(Fd===0&&(Fd=Fk()),Fd):(e=$e,e!==0||(e=window.event,e=e===void 0?16:Wk(e.type)),e):1}function cr(e,t,n,r){if(50<iu)throw iu=0,Lg=null,Error(te(185));fc(e,n,r),(!(Fe&2)||e!==It)&&(e===It&&(!(Fe&2)&&(mf|=n),_t===4&&Ls(e,jt)),mn(e,r),n===1&&Fe===0&&!(t.mode&1)&&(Wo=ht()+500,df&&bi()))}function mn(e,t){var n=e.callbackNode;CO(e,t);var r=oh(e,e===It?jt:0);if(r===0)n!==null&&S1(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&S1(n),t===1)e.tag===0?_D(gx.bind(null,e)):c_(gx.bind(null,e)),ED(function(){!(Fe&6)&&bi()}),n=null;else{switch(Bk(r)){case 1:n=Ny;break;case 4:n=Mk;break;case 16:n=ah;break;case 536870912:n=jk;break;default:n=ah}n=lC(n,tC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tC(e,t){if(jd=-1,Fd=0,Fe&6)throw Error(te(327));var n=e.callbackNode;if(xo()&&e.callbackNode!==n)return null;var r=oh(e,e===It?jt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=kh(e,r);else{t=r;var s=Fe;Fe|=2;var i=rC();(It!==e||jt!==t)&&(qr=null,Wo=ht()+500,aa(e,t));do try{KD();break}catch(o){nC(e,o)}while(!0);$y(),Eh.current=i,Fe=s,wt!==null?t=0:(It=null,jt=0,t=_t)}if(t!==0){if(t===2&&(s=lg(e),s!==0&&(r=s,t=Mg(e,s))),t===1)throw n=ju,aa(e,0),Ls(e,r),mn(e,ht()),n;if(t===6)Ls(e,r);else{if(s=e.current.alternate,!(r&30)&&!WD(s)&&(t=kh(e,r),t===2&&(i=lg(e),i!==0&&(r=i,t=Mg(e,i))),t===1))throw n=ju,aa(e,0),Ls(e,r),mn(e,ht()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(te(345));case 2:Li(e,dn,qr);break;case 3:if(Ls(e,r),(r&130023424)===r&&(t=rv+500-ht(),10<t)){if(oh(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){tn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=gg(Li.bind(null,e,dn,qr),t);break}Li(e,dn,qr);break;case 4:if(Ls(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-ur(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*VD(r/1960))-r,10<r){e.timeoutHandle=gg(Li.bind(null,e,dn,qr),r);break}Li(e,dn,qr);break;case 5:Li(e,dn,qr);break;default:throw Error(te(329))}}}return mn(e,ht()),e.callbackNode===n?tC.bind(null,e):null}function Mg(e,t){var n=su;return e.current.memoizedState.isDehydrated&&(aa(e,t).flags|=256),e=kh(e,t),e!==2&&(t=dn,dn=n,t!==null&&jg(t)),e}function jg(e){dn===null?dn=e:dn.push.apply(dn,e)}function WD(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!fr(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ls(e,t){for(t&=~nv,t&=~mf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ur(t),r=1<<n;e[n]=-1,t&=~r}}function gx(e){if(Fe&6)throw Error(te(327));xo();var t=oh(e,0);if(!(t&1))return mn(e,ht()),null;var n=kh(e,t);if(e.tag!==0&&n===2){var r=lg(e);r!==0&&(t=r,n=Mg(e,r))}if(n===1)throw n=ju,aa(e,0),Ls(e,t),mn(e,ht()),n;if(n===6)throw Error(te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Li(e,dn,qr),mn(e,ht()),null}function sv(e,t){var n=Fe;Fe|=1;try{return e(t)}finally{Fe=n,Fe===0&&(Wo=ht()+500,df&&bi())}}function pa(e){Ys!==null&&Ys.tag===0&&!(Fe&6)&&xo();var t=Fe;Fe|=1;var n=Hn.transition,r=$e;try{if(Hn.transition=null,$e=1,e)return e()}finally{$e=r,Hn.transition=n,Fe=t,!(Fe&6)&&bi()}}function iv(){En=ao.current,Je(ao)}function aa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,wD(n)),wt!==null)for(n=wt.return;n!==null;){var r=n;switch(By(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hh();break;case 3:zo(),Je(fn),Je(Wt),Yy();break;case 5:Ky(r);break;case 4:zo();break;case 13:Je(rt);break;case 19:Je(rt);break;case 10:zy(r.type._context);break;case 22:case 23:iv()}n=n.return}if(It=e,wt=e=ii(e.current,null),jt=En=t,_t=0,ju=null,nv=mf=fa=0,dn=su=null,$i!==null){for(t=0;t<$i.length;t++)if(n=$i[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}$i=null}return e}function nC(e,t){do{var n=wt;try{if($y(),Dd.current=wh,xh){for(var r=it.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}xh=!1}if(ha=0,At=St=it=null,nu=!1,Du=0,tv.current=null,n===null||n.return===null){_t=1,ju=t,wt=null;break}e:{var i=e,a=n.return,o=n,l=t;if(t=jt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=rx(a);if(h!==null){h.flags&=-257,sx(h,a,o,i,t),h.mode&1&&nx(i,u,t),t=h,l=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(l),t.updateQueue=y}else g.add(l);break e}else{if(!(t&1)){nx(i,u,t),av();break e}l=Error(te(426))}}else if(tt&&o.mode&1){var w=rx(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),sx(w,a,o,i,t),Uy(Vo(l,o));break e}}i=l=Vo(l,o),_t!==4&&(_t=2),su===null?su=[i]:su.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=B_(i,l,t);Q1(i,v);break e;case 1:o=l;var x=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ri===null||!ri.has(E)))){i.flags|=65536,t&=-t,i.lanes|=t;var T=U_(i,o,t);Q1(i,T);break e}}i=i.return}while(i!==null)}iC(n)}catch(k){t=k,wt===n&&n!==null&&(wt=n=n.return);continue}break}while(!0)}function rC(){var e=Eh.current;return Eh.current=wh,e===null?wh:e}function av(){(_t===0||_t===3||_t===2)&&(_t=4),It===null||!(fa&268435455)&&!(mf&268435455)||Ls(It,jt)}function kh(e,t){var n=Fe;Fe|=2;var r=rC();(It!==e||jt!==t)&&(qr=null,aa(e,t));do try{qD();break}catch(s){nC(e,s)}while(!0);if($y(),Fe=n,Eh.current=r,wt!==null)throw Error(te(261));return It=null,jt=0,_t}function qD(){for(;wt!==null;)sC(wt)}function KD(){for(;wt!==null&&!vO();)sC(wt)}function sC(e){var t=oC(e.alternate,e,En);e.memoizedProps=e.pendingProps,t===null?iC(e):wt=t,tv.current=null}function iC(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=UD(n,t),n!==null){n.flags&=32767,wt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_t=6,wt=null;return}}else if(n=BD(n,t,En),n!==null){wt=n;return}if(t=t.sibling,t!==null){wt=t;return}wt=t=e}while(t!==null);_t===0&&(_t=5)}function Li(e,t,n){var r=$e,s=Hn.transition;try{Hn.transition=null,$e=1,YD(e,t,n,r)}finally{Hn.transition=s,$e=r}return null}function YD(e,t,n,r){do xo();while(Ys!==null);if(Fe&6)throw Error(te(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(te(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(AO(e,i),e===It&&(wt=It=null,jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xc||(Xc=!0,lC(ah,function(){return xo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Hn.transition,Hn.transition=null;var a=$e;$e=1;var o=Fe;Fe|=4,tv.current=null,$D(e,n),Z_(n,e),pD(pg),lh=!!fg,pg=fg=null,e.current=n,zD(n),bO(),Fe=o,$e=a,Hn.transition=i}else e.current=n;if(Xc&&(Xc=!1,Ys=e,Sh=s),i=e.pendingLanes,i===0&&(ri=null),EO(n.stateNode),mn(e,ht()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Th)throw Th=!1,e=Dg,Dg=null,e;return Sh&1&&e.tag!==0&&xo(),i=e.pendingLanes,i&1?e===Lg?iu++:(iu=0,Lg=e):iu=0,bi(),null}function xo(){if(Ys!==null){var e=Bk(Sh),t=Hn.transition,n=$e;try{if(Hn.transition=null,$e=16>e?16:e,Ys===null)var r=!1;else{if(e=Ys,Ys=null,Sh=0,Fe&6)throw Error(te(331));var s=Fe;for(Fe|=4,ce=e.current;ce!==null;){var i=ce,a=i.child;if(ce.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(ce=u;ce!==null;){var c=ce;switch(c.tag){case 0:case 11:case 15:ru(8,c,i)}var d=c.child;if(d!==null)d.return=c,ce=d;else for(;ce!==null;){c=ce;var f=c.sibling,h=c.return;if(Q_(c),c===u){ce=null;break}if(f!==null){f.return=h,ce=f;break}ce=h}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}ce=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ce=a;else e:for(;ce!==null;){if(i=ce,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ru(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,ce=v;break e}ce=i.return}}var x=e.current;for(ce=x;ce!==null;){a=ce;var E=a.child;if(a.subtreeFlags&2064&&E!==null)E.return=a,ce=E;else e:for(a=x;ce!==null;){if(o=ce,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:pf(9,o)}}catch(k){ut(o,o.return,k)}if(o===a){ce=null;break e}var T=o.sibling;if(T!==null){T.return=o.return,ce=T;break e}ce=o.return}}if(Fe=s,bi(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(af,e)}catch{}r=!0}return r}finally{$e=n,Hn.transition=t}}return!1}function yx(e,t,n){t=Vo(n,t),t=B_(e,t,1),e=ni(e,t,1),t=tn(),e!==null&&(fc(e,1,t),mn(e,t))}function ut(e,t,n){if(e.tag===3)yx(e,e,n);else for(;t!==null;){if(t.tag===3){yx(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ri===null||!ri.has(r))){e=Vo(n,e),e=U_(t,e,1),t=ni(t,e,1),e=tn(),t!==null&&(fc(t,1,e),mn(t,e));break}}t=t.return}}function GD(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=tn(),e.pingedLanes|=e.suspendedLanes&n,It===e&&(jt&n)===n&&(_t===4||_t===3&&(jt&130023424)===jt&&500>ht()-rv?aa(e,0):nv|=n),mn(e,t)}function aC(e,t){t===0&&(e.mode&1?(t=Hc,Hc<<=1,!(Hc&130023424)&&(Hc=4194304)):t=1);var n=tn();e=ss(e,t),e!==null&&(fc(e,t,n),mn(e,n))}function QD(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),aC(e,n)}function XD(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(t),aC(e,n)}var oC;oC=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||fn.current)hn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return hn=!1,FD(e,t,n);hn=!!(e.flags&131072)}else hn=!1,tt&&t.flags&1048576&&d_(t,mh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Md(e,t),e=t.pendingProps;var s=Uo(t,Wt.current);bo(t,n),s=Qy(null,t,r,e,s,n);var i=Xy();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pn(r)?(i=!0,fh(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Wy(t),s.updater=ff,t.stateNode=s,s._reactInternals=t,Tg(t,r,e,n),t=_g(null,t,r,!0,i,n)):(t.tag=0,tt&&i&&Fy(t),Qt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Md(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=ZD(r),e=nr(r,e),s){case 0:t=kg(null,t,r,e,n);break e;case 1:t=ox(null,t,r,e,n);break e;case 11:t=ix(null,t,r,e,n);break e;case 14:t=ax(null,t,r,nr(r.type,e),n);break e}throw Error(te(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nr(r,s),kg(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nr(r,s),ox(e,t,r,s,n);case 3:e:{if(V_(t),e===null)throw Error(te(387));r=t.pendingProps,i=t.memoizedState,s=i.element,y_(e,t),vh(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Vo(Error(te(423)),t),t=lx(e,t,r,n,s);break e}else if(r!==s){s=Vo(Error(te(424)),t),t=lx(e,t,r,n,s);break e}else for(kn=ti(t.stateNode.containerInfo.firstChild),_n=t,tt=!0,lr=null,n=m_(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ho(),r===s){t=is(e,t,n);break e}Qt(e,t,r,n)}t=t.child}return t;case 5:return v_(t),e===null&&xg(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,mg(r,s)?a=null:i!==null&&mg(r,i)&&(t.flags|=32),z_(e,t),Qt(e,t,a,n),t.child;case 6:return e===null&&xg(t),null;case 13:return W_(e,t,n);case 4:return qy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=$o(t,null,r,n):Qt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nr(r,s),ix(e,t,r,s,n);case 7:return Qt(e,t,t.pendingProps,n),t.child;case 8:return Qt(e,t,t.pendingProps.children,n),t.child;case 12:return Qt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,Ye(gh,r._currentValue),r._currentValue=a,i!==null)if(fr(i.value,a)){if(i.children===s.children&&!fn.current){t=is(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=es(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),wg(i.return,n,t),o.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(te(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),wg(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Qt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,bo(t,n),s=Wn(s),r=r(s),t.flags|=1,Qt(e,t,r,n),t.child;case 14:return r=t.type,s=nr(r,t.pendingProps),s=nr(r.type,s),ax(e,t,r,s,n);case 15:return H_(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nr(r,s),Md(e,t),t.tag=1,pn(r)?(e=!0,fh(t)):e=!1,bo(t,n),F_(t,r,s),Tg(t,r,s,n),_g(null,t,r,!0,e,n);case 19:return q_(e,t,n);case 22:return $_(e,t,n)}throw Error(te(156,t.tag))};function lC(e,t){return Lk(e,t)}function JD(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(e,t,n,r){return new JD(e,t,n,r)}function ov(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ZD(e){if(typeof e=="function")return ov(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_y)return 11;if(e===Cy)return 14}return 2}function ii(e,t){var n=e.alternate;return n===null?(n=Bn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Bd(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")ov(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Qa:return oa(n.children,s,i,t);case ky:a=8,s|=8;break;case Km:return e=Bn(12,n,t,s|2),e.elementType=Km,e.lanes=i,e;case Ym:return e=Bn(13,n,t,s),e.elementType=Ym,e.lanes=i,e;case Gm:return e=Bn(19,n,t,s),e.elementType=Gm,e.lanes=i,e;case vk:return gf(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gk:a=10;break e;case yk:a=9;break e;case _y:a=11;break e;case Cy:a=14;break e;case Rs:a=16,r=null;break e}throw Error(te(130,e==null?e:typeof e,""))}return t=Bn(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function oa(e,t,n,r){return e=Bn(7,e,r,t),e.lanes=n,e}function gf(e,t,n,r){return e=Bn(22,e,r,t),e.elementType=vk,e.lanes=n,e.stateNode={isHidden:!1},e}function jp(e,t,n){return e=Bn(6,e,null,t),e.lanes=n,e}function Fp(e,t,n){return t=Bn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function eL(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vp(0),this.expirationTimes=vp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function lv(e,t,n,r,s,i,a,o,l){return e=new eL(e,t,n,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Bn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wy(i),e}function tL(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ga,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function uC(e){if(!e)return ci;e=e._reactInternals;e:{if(ka(e)!==e||e.tag!==1)throw Error(te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(te(171))}if(e.tag===1){var n=e.type;if(pn(n))return u_(e,n,t)}return t}function cC(e,t,n,r,s,i,a,o,l){return e=lv(n,r,!0,e,s,i,a,o,l),e.context=uC(null),n=e.current,r=tn(),s=si(n),i=es(r,s),i.callback=t??null,ni(n,i,s),e.current.lanes=s,fc(e,s,r),mn(e,r),e}function yf(e,t,n,r){var s=t.current,i=tn(),a=si(s);return n=uC(n),t.context===null?t.context=n:t.pendingContext=n,t=es(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ni(s,t,a),e!==null&&(cr(e,s,a,i),Od(e,s,a)),a}function _h(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function uv(e,t){vx(e,t),(e=e.alternate)&&vx(e,t)}function nL(){return null}var dC=typeof reportError=="function"?reportError:function(e){console.error(e)};function cv(e){this._internalRoot=e}vf.prototype.render=cv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(te(409));yf(e,t,null,null)};vf.prototype.unmount=cv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pa(function(){yf(null,e,null,null)}),t[rs]=null}};function vf(e){this._internalRoot=e}vf.prototype.unstable_scheduleHydration=function(e){if(e){var t=$k();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ds.length&&t!==0&&t<Ds[n].priority;n++);Ds.splice(n,0,e),n===0&&Vk(e)}};function dv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bx(){}function rL(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=_h(a);i.call(u)}}var a=cC(t,r,e,0,null,!1,!1,"",bx);return e._reactRootContainer=a,e[rs]=a.current,Nu(e.nodeType===8?e.parentNode:e),pa(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=_h(l);o.call(u)}}var l=lv(e,0,!1,null,null,!1,!1,"",bx);return e._reactRootContainer=l,e[rs]=l.current,Nu(e.nodeType===8?e.parentNode:e),pa(function(){yf(t,l,n,r)}),l}function xf(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=_h(a);o.call(l)}}yf(t,a,e,s)}else a=rL(n,t,e,s,r);return _h(a)}Uk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=zl(t.pendingLanes);n!==0&&(Iy(t,n|1),mn(t,ht()),!(Fe&6)&&(Wo=ht()+500,bi()))}break;case 13:pa(function(){var r=ss(e,1);if(r!==null){var s=tn();cr(r,e,1,s)}}),uv(e,1)}};Ry=function(e){if(e.tag===13){var t=ss(e,134217728);if(t!==null){var n=tn();cr(t,e,134217728,n)}uv(e,134217728)}};Hk=function(e){if(e.tag===13){var t=si(e),n=ss(e,t);if(n!==null){var r=tn();cr(n,e,t,r)}uv(e,t)}};$k=function(){return $e};zk=function(e,t){var n=$e;try{return $e=e,t()}finally{$e=n}};ig=function(e,t,n){switch(t){case"input":if(Jm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=cf(r);if(!s)throw Error(te(90));xk(r),Jm(r,s)}}}break;case"textarea":Ek(e,n);break;case"select":t=n.value,t!=null&&mo(e,!!n.multiple,t,!1)}};Nk=sv;Ik=pa;var sL={usingClientEntryPoint:!1,Events:[mc,eo,cf,Ck,Ak,sv]},Al={findFiberByHostInstance:Hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iL={bundleType:Al.bundleType,version:Al.version,rendererPackageName:Al.rendererPackageName,rendererConfig:Al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:us.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ok(e),e===null?null:e.stateNode},findFiberByHostInstance:Al.findFiberByHostInstance||nL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{af=Jc.inject(iL),Pr=Jc}catch{}}In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sL;In.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dv(t))throw Error(te(200));return tL(e,t,null,n)};In.createRoot=function(e,t){if(!dv(e))throw Error(te(299));var n=!1,r="",s=dC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=lv(e,1,!1,null,null,n,!1,r,s),e[rs]=t.current,Nu(e.nodeType===8?e.parentNode:e),new cv(t)};In.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(te(188)):(e=Object.keys(e).join(","),Error(te(268,e)));return e=Ok(t),e=e===null?null:e.stateNode,e};In.flushSync=function(e){return pa(e)};In.hydrate=function(e,t,n){if(!bf(t))throw Error(te(200));return xf(null,e,t,!0,n)};In.hydrateRoot=function(e,t,n){if(!dv(e))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=dC;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=cC(t,null,e,1,n??null,s,!1,i,a),e[rs]=t.current,Nu(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new vf(t)};In.render=function(e,t,n){if(!bf(t))throw Error(te(200));return xf(null,e,t,!1,n)};In.unmountComponentAtNode=function(e){if(!bf(e))throw Error(te(40));return e._reactRootContainer?(pa(function(){xf(null,null,e,!1,function(){e._reactRootContainer=null,e[rs]=null})}),!0):!1};In.unstable_batchedUpdates=sv;In.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!bf(n))throw Error(te(200));if(e==null||e._reactInternals===void 0)throw Error(te(38));return xf(e,t,n,!1,r)};In.version="18.3.1-next-f1338f8080-20240426";function hC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hC)}catch(e){console.error(e)}}hC(),hk.exports=In;var rl=hk.exports;const fC=rf(rl);var pC,xx=rl;pC=xx.createRoot,xx.hydrateRoot;const aL=1,oL=1e6;let Bp=0;function lL(){return Bp=(Bp+1)%Number.MAX_SAFE_INTEGER,Bp.toString()}const Up=new Map,wx=e=>{if(Up.has(e))return;const t=setTimeout(()=>{Up.delete(e),au({type:"REMOVE_TOAST",toastId:e})},oL);Up.set(e,t)},uL=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,aL)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?wx(n):e.toasts.forEach(r=>{wx(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Ud=[];let Hd={toasts:[]};function au(e){Hd=uL(Hd,e),Ud.forEach(t=>{t(Hd)})}function cL({...e}){const t=lL(),n=s=>au({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>au({type:"DISMISS_TOAST",toastId:t});return au({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function dL(){const[e,t]=b.useState(Hd);return b.useEffect(()=>(Ud.push(t),()=>{const n=Ud.indexOf(t);n>-1&&Ud.splice(n,1)}),[e]),{...e,toast:cL,dismiss:n=>au({type:"DISMISS_TOAST",toastId:n})}}function _e(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Ex(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ma(...e){return t=>{let n=!1;const r=e.map(s=>{const i=Ex(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Ex(e[s],null)}}}}function mt(...e){return b.useCallback(ma(...e),e)}function hL(e,t){const n=b.createContext(t),r=i=>{const{children:a,...o}=i,l=b.useMemo(()=>o,Object.values(o));return p.jsx(n.Provider,{value:l,children:a})};r.displayName=e+"Provider";function s(i){const a=b.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function cs(e,t=[]){let n=[];function r(i,a){const o=b.createContext(a),l=n.length;n=[...n,a];const u=d=>{var v;const{scope:f,children:h,...g}=d,y=((v=f==null?void 0:f[e])==null?void 0:v[l])||o,w=b.useMemo(()=>g,Object.values(g));return p.jsx(y.Provider,{value:w,children:h})};u.displayName=i+"Provider";function c(d,f){var y;const h=((y=f==null?void 0:f[e])==null?void 0:y[l])||o,g=b.useContext(h);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[u,c]}const s=()=>{const i=n.map(a=>b.createContext(a));return function(o){const l=(o==null?void 0:o[e])||i;return b.useMemo(()=>({[`__scope${e}`]:{...o,[e]:l}}),[o,l])}};return s.scopeName=e,[r,fL(s,...t)]}function fL(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((o,{useScope:l,scopeName:u})=>{const d=l(i)[`__scope${u}`];return{...o,...d}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function Fu(e){const t=pL(e),n=b.forwardRef((r,s)=>{const{children:i,...a}=r,o=b.Children.toArray(i),l=o.find(gL);if(l){const u=l.props.children,c=o.map(d=>d===l?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:d);return p.jsx(t,{...a,ref:s,children:b.isValidElement(u)?b.cloneElement(u,void 0,c):null})}return p.jsx(t,{...a,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function pL(e){const t=b.forwardRef((n,r)=>{const{children:s,...i}=n;if(b.isValidElement(s)){const a=vL(s),o=yL(i,s.props);return s.type!==b.Fragment&&(o.ref=r?ma(r,a):a),b.cloneElement(s,o)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mC=Symbol("radix.slottable");function mL(e){const t=({children:n})=>p.jsx(p.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=mC,t}function gL(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mC}function yL(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const l=i(...o);return s(...o),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function vL(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function bL(e){const t=e+"CollectionProvider",[n,r]=cs(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:w,children:v}=y,x=ie.useRef(null),E=ie.useRef(new Map).current;return p.jsx(s,{scope:w,itemMap:E,collectionRef:x,children:v})};a.displayName=t;const o=e+"CollectionSlot",l=Fu(o),u=ie.forwardRef((y,w)=>{const{scope:v,children:x}=y,E=i(o,v),T=mt(w,E.collectionRef);return p.jsx(l,{ref:T,children:x})});u.displayName=o;const c=e+"CollectionItemSlot",d="data-radix-collection-item",f=Fu(c),h=ie.forwardRef((y,w)=>{const{scope:v,children:x,...E}=y,T=ie.useRef(null),k=mt(w,T),S=i(c,v);return ie.useEffect(()=>(S.itemMap.set(T,{ref:T,...E}),()=>void S.itemMap.delete(T))),p.jsx(f,{[d]:"",ref:k,children:x})});h.displayName=c;function g(y){const w=i(e+"CollectionConsumer",y);return ie.useCallback(()=>{const x=w.collectionRef.current;if(!x)return[];const E=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((S,C)=>E.indexOf(S.ref.current)-E.indexOf(C.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:u,ItemSlot:h},g,r]}var xL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],De=xL.reduce((e,t)=>{const n=Fu(`Primitive.${t}`),r=b.forwardRef((s,i)=>{const{asChild:a,...o}=s,l=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...o,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function gC(e,t){e&&rl.flushSync(()=>e.dispatchEvent(t))}function Mr(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function wL(e,t=globalThis==null?void 0:globalThis.document){const n=Mr(e);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var EL="DismissableLayer",Fg="dismissableLayer.update",TL="dismissableLayer.pointerDownOutside",SL="dismissableLayer.focusOutside",Tx,yC=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),sl=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:o,...l}=e,u=b.useContext(yC),[c,d]=b.useState(null),f=(c==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=b.useState({}),g=mt(t,C=>d(C)),y=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(w),x=c?y.indexOf(c):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,T=x>=v,k=_L(C=>{const O=C.target,M=[...u.branches].some(I=>I.contains(O));!T||M||(s==null||s(C),a==null||a(C),C.defaultPrevented||o==null||o())},f),S=CL(C=>{const O=C.target;[...u.branches].some(I=>I.contains(O))||(i==null||i(C),a==null||a(C),C.defaultPrevented||o==null||o())},f);return wL(C=>{x===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&o&&(C.preventDefault(),o()))},f),b.useEffect(()=>{if(c)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Tx=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),Sx(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Tx)}},[c,f,n,u]),b.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),Sx())},[c,u]),b.useEffect(()=>{const C=()=>h({});return document.addEventListener(Fg,C),()=>document.removeEventListener(Fg,C)},[]),p.jsx(De.div,{...l,ref:g,style:{pointerEvents:E?T?"auto":"none":void 0,...e.style},onFocusCapture:_e(e.onFocusCapture,S.onFocusCapture),onBlurCapture:_e(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:_e(e.onPointerDownCapture,k.onPointerDownCapture)})});sl.displayName=EL;var kL="DismissableLayerBranch",vC=b.forwardRef((e,t)=>{const n=b.useContext(yC),r=b.useRef(null),s=mt(t,r);return b.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(De.div,{...e,ref:s})});vC.displayName=kL;function _L(e,t=globalThis==null?void 0:globalThis.document){const n=Mr(e),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=o=>{if(o.target&&!r.current){let l=function(){bC(TL,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function CL(e,t=globalThis==null?void 0:globalThis.document){const n=Mr(e),r=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!r.current&&bC(SL,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Sx(){const e=new CustomEvent(Fg);document.dispatchEvent(e)}function bC(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?gC(s,i):s.dispatchEvent(i)}var AL=sl,NL=vC,jr=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},IL="Portal",wf=b.forwardRef((e,t)=>{var o;const{container:n,...r}=e,[s,i]=b.useState(!1);jr(()=>i(!0),[]);const a=n||s&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?fC.createPortal(p.jsx(De.div,{...r,ref:t}),a):null});wf.displayName=IL;function RL(e,t){return b.useReducer((n,r)=>t[n][r]??n,e)}var yr=e=>{const{present:t,children:n}=e,r=PL(t),s=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),i=mt(r.ref,OL(s));return typeof n=="function"||r.isPresent?b.cloneElement(s,{ref:i}):null};yr.displayName="Presence";function PL(e){const[t,n]=b.useState(),r=b.useRef(null),s=b.useRef(e),i=b.useRef("none"),a=e?"mounted":"unmounted",[o,l]=RL(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Zc(r.current);i.current=o==="mounted"?u:"none"},[o]),jr(()=>{const u=r.current,c=s.current;if(c!==e){const f=i.current,h=Zc(u);e?l("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&f!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),jr(()=>{if(t){let u;const c=t.ownerDocument.defaultView??window,d=h=>{const y=Zc(r.current).includes(h.animationName);if(h.target===t&&y&&(l("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=c.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},f=h=>{h.target===t&&(i.current=Zc(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{c.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:b.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Zc(e){return(e==null?void 0:e.animationName)||"none"}function OL(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var DL=wy[" useInsertionEffect ".trim().toString()]||jr;function _a({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,a]=LL({defaultProp:t,onChange:n}),o=e!==void 0,l=o?e:s;{const c=b.useRef(e!==void 0);b.useEffect(()=>{const d=c.current;d!==o&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),c.current=o},[o,r])}const u=b.useCallback(c=>{var d;if(o){const f=ML(c)?c(e):c;f!==e&&((d=a.current)==null||d.call(a,f))}else i(c)},[o,e,i,a]);return[l,u]}function LL({defaultProp:e,onChange:t}){const[n,r]=b.useState(e),s=b.useRef(n),i=b.useRef(t);return DL(()=>{i.current=t},[t]),b.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function ML(e){return typeof e=="function"}var jL=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),FL="VisuallyHidden",Ef=b.forwardRef((e,t)=>p.jsx(De.span,{...e,ref:t,style:{...jL,...e.style}}));Ef.displayName=FL;var BL=Ef,hv="ToastProvider",[fv,UL,HL]=bL("Toast"),[xC,Hte]=cs("Toast",[HL]),[$L,Tf]=xC(hv),wC=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=e,[o,l]=b.useState(null),[u,c]=b.useState(0),d=b.useRef(!1),f=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${hv}\`. Expected non-empty \`string\`.`),p.jsx(fv.Provider,{scope:t,children:p.jsx($L,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:o,onViewportChange:l,onToastAdd:b.useCallback(()=>c(h=>h+1),[]),onToastRemove:b.useCallback(()=>c(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:a})})};wC.displayName=hv;var EC="ToastViewport",zL=["F8"],Bg="toast.viewportPause",Ug="toast.viewportResume",TC=b.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=zL,label:s="Notifications ({hotkey})",...i}=e,a=Tf(EC,n),o=UL(n),l=b.useRef(null),u=b.useRef(null),c=b.useRef(null),d=b.useRef(null),f=mt(t,d,a.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;b.useEffect(()=>{const w=v=>{var E;r.length!==0&&r.every(T=>v[T]||v.code===T)&&((E=d.current)==null||E.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),b.useEffect(()=>{const w=l.current,v=d.current;if(g&&w&&v){const x=()=>{if(!a.isClosePausedRef.current){const S=new CustomEvent(Bg);v.dispatchEvent(S),a.isClosePausedRef.current=!0}},E=()=>{if(a.isClosePausedRef.current){const S=new CustomEvent(Ug);v.dispatchEvent(S),a.isClosePausedRef.current=!1}},T=S=>{!w.contains(S.relatedTarget)&&E()},k=()=>{w.contains(document.activeElement)||E()};return w.addEventListener("focusin",x),w.addEventListener("focusout",T),w.addEventListener("pointermove",x),w.addEventListener("pointerleave",k),window.addEventListener("blur",x),window.addEventListener("focus",E),()=>{w.removeEventListener("focusin",x),w.removeEventListener("focusout",T),w.removeEventListener("pointermove",x),w.removeEventListener("pointerleave",k),window.removeEventListener("blur",x),window.removeEventListener("focus",E)}}},[g,a.isClosePausedRef]);const y=b.useCallback(({tabbingDirection:w})=>{const x=o().map(E=>{const T=E.ref.current,k=[T,...n4(T)];return w==="forwards"?k:k.reverse()});return(w==="forwards"?x.reverse():x).flat()},[o]);return b.useEffect(()=>{const w=d.current;if(w){const v=x=>{var k,S,C;const E=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!E){const O=document.activeElement,M=x.shiftKey;if(x.target===w&&M){(k=u.current)==null||k.focus();return}const U=y({tabbingDirection:M?"backwards":"forwards"}),G=U.findIndex(W=>W===O);Hp(U.slice(G+1))?x.preventDefault():M?(S=u.current)==null||S.focus():(C=c.current)==null||C.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[o,y]),p.jsxs(NL,{ref:l,role:"region","aria-label":s.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&p.jsx(Hg,{ref:u,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"forwards"});Hp(w)}}),p.jsx(fv.Slot,{scope:n,children:p.jsx(De.ol,{tabIndex:-1,...i,ref:f})}),g&&p.jsx(Hg,{ref:c,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"backwards"});Hp(w)}})]})});TC.displayName=EC;var SC="ToastFocusProxy",Hg=b.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=Tf(SC,n);return p.jsx(Ef,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const o=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(o))&&r()}})});Hg.displayName=SC;var yc="Toast",VL="toast.swipeStart",WL="toast.swipeMove",qL="toast.swipeCancel",KL="toast.swipeEnd",kC=b.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...a}=e,[o,l]=_a({prop:r,defaultProp:s??!0,onChange:i,caller:yc});return p.jsx(yr,{present:n||o,children:p.jsx(QL,{open:o,...a,ref:t,onClose:()=>l(!1),onPause:Mr(e.onPause),onResume:Mr(e.onResume),onSwipeStart:_e(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:_e(e.onSwipeMove,u=>{const{x:c,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:_e(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:_e(e.onSwipeEnd,u=>{const{x:c,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});kC.displayName=yc;var[YL,GL]=xC(yc,{onClose(){}}),QL=b.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:o,onPause:l,onResume:u,onSwipeStart:c,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:h,...g}=e,y=Tf(yc,n),[w,v]=b.useState(null),x=mt(t,W=>v(W)),E=b.useRef(null),T=b.useRef(null),k=s||y.duration,S=b.useRef(0),C=b.useRef(k),O=b.useRef(0),{onToastAdd:M,onToastRemove:I}=y,H=Mr(()=>{var q;(w==null?void 0:w.contains(document.activeElement))&&((q=y.viewport)==null||q.focus()),a()}),U=b.useCallback(W=>{!W||W===1/0||(window.clearTimeout(O.current),S.current=new Date().getTime(),O.current=window.setTimeout(H,W))},[H]);b.useEffect(()=>{const W=y.viewport;if(W){const q=()=>{U(C.current),u==null||u()},ae=()=>{const J=new Date().getTime()-S.current;C.current=C.current-J,window.clearTimeout(O.current),l==null||l()};return W.addEventListener(Bg,ae),W.addEventListener(Ug,q),()=>{W.removeEventListener(Bg,ae),W.removeEventListener(Ug,q)}}},[y.viewport,k,l,u,U]),b.useEffect(()=>{i&&!y.isClosePausedRef.current&&U(k)},[i,k,y.isClosePausedRef,U]),b.useEffect(()=>(M(),()=>I()),[M,I]);const G=b.useMemo(()=>w?PC(w):null,[w]);return y.viewport?p.jsxs(p.Fragment,{children:[G&&p.jsx(XL,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:G}),p.jsx(YL,{scope:n,onClose:H,children:rl.createPortal(p.jsx(fv.ItemSlot,{scope:n,children:p.jsx(AL,{asChild:!0,onEscapeKeyDown:_e(o,()=>{y.isFocusedToastEscapeKeyDownRef.current||H(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(De.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:_e(e.onKeyDown,W=>{W.key==="Escape"&&(o==null||o(W.nativeEvent),W.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,H()))}),onPointerDown:_e(e.onPointerDown,W=>{W.button===0&&(E.current={x:W.clientX,y:W.clientY})}),onPointerMove:_e(e.onPointerMove,W=>{if(!E.current)return;const q=W.clientX-E.current.x,ae=W.clientY-E.current.y,J=!!T.current,F=["left","right"].includes(y.swipeDirection),L=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,_=F?L(0,q):0,ne=F?0:L(0,ae),j=W.pointerType==="touch"?10:2,A={x:_,y:ne},X={originalEvent:W,delta:A};J?(T.current=A,ed(WL,d,X,{discrete:!1})):kx(A,y.swipeDirection,j)?(T.current=A,ed(VL,c,X,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(q)>j||Math.abs(ae)>j)&&(E.current=null)}),onPointerUp:_e(e.onPointerUp,W=>{const q=T.current,ae=W.target;if(ae.hasPointerCapture(W.pointerId)&&ae.releasePointerCapture(W.pointerId),T.current=null,E.current=null,q){const J=W.currentTarget,F={originalEvent:W,delta:q};kx(q,y.swipeDirection,y.swipeThreshold)?ed(KL,h,F,{discrete:!0}):ed(qL,f,F,{discrete:!0}),J.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),XL=e=>{const{__scopeToast:t,children:n,...r}=e,s=Tf(yc,t),[i,a]=b.useState(!1),[o,l]=b.useState(!1);return e4(()=>a(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:p.jsx(wf,{asChild:!0,children:p.jsx(Ef,{...r,children:i&&p.jsxs(p.Fragment,{children:[s.label," ",n]})})})},JL="ToastTitle",_C=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(De.div,{...r,ref:t})});_C.displayName=JL;var ZL="ToastDescription",CC=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(De.div,{...r,ref:t})});CC.displayName=ZL;var AC="ToastAction",NC=b.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?p.jsx(RC,{altText:n,asChild:!0,children:p.jsx(pv,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${AC}\`. Expected non-empty \`string\`.`),null)});NC.displayName=AC;var IC="ToastClose",pv=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=GL(IC,n);return p.jsx(RC,{asChild:!0,children:p.jsx(De.button,{type:"button",...r,ref:t,onClick:_e(e.onClick,s.onClose)})})});pv.displayName=IC;var RC=b.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return p.jsx(De.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function PC(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),t4(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...PC(r))}}),t}function ed(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?gC(s,i):s.dispatchEvent(i)}var kx=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function e4(e=()=>{}){const t=Mr(e);jr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function t4(e){return e.nodeType===e.ELEMENT_NODE}function n4(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Hp(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var r4=wC,OC=TC,DC=kC,LC=_C,MC=CC,jC=NC,FC=pv;function BC(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=BC(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function UC(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=BC(e))&&(r&&(r+=" "),r+=t);return r}const _x=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Cx=UC,s4=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Cx(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(u=>{const c=n==null?void 0:n[u],d=i==null?void 0:i[u];if(c===null)return null;const f=_x(c)||_x(d);return s[u][f]}),o=n&&Object.entries(n).reduce((u,c)=>{let[d,f]=c;return f===void 0||(u[d]=f),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,c)=>{let{class:d,className:f,...h}=c;return Object.entries(h).every(g=>{let[y,w]=g;return Array.isArray(w)?w.includes({...i,...o}[y]):{...i,...o}[y]===w})?[...u,d,f]:u},[]);return Cx(e,a,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HC=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var a4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...o},l)=>b.createElement("svg",{ref:l,...a4,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:HC("lucide",s),...o},[...a.map(([u,c])=>b.createElement(u,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(e,t)=>{const n=b.forwardRef(({className:r,...s},i)=>b.createElement(o4,{ref:i,iconNode:t,className:HC(`lucide-${i4(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=Ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=Ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=Ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=Ae("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=Ae("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=Ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=Ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=Ae("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=Ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=Ae("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=Ae("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=Ae("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=Ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=Ae("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=Ae("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=Ae("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=Ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=Ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=Ae("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=Ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=Ae("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=Ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=Ae("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=Ae("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=Ae("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=Ae("PanelRightClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=Ae("PanelRightOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=Ae("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=Ae("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=Ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=Ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=Ae("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=Ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=Ae("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=Ae("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=Ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=Ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=Ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=Ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bv="-",C4=e=>{const t=N4(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const o=a.split(bv);return o[0]===""&&o.length!==1&&o.shift(),WC(o,t)||A4(a)},getConflictingClassGroupIds:(a,o)=>{const l=n[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},WC=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?WC(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(bv);return(a=t.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},Ix=/^\[(.+)\]$/,A4=e=>{if(Ix.test(e)){const t=Ix.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},N4=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return R4(Object.entries(e.classGroups),n).forEach(([i,a])=>{zg(a,r,i,t)}),r},zg=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Rx(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(I4(s)){zg(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{zg(a,Rx(t,i),n,r)})})},Rx=(e,t)=>{let n=e;return t.split(bv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},I4=e=>e.isThemeGetter,R4=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[t+a,o])):i);return[n,s]}):e,P4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},qC="!",O4=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,a=o=>{const l=[];let u=0,c=0,d;for(let w=0;w<o.length;w++){let v=o[w];if(u===0){if(v===s&&(r||o.slice(w,w+i)===t)){l.push(o.slice(c,w)),c=w+i;continue}if(v==="/"){d=w;continue}}v==="["?u++:v==="]"&&u--}const f=l.length===0?o:o.substring(c),h=f.startsWith(qC),g=h?f.substring(1):f,y=d&&d>c?d-c:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:y}};return n?o=>n({className:o,parseClassName:a}):a},D4=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},L4=e=>({cache:P4(e.cacheSize),parseClassName:O4(e),...C4(e)}),M4=/\s+/,j4=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(M4);let o="";for(let l=a.length-1;l>=0;l-=1){const u=a[l],{modifiers:c,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:h}=n(u);let g=!!h,y=r(g?f.substring(0,h):f);if(!y){if(!g){o=u+(o.length>0?" "+o:o);continue}if(y=r(f),!y){o=u+(o.length>0?" "+o:o);continue}g=!1}const w=D4(c).join(":"),v=d?w+qC:w,x=v+y;if(i.includes(x))continue;i.push(x);const E=s(y,g);for(let T=0;T<E.length;++T){const k=E[T];i.push(v+k)}o=u+(o.length>0?" "+o:o)}return o};function F4(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=KC(t))&&(r&&(r+=" "),r+=n);return r}const KC=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=KC(e[r]))&&(n&&(n+=" "),n+=t);return n};function B4(e,...t){let n,r,s,i=a;function a(l){const u=t.reduce((c,d)=>d(c),e());return n=L4(u),r=n.cache.get,s=n.cache.set,i=o,o(l)}function o(l){const u=r(l);if(u)return u;const c=j4(l,n);return s(l,c),c}return function(){return i(F4.apply(null,arguments))}}const Qe=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},YC=/^\[(?:([a-z-]+):)?(.+)\]$/i,U4=/^\d+\/\d+$/,H4=new Set(["px","full","screen"]),$4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,z4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,V4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,W4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,q4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vr=e=>wo(e)||H4.has(e)||U4.test(e),xs=e=>il(e,"length",e6),wo=e=>!!e&&!Number.isNaN(Number(e)),$p=e=>il(e,"number",wo),Il=e=>!!e&&Number.isInteger(Number(e)),K4=e=>e.endsWith("%")&&wo(e.slice(0,-1)),Se=e=>YC.test(e),ws=e=>$4.test(e),Y4=new Set(["length","size","percentage"]),G4=e=>il(e,Y4,GC),Q4=e=>il(e,"position",GC),X4=new Set(["image","url"]),J4=e=>il(e,X4,n6),Z4=e=>il(e,"",t6),Rl=()=>!0,il=(e,t,n)=>{const r=YC.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},e6=e=>z4.test(e)&&!V4.test(e),GC=()=>!1,t6=e=>W4.test(e),n6=e=>q4.test(e),r6=()=>{const e=Qe("colors"),t=Qe("spacing"),n=Qe("blur"),r=Qe("brightness"),s=Qe("borderColor"),i=Qe("borderRadius"),a=Qe("borderSpacing"),o=Qe("borderWidth"),l=Qe("contrast"),u=Qe("grayscale"),c=Qe("hueRotate"),d=Qe("invert"),f=Qe("gap"),h=Qe("gradientColorStops"),g=Qe("gradientColorStopPositions"),y=Qe("inset"),w=Qe("margin"),v=Qe("opacity"),x=Qe("padding"),E=Qe("saturate"),T=Qe("scale"),k=Qe("sepia"),S=Qe("skew"),C=Qe("space"),O=Qe("translate"),M=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",Se,t],U=()=>[Se,t],G=()=>["",Vr,xs],W=()=>["auto",wo,Se],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ae=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",Se],_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[wo,Se];return{cacheSize:500,separator:":",theme:{colors:[Rl],spacing:[Vr,xs],blur:["none","",ws,Se],brightness:ne(),borderColor:[e],borderRadius:["none","","full",ws,Se],borderSpacing:U(),borderWidth:G(),contrast:ne(),grayscale:L(),hueRotate:ne(),invert:L(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[K4,xs],inset:H(),margin:H(),opacity:ne(),padding:U(),saturate:ne(),scale:ne(),sepia:L(),skew:ne(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",Se]}],container:["container"],columns:[{columns:[ws]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),Se]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Il,Se]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Se]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Il,Se]}],"grid-cols":[{"grid-cols":[Rl]}],"col-start-end":[{col:["auto",{span:["full",Il,Se]},Se]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Rl]}],"row-start-end":[{row:["auto",{span:[Il,Se]},Se]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Se]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Se]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Se,t]}],"min-w":[{"min-w":[Se,t,"min","max","fit"]}],"max-w":[{"max-w":[Se,t,"none","full","min","max","fit","prose",{screen:[ws]},ws]}],h:[{h:[Se,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Se,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Se,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Se,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ws,xs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$p]}],"font-family":[{font:[Rl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Se]}],"line-clamp":[{"line-clamp":["none",wo,$p]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Vr,Se]}],"list-image":[{"list-image":["none",Se]}],"list-style-type":[{list:["none","disc","decimal",Se]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Vr,xs]}],"underline-offset":[{"underline-offset":["auto",Vr,Se]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),Q4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",G4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},J4]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...ae(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:ae()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ae()]}],"outline-offset":[{"outline-offset":[Vr,Se]}],"outline-w":[{outline:[Vr,xs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Vr,xs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ws,Z4]}],"shadow-color":[{shadow:[Rl]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ws,Se]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[d]}],saturate:[{saturate:[E]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Se]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",Se]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",Se]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Il,Se]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Se]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Vr,xs,$p]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},s6=B4(r6);function ct(...e){return s6(UC(e))}const i6=r4,QC=b.forwardRef(({className:e,...t},n)=>p.jsx(OC,{ref:n,className:ct("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));QC.displayName=OC.displayName;const a6=s4("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),XC=b.forwardRef(({className:e,variant:t,...n},r)=>p.jsx(DC,{ref:r,className:ct(a6({variant:t}),e),...n}));XC.displayName=DC.displayName;const o6=b.forwardRef(({className:e,...t},n)=>p.jsx(jC,{ref:n,className:ct("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));o6.displayName=jC.displayName;const JC=b.forwardRef(({className:e,...t},n)=>p.jsx(FC,{ref:n,className:ct("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:p.jsx(ga,{className:"h-4 w-4"})}));JC.displayName=FC.displayName;const ZC=b.forwardRef(({className:e,...t},n)=>p.jsx(LC,{ref:n,className:ct("text-sm font-semibold",e),...t}));ZC.displayName=LC.displayName;const eA=b.forwardRef(({className:e,...t},n)=>p.jsx(MC,{ref:n,className:ct("text-sm opacity-90",e),...t}));eA.displayName=MC.displayName;function l6(){const{toasts:e}=dL();return p.jsxs(i6,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return p.jsxs(XC,{...i,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(ZC,{children:n}),r&&p.jsx(eA,{children:r})]}),s,p.jsx(JC,{})]},t)}),p.jsx(QC,{})]})}var Px=["light","dark"],u6="(prefers-color-scheme: dark)",c6=b.createContext(void 0),d6={setTheme:e=>{},themes:[]},h6=()=>{var e;return(e=b.useContext(c6))!=null?e:d6};b.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,attrs:o,nonce:l})=>{let u=i==="system",c=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=s?Px.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,y=!1,w=!0)=>{let v=a?a[g]:g,x=y?g+"|| ''":`'${v}'`,E="";return s&&w&&!y&&Px.includes(g)&&(E+=`d.style.colorScheme = '${g}';`),n==="class"?y||v?E+=`c.add(${x})`:E+="null":v&&(E+=`d[s](n,${x})`),E},h=e?`!function(){${c}${f(e)}}()`:r?`!function(){try{${c}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${u6}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${f(a?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${c}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${f(a?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${d}}catch(t){}}();`;return b.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})});var f6=e=>{switch(e){case"success":return g6;case"info":return v6;case"warning":return y6;case"error":return b6;default:return null}},p6=Array(12).fill(0),m6=({visible:e,className:t})=>ie.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ie.createElement("div",{className:"sonner-spinner"},p6.map((n,r)=>ie.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),g6=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),y6=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),v6=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),b6=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),x6=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ie.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ie.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),w6=()=>{let[e,t]=ie.useState(document.hidden);return ie.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Vg=1,E6=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Vg++,i=this.toasts.find(o=>o.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(o=>o.id===s?(this.publish({...o,...e,id:s,title:n}),{...o,...e,id:s,dismissible:a,title:n}):o):this.addToast({title:n,...r,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,i,a=r.then(async l=>{if(i=["resolve",l],ie.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(S6(l)&&!l.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,c=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:n,type:"error",message:u,description:c})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(l):t.success,c=typeof t.description=="function"?await t.description(l):t.description;this.create({id:n,type:"success",message:u,description:c})}}).catch(async l=>{if(i=["reject",l],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(l):t.error,c=typeof t.description=="function"?await t.description(l):t.description;this.create({id:n,type:"error",message:u,description:c})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=t.finally)==null||l.call(t)}),o=()=>new Promise((l,u)=>a.then(()=>i[0]==="reject"?u(i[1]):l(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:o}:Object.assign(n,{unwrap:o})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Vg++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},cn=new E6,T6=(e,t)=>{let n=(t==null?void 0:t.id)||Vg++;return cn.addToast({title:e,...t,id:n}),n},S6=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",k6=T6,_6=()=>cn.toasts,C6=()=>cn.getActiveToasts(),qi=Object.assign(k6,{success:cn.success,info:cn.info,warning:cn.warning,error:cn.error,custom:cn.custom,message:cn.message,promise:cn.promise,dismiss:cn.dismiss,loading:cn.loading},{getHistory:_6,getToasts:C6});function A6(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}A6(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function nd(e){return e.label!==void 0}var N6=3,I6="32px",R6="16px",Ox=4e3,P6=356,O6=14,D6=20,L6=200;function Jn(...e){return e.filter(Boolean).join(" ")}function M6(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var j6=e=>{var t,n,r,s,i,a,o,l,u,c,d;let{invert:f,toast:h,unstyled:g,interacting:y,setHeights:w,visibleToasts:v,heights:x,index:E,toasts:T,expanded:k,removeToast:S,defaultRichColors:C,closeButton:O,style:M,cancelButtonStyle:I,actionButtonStyle:H,className:U="",descriptionClassName:G="",duration:W,position:q,gap:ae,loadingIcon:J,expandByDefault:F,classNames:L,icons:_,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:j}=e,[A,X]=ie.useState(null),[Q,oe]=ie.useState(null),[$,pe]=ie.useState(!1),[we,Le]=ie.useState(!1),[ee,me]=ie.useState(!1),[fe,K]=ie.useState(!1),[ue,Ne]=ie.useState(!1),[dt,gt]=ie.useState(0),[Pt,_i]=ie.useState(0),Ci=ie.useRef(h.duration||W||Ox),Dc=ie.useRef(null),zr=ie.useRef(null),up=E===0,cp=E+1<=v,V=h.type,se=h.dismissible!==!1,Ee=h.className||"",Re=h.descriptionClassName||"",Be=ie.useMemo(()=>x.findIndex(Te=>Te.toastId===h.id)||0,[x,h.id]),vn=ie.useMemo(()=>{var Te;return(Te=h.closeButton)!=null?Te:O},[h.closeButton,O]),xr=ie.useMemo(()=>h.duration||W||Ox,[h.duration,W]),bn=ie.useRef(0),Pn=ie.useRef(0),ps=ie.useRef(0),yt=ie.useRef(null),[ms,Kn]=q.split("-"),u1=ie.useMemo(()=>x.reduce((Te,ze,Ze)=>Ze>=Be?Te:Te+ze.height,0),[x,Be]),c1=w6(),P3=h.invert||f,dp=V==="loading";Pn.current=ie.useMemo(()=>Be*ae+u1,[Be,u1]),ie.useEffect(()=>{Ci.current=xr},[xr]),ie.useEffect(()=>{pe(!0)},[]),ie.useEffect(()=>{let Te=zr.current;if(Te){let ze=Te.getBoundingClientRect().height;return _i(ze),w(Ze=>[{toastId:h.id,height:ze,position:h.position},...Ze]),()=>w(Ze=>Ze.filter(Yn=>Yn.toastId!==h.id))}},[w,h.id]),ie.useLayoutEffect(()=>{if(!$)return;let Te=zr.current,ze=Te.style.height;Te.style.height="auto";let Ze=Te.getBoundingClientRect().height;Te.style.height=ze,_i(Ze),w(Yn=>Yn.find(Gn=>Gn.toastId===h.id)?Yn.map(Gn=>Gn.toastId===h.id?{...Gn,height:Ze}:Gn):[{toastId:h.id,height:Ze,position:h.position},...Yn])},[$,h.title,h.description,w,h.id]);let gs=ie.useCallback(()=>{Le(!0),gt(Pn.current),w(Te=>Te.filter(ze=>ze.toastId!==h.id)),setTimeout(()=>{S(h)},L6)},[h,S,w,Pn]);ie.useEffect(()=>{if(h.promise&&V==="loading"||h.duration===1/0||h.type==="loading")return;let Te;return k||y||j&&c1?(()=>{if(ps.current<bn.current){let ze=new Date().getTime()-bn.current;Ci.current=Ci.current-ze}ps.current=new Date().getTime()})():Ci.current!==1/0&&(bn.current=new Date().getTime(),Te=setTimeout(()=>{var ze;(ze=h.onAutoClose)==null||ze.call(h,h),gs()},Ci.current)),()=>clearTimeout(Te)},[k,y,h,V,j,c1,gs]),ie.useEffect(()=>{h.delete&&gs()},[gs,h.delete]);function O3(){var Te,ze,Ze;return _!=null&&_.loading?ie.createElement("div",{className:Jn(L==null?void 0:L.loader,(Te=h==null?void 0:h.classNames)==null?void 0:Te.loader,"sonner-loader"),"data-visible":V==="loading"},_.loading):J?ie.createElement("div",{className:Jn(L==null?void 0:L.loader,(ze=h==null?void 0:h.classNames)==null?void 0:ze.loader,"sonner-loader"),"data-visible":V==="loading"},J):ie.createElement(m6,{className:Jn(L==null?void 0:L.loader,(Ze=h==null?void 0:h.classNames)==null?void 0:Ze.loader),visible:V==="loading"})}return ie.createElement("li",{tabIndex:0,ref:zr,className:Jn(U,Ee,L==null?void 0:L.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,L==null?void 0:L.default,L==null?void 0:L[V],(n=h==null?void 0:h.classNames)==null?void 0:n[V]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:C,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":$,"data-promise":!!h.promise,"data-swiped":ue,"data-removed":we,"data-visible":cp,"data-y-position":ms,"data-x-position":Kn,"data-index":E,"data-front":up,"data-swiping":ee,"data-dismissible":se,"data-type":V,"data-invert":P3,"data-swipe-out":fe,"data-swipe-direction":Q,"data-expanded":!!(k||F&&$),style:{"--index":E,"--toasts-before":E,"--z-index":T.length-E,"--offset":`${we?dt:Pn.current}px`,"--initial-height":F?"auto":`${Pt}px`,...M,...h.style},onDragEnd:()=>{me(!1),X(null),yt.current=null},onPointerDown:Te=>{dp||!se||(Dc.current=new Date,gt(Pn.current),Te.target.setPointerCapture(Te.pointerId),Te.target.tagName!=="BUTTON"&&(me(!0),yt.current={x:Te.clientX,y:Te.clientY}))},onPointerUp:()=>{var Te,ze,Ze,Yn;if(fe||!se)return;yt.current=null;let Gn=Number(((Te=zr.current)==null?void 0:Te.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ys=Number(((ze=zr.current)==null?void 0:ze.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ai=new Date().getTime()-((Ze=Dc.current)==null?void 0:Ze.getTime()),Qn=A==="x"?Gn:ys,vs=Math.abs(Qn)/Ai;if(Math.abs(Qn)>=D6||vs>.11){gt(Pn.current),(Yn=h.onDismiss)==null||Yn.call(h,h),oe(A==="x"?Gn>0?"right":"left":ys>0?"down":"up"),gs(),K(!0),Ne(!1);return}me(!1),X(null)},onPointerMove:Te=>{var ze,Ze,Yn,Gn;if(!yt.current||!se||((ze=window.getSelection())==null?void 0:ze.toString().length)>0)return;let ys=Te.clientY-yt.current.y,Ai=Te.clientX-yt.current.x,Qn=(Ze=e.swipeDirections)!=null?Ze:M6(q);!A&&(Math.abs(Ai)>1||Math.abs(ys)>1)&&X(Math.abs(Ai)>Math.abs(ys)?"x":"y");let vs={x:0,y:0};A==="y"?(Qn.includes("top")||Qn.includes("bottom"))&&(Qn.includes("top")&&ys<0||Qn.includes("bottom")&&ys>0)&&(vs.y=ys):A==="x"&&(Qn.includes("left")||Qn.includes("right"))&&(Qn.includes("left")&&Ai<0||Qn.includes("right")&&Ai>0)&&(vs.x=Ai),(Math.abs(vs.x)>0||Math.abs(vs.y)>0)&&Ne(!0),(Yn=zr.current)==null||Yn.style.setProperty("--swipe-amount-x",`${vs.x}px`),(Gn=zr.current)==null||Gn.style.setProperty("--swipe-amount-y",`${vs.y}px`)}},vn&&!h.jsx?ie.createElement("button",{"aria-label":ne,"data-disabled":dp,"data-close-button":!0,onClick:dp||!se?()=>{}:()=>{var Te;gs(),(Te=h.onDismiss)==null||Te.call(h,h)},className:Jn(L==null?void 0:L.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},(i=_==null?void 0:_.close)!=null?i:x6):null,h.jsx||b.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:ie.createElement(ie.Fragment,null,V||h.icon||h.promise?ie.createElement("div",{"data-icon":"",className:Jn(L==null?void 0:L.icon,(a=h==null?void 0:h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||O3():null,h.type!=="loading"?h.icon||(_==null?void 0:_[V])||f6(V):null):null,ie.createElement("div",{"data-content":"",className:Jn(L==null?void 0:L.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},ie.createElement("div",{"data-title":"",className:Jn(L==null?void 0:L.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},typeof h.title=="function"?h.title():h.title),h.description?ie.createElement("div",{"data-description":"",className:Jn(G,Re,L==null?void 0:L.description,(u=h==null?void 0:h.classNames)==null?void 0:u.description)},typeof h.description=="function"?h.description():h.description):null),b.isValidElement(h.cancel)?h.cancel:h.cancel&&nd(h.cancel)?ie.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||I,onClick:Te=>{var ze,Ze;nd(h.cancel)&&se&&((Ze=(ze=h.cancel).onClick)==null||Ze.call(ze,Te),gs())},className:Jn(L==null?void 0:L.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,b.isValidElement(h.action)?h.action:h.action&&nd(h.action)?ie.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||H,onClick:Te=>{var ze,Ze;nd(h.action)&&((Ze=(ze=h.action).onClick)==null||Ze.call(ze,Te),!Te.defaultPrevented&&gs())},className:Jn(L==null?void 0:L.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function Dx(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function F6(e,t){let n={};return[e,t].forEach((r,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",o=i?R6:I6;function l(u){["top","right","bottom","left"].forEach(c=>{n[`${a}-${c}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=o:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(o)}),n}var B6=b.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:o,offset:l,mobileOffset:u,theme:c="light",richColors:d,duration:f,style:h,visibleToasts:g=N6,toastOptions:y,dir:w=Dx(),gap:v=O6,loadingIcon:x,icons:E,containerAriaLabel:T="Notifications",pauseWhenPageIsHidden:k}=e,[S,C]=ie.useState([]),O=ie.useMemo(()=>Array.from(new Set([r].concat(S.filter(j=>j.position).map(j=>j.position)))),[S,r]),[M,I]=ie.useState([]),[H,U]=ie.useState(!1),[G,W]=ie.useState(!1),[q,ae]=ie.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=ie.useRef(null),F=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=ie.useRef(null),_=ie.useRef(!1),ne=ie.useCallback(j=>{C(A=>{var X;return(X=A.find(Q=>Q.id===j.id))!=null&&X.delete||cn.dismiss(j.id),A.filter(({id:Q})=>Q!==j.id)})},[]);return ie.useEffect(()=>cn.subscribe(j=>{if(j.dismiss){C(A=>A.map(X=>X.id===j.id?{...X,delete:!0}:X));return}setTimeout(()=>{fC.flushSync(()=>{C(A=>{let X=A.findIndex(Q=>Q.id===j.id);return X!==-1?[...A.slice(0,X),{...A[X],...j},...A.slice(X+1)]:[j,...A]})})})}),[]),ie.useEffect(()=>{if(c!=="system"){ae(c);return}if(c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ae("dark"):ae("light")),typeof window>"u")return;let j=window.matchMedia("(prefers-color-scheme: dark)");try{j.addEventListener("change",({matches:A})=>{ae(A?"dark":"light")})}catch{j.addListener(({matches:X})=>{try{ae(X?"dark":"light")}catch(Q){console.error(Q)}})}},[c]),ie.useEffect(()=>{S.length<=1&&U(!1)},[S]),ie.useEffect(()=>{let j=A=>{var X,Q;s.every(oe=>A[oe]||A.code===oe)&&(U(!0),(X=J.current)==null||X.focus()),A.code==="Escape"&&(document.activeElement===J.current||(Q=J.current)!=null&&Q.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[s]),ie.useEffect(()=>{if(J.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,_.current=!1)}},[J.current]),ie.createElement("section",{ref:t,"aria-label":`${T} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((j,A)=>{var X;let[Q,oe]=j.split("-");return S.length?ie.createElement("ol",{key:j,dir:w==="auto"?Dx():w,tabIndex:-1,ref:J,className:o,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":Q,"data-lifted":H&&S.length>1&&!i,"data-x-position":oe,style:{"--front-toast-height":`${((X=M[0])==null?void 0:X.height)||0}px`,"--width":`${P6}px`,"--gap":`${v}px`,...h,...F6(l,u)},onBlur:$=>{_.current&&!$.currentTarget.contains($.relatedTarget)&&(_.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||_.current||(_.current=!0,L.current=$.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{G||U(!1)},onDragEnd:()=>U(!1),onPointerDown:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},S.filter($=>!$.position&&A===0||$.position===j).map(($,pe)=>{var we,Le;return ie.createElement(j6,{key:$.id,icons:E,index:pe,toast:$,defaultRichColors:d,duration:(we=y==null?void 0:y.duration)!=null?we:f,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:g,closeButton:(Le=y==null?void 0:y.closeButton)!=null?Le:a,interacting:G,position:j,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:ne,toasts:S.filter(ee=>ee.position==$.position),heights:M.filter(ee=>ee.position==$.position),setHeights:I,expandByDefault:i,gap:v,loadingIcon:x,expanded:H,pauseWhenPageIsHidden:k,swipeDirections:e.swipeDirections})})):null}))});const U6=({...e})=>{const{theme:t="system"}=h6();return p.jsx(B6,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var H6=wy[" useId ".trim().toString()]||(()=>{}),$6=0;function $n(e){const[t,n]=b.useState(H6());return jr(()=>{n(r=>r??String($6++))},[e]),t?`radix-${t}`:""}const z6=["top","right","bottom","left"],di=Math.min,Tn=Math.max,Ah=Math.round,rd=Math.floor,Dr=e=>({x:e,y:e}),V6={left:"right",right:"left",bottom:"top",top:"bottom"},W6={start:"end",end:"start"};function Wg(e,t,n){return Tn(e,di(t,n))}function as(e,t){return typeof e=="function"?e(t):e}function os(e){return e.split("-")[0]}function al(e){return e.split("-")[1]}function xv(e){return e==="x"?"y":"x"}function wv(e){return e==="y"?"height":"width"}const q6=new Set(["top","bottom"]);function Rr(e){return q6.has(os(e))?"y":"x"}function Ev(e){return xv(Rr(e))}function K6(e,t,n){n===void 0&&(n=!1);const r=al(e),s=Ev(e),i=wv(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=Nh(a)),[a,Nh(a)]}function Y6(e){const t=Nh(e);return[qg(e),t,qg(t)]}function qg(e){return e.replace(/start|end/g,t=>W6[t])}const Lx=["left","right"],Mx=["right","left"],G6=["top","bottom"],Q6=["bottom","top"];function X6(e,t,n){switch(e){case"top":case"bottom":return n?t?Mx:Lx:t?Lx:Mx;case"left":case"right":return t?G6:Q6;default:return[]}}function J6(e,t,n,r){const s=al(e);let i=X6(os(e),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(qg)))),i}function Nh(e){return e.replace(/left|right|bottom|top/g,t=>V6[t])}function Z6(e){return{top:0,right:0,bottom:0,left:0,...e}}function tA(e){return typeof e!="number"?Z6(e):{top:e,right:e,bottom:e,left:e}}function Ih(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function jx(e,t,n){let{reference:r,floating:s}=e;const i=Rr(t),a=Ev(t),o=wv(a),l=os(t),u=i==="y",c=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,f=r[o]/2-s[o]/2;let h;switch(l){case"top":h={x:c,y:r.y-s.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-s.width,y:d};break;default:h={x:r.x,y:r.y}}switch(al(t)){case"start":h[a]-=f*(n&&u?-1:1);break;case"end":h[a]+=f*(n&&u?-1:1);break}return h}async function eM(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:a,elements:o,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=as(t,e),g=tA(h),w=o[f?d==="floating"?"reference":"floating":d],v=Ih(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:u,rootBoundary:c,strategy:l})),x=d==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),T=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},k=Ih(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:E,strategy:l}):x);return{top:(v.top-k.top+g.top)/T.y,bottom:(k.bottom-v.bottom+g.bottom)/T.y,left:(v.left-k.left+g.left)/T.x,right:(k.right-v.right+g.right)/T.x}}const tM=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,o=i.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:c,y:d}=jx(u,r,l),f=r,h={},g=0;for(let w=0;w<o.length;w++){var y;const{name:v,fn:x}=o[w],{x:E,y:T,data:k,reset:S}=await x({x:c,y:d,initialPlacement:r,placement:f,strategy:s,middlewareData:h,rects:u,platform:{...a,detectOverflow:(y=a.detectOverflow)!=null?y:eM},elements:{reference:e,floating:t}});c=E??c,d=T??d,h={...h,[v]:{...h[v],...k}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(u=S.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:c,y:d}=jx(u,f,l)),w=-1)}return{x:c,y:d,placement:f,strategy:s,middlewareData:h}},nM=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:a,elements:o,middlewareData:l}=t,{element:u,padding:c=0}=as(e,t)||{};if(u==null)return{};const d=tA(c),f={x:n,y:r},h=Ev(s),g=wv(h),y=await a.getDimensions(u),w=h==="y",v=w?"top":"left",x=w?"bottom":"right",E=w?"clientHeight":"clientWidth",T=i.reference[g]+i.reference[h]-f[h]-i.floating[g],k=f[h]-i.reference[h],S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=S?S[E]:0;(!C||!await(a.isElement==null?void 0:a.isElement(S)))&&(C=o.floating[E]||i.floating[g]);const O=T/2-k/2,M=C/2-y[g]/2-1,I=di(d[v],M),H=di(d[x],M),U=I,G=C-y[g]-H,W=C/2-y[g]/2+O,q=Wg(U,W,G),ae=!l.arrow&&al(s)!=null&&W!==q&&i.reference[g]/2-(W<U?I:H)-y[g]/2<0,J=ae?W<U?W-U:W-G:0;return{[h]:f[h]+J,data:{[h]:q,centerOffset:W-q-J,...ae&&{alignmentOffset:J}},reset:ae}}}),rM=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:o,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...w}=as(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=os(s),x=Rr(o),E=os(o)===o,T=await(l.isRTL==null?void 0:l.isRTL(u.floating)),k=f||(E||!y?[Nh(o)]:Y6(o)),S=g!=="none";!f&&S&&k.push(...J6(o,y,g,T));const C=[o,...k],O=await l.detectOverflow(t,w),M=[];let I=((r=i.flip)==null?void 0:r.overflows)||[];if(c&&M.push(O[v]),d){const W=K6(s,a,T);M.push(O[W[0]],O[W[1]])}if(I=[...I,{placement:s,overflows:M}],!M.every(W=>W<=0)){var H,U;const W=(((H=i.flip)==null?void 0:H.index)||0)+1,q=C[W];if(q&&(!(d==="alignment"?x!==Rr(q):!1)||I.every(F=>Rr(F.placement)===x?F.overflows[0]>0:!0)))return{data:{index:W,overflows:I},reset:{placement:q}};let ae=(U=I.filter(J=>J.overflows[0]<=0).sort((J,F)=>J.overflows[1]-F.overflows[1])[0])==null?void 0:U.placement;if(!ae)switch(h){case"bestFit":{var G;const J=(G=I.filter(F=>{if(S){const L=Rr(F.placement);return L===x||L==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(L=>L>0).reduce((L,_)=>L+_,0)]).sort((F,L)=>F[1]-L[1])[0])==null?void 0:G[0];J&&(ae=J);break}case"initialPlacement":ae=o;break}if(s!==ae)return{reset:{placement:ae}}}return{}}}};function Fx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Bx(e){return z6.some(t=>e[t]>=0)}const sM=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:r}=t,{strategy:s="referenceHidden",...i}=as(e,t);switch(s){case"referenceHidden":{const a=await r.detectOverflow(t,{...i,elementContext:"reference"}),o=Fx(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Bx(o)}}}case"escaped":{const a=await r.detectOverflow(t,{...i,altBoundary:!0}),o=Fx(a,n.floating);return{data:{escapedOffsets:o,escaped:Bx(o)}}}default:return{}}}}},nA=new Set(["left","top"]);async function iM(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=os(n),o=al(n),l=Rr(n)==="y",u=nA.has(a)?-1:1,c=i&&l?-1:1,d=as(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof g=="number"&&(h=o==="end"?g*-1:g),l?{x:h*c,y:f*u}:{x:f*u,y:h*c}}const aM=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:a,middlewareData:o}=t,l=await iM(t,e);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:a}}}}},oM=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s,platform:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x,y:E}=v;return{x,y:E}}},...u}=as(e,t),c={x:n,y:r},d=await i.detectOverflow(t,u),f=Rr(os(s)),h=xv(f);let g=c[h],y=c[f];if(a){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",E=g+d[v],T=g-d[x];g=Wg(E,g,T)}if(o){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",E=y+d[v],T=y-d[x];y=Wg(E,y,T)}const w=l.fn({...t,[h]:g,[f]:y});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[h]:a,[f]:o}}}}}},lM=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=t,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=as(e,t),c={x:n,y:r},d=Rr(s),f=xv(d);let h=c[f],g=c[d];const y=as(o,t),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const E=f==="y"?"height":"width",T=i.reference[f]-i.floating[E]+w.mainAxis,k=i.reference[f]+i.reference[E]-w.mainAxis;h<T?h=T:h>k&&(h=k)}if(u){var v,x;const E=f==="y"?"width":"height",T=nA.has(os(s)),k=i.reference[d]-i.floating[E]+(T&&((v=a.offset)==null?void 0:v[d])||0)+(T?0:w.crossAxis),S=i.reference[d]+i.reference[E]+(T?0:((x=a.offset)==null?void 0:x[d])||0)-(T?w.crossAxis:0);g<k?g=k:g>S&&(g=S)}return{[f]:h,[d]:g}}}},uM=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:a,elements:o}=t,{apply:l=()=>{},...u}=as(e,t),c=await a.detectOverflow(t,u),d=os(s),f=al(s),h=Rr(s)==="y",{width:g,height:y}=i.floating;let w,v;d==="top"||d==="bottom"?(w=d,v=f===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(v=d,w=f==="end"?"top":"bottom");const x=y-c.top-c.bottom,E=g-c.left-c.right,T=di(y-c[w],x),k=di(g-c[v],E),S=!t.middlewareData.shift;let C=T,O=k;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(O=E),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=x),S&&!f){const I=Tn(c.left,0),H=Tn(c.right,0),U=Tn(c.top,0),G=Tn(c.bottom,0);h?O=g-2*(I!==0||H!==0?I+H:Tn(c.left,c.right)):C=y-2*(U!==0||G!==0?U+G:Tn(c.top,c.bottom))}await l({...t,availableWidth:O,availableHeight:C});const M=await a.getDimensions(o.floating);return g!==M.width||y!==M.height?{reset:{rects:!0}}:{}}}};function Sf(){return typeof window<"u"}function ol(e){return rA(e)?(e.nodeName||"").toLowerCase():"#document"}function Cn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ur(e){var t;return(t=(rA(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function rA(e){return Sf()?e instanceof Node||e instanceof Cn(e).Node:!1}function pr(e){return Sf()?e instanceof Element||e instanceof Cn(e).Element:!1}function Fr(e){return Sf()?e instanceof HTMLElement||e instanceof Cn(e).HTMLElement:!1}function Ux(e){return!Sf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Cn(e).ShadowRoot}const cM=new Set(["inline","contents"]);function xc(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=mr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!cM.has(s)}const dM=new Set(["table","td","th"]);function hM(e){return dM.has(ol(e))}const fM=[":popover-open",":modal"];function kf(e){return fM.some(t=>{try{return e.matches(t)}catch{return!1}})}const pM=["transform","translate","scale","rotate","perspective"],mM=["transform","translate","scale","rotate","perspective","filter"],gM=["paint","layout","strict","content"];function Tv(e){const t=Sv(),n=pr(e)?mr(e):e;return pM.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||mM.some(r=>(n.willChange||"").includes(r))||gM.some(r=>(n.contain||"").includes(r))}function yM(e){let t=hi(e);for(;Fr(t)&&!qo(t);){if(Tv(t))return t;if(kf(t))return null;t=hi(t)}return null}function Sv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const vM=new Set(["html","body","#document"]);function qo(e){return vM.has(ol(e))}function mr(e){return Cn(e).getComputedStyle(e)}function _f(e){return pr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function hi(e){if(ol(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ux(e)&&e.host||Ur(e);return Ux(t)?t.host:t}function sA(e){const t=hi(e);return qo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Fr(t)&&xc(t)?t:sA(t)}function Uu(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=sA(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),a=Cn(s);if(i){const o=Kg(a);return t.concat(a,a.visualViewport||[],xc(s)?s:[],o&&n?Uu(o):[])}return t.concat(s,Uu(s,[],n))}function Kg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function iA(e){const t=mr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Fr(e),i=s?e.offsetWidth:n,a=s?e.offsetHeight:r,o=Ah(n)!==i||Ah(r)!==a;return o&&(n=i,r=a),{width:n,height:r,$:o}}function kv(e){return pr(e)?e:e.contextElement}function Eo(e){const t=kv(e);if(!Fr(t))return Dr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=iA(t);let a=(i?Ah(n.width):n.width)/r,o=(i?Ah(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const bM=Dr(0);function aA(e){const t=Cn(e);return!Sv()||!t.visualViewport?bM:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function xM(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Cn(e)?!1:t}function ya(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=kv(e);let a=Dr(1);t&&(r?pr(r)&&(a=Eo(r)):a=Eo(e));const o=xM(i,n,r)?aA(i):Dr(0);let l=(s.left+o.x)/a.x,u=(s.top+o.y)/a.y,c=s.width/a.x,d=s.height/a.y;if(i){const f=Cn(i),h=r&&pr(r)?Cn(r):r;let g=f,y=Kg(g);for(;y&&r&&h!==g;){const w=Eo(y),v=y.getBoundingClientRect(),x=mr(y),E=v.left+(y.clientLeft+parseFloat(x.paddingLeft))*w.x,T=v.top+(y.clientTop+parseFloat(x.paddingTop))*w.y;l*=w.x,u*=w.y,c*=w.x,d*=w.y,l+=E,u+=T,g=Cn(y),y=Kg(g)}}return Ih({width:c,height:d,x:l,y:u})}function Cf(e,t){const n=_f(e).scrollLeft;return t?t.left+n:ya(Ur(e)).left+n}function oA(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Cf(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function wM(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",a=Ur(r),o=t?kf(t.floating):!1;if(r===a||o&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Dr(1);const c=Dr(0),d=Fr(r);if((d||!d&&!i)&&((ol(r)!=="body"||xc(a))&&(l=_f(r)),Fr(r))){const h=ya(r);u=Eo(r),c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}const f=a&&!d&&!i?oA(a,l):Dr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+f.x,y:n.y*u.y-l.scrollTop*u.y+c.y+f.y}}function EM(e){return Array.from(e.getClientRects())}function TM(e){const t=Ur(e),n=_f(e),r=e.ownerDocument.body,s=Tn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Tn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Cf(e);const o=-n.scrollTop;return mr(r).direction==="rtl"&&(a+=Tn(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:o}}const Hx=25;function SM(e,t){const n=Cn(e),r=Ur(e),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,o=0,l=0;if(s){i=s.width,a=s.height;const c=Sv();(!c||c&&t==="fixed")&&(o=s.offsetLeft,l=s.offsetTop)}const u=Cf(r);if(u<=0){const c=r.ownerDocument,d=c.body,f=getComputedStyle(d),h=c.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,g=Math.abs(r.clientWidth-d.clientWidth-h);g<=Hx&&(i-=g)}else u<=Hx&&(i+=u);return{width:i,height:a,x:o,y:l}}const kM=new Set(["absolute","fixed"]);function _M(e,t){const n=ya(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Fr(e)?Eo(e):Dr(1),a=e.clientWidth*i.x,o=e.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:a,height:o,x:l,y:u}}function $x(e,t,n){let r;if(t==="viewport")r=SM(e,n);else if(t==="document")r=TM(Ur(e));else if(pr(t))r=_M(t,n);else{const s=aA(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Ih(r)}function lA(e,t){const n=hi(e);return n===t||!pr(n)||qo(n)?!1:mr(n).position==="fixed"||lA(n,t)}function CM(e,t){const n=t.get(e);if(n)return n;let r=Uu(e,[],!1).filter(o=>pr(o)&&ol(o)!=="body"),s=null;const i=mr(e).position==="fixed";let a=i?hi(e):e;for(;pr(a)&&!qo(a);){const o=mr(a),l=Tv(a);!l&&o.position==="fixed"&&(s=null),(i?!l&&!s:!l&&o.position==="static"&&!!s&&kM.has(s.position)||xc(a)&&!l&&lA(e,a))?r=r.filter(c=>c!==a):s=o,a=hi(a)}return t.set(e,r),r}function AM(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[...n==="clippingAncestors"?kf(t)?[]:CM(t,this._c):[].concat(n),r],o=a[0],l=a.reduce((u,c)=>{const d=$x(t,c,s);return u.top=Tn(d.top,u.top),u.right=di(d.right,u.right),u.bottom=di(d.bottom,u.bottom),u.left=Tn(d.left,u.left),u},$x(t,o,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function NM(e){const{width:t,height:n}=iA(e);return{width:t,height:n}}function IM(e,t,n){const r=Fr(t),s=Ur(t),i=n==="fixed",a=ya(e,!0,i,t);let o={scrollLeft:0,scrollTop:0};const l=Dr(0);function u(){l.x=Cf(s)}if(r||!r&&!i)if((ol(t)!=="body"||xc(s))&&(o=_f(t)),r){const h=ya(t,!0,i,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else s&&u();i&&!r&&s&&u();const c=s&&!r&&!i?oA(s,o):Dr(0),d=a.left+o.scrollLeft-l.x-c.x,f=a.top+o.scrollTop-l.y-c.y;return{x:d,y:f,width:a.width,height:a.height}}function zp(e){return mr(e).position==="static"}function zx(e,t){if(!Fr(e)||mr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ur(e)===n&&(n=n.ownerDocument.body),n}function uA(e,t){const n=Cn(e);if(kf(e))return n;if(!Fr(e)){let s=hi(e);for(;s&&!qo(s);){if(pr(s)&&!zp(s))return s;s=hi(s)}return n}let r=zx(e,t);for(;r&&hM(r)&&zp(r);)r=zx(r,t);return r&&qo(r)&&zp(r)&&!Tv(r)?n:r||yM(e)||n}const RM=async function(e){const t=this.getOffsetParent||uA,n=this.getDimensions,r=await n(e.floating);return{reference:IM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function PM(e){return mr(e).direction==="rtl"}const OM={convertOffsetParentRelativeRectToViewportRelativeRect:wM,getDocumentElement:Ur,getClippingRect:AM,getOffsetParent:uA,getElementRects:RM,getClientRects:EM,getDimensions:NM,getScale:Eo,isElement:pr,isRTL:PM};function cA(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function DM(e,t){let n=null,r;const s=Ur(e);function i(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),i();const u=e.getBoundingClientRect(),{left:c,top:d,width:f,height:h}=u;if(o||t(),!f||!h)return;const g=rd(d),y=rd(s.clientWidth-(c+f)),w=rd(s.clientHeight-(d+h)),v=rd(c),E={rootMargin:-g+"px "+-y+"px "+-w+"px "+-v+"px",threshold:Tn(0,di(1,l))||1};let T=!0;function k(S){const C=S[0].intersectionRatio;if(C!==l){if(!T)return a();C?a(!1,C):r=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!cA(u,e.getBoundingClientRect())&&a(),T=!1}try{n=new IntersectionObserver(k,{...E,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,E)}n.observe(e)}return a(!0),i}function LM(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=kv(e),c=s||i?[...u?Uu(u):[],...Uu(t)]:[];c.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const d=u&&o?DM(u,n):null;let f=-1,h=null;a&&(h=new ResizeObserver(v=>{let[x]=v;x&&x.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var E;(E=h)==null||E.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let g,y=l?ya(e):null;l&&w();function w(){const v=ya(e);y&&!cA(y,v)&&n(),y=v,g=requestAnimationFrame(w)}return n(),()=>{var v;c.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),d==null||d(),(v=h)==null||v.disconnect(),h=null,l&&cancelAnimationFrame(g)}}const MM=aM,jM=oM,FM=rM,BM=uM,UM=sM,Vx=nM,HM=lM,$M=(e,t,n)=>{const r=new Map,s={platform:OM,...n},i={...s.platform,_c:r};return tM(e,t,{...s,platform:i})};var zM=typeof document<"u",VM=function(){},$d=zM?b.useLayoutEffect:VM;function Rh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Rh(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!Rh(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function dA(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Wx(e,t){const n=dA(e);return Math.round(t*n)/n}function Vp(e){const t=b.useRef(e);return $d(()=>{t.current=e}),t}function WM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:o=!0,whileElementsMounted:l,open:u}=e,[c,d]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=b.useState(r);Rh(f,r)||h(r);const[g,y]=b.useState(null),[w,v]=b.useState(null),x=b.useCallback(F=>{F!==S.current&&(S.current=F,y(F))},[]),E=b.useCallback(F=>{F!==C.current&&(C.current=F,v(F))},[]),T=i||g,k=a||w,S=b.useRef(null),C=b.useRef(null),O=b.useRef(c),M=l!=null,I=Vp(l),H=Vp(s),U=Vp(u),G=b.useCallback(()=>{if(!S.current||!C.current)return;const F={placement:t,strategy:n,middleware:f};H.current&&(F.platform=H.current),$M(S.current,C.current,F).then(L=>{const _={...L,isPositioned:U.current!==!1};W.current&&!Rh(O.current,_)&&(O.current=_,rl.flushSync(()=>{d(_)}))})},[f,t,n,H,U]);$d(()=>{u===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,d(F=>({...F,isPositioned:!1})))},[u]);const W=b.useRef(!1);$d(()=>(W.current=!0,()=>{W.current=!1}),[]),$d(()=>{if(T&&(S.current=T),k&&(C.current=k),T&&k){if(I.current)return I.current(T,k,G);G()}},[T,k,G,I,M]);const q=b.useMemo(()=>({reference:S,floating:C,setReference:x,setFloating:E}),[x,E]),ae=b.useMemo(()=>({reference:T,floating:k}),[T,k]),J=b.useMemo(()=>{const F={position:n,left:0,top:0};if(!ae.floating)return F;const L=Wx(ae.floating,c.x),_=Wx(ae.floating,c.y);return o?{...F,transform:"translate("+L+"px, "+_+"px)",...dA(ae.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:_}},[n,o,ae.floating,c.x,c.y]);return b.useMemo(()=>({...c,update:G,refs:q,elements:ae,floatingStyles:J}),[c,G,q,ae,J])}const qM=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Vx({element:r.current,padding:s}).fn(n):{}:r?Vx({element:r,padding:s}).fn(n):{}}}},KM=(e,t)=>({...MM(e),options:[e,t]}),YM=(e,t)=>({...jM(e),options:[e,t]}),GM=(e,t)=>({...HM(e),options:[e,t]}),QM=(e,t)=>({...FM(e),options:[e,t]}),XM=(e,t)=>({...BM(e),options:[e,t]}),JM=(e,t)=>({...UM(e),options:[e,t]}),ZM=(e,t)=>({...qM(e),options:[e,t]});var e5="Arrow",hA=b.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return p.jsx(De.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});hA.displayName=e5;var t5=hA;function fA(e){const[t,n]=b.useState(void 0);return jr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,o;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;a=u.inlineSize,o=u.blockSize}else a=e.offsetWidth,o=e.offsetHeight;n({width:a,height:o})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var _v="Popper",[pA,ll]=cs(_v),[n5,mA]=pA(_v),gA=e=>{const{__scopePopper:t,children:n}=e,[r,s]=b.useState(null);return p.jsx(n5,{scope:t,anchor:r,onAnchorChange:s,children:n})};gA.displayName=_v;var yA="PopperAnchor",vA=b.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=mA(yA,n),a=b.useRef(null),o=mt(t,a);return b.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:p.jsx(De.div,{...s,ref:o})});vA.displayName=yA;var Cv="PopperContent",[r5,s5]=pA(Cv),bA=b.forwardRef((e,t)=>{var $,pe,we,Le,ee,me;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:c=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:g,...y}=e,w=mA(Cv,n),[v,x]=b.useState(null),E=mt(t,fe=>x(fe)),[T,k]=b.useState(null),S=fA(T),C=(S==null?void 0:S.width)??0,O=(S==null?void 0:S.height)??0,M=r+(i!=="center"?"-"+i:""),I=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},H=Array.isArray(u)?u:[u],U=H.length>0,G={padding:I,boundary:H.filter(a5),altBoundary:U},{refs:W,floatingStyles:q,placement:ae,isPositioned:J,middlewareData:F}=WM({strategy:"fixed",placement:M,whileElementsMounted:(...fe)=>LM(...fe,{animationFrame:h==="always"}),elements:{reference:w.anchor},middleware:[KM({mainAxis:s+O,alignmentAxis:a}),l&&YM({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?GM():void 0,...G}),l&&QM({...G}),XM({...G,apply:({elements:fe,rects:K,availableWidth:ue,availableHeight:Ne})=>{const{width:dt,height:gt}=K.reference,Pt=fe.floating.style;Pt.setProperty("--radix-popper-available-width",`${ue}px`),Pt.setProperty("--radix-popper-available-height",`${Ne}px`),Pt.setProperty("--radix-popper-anchor-width",`${dt}px`),Pt.setProperty("--radix-popper-anchor-height",`${gt}px`)}}),T&&ZM({element:T,padding:o}),o5({arrowWidth:C,arrowHeight:O}),f&&JM({strategy:"referenceHidden",...G})]}),[L,_]=EA(ae),ne=Mr(g);jr(()=>{J&&(ne==null||ne())},[J,ne]);const j=($=F.arrow)==null?void 0:$.x,A=(pe=F.arrow)==null?void 0:pe.y,X=((we=F.arrow)==null?void 0:we.centerOffset)!==0,[Q,oe]=b.useState();return jr(()=>{v&&oe(window.getComputedStyle(v).zIndex)},[v]),p.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:J?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[(Le=F.transformOrigin)==null?void 0:Le.x,(ee=F.transformOrigin)==null?void 0:ee.y].join(" "),...((me=F.hide)==null?void 0:me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:p.jsx(r5,{scope:n,placedSide:L,onArrowChange:k,arrowX:j,arrowY:A,shouldHideArrow:X,children:p.jsx(De.div,{"data-side":L,"data-align":_,...y,ref:E,style:{...y.style,animation:J?void 0:"none"}})})})});bA.displayName=Cv;var xA="PopperArrow",i5={top:"bottom",right:"left",bottom:"top",left:"right"},wA=b.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=s5(xA,r),a=i5[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(t5,{...s,ref:n,style:{...s.style,display:"block"}})})});wA.displayName=xA;function a5(e){return e!==null}var o5=e=>({name:"transformOrigin",options:e,fn(t){var w,v,x;const{placement:n,rects:r,middlewareData:s}=t,a=((w=s.arrow)==null?void 0:w.centerOffset)!==0,o=a?0:e.arrowWidth,l=a?0:e.arrowHeight,[u,c]=EA(n),d={start:"0%",center:"50%",end:"100%"}[c],f=(((v=s.arrow)==null?void 0:v.x)??0)+o/2,h=(((x=s.arrow)==null?void 0:x.y)??0)+l/2;let g="",y="";return u==="bottom"?(g=a?d:`${f}px`,y=`${-l}px`):u==="top"?(g=a?d:`${f}px`,y=`${r.floating.height+l}px`):u==="right"?(g=`${-l}px`,y=a?d:`${h}px`):u==="left"&&(g=`${r.floating.width+l}px`,y=a?d:`${h}px`),{data:{x:g,y}}}});function EA(e){const[t,n="center"]=e.split("-");return[t,n]}var Av=gA,Af=vA,Nv=bA,Iv=wA,[Nf,$te]=cs("Tooltip",[ll]),If=ll(),TA="TooltipProvider",l5=700,Yg="tooltip.open",[u5,Rv]=Nf(TA),SA=e=>{const{__scopeTooltip:t,delayDuration:n=l5,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,a=b.useRef(!0),o=b.useRef(!1),l=b.useRef(0);return b.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),p.jsx(u5,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:b.useCallback(u=>{o.current=u},[]),disableHoverableContent:s,children:i})};SA.displayName=TA;var Hu="Tooltip",[c5,Rf]=Nf(Hu),kA=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:a,delayDuration:o}=e,l=Rv(Hu,e.__scopeTooltip),u=If(t),[c,d]=b.useState(null),f=$n(),h=b.useRef(0),g=a??l.disableHoverableContent,y=o??l.delayDuration,w=b.useRef(!1),[v,x]=_a({prop:r,defaultProp:s??!1,onChange:C=>{C?(l.onOpen(),document.dispatchEvent(new CustomEvent(Yg))):l.onClose(),i==null||i(C)},caller:Hu}),E=b.useMemo(()=>v?w.current?"delayed-open":"instant-open":"closed",[v]),T=b.useCallback(()=>{window.clearTimeout(h.current),h.current=0,w.current=!1,x(!0)},[x]),k=b.useCallback(()=>{window.clearTimeout(h.current),h.current=0,x(!1)},[x]),S=b.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{w.current=!0,x(!0),h.current=0},y)},[y,x]);return b.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),p.jsx(Av,{...u,children:p.jsx(c5,{scope:t,contentId:f,open:v,stateAttribute:E,trigger:c,onTriggerChange:d,onTriggerEnter:b.useCallback(()=>{l.isOpenDelayedRef.current?S():T()},[l.isOpenDelayedRef,S,T]),onTriggerLeave:b.useCallback(()=>{g?k():(window.clearTimeout(h.current),h.current=0)},[k,g]),onOpen:T,onClose:k,disableHoverableContent:g,children:n})})};kA.displayName=Hu;var Gg="TooltipTrigger",_A=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Rf(Gg,n),i=Rv(Gg,n),a=If(n),o=b.useRef(null),l=mt(t,o,s.onTriggerChange),u=b.useRef(!1),c=b.useRef(!1),d=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),p.jsx(Af,{asChild:!0,...a,children:p.jsx(De.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:_e(e.onPointerMove,f=>{f.pointerType!=="touch"&&!c.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),c.current=!0)}),onPointerLeave:_e(e.onPointerLeave,()=>{s.onTriggerLeave(),c.current=!1}),onPointerDown:_e(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:_e(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:_e(e.onBlur,s.onClose),onClick:_e(e.onClick,s.onClose)})})});_A.displayName=Gg;var d5="TooltipPortal",[zte,h5]=Nf(d5,{forceMount:void 0}),Ko="TooltipContent",CA=b.forwardRef((e,t)=>{const n=h5(Ko,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,a=Rf(Ko,e.__scopeTooltip);return p.jsx(yr,{present:r||a.open,children:a.disableHoverableContent?p.jsx(AA,{side:s,...i,ref:t}):p.jsx(f5,{side:s,...i,ref:t})})}),f5=b.forwardRef((e,t)=>{const n=Rf(Ko,e.__scopeTooltip),r=Rv(Ko,e.__scopeTooltip),s=b.useRef(null),i=mt(t,s),[a,o]=b.useState(null),{trigger:l,onClose:u}=n,c=s.current,{onPointerInTransitChange:d}=r,f=b.useCallback(()=>{o(null),d(!1)},[d]),h=b.useCallback((g,y)=>{const w=g.currentTarget,v={x:g.clientX,y:g.clientY},x=v5(v,w.getBoundingClientRect()),E=b5(v,x),T=x5(y.getBoundingClientRect()),k=E5([...E,...T]);o(k),d(!0)},[d]);return b.useEffect(()=>()=>f(),[f]),b.useEffect(()=>{if(l&&c){const g=w=>h(w,c),y=w=>h(w,l);return l.addEventListener("pointerleave",g),c.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",g),c.removeEventListener("pointerleave",y)}}},[l,c,h,f]),b.useEffect(()=>{if(a){const g=y=>{const w=y.target,v={x:y.clientX,y:y.clientY},x=(l==null?void 0:l.contains(w))||(c==null?void 0:c.contains(w)),E=!w5(v,a);x?f():E&&(f(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,c,a,u,f]),p.jsx(AA,{...e,ref:i})}),[p5,m5]=Nf(Hu,{isInside:!1}),g5=mL("TooltipContent"),AA=b.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...o}=e,l=Rf(Ko,n),u=If(n),{onClose:c}=l;return b.useEffect(()=>(document.addEventListener(Yg,c),()=>document.removeEventListener(Yg,c)),[c]),b.useEffect(()=>{if(l.trigger){const d=f=>{const h=f.target;h!=null&&h.contains(l.trigger)&&c()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,c]),p.jsx(sl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:d=>d.preventDefault(),onDismiss:c,children:p.jsxs(Nv,{"data-state":l.stateAttribute,...u,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(g5,{children:r}),p.jsx(p5,{scope:n,isInside:!0,children:p.jsx(BL,{id:l.contentId,role:"tooltip",children:s||r})})]})})});CA.displayName=Ko;var NA="TooltipArrow",y5=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=If(n);return m5(NA,n).isInside?null:p.jsx(Iv,{...s,...r,ref:t})});y5.displayName=NA;function v5(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function b5(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function x5(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function w5(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const o=t[i],l=t[a],u=o.x,c=o.y,d=l.x,f=l.y;c>r!=f>r&&n<(d-u)*(r-c)/(f-c)+u&&(s=!s)}return s}function E5(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),T5(t)}function T5(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var S5=SA,k5=kA,_5=_A,IA=CA;const C5=S5,RA=k5,PA=_5,Pv=b.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(IA,{ref:r,sideOffset:t,className:ct("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Pv.displayName=IA.displayName;var ul=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},va=typeof window>"u"||"Deno"in globalThis;function Xt(){}function A5(e,t){return typeof e=="function"?e(t):e}function Qg(e){return typeof e=="number"&&e>=0&&e!==1/0}function OA(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ai(e,t){return typeof e=="function"?e(t):e}function Dn(e,t){return typeof e=="function"?e(t):e}function qx(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:o}=e;if(a){if(r){if(t.queryHash!==Ov(a,t.options))return!1}else if(!$u(t.queryKey,a))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||i&&!i(t))}function Kx(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(ba(t.options.mutationKey)!==ba(i))return!1}else if(!$u(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Ov(e,t){return((t==null?void 0:t.queryKeyHashFn)||ba)(e)}function ba(e){return JSON.stringify(e,(t,n)=>Xg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function $u(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>$u(e[n],t[n])):!1}function DA(e,t){if(e===t)return e;const n=Yx(e)&&Yx(t);if(n||Xg(e)&&Xg(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),a=i.length,o=n?[]:{},l=new Set(r);let u=0;for(let c=0;c<a;c++){const d=n?c:i[c];(!n&&l.has(d)||n)&&e[d]===void 0&&t[d]===void 0?(o[d]=void 0,u++):(o[d]=DA(e[d],t[d]),o[d]===e[d]&&e[d]!==void 0&&u++)}return s===a&&u===s?e:o}return t}function Ph(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Yx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Xg(e){if(!Gx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Gx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Gx(e){return Object.prototype.toString.call(e)==="[object Object]"}function N5(e){return new Promise(t=>{setTimeout(t,e)})}function Jg(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?DA(e,t):t}function I5(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function R5(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Dv=Symbol();function LA(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Dv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function MA(e,t){return typeof e=="function"?e(...t):!!e}var Xi,js,Co,WS,P5=(WS=class extends ul{constructor(){super();ye(this,Xi);ye(this,js);ye(this,Co);le(this,Co,t=>{if(!va&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){D(this,js)||this.setEventListener(D(this,Co))}onUnsubscribe(){var t;this.hasListeners()||((t=D(this,js))==null||t.call(this),le(this,js,void 0))}setEventListener(t){var n;le(this,Co,t),(n=D(this,js))==null||n.call(this),le(this,js,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){D(this,Xi)!==t&&(le(this,Xi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof D(this,Xi)=="boolean"?D(this,Xi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Xi=new WeakMap,js=new WeakMap,Co=new WeakMap,WS),Lv=new P5,Ao,Fs,No,qS,O5=(qS=class extends ul{constructor(){super();ye(this,Ao,!0);ye(this,Fs);ye(this,No);le(this,No,t=>{if(!va&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){D(this,Fs)||this.setEventListener(D(this,No))}onUnsubscribe(){var t;this.hasListeners()||((t=D(this,Fs))==null||t.call(this),le(this,Fs,void 0))}setEventListener(t){var n;le(this,No,t),(n=D(this,Fs))==null||n.call(this),le(this,Fs,t(this.setOnline.bind(this)))}setOnline(t){D(this,Ao)!==t&&(le(this,Ao,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return D(this,Ao)}},Ao=new WeakMap,Fs=new WeakMap,No=new WeakMap,qS),Oh=new O5;function Zg(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function D5(e){return Math.min(1e3*2**e,3e4)}function jA(e){return(e??"online")==="online"?Oh.isOnline():!0}var FA=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Wp(e){return e instanceof FA}function BA(e){let t=!1,n=0,r=!1,s;const i=Zg(),a=y=>{var w;r||(f(new FA(y)),(w=e.abort)==null||w.call(e))},o=()=>{t=!0},l=()=>{t=!1},u=()=>Lv.isFocused()&&(e.networkMode==="always"||Oh.isOnline())&&e.canRun(),c=()=>jA(e.networkMode)&&e.canRun(),d=y=>{var w;r||(r=!0,(w=e.onSuccess)==null||w.call(e,y),s==null||s(),i.resolve(y))},f=y=>{var w;r||(r=!0,(w=e.onError)==null||w.call(e,y),s==null||s(),i.reject(y))},h=()=>new Promise(y=>{var w;s=v=>{(r||u())&&y(v)},(w=e.onPause)==null||w.call(e)}).then(()=>{var y;s=void 0,r||(y=e.onContinue)==null||y.call(e)}),g=()=>{if(r)return;let y;const w=n===0?e.initialPromise:void 0;try{y=w??e.fn()}catch(v){y=Promise.reject(v)}Promise.resolve(y).then(d).catch(v=>{var S;if(r)return;const x=e.retry??(va?0:3),E=e.retryDelay??D5,T=typeof E=="function"?E(n,v):E,k=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,v);if(t||!k){f(v);return}n++,(S=e.onFail)==null||S.call(e,n,v),N5(T).then(()=>u()?void 0:h()).then(()=>{t?f(v):g()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:o,continueRetry:l,canStart:c,start:()=>(c()?g():h().then(g),i)}}var L5=e=>setTimeout(e,0);function M5(){let e=[],t=0,n=o=>{o()},r=o=>{o()},s=L5;const i=o=>{t?e.push(o):s(()=>{n(o)})},a=()=>{const o=e;e=[],o.length&&s(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||a()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{s=o}}}var kt=M5(),Ji,KS,UA=(KS=class{constructor(){ye(this,Ji)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Qg(this.gcTime)&&le(this,Ji,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(va?1/0:5*60*1e3))}clearGcTimeout(){D(this,Ji)&&(clearTimeout(D(this,Ji)),le(this,Ji,void 0))}},Ji=new WeakMap,KS),Io,Zi,On,ea,Ht,lc,ta,sr,Wr,YS,j5=(YS=class extends UA{constructor(t){super();ye(this,sr);ye(this,Io);ye(this,Zi);ye(this,On);ye(this,ea);ye(this,Ht);ye(this,lc);ye(this,ta);le(this,ta,!1),le(this,lc,t.defaultOptions),this.setOptions(t.options),this.observers=[],le(this,ea,t.client),le(this,On,D(this,ea).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,le(this,Io,F5(this.options)),this.state=t.state??D(this,Io),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=D(this,Ht))==null?void 0:t.promise}setOptions(t){this.options={...D(this,lc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&D(this,On).remove(this)}setData(t,n){const r=Jg(this.state.data,t,this.options);return Ce(this,sr,Wr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Ce(this,sr,Wr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=D(this,Ht))==null?void 0:r.promise;return(s=D(this,Ht))==null||s.cancel(t),n?n.then(Xt).catch(Xt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(D(this,Io))}isActive(){return this.observers.some(t=>Dn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Dv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ai(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!OA(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=D(this,Ht))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=D(this,Ht))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),D(this,On).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(D(this,Ht)&&(D(this,ta)?D(this,Ht).cancel({revert:!0}):D(this,Ht).cancelRetry()),this.scheduleGc()),D(this,On).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ce(this,sr,Wr).call(this,{type:"invalidate"})}fetch(t,n){var u,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(D(this,Ht))return D(this,Ht).continueRetry(),D(this,Ht).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(le(this,ta,!0),r.signal)})},i=()=>{const f=LA(this.options,n),g=(()=>{const y={client:D(this,ea),queryKey:this.queryKey,meta:this.meta};return s(y),y})();return le(this,ta,!1),this.options.persister?this.options.persister(f,g,this):f(g)},o=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:D(this,ea),state:this.state,fetchFn:i};return s(f),f})();(u=this.options.behavior)==null||u.onFetch(o,this),le(this,Zi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Ce(this,sr,Wr).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,g,y,w;Wp(f)&&f.silent||Ce(this,sr,Wr).call(this,{type:"error",error:f}),Wp(f)||((g=(h=D(this,On).config).onError)==null||g.call(h,f,this),(w=(y=D(this,On).config).onSettled)==null||w.call(y,this.state.data,f,this)),this.scheduleGc()};return le(this,Ht,BA({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,g,y,w;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){l(v);return}(g=(h=D(this,On).config).onSuccess)==null||g.call(h,f,this),(w=(y=D(this,On).config).onSettled)==null||w.call(y,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{Ce(this,sr,Wr).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Ce(this,sr,Wr).call(this,{type:"pause"})},onContinue:()=>{Ce(this,sr,Wr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),D(this,Ht).start()}},Io=new WeakMap,Zi=new WeakMap,On=new WeakMap,ea=new WeakMap,Ht=new WeakMap,lc=new WeakMap,ta=new WeakMap,sr=new WeakSet,Wr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...HA(r.data,this.options),fetchMeta:t.meta??null};case"success":return le(this,Zi,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Wp(s)&&s.revert&&D(this,Zi)?{...D(this,Zi),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),kt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),D(this,On).notify({query:this,type:"updated",action:t})})},YS);function HA(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:jA(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function F5(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var kr,GS,B5=(GS=class extends ul{constructor(t={}){super();ye(this,kr);this.config=t,le(this,kr,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Ov(s,n);let a=this.get(i);return a||(a=new j5({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){D(this,kr).has(t.queryHash)||(D(this,kr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=D(this,kr).get(t.queryHash);n&&(t.destroy(),n===t&&D(this,kr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){kt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return D(this,kr).get(t)}getAll(){return[...D(this,kr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>qx(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>qx(t,r)):n}notify(t){kt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){kt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){kt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},kr=new WeakMap,GS),_r,Yt,na,Cr,ks,QS,U5=(QS=class extends UA{constructor(t){super();ye(this,Cr);ye(this,_r);ye(this,Yt);ye(this,na);this.mutationId=t.mutationId,le(this,Yt,t.mutationCache),le(this,_r,[]),this.state=t.state||$A(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){D(this,_r).includes(t)||(D(this,_r).push(t),this.clearGcTimeout(),D(this,Yt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){le(this,_r,D(this,_r).filter(n=>n!==t)),this.scheduleGc(),D(this,Yt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){D(this,_r).length||(this.state.status==="pending"?this.scheduleGc():D(this,Yt).remove(this))}continue(){var t;return((t=D(this,na))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,o,l,u,c,d,f,h,g,y,w,v,x,E,T,k,S,C,O;const n=()=>{Ce(this,Cr,ks).call(this,{type:"continue"})};le(this,na,BA({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(M,I)=>{Ce(this,Cr,ks).call(this,{type:"failed",failureCount:M,error:I})},onPause:()=>{Ce(this,Cr,ks).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>D(this,Yt).canRun(this)}));const r=this.state.status==="pending",s=!D(this,na).canStart();try{if(r)n();else{Ce(this,Cr,ks).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(i=D(this,Yt).config).onMutate)==null?void 0:a.call(i,t,this));const I=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));I!==this.state.context&&Ce(this,Cr,ks).call(this,{type:"pending",context:I,variables:t,isPaused:s})}const M=await D(this,na).start();return await((c=(u=D(this,Yt).config).onSuccess)==null?void 0:c.call(u,M,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,M,t,this.state.context)),await((g=(h=D(this,Yt).config).onSettled)==null?void 0:g.call(h,M,null,this.state.variables,this.state.context,this)),await((w=(y=this.options).onSettled)==null?void 0:w.call(y,M,null,t,this.state.context)),Ce(this,Cr,ks).call(this,{type:"success",data:M}),M}catch(M){try{throw await((x=(v=D(this,Yt).config).onError)==null?void 0:x.call(v,M,t,this.state.context,this)),await((T=(E=this.options).onError)==null?void 0:T.call(E,M,t,this.state.context)),await((S=(k=D(this,Yt).config).onSettled)==null?void 0:S.call(k,void 0,M,this.state.variables,this.state.context,this)),await((O=(C=this.options).onSettled)==null?void 0:O.call(C,void 0,M,t,this.state.context)),M}finally{Ce(this,Cr,ks).call(this,{type:"error",error:M})}}finally{D(this,Yt).runNext(this)}}},_r=new WeakMap,Yt=new WeakMap,na=new WeakMap,Cr=new WeakSet,ks=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),kt.batch(()=>{D(this,_r).forEach(r=>{r.onMutationUpdate(t)}),D(this,Yt).notify({mutation:this,type:"updated",action:t})})},QS);function $A(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gr,ir,uc,XS,H5=(XS=class extends ul{constructor(t={}){super();ye(this,Gr);ye(this,ir);ye(this,uc);this.config=t,le(this,Gr,new Set),le(this,ir,new Map),le(this,uc,0)}build(t,n,r){const s=new U5({mutationCache:this,mutationId:++Lc(this,uc)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){D(this,Gr).add(t);const n=sd(t);if(typeof n=="string"){const r=D(this,ir).get(n);r?r.push(t):D(this,ir).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(D(this,Gr).delete(t)){const n=sd(t);if(typeof n=="string"){const r=D(this,ir).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&D(this,ir).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=sd(t);if(typeof n=="string"){const r=D(this,ir).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=sd(t);if(typeof n=="string"){const s=(r=D(this,ir).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){kt.batch(()=>{D(this,Gr).forEach(t=>{this.notify({type:"removed",mutation:t})}),D(this,Gr).clear(),D(this,ir).clear()})}getAll(){return Array.from(D(this,Gr))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Kx(n,r))}findAll(t={}){return this.getAll().filter(n=>Kx(t,n))}notify(t){kt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return kt.batch(()=>Promise.all(t.map(n=>n.continue().catch(Xt))))}},Gr=new WeakMap,ir=new WeakMap,uc=new WeakMap,XS);function sd(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Qx(e){return{onFetch:(t,n)=>{var c,d,f,h,g;const r=t.options,s=(f=(d=(c=t.fetchOptions)==null?void 0:c.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,i=((h=t.state.data)==null?void 0:h.pages)||[],a=((g=t.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const w=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},v=LA(t.options,t.fetchOptions),x=async(E,T,k)=>{if(y)return Promise.reject();if(T==null&&E.pages.length)return Promise.resolve(E);const C=(()=>{const H={client:t.client,queryKey:t.queryKey,pageParam:T,direction:k?"backward":"forward",meta:t.options.meta};return w(H),H})(),O=await v(C),{maxPages:M}=t.options,I=k?R5:I5;return{pages:I(E.pages,O,M),pageParams:I(E.pageParams,T,M)}};if(s&&i.length){const E=s==="backward",T=E?$5:Xx,k={pages:i,pageParams:a},S=T(r,k);o=await x(k,S,E)}else{const E=e??i.length;do{const T=l===0?a[0]??r.initialPageParam:Xx(r,o);if(l>0&&T==null)break;o=await x(o,T),l++}while(l<E)}return o};t.options.persister?t.fetchFn=()=>{var y,w;return(w=(y=t.options).persister)==null?void 0:w.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Xx(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function $5(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var ot,Bs,Us,Ro,Po,Hs,Oo,Do,JS,z5=(JS=class{constructor(e={}){ye(this,ot);ye(this,Bs);ye(this,Us);ye(this,Ro);ye(this,Po);ye(this,Hs);ye(this,Oo);ye(this,Do);le(this,ot,e.queryCache||new B5),le(this,Bs,e.mutationCache||new H5),le(this,Us,e.defaultOptions||{}),le(this,Ro,new Map),le(this,Po,new Map),le(this,Hs,0)}mount(){Lc(this,Hs)._++,D(this,Hs)===1&&(le(this,Oo,Lv.subscribe(async e=>{e&&(await this.resumePausedMutations(),D(this,ot).onFocus())})),le(this,Do,Oh.subscribe(async e=>{e&&(await this.resumePausedMutations(),D(this,ot).onOnline())})))}unmount(){var e,t;Lc(this,Hs)._--,D(this,Hs)===0&&((e=D(this,Oo))==null||e.call(this),le(this,Oo,void 0),(t=D(this,Do))==null||t.call(this),le(this,Do,void 0))}isFetching(e){return D(this,ot).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return D(this,Bs).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=D(this,ot).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=D(this,ot).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(ai(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return D(this,ot).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=D(this,ot).get(r.queryHash),i=s==null?void 0:s.state.data,a=A5(t,i);if(a!==void 0)return D(this,ot).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return kt.batch(()=>D(this,ot).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=D(this,ot).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=D(this,ot);kt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=D(this,ot);return kt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=kt.batch(()=>D(this,ot).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Xt).catch(Xt)}invalidateQueries(e,t={}){return kt.batch(()=>(D(this,ot).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=kt.batch(()=>D(this,ot).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Xt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Xt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=D(this,ot).build(this,t);return n.isStaleByTime(ai(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Xt).catch(Xt)}fetchInfiniteQuery(e){return e.behavior=Qx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Xt).catch(Xt)}ensureInfiniteQueryData(e){return e.behavior=Qx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Oh.isOnline()?D(this,Bs).resumePausedMutations():Promise.resolve()}getQueryCache(){return D(this,ot)}getMutationCache(){return D(this,Bs)}getDefaultOptions(){return D(this,Us)}setDefaultOptions(e){le(this,Us,e)}setQueryDefaults(e,t){D(this,Ro).set(ba(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...D(this,Ro).values()],n={};return t.forEach(r=>{$u(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){D(this,Po).set(ba(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...D(this,Po).values()],n={};return t.forEach(r=>{$u(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...D(this,Us).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ov(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Dv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...D(this,Us).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){D(this,ot).clear(),D(this,Bs).clear()}},ot=new WeakMap,Bs=new WeakMap,Us=new WeakMap,Ro=new WeakMap,Po=new WeakMap,Hs=new WeakMap,Oo=new WeakMap,Do=new WeakMap,JS),ln,Me,cc,Gt,ra,Lo,$s,zs,dc,Mo,jo,sa,ia,Vs,Fo,He,Wl,e0,t0,n0,r0,s0,i0,a0,zA,ZS,V5=(ZS=class extends ul{constructor(t,n){super();ye(this,He);ye(this,ln);ye(this,Me);ye(this,cc);ye(this,Gt);ye(this,ra);ye(this,Lo);ye(this,$s);ye(this,zs);ye(this,dc);ye(this,Mo);ye(this,jo);ye(this,sa);ye(this,ia);ye(this,Vs);ye(this,Fo,new Set);this.options=n,le(this,ln,t),le(this,zs,null),le(this,$s,Zg()),this.options.experimental_prefetchInRender||D(this,$s).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(D(this,Me).addObserver(this),Jx(D(this,Me),this.options)?Ce(this,He,Wl).call(this):this.updateResult(),Ce(this,He,r0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return o0(D(this,Me),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return o0(D(this,Me),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ce(this,He,s0).call(this),Ce(this,He,i0).call(this),D(this,Me).removeObserver(this)}setOptions(t){const n=this.options,r=D(this,Me);if(this.options=D(this,ln).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Dn(this.options.enabled,D(this,Me))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ce(this,He,a0).call(this),D(this,Me).setOptions(this.options),n._defaulted&&!Ph(this.options,n)&&D(this,ln).getQueryCache().notify({type:"observerOptionsUpdated",query:D(this,Me),observer:this});const s=this.hasListeners();s&&Zx(D(this,Me),r,this.options,n)&&Ce(this,He,Wl).call(this),this.updateResult(),s&&(D(this,Me)!==r||Dn(this.options.enabled,D(this,Me))!==Dn(n.enabled,D(this,Me))||ai(this.options.staleTime,D(this,Me))!==ai(n.staleTime,D(this,Me)))&&Ce(this,He,e0).call(this);const i=Ce(this,He,t0).call(this);s&&(D(this,Me)!==r||Dn(this.options.enabled,D(this,Me))!==Dn(n.enabled,D(this,Me))||i!==D(this,Vs))&&Ce(this,He,n0).call(this,i)}getOptimisticResult(t){const n=D(this,ln).getQueryCache().build(D(this,ln),t),r=this.createResult(n,t);return q5(this,r)&&(le(this,Gt,r),le(this,Lo,this.options),le(this,ra,D(this,Me).state)),r}getCurrentResult(){return D(this,Gt)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(t){D(this,Fo).add(t)}getCurrentQuery(){return D(this,Me)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=D(this,ln).defaultQueryOptions(t),r=D(this,ln).getQueryCache().build(D(this,ln),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Ce(this,He,Wl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),D(this,Gt)))}createResult(t,n){var M;const r=D(this,Me),s=this.options,i=D(this,Gt),a=D(this,ra),o=D(this,Lo),u=t!==r?t.state:D(this,cc),{state:c}=t;let d={...c},f=!1,h;if(n._optimisticResults){const I=this.hasListeners(),H=!I&&Jx(t,n),U=I&&Zx(t,r,n,s);(H||U)&&(d={...d,...HA(c.data,t.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:g,errorUpdatedAt:y,status:w}=d;h=d.data;let v=!1;if(n.placeholderData!==void 0&&h===void 0&&w==="pending"){let I;i!=null&&i.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData)?(I=i.data,v=!0):I=typeof n.placeholderData=="function"?n.placeholderData((M=D(this,jo))==null?void 0:M.state.data,D(this,jo)):n.placeholderData,I!==void 0&&(w="success",h=Jg(i==null?void 0:i.data,I,n),f=!0)}if(n.select&&h!==void 0&&!v)if(i&&h===(a==null?void 0:a.data)&&n.select===D(this,dc))h=D(this,Mo);else try{le(this,dc,n.select),h=n.select(h),h=Jg(i==null?void 0:i.data,h,n),le(this,Mo,h),le(this,zs,null)}catch(I){le(this,zs,I)}D(this,zs)&&(g=D(this,zs),h=D(this,Mo),y=Date.now(),w="error");const x=d.fetchStatus==="fetching",E=w==="pending",T=w==="error",k=E&&x,S=h!==void 0,O={status:w,fetchStatus:d.fetchStatus,isPending:E,isSuccess:w==="success",isError:T,isInitialLoading:k,isLoading:k,data:h,dataUpdatedAt:d.dataUpdatedAt,error:g,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!E,isLoadingError:T&&!S,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:T&&S,isStale:Mv(t,n),refetch:this.refetch,promise:D(this,$s),isEnabled:Dn(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=G=>{O.status==="error"?G.reject(O.error):O.data!==void 0&&G.resolve(O.data)},H=()=>{const G=le(this,$s,O.promise=Zg());I(G)},U=D(this,$s);switch(U.status){case"pending":t.queryHash===r.queryHash&&I(U);break;case"fulfilled":(O.status==="error"||O.data!==U.value)&&H();break;case"rejected":(O.status!=="error"||O.error!==U.reason)&&H();break}}return O}updateResult(){const t=D(this,Gt),n=this.createResult(D(this,Me),this.options);if(le(this,ra,D(this,Me).state),le(this,Lo,this.options),D(this,ra).data!==void 0&&le(this,jo,D(this,Me)),Ph(n,t))return;le(this,Gt,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!D(this,Fo).size)return!0;const a=new Set(i??D(this,Fo));return this.options.throwOnError&&a.add("error"),Object.keys(D(this,Gt)).some(o=>{const l=o;return D(this,Gt)[l]!==t[l]&&a.has(l)})};Ce(this,He,zA).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ce(this,He,r0).call(this)}},ln=new WeakMap,Me=new WeakMap,cc=new WeakMap,Gt=new WeakMap,ra=new WeakMap,Lo=new WeakMap,$s=new WeakMap,zs=new WeakMap,dc=new WeakMap,Mo=new WeakMap,jo=new WeakMap,sa=new WeakMap,ia=new WeakMap,Vs=new WeakMap,Fo=new WeakMap,He=new WeakSet,Wl=function(t){Ce(this,He,a0).call(this);let n=D(this,Me).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Xt)),n},e0=function(){Ce(this,He,s0).call(this);const t=ai(this.options.staleTime,D(this,Me));if(va||D(this,Gt).isStale||!Qg(t))return;const r=OA(D(this,Gt).dataUpdatedAt,t)+1;le(this,sa,setTimeout(()=>{D(this,Gt).isStale||this.updateResult()},r))},t0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(D(this,Me)):this.options.refetchInterval)??!1},n0=function(t){Ce(this,He,i0).call(this),le(this,Vs,t),!(va||Dn(this.options.enabled,D(this,Me))===!1||!Qg(D(this,Vs))||D(this,Vs)===0)&&le(this,ia,setInterval(()=>{(this.options.refetchIntervalInBackground||Lv.isFocused())&&Ce(this,He,Wl).call(this)},D(this,Vs)))},r0=function(){Ce(this,He,e0).call(this),Ce(this,He,n0).call(this,Ce(this,He,t0).call(this))},s0=function(){D(this,sa)&&(clearTimeout(D(this,sa)),le(this,sa,void 0))},i0=function(){D(this,ia)&&(clearInterval(D(this,ia)),le(this,ia,void 0))},a0=function(){const t=D(this,ln).getQueryCache().build(D(this,ln),this.options);if(t===D(this,Me))return;const n=D(this,Me);le(this,Me,t),le(this,cc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},zA=function(t){kt.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(D(this,Gt))}),D(this,ln).getQueryCache().notify({query:D(this,Me),type:"observerResultsUpdated"})})},ZS);function W5(e,t){return Dn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Jx(e,t){return W5(e,t)||e.state.data!==void 0&&o0(e,t,t.refetchOnMount)}function o0(e,t,n){if(Dn(t.enabled,e)!==!1&&ai(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Mv(e,t)}return!1}function Zx(e,t,n,r){return(e!==t||Dn(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Mv(e,n)}function Mv(e,t){return Dn(t.enabled,e)!==!1&&e.isStaleByTime(ai(t.staleTime,e))}function q5(e,t){return!Ph(e.getCurrentResult(),t)}var Ws,qs,un,Qr,ts,zd,l0,ek,K5=(ek=class extends ul{constructor(n,r){super();ye(this,ts);ye(this,Ws);ye(this,qs);ye(this,un);ye(this,Qr);le(this,Ws,n),this.setOptions(r),this.bindMethods(),Ce(this,ts,zd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=D(this,Ws).defaultMutationOptions(n),Ph(this.options,r)||D(this,Ws).getMutationCache().notify({type:"observerOptionsUpdated",mutation:D(this,un),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ba(r.mutationKey)!==ba(this.options.mutationKey)?this.reset():((s=D(this,un))==null?void 0:s.state.status)==="pending"&&D(this,un).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=D(this,un))==null||n.removeObserver(this)}onMutationUpdate(n){Ce(this,ts,zd).call(this),Ce(this,ts,l0).call(this,n)}getCurrentResult(){return D(this,qs)}reset(){var n;(n=D(this,un))==null||n.removeObserver(this),le(this,un,void 0),Ce(this,ts,zd).call(this),Ce(this,ts,l0).call(this)}mutate(n,r){var s;return le(this,Qr,r),(s=D(this,un))==null||s.removeObserver(this),le(this,un,D(this,Ws).getMutationCache().build(D(this,Ws),this.options)),D(this,un).addObserver(this),D(this,un).execute(n)}},Ws=new WeakMap,qs=new WeakMap,un=new WeakMap,Qr=new WeakMap,ts=new WeakSet,zd=function(){var r;const n=((r=D(this,un))==null?void 0:r.state)??$A();le(this,qs,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},l0=function(n){kt.batch(()=>{var r,s,i,a,o,l,u,c;if(D(this,Qr)&&this.hasListeners()){const d=D(this,qs).variables,f=D(this,qs).context;(n==null?void 0:n.type)==="success"?((s=(r=D(this,Qr)).onSuccess)==null||s.call(r,n.data,d,f),(a=(i=D(this,Qr)).onSettled)==null||a.call(i,n.data,null,d,f)):(n==null?void 0:n.type)==="error"&&((l=(o=D(this,Qr)).onError)==null||l.call(o,n.error,d,f),(c=(u=D(this,Qr)).onSettled)==null||c.call(u,void 0,n.error,d,f))}this.listeners.forEach(d=>{d(D(this,qs))})})},ek),VA=b.createContext(void 0),Rt=e=>{const t=b.useContext(VA);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Y5=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),p.jsx(VA.Provider,{value:e,children:t})),WA=b.createContext(!1),G5=()=>b.useContext(WA);WA.Provider;function Q5(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var X5=b.createContext(Q5()),J5=()=>b.useContext(X5),Z5=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},ej=e=>{b.useEffect(()=>{e.clearReset()},[e])},tj=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||MA(n,[e.error,r])),nj=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},rj=(e,t)=>e.isLoading&&e.isFetching&&!t,sj=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,ew=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function ij(e,t,n){var d,f,h,g,y;const r=G5(),s=J5(),i=Rt(),a=i.defaultQueryOptions(e);(f=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,a),a._optimisticResults=r?"isRestoring":"optimistic",nj(a),Z5(a,s),ej(s);const o=!i.getQueryCache().get(a.queryHash),[l]=b.useState(()=>new t(i,a)),u=l.getOptimisticResult(a),c=!r&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(w=>{const v=c?l.subscribe(kt.batchCalls(w)):Xt;return l.updateResult(),v},[l,c]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),b.useEffect(()=>{l.setOptions(a)},[a,l]),sj(a,u))throw ew(a,l,s);if(tj({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((g=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||g.call(h,a,u),a.experimental_prefetchInRender&&!va&&rj(u,r)){const w=o?ew(a,l,s):(y=i.getQueryCache().get(a.queryHash))==null?void 0:y.promise;w==null||w.catch(Xt).finally(()=>{l.updateResult()})}return a.notifyOnChangeProps?u:l.trackResult(u)}function ds(e,t){return ij(e,V5)}function sn(e,t){const n=Rt(),[r]=b.useState(()=>new K5(n,e));b.useEffect(()=>{r.setOptions(e)},[r,e]);const s=b.useSyncExternalStore(b.useCallback(a=>r.subscribe(kt.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=b.useCallback((a,o)=>{r.mutate(a,o).catch(Xt)},[r]);if(s.error&&MA(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zu(){return zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zu.apply(this,arguments)}var Gs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Gs||(Gs={}));const tw="popstate";function aj(e){e===void 0&&(e={});function t(s,i){let{pathname:a="/",search:o="",hash:l=""}=Ca(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),u0("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let a=s.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof i=="string"?i:Dh(i))}function r(s,i){jv(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return lj(t,n,r,e)}function pt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function oj(){return Math.random().toString(36).substr(2,8)}function nw(e,t){return{usr:e.state,key:e.key,idx:t}}function u0(e,t,n,r){return n===void 0&&(n=null),zu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ca(t):t,{state:n,key:t&&t.key||r||oj()})}function Dh(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ca(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function lj(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o=Gs.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(zu({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function d(){o=Gs.Pop;let w=c(),v=w==null?null:w-u;u=w,l&&l({action:o,location:y.location,delta:v})}function f(w,v){o=Gs.Push;let x=u0(y.location,w,v);n&&n(x,w),u=c()+1;let E=nw(x,u),T=y.createHref(x);try{a.pushState(E,"",T)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(T)}i&&l&&l({action:o,location:y.location,delta:1})}function h(w,v){o=Gs.Replace;let x=u0(y.location,w,v);n&&n(x,w),u=c();let E=nw(x,u),T=y.createHref(x);a.replaceState(E,"",T),i&&l&&l({action:o,location:y.location,delta:0})}function g(w){let v=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof w=="string"?w:Dh(w);return x=x.replace(/ $/,"%20"),pt(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let y={get action(){return o},get location(){return e(s,a)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(tw,d),l=w,()=>{s.removeEventListener(tw,d),l=null}},createHref(w){return t(s,w)},createURL:g,encodeLocation(w){let v=g(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:h,go(w){return a.go(w)}};return y}var rw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(rw||(rw={}));function uj(e,t,n){return n===void 0&&(n="/"),cj(e,t,n,!1)}function cj(e,t,n,r){let s=typeof t=="string"?Ca(t):t,i=Fv(s.pathname||"/",n);if(i==null)return null;let a=qA(e);dj(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=Ej(i);o=xj(a[l],u,r)}return o}function qA(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(pt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=oi([r,l.relativePath]),c=n.concat(l);i.children&&i.children.length>0&&(pt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),qA(i.children,t,c,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:vj(u,i.index),routesMeta:c})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of KA(i.path))s(i,a,l)}),t}function KA(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=KA(r.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function dj(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:bj(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hj=/^:[\w-]+$/,fj=3,pj=2,mj=1,gj=10,yj=-2,sw=e=>e==="*";function vj(e,t){let n=e.split("/"),r=n.length;return n.some(sw)&&(r+=yj),t&&(r+=pj),n.filter(s=>!sw(s)).reduce((s,i)=>s+(hj.test(i)?fj:i===""?mj:gj),r)}function bj(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function xj(e,t,n){let{routesMeta:r}=e,s={},i="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,c=i==="/"?t:t.slice(i.length)||"/",d=iw({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=iw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:oi([i,d.pathname]),pathnameBase:_j(oi([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=oi([i,d.pathnameBase]))}return a}function iw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=wj(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:h}=c;if(f==="*"){let y=o[d]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=o[d];return h&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function wj(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),jv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Ej(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Tj(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ca(e):e;return{pathname:n?n.startsWith("/")?n:Sj(n,t):t,search:Cj(r),hash:Aj(s)}}function Sj(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function qp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kj(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Bv(e,t){let n=kj(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Uv(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Ca(e):(s=zu({},e),pt(!s.pathname||!s.pathname.includes("?"),qp("?","pathname","search",s)),pt(!s.pathname||!s.pathname.includes("#"),qp("#","pathname","hash",s)),pt(!s.search||!s.search.includes("#"),qp("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=n;else{let d=t.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}o=d>=0?t[d]:"/"}let l=Tj(s,o),u=a&&a!=="/"&&a.endsWith("/"),c=(i||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const oi=e=>e.join("/").replace(/\/\/+/g,"/"),_j=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Cj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Aj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Nj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const YA=["post","put","patch","delete"];new Set(YA);const Ij=["get",...YA];new Set(Ij);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vu(){return Vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vu.apply(this,arguments)}const Hv=b.createContext(null),Rj=b.createContext(null),xi=b.createContext(null),Pf=b.createContext(null),wi=b.createContext({outlet:null,matches:[],isDataRoute:!1}),GA=b.createContext(null);function Pj(e,t){let{relative:n}=t===void 0?{}:t;cl()||pt(!1);let{basename:r,navigator:s}=b.useContext(xi),{hash:i,pathname:a,search:o}=XA(e,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:oi([r,a])),s.createHref({pathname:l,search:o,hash:i})}function cl(){return b.useContext(Pf)!=null}function Aa(){return cl()||pt(!1),b.useContext(Pf).location}function QA(e){b.useContext(xi).static||b.useLayoutEffect(e)}function $v(){let{isDataRoute:e}=b.useContext(wi);return e?Wj():Oj()}function Oj(){cl()||pt(!1);let e=b.useContext(Hv),{basename:t,future:n,navigator:r}=b.useContext(xi),{matches:s}=b.useContext(wi),{pathname:i}=Aa(),a=JSON.stringify(Bv(s,n.v7_relativeSplatPath)),o=b.useRef(!1);return QA(()=>{o.current=!0}),b.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let d=Uv(u,JSON.parse(a),i,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:oi([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,a,i,e])}function XA(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=b.useContext(xi),{matches:s}=b.useContext(wi),{pathname:i}=Aa(),a=JSON.stringify(Bv(s,r.v7_relativeSplatPath));return b.useMemo(()=>Uv(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function Dj(e,t){return Lj(e,t)}function Lj(e,t,n,r){cl()||pt(!1);let{navigator:s}=b.useContext(xi),{matches:i}=b.useContext(wi),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Aa(),c;if(t){var d;let w=typeof t=="string"?Ca(t):t;l==="/"||(d=w.pathname)!=null&&d.startsWith(l)||pt(!1),c=w}else c=u;let f=c.pathname||"/",h=f;if(l!=="/"){let w=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=uj(e,{pathname:h}),y=Uj(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:oi([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:oi([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return t&&y?b.createElement(Pf.Provider,{value:{location:Vu({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Gs.Pop}},y):y}function Mj(){let e=Vj(),t=Nj(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:s},n):null,null)}const jj=b.createElement(Mj,null);class Fj extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(wi.Provider,{value:this.props.routeContext},b.createElement(GA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Bj(e){let{routeContext:t,match:n,children:r}=e,s=b.useContext(Hv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(wi.Provider,{value:t},r)}function Uj(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(s=n)==null?void 0:s.errors;if(o!=null){let c=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);c>=0||pt(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:h}=n,g=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||g){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,d,f)=>{let h,g=!1,y=null,w=null;n&&(h=o&&d.route.id?o[d.route.id]:void 0,y=d.route.errorElement||jj,l&&(u<0&&f===0?(g=!0,w=null):u===f&&(g=!0,w=d.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,f+1)),x=()=>{let E;return h?E=y:g?E=w:d.route.Component?E=b.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=c,b.createElement(Bj,{match:d,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?b.createElement(Fj,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var JA=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(JA||{}),Lh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Lh||{});function Hj(e){let t=b.useContext(Hv);return t||pt(!1),t}function $j(e){let t=b.useContext(Rj);return t||pt(!1),t}function zj(e){let t=b.useContext(wi);return t||pt(!1),t}function ZA(e){let t=zj(),n=t.matches[t.matches.length-1];return n.route.id||pt(!1),n.route.id}function Vj(){var e;let t=b.useContext(GA),n=$j(Lh.UseRouteError),r=ZA(Lh.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Wj(){let{router:e}=Hj(JA.UseNavigateStable),t=ZA(Lh.UseNavigateStable),n=b.useRef(!1);return QA(()=>{n.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Vu({fromRouteId:t},i)))},[e,t])}function qj(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function e2(e){let{to:t,replace:n,state:r,relative:s}=e;cl()||pt(!1);let{future:i,static:a}=b.useContext(xi),{matches:o}=b.useContext(wi),{pathname:l}=Aa(),u=$v(),c=Uv(t,Bv(o,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(c);return b.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:s}),[u,d,s,n,r]),null}function ql(e){pt(!1)}function Kj(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Gs.Pop,navigator:i,static:a=!1,future:o}=e;cl()&&pt(!1);let l=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:i,static:a,future:Vu({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof r=="string"&&(r=Ca(r));let{pathname:c="/",search:d="",hash:f="",state:h=null,key:g="default"}=r,y=b.useMemo(()=>{let w=Fv(c,l);return w==null?null:{location:{pathname:w,search:d,hash:f,state:h,key:g},navigationType:s}},[l,c,d,f,h,g,s]);return y==null?null:b.createElement(xi.Provider,{value:u},b.createElement(Pf.Provider,{children:n,value:y}))}function Yj(e){let{children:t,location:n}=e;return Dj(c0(t),n)}new Promise(()=>{});function c0(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(r,s)=>{if(!b.isValidElement(r))return;let i=[...t,s];if(r.type===b.Fragment){n.push.apply(n,c0(r.props.children,i));return}r.type!==ql&&pt(!1),!r.props.index||!r.props.children||pt(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=c0(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function d0(){return d0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d0.apply(this,arguments)}function Gj(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Qj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Xj(e,t){return e.button===0&&(!t||t==="_self")&&!Qj(e)}const Jj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Zj="6";try{window.__reactRouterVersion=Zj}catch{}const e8="startTransition",aw=wy[e8];function t8(e){let{basename:t,children:n,future:r,window:s}=e,i=b.useRef();i.current==null&&(i.current=aj({window:s,v5Compat:!0}));let a=i.current,[o,l]=b.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=b.useCallback(d=>{u&&aw?aw(()=>l(d)):l(d)},[l,u]);return b.useLayoutEffect(()=>a.listen(c),[a,c]),b.useEffect(()=>qj(r),[r]),b.createElement(Kj,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const n8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",r8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ow=b.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:u,preventScrollReset:c,viewTransition:d}=t,f=Gj(t,Jj),{basename:h}=b.useContext(xi),g,y=!1;if(typeof u=="string"&&r8.test(u)&&(g=u,n8))try{let E=new URL(window.location.href),T=u.startsWith("//")?new URL(E.protocol+u):new URL(u),k=Fv(T.pathname,h);T.origin===E.origin&&k!=null?u=k+T.search+T.hash:y=!0}catch{}let w=Pj(u,{relative:s}),v=s8(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:s,viewTransition:d});function x(E){r&&r(E),E.defaultPrevented||v(E)}return b.createElement("a",d0({},f,{href:g||w,onClick:y||i?r:x,ref:n,target:l}))});var lw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lw||(lw={}));var uw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(uw||(uw={}));function s8(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,l=$v(),u=Aa(),c=XA(e,{relative:a});return b.useCallback(d=>{if(Xj(d,n)){d.preventDefault();let f=r!==void 0?r:Dh(u)===Dh(c);l(e,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[u,l,c,r,s,n,e,i,a,o])}var Ir=function(){return Ir=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ir.apply(this,arguments)};function dl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function i8(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(e,t||[])).next())})}function a8(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}const o8=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class zv extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class l8 extends zv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class cw extends zv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class dw extends zv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var h0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(h0||(h0={}));class u8{constructor(t,{headers:n={},customFetch:r,region:s=h0.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=o8(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return i8(this,arguments,void 0,function*(n,r={}){var s;let i,a;try{const{headers:o,method:l,body:u,signal:c,timeout:d}=r;let f={},{region:h}=r;h||(h=this.region);const g=new URL(`${this.url}/${n}`);h&&h!=="any"&&(f["x-region"]=h,g.searchParams.set("forceFunctionRegion",h));let y;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(f["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(f["Content-Type"]="application/json",y=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?y=JSON.stringify(u):y=u;let w=c;d&&(a=new AbortController,i=setTimeout(()=>a.abort(),d),c?(w=a.signal,c.addEventListener("abort",()=>a.abort())):w=a.signal);const v=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:y,signal:w}).catch(k=>{throw new l8(k)}),x=v.headers.get("x-relay-error");if(x&&x==="true")throw new cw(v);if(!v.ok)throw new dw(v);let E=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),T;return E==="application/json"?T=yield v.json():E==="application/octet-stream"||E==="application/pdf"?T=yield v.blob():E==="text/event-stream"?T=v:E==="multipart/form-data"?T=yield v.formData():T=yield v.text(),{data:T,error:null,response:v}}catch(o){return{data:null,error:o,response:o instanceof dw||o instanceof cw?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var c8=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},d8=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=e.urlLengthLimit)!==null&&r!==void 0?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,o=null,l=null,u=i.status,c=i.statusText;if(i.ok){var d,f;if(n.method!=="HEAD"){var h;const v=await i.text();v===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((h=n.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?o=v:o=JSON.parse(v))}const y=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),w=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");y&&w&&w.length>1&&(l=parseInt(w[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,u=406,c="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var g;const y=await i.text();try{a=JSON.parse(y),Array.isArray(a)&&i.status===404&&(o=[],a=null,u=200,c="OK")}catch{i.status===404&&y===""?(u=204,c="No Content"):a={message:y}}if(a&&n.isMaybeSingle&&(!(a==null||(g=a.details)===null||g===void 0)&&g.includes("0 rows"))&&(a=null,u=200,c="OK"),a&&n.shouldThrowOnError)throw new c8(a)}return{error:a,data:o,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let o="",l="",u="";const c=i==null?void 0:i.cause;if(c){var d,f,h,g;const v=(d=c==null?void 0:c.message)!==null&&d!==void 0?d:"",x=(f=c==null?void 0:c.code)!==null&&f!==void 0?f:"";o=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,o+=`

Caused by: ${(g=c==null?void 0:c.name)!==null&&g!==void 0?g:"Error"}: ${v}`,x&&(o+=` (${x})`),c!=null&&c.stack&&(o+=`
${c.stack}`)}else{var y;o=(y=i==null?void 0:i.stack)!==null&&y!==void 0?y:""}const w=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",w>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${w} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((c==null?void 0:c.name)==="HeadersOverflowError"||(c==null?void 0:c.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",w>this.urlLengthLimit&&(l+=`. Your request URL is ${w} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:o,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},h8=class extends d8{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var a;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const hw=new RegExp("[,()]");var $a=class extends h8{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&hw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&hw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},f8=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",a),r&&l.append("Prefer",`count=${r}`),new $a({method:s,url:o,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),n||a.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);i.searchParams.set("columns",l.join(","))}}return new $a({method:s,url:i,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const a="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&o.searchParams.set("on_conflict",t),r&&l.append("Prefer",`count=${r}`),s||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);o.searchParams.set("columns",c.join(","))}}return new $a({method:a,url:o,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new $a({method:r,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new $a({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Wu(e){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function p8(e,t){if(Wu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m8(e){var t=p8(e,"string");return Wu(t)=="symbol"?t:t+""}function g8(e,t,n){return(t=m8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function id(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fw(Object(n),!0).forEach(function(r){g8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var y8=class t2{constructor(t,{headers:n={},schema:r,fetch:s,timeout:i,urlLengthLimit:a=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=a;const o=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(l,u)=>{const c=new AbortController,d=setTimeout(()=>c.abort(),i),f=u==null?void 0:u.signal;if(f){if(f.aborted)return clearTimeout(d),o(l,u);const h=()=>{clearTimeout(d),c.abort()};return f.addEventListener("abort",h,{once:!0}),o(l,id(id({},u),{},{signal:c.signal})).finally(()=>{clearTimeout(d),f.removeEventListener("abort",h)})}return o(l,id(id({},u),{},{signal:c.signal})).finally(()=>clearTimeout(d))}:this.fetch=o}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new f8(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new t2(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var a;let o;const l=new URL(`${this.url}/rpc/${t}`);let u;const c=h=>h!==null&&typeof h=="object"&&(!Array.isArray(h)||h.some(c)),d=r&&Object.values(n).some(c);d?(o="POST",u=n):r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([h,g])=>g!==void 0).map(([h,g])=>[h,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([h,g])=>{l.searchParams.append(h,g)})):(o="POST",u=n);const f=new Headers(this.headers);return d?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new $a({method:o,url:l,headers:f,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class v8{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const b8="2.95.3",x8=`realtime-js/${b8}`,w8="1.0.0",n2="2.0.0",pw=n2,f0=1e4,E8=1e3,T8=100;var Os;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Os||(Os={}));var Et;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Et||(Et={}));var or;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(or||(or={}));var p0;(function(e){e.websocket="websocket"})(p0||(p0={}));var Fi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Fi||(Fi={}));class S8{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,n,r){var s,i;const a=t.topic,o=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+u.length+d.length,h=new ArrayBuffer(this.HEADER_LENGTH+f);let g=new DataView(h),y=0;g.setUint8(y++,this.KINDS.userBroadcastPush),g.setUint8(y++,l.length),g.setUint8(y++,o.length),g.setUint8(y++,a.length),g.setUint8(y++,u.length),g.setUint8(y++,d.length),g.setUint8(y++,n),Array.from(l,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(o,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(a,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(u,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(d,v=>g.setUint8(y++,v.charCodeAt(0)));var w=new Uint8Array(h.byteLength+r.byteLength);return w.set(new Uint8Array(h),0),w.set(new Uint8Array(r),h.byteLength),w.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,a,o,l]=r;return n({join_ref:s,ref:i,topic:a,event:o,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),a=n.getUint8(3),o=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(t.slice(l,l+s));l=l+s;const c=r.decode(t.slice(l,l+i));l=l+i;const d=r.decode(t.slice(l,l+a));l=l+a;const f=t.slice(l,t.byteLength),h=o===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,g={type:this.BROADCAST_EVENT,event:c,payload:h};return a>0&&(g.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class r2{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(qe||(qe={}));const mw=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=k8(a,e,t,s),i),{}):{}},k8=(e,t,n,r)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=n[e];return i&&!r.includes(i)?s2(i,a):m0(a)},s2=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return N8(t,n)}switch(e){case qe.bool:return _8(t);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return C8(t);case qe.json:case qe.jsonb:return A8(t);case qe.timestamp:return I8(t);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:return m0(t);default:return m0(t)}},m0=e=>e,_8=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},C8=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},A8=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},N8=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const a=e.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>s2(t,o))}return e},I8=e=>typeof e=="string"?e.replace(" ","T"):e,i2=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Kp{constructor(t,n,r={},s=f0){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var gw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(gw||(gw={}));class ou{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ou.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=ou.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ou.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),a=this.transformState(n),o={},l={};return this.map(i,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const d=i[u];if(d){const f=c.map(w=>w.presence_ref),h=d.map(w=>w.presence_ref),g=c.filter(w=>h.indexOf(w.presence_ref)<0),y=d.filter(w=>f.indexOf(w.presence_ref)<0);g.length>0&&(o[u]=g),y.length>0&&(l[u]=y)}else o[u]=c}),this.syncDiff(i,{joins:o,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var u;const c=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),c.length>0){const d=t[o].map(h=>h.presence_ref),f=c.filter(h=>d.indexOf(h.presence_ref)<0);t[o].unshift(...f)}r(o,c,l)}),this.map(a,(o,l)=>{let u=t[o];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[o]=u,s(o,u,l),u.length===0&&delete t[o]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(yw||(yw={}));var lu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(lu||(lu={}));var Kr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Kr||(Kr={}));class oo{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Kp(this,or.join,this.params,this.timeout),this.rejoinTimer=new r2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Et.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(or.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new ou(this),this.broadcastEndpointURL=i2(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Et.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[lu.PRESENCE]&&this.bindings[lu.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},f={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(Kr.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(Kr.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){t==null||t(Kr.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(g=y==null?void 0:y.length)!==null&&g!==void 0?g:0,v=[];for(let x=0;x<w;x++){const E=y[x],{filter:{event:T,schema:k,table:S,filter:C}}=E,O=h&&h[x];if(O&&O.event===T&&oo.isFilterValueEqual(O.schema,k)&&oo.isFilterValueEqual(O.table,S)&&oo.isFilterValueEqual(O.filter,C))v.push(Object.assign(Object.assign({},E),{id:O.id}));else{this.unsubscribe(),this.state=Et.errored,t==null||t(Kr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Kr.SUBSCRIBED);return}}).receive("error",h=>{this.state=Et.errored,t==null||t(Kr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Kr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Et.joined&&t===lu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Et.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(or.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Kp(this,or.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Et.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Kp(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>T8){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:c}=or;if(r&&[o,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let f=this._onMessage(a,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var g,y,w;return((g=h.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(y=h.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(h=>h.callback(f,r)):(i=this.bindings[a])===null||i===void 0||i.filter(h=>{var g,y,w,v,x,E;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in h){const T=h.id,k=(g=h.filter)===null||g===void 0?void 0:g.event;return T&&((y=n.ids)===null||y===void 0?void 0:y.includes(T))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const T=(x=(v=h==null?void 0:h.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return T==="*"||T===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===a}).map(h=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:y,table:w,commit_timestamp:v,type:x,errors:E}=g;f=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:v,eventType:x,new:{},old:{},errors:E}),this._getPayloadRecords(g))}h.callback(f,r)})}_isClosed(){return this.state===Et.closed}_isJoined(){return this.state===Et.joined}_isJoining(){return this.state===Et.joining}_isLeaving(){return this.state===Et.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&oo.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(or.close,{},t)}_onError(t){this._on(or.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Et.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=mw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=mw(t.columns,t.old_record)),n}}const Yp=()=>{},ad={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},R8=[1e3,2e3,5e3,1e4],P8=1e4,O8=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class D8{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=f0,this.transport=null,this.heartbeatIntervalMs=ad.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yp,this.ref=0,this.reconnectTimer=null,this.vsn=pw,this.logger=Yp,this.conn=null,this.sendBuffer=[],this.serializer=new S8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${p0.websocket}`,this.httpEndpoint=i2(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=v8.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return n==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Os.connecting:return Fi.Connecting;case Os.open:return Fi.Open;case Os.closing:return Fi.Closing;default:return Fi.Closed}}isConnected(){return this.connectionState()===Fi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new oo(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(E8,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ad.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:a}=n,o=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Os.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Os.open||this.conn.readyState===Os.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(or.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([O8],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:x8};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(or.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new r2(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ad.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,a,o,l,u,c,d,f,h;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:f0,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:ad.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Yp,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:pw,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>R8[g-1]||P8,this.vsn){case w8:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(g,y)=>y(JSON.stringify(g)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(g,y)=>y(JSON.parse(g));break;case n2:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var qu=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function L8(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function M8(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function j8(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:a}){const o=L8(e.baseUrl,r,s),l=await M8(e.auth),u=await t(o,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...l,...a},body:i?JSON.stringify(i):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),f=d&&c?JSON.parse(c):c;if(!u.ok){const h=d?f:void 0,g=h==null?void 0:h.error;throw new qu((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:h})}return{status:u.status,headers:u.headers,data:f}}}}function od(e){return e.join("")}var F8=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:od(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${od(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${od(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${od(e.namespace)}`}),!0}catch(t){if(t instanceof qu&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof qu&&n.status===409)return;throw n}}};function Pa(e){return e.join("")}var B8=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pa(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Pa(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Pa(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Pa(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pa(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Pa(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof qu&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof qu&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},U8=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=j8({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new F8(this.client,t),this.tableOps=new B8(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Of=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Df(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var ld=class extends Of{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},a2=class extends Of{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const H8=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),$8=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},g0=e=>{if(Array.isArray(e))return e.map(n=>g0(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=g0(r)}),t},z8=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function V8(e,t){if(Ku(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W8(e){var t=V8(e,"string");return Ku(t)=="symbol"?t:t+""}function q8(e,t,n){return(t=W8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vw(Object(n),!0).forEach(function(r){q8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const bw=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},K8=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";t(new ld(bw(a),i,o,r))}).catch(()=>{if(r==="vectors"){const a=i+"";t(new ld(s.statusText||`HTTP ${i} error`,i,a,r))}else{const a=i+"";t(new ld(s.statusText||`HTTP ${i} error`,i,a,r))}});else{const a=i+"";t(new ld(s.statusText||`HTTP ${i} error`,i,a,r))}}else t(new a2(bw(e),e,r))},Y8=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?xe(xe({},s),n):($8(r)?(s.headers=xe({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),xe(xe({},s),n))};async function Pl(e,t,n,r,s,i,a){return new Promise((o,l)=>{e(n,Y8(t,r,s,i)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;if(a==="vectors"){const c=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!c||!c.includes("application/json"))return{}}return u.json()}).then(u=>o(u)).catch(u=>K8(u,l,r,a))})}function o2(e="storage"){return{get:async(t,n,r,s)=>Pl(t,"GET",n,r,s,void 0,e),post:async(t,n,r,s,i)=>Pl(t,"POST",n,s,i,r,e),put:async(t,n,r,s,i)=>Pl(t,"PUT",n,s,i,r,e),head:async(t,n,r,s)=>Pl(t,"HEAD",n,xe(xe({},r),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,n,r,s,i)=>Pl(t,"DELETE",n,s,i,r,e)}}const G8=o2("storage"),{get:Yu,post:rr,put:y0,head:Q8,remove:Vv}=G8,Sn=o2("vectors");var hl=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=H8(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Df(n))return{data:null,error:n};throw n}}},X8=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Df(t))return{data:null,error:t};throw t}}};let l2;l2=Symbol.toStringTag;var J8=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[l2]="BlobDownloadBuilder",this.promise=null}asStream(){return new X8(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Df(t))return{data:null,error:t};throw t}}};const Z8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var eF=class extends hl{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var s=this;return s.handleOperation(async()=>{let i;const a=xe(xe({},xw),r);let o=xe(xe({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(o=xe(xe({},o),r.headers));const u=s._removeEmptyFolders(t),c=s._getFinalPath(u),d=await(e=="PUT"?y0:rr)(s.fetch,`${s.url}/object/${c}`,i,xe({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:d.Id,fullPath:d.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),o=new URL(s.url+`/object/upload/sign/${a}`);return o.searchParams.set("token",t),s.handleOperation(async()=>{let l;const u=xe({upsert:xw.upsert},r),c=xe(xe({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{path:i,fullPath:(await y0(s.fetch,o.toString(),l,{headers:c})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const s=xe({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await rr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(n.url+i.url),o=a.searchParams.get("token");if(!o)throw new Of("No token returned by API");return{signedUrl:a.toString(),path:e,token:o}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await rr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await rr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(e),i=await rr(r.fetch,`${r.url}/object/sign/${s}`,xe({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${i.signedURL}${a}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const s=await rr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(a=>xe(xe({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${i}`):null}))})}download(e,t,n){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=s?`?${s}`:"",a=this._getFinalPath(e),o=()=>Yu(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0},n);return new J8(o,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>g0(await Yu(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await Q8(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Df(r)&&r instanceof a2){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&r.push(a);let o=r.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${o}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Vv(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const s=xe(xe(xe({},Z8),t),{},{prefix:e||""});return await rr(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=xe({},e);return await rr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const tF="2.95.3",wc={"X-Client-Info":`storage-js/${tF}`};var nF=class extends hl{constructor(e,t={},n,r){const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),a=xe(xe({},wc),t);super(i,a,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await Yu(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Yu(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await rr(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await y0(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await rr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Vv(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},rF=class extends hl{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=xe(xe({},wc),t);super(r,s,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await rr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await Yu(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Vv(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!z8(e))throw new Of("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new U8({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(s,o),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},sF=class extends hl{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=xe(xe({},wc),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Sn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await Sn.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Sn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await Sn.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},iF=class extends hl{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=xe(xe({},wc),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Sn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Sn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Sn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Sn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Sn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},aF=class extends hl{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=xe(xe({},wc),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Sn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Sn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Sn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Sn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},oF=class extends aF{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new lF(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},lF=class extends sF{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,xe(xe({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,xe(xe({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new uF(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},uF=class extends iF{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,xe(xe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,xe(xe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,xe(xe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,xe(xe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,xe(xe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},cF=class extends nF{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new eF(this.url,this.headers,e,this.fetch)}get vectors(){return new oF(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new rF(this.url+"/iceberg",this.headers,this.fetch)}};const u2="2.95.3",za=30*1e3,v0=3,Gp=v0*za,dF="http://localhost:9999",hF="supabase.auth.token",fF={"X-Client-Info":`gotrue-js/${u2}`},b0="X-Supabase-Api-Version",c2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mF=10*60*1e3;class Gu extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function he(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class gF extends Gu{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function yF(e){return he(e)&&e.name==="AuthApiError"}class Bi extends Gu{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class hs extends Gu{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class xn extends hs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Qp(e){return he(e)&&e.name==="AuthSessionMissingError"}class Oa extends hs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ud extends hs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class cd extends hs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function vF(e){return he(e)&&e.name==="AuthImplicitGrantRedirectError"}class ww extends hs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bF extends hs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class x0 extends hs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Xp(e){return he(e)&&e.name==="AuthRetryableFetchError"}class Ew extends hs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class w0 extends hs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Mh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tw=` 	
\r=`.split(""),xF=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Tw.length;t+=1)e[Tw[t].charCodeAt(0)]=-2;for(let t=0;t<Mh.length;t+=1)e[Mh[t].charCodeAt(0)]=t;return e})();function Sw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Mh[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Mh[r]),t.queuedBits-=6}}function d2(e,t,n){const r=xF[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function kw(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{TF(a,r,n)};for(let a=0;a<e.length;a+=1)d2(e.charCodeAt(a),s,i);return t.join("")}function wF(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function EF(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}wF(r,t)}}function TF(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function To(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)d2(e.charCodeAt(s),n,r);return new Uint8Array(t)}function SF(e){const t=[];return EF(e,n=>t.push(n)),new Uint8Array(t)}function Ki(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Sw(s,n,r)),Sw(null,n,r),t.join("")}function kF(e){return Math.round(Date.now()/1e3)+e}function _F(){return Symbol("auth-callback")}const Dt=()=>typeof window<"u"&&typeof document<"u",Ni={tested:!1,writable:!1},h2=()=>{if(!Dt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ni.tested)return Ni.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ni.tested=!0,Ni.writable=!0}catch{Ni.tested=!0,Ni.writable=!1}return Ni.writable};function CF(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const f2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),AF=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Va=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ii=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ot=async(e,t)=>{await e.removeItem(t)};class Lf{constructor(){this.promise=new Lf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Lf.promiseConstructor=Promise;function dd(e){const t=e.split(".");if(t.length!==3)throw new w0("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!pF.test(t[r]))throw new w0("JWT not in base64url format");return{header:JSON.parse(kw(t[0])),payload:JSON.parse(kw(t[1])),signature:To(t[2]),raw:{header:t[0],payload:t[1]}}}async function NF(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function IF(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){r(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function RF(e){return("0"+e.toString(16)).substr(-2)}function PF(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,RF).join("")}async function OF(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function DF(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await OF(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Da(e,t,n=!1){const r=PF();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Va(e,`${t}-code-verifier`,s);const i=await DF(r);return[i,r===i?"plain":"s256"]}const LF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function MF(e){const t=e.headers.get(b0);if(!t||!t.match(LF))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function jF(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function FF(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const BF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function La(e){if(!BF.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Jp(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function UF(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function _w(e){return JSON.parse(JSON.stringify(e))}const Mi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),HF=[502,503,504];async function Cw(e){var t;if(!AF(e))throw new x0(Mi(e),0);if(HF.includes(e.status))throw new x0(Mi(e),e.status);let n;try{n=await e.json()}catch(i){throw new Bi(Mi(i),i)}let r;const s=MF(e);if(s&&s.getTime()>=c2["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ew(Mi(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new xn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Ew(Mi(n),e.status,n.weak_password.reasons);throw new gF(Mi(n),e.status||500,r)}const $F=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function be(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[b0]||(i[b0]=c2["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await zF(e,t,n+o,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function zF(e,t,n,r,s,i){const a=$F(t,r,s,i);let o;try{o=await e(n,Object.assign({},a))}catch(l){throw console.error(l),new x0(Mi(l),0)}if(o.ok||await Cw(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await Cw(l)}}function er(e){var t;let n=null;qF(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=kF(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Aw(e){const t=er(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ms(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function VF(e){return{data:e,error:null}}function WF(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,a=dl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function Nw(e){return e}function qF(e){return e.access_token&&e.refresh_token&&e.expires_in}const Zp=["global","local","others"];class KF{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=f2(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Zp[0]){if(Zp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zp.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ms})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=dl(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:WF,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(he(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ms})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Nw});if(c.error)throw c.error;const d=await c.json(),f=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);u[`${w}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(he(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){La(t);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ms})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){La(t);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ms})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){La(t);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ms})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){La(t.userId);try{const{data:n,error:r}=await be(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(he(n))return{data:null,error:n};throw n}}async _deleteFactor(t){La(t.userId),La(t.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await be(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Nw});if(c.error)throw c.error;const d=await c.json(),f=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);u[`${w}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(he(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await be(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await be(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(he(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await be(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(he(n))return{data:null,error:n};throw n}}}function Iw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Ma={debug:!!(globalThis&&h2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class p2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class YF extends p2{}async function GF(e,t,n){Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new YF(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ma.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function QF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function m2(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function XF(e){return parseInt(e,16)}function JF(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function ZF(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:c,uri:d,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=m2(e.address),g=c?`${c}://${r}`:r,y=e.statement?`${e.statement}
`:"",w=`${g} wants you to sign in with your Ethereum account:
${h}

${y}`;let v=`URI: ${d}
Version: ${f}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),o&&(v+=`
Not Before: ${o.toISOString()}`),l&&(v+=`
Request ID: ${l}`),u){let x=`
Resources:`;for(const E of u){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);x+=`
- ${E}`}v+=x}return`${w}
${v}`}class bt extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class jh extends bt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function eB({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new bt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new bt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new bt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new bt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new bt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new bt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new bt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new bt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(g2(a)){if(i.rp.id!==a)return new bt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new bt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new bt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new bt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new bt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function tB({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new bt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new bt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(g2(r)){if(n.rpId!==r)return new bt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new bt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new bt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new bt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class nB{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const rB=new nB;function sB(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=dl(e,["challenge","user","excludeCredentials"]),i=To(t).buffer,a=Object.assign(Object.assign({},n),{id:To(n.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:To(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function iB(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=dl(e,["challenge","allowCredentials"]),s=To(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const o=n[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:To(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function aB(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ki(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ki(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function oB(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ki(new Uint8Array(s.authenticatorData)),clientDataJSON:Ki(new Uint8Array(s.clientDataJSON)),signature:Ki(new Uint8Array(s.signature)),userHandle:s.userHandle?Ki(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function g2(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Rw(){var e,t;return!!(Dt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function lB(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jh("Browser returned unexpected credential type",t)}:{data:null,error:new jh("Empty credential response",t)}}catch(t){return{data:null,error:eB({error:t,options:e})}}}async function uB(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jh("Browser returned unexpected credential type",t)}:{data:null,error:new jh("Empty credential response",t)}}catch(t){return{data:null,error:tB({error:t,options:e})}}}const cB={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},dB={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Fh(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(n(a))r[i]=a;else if(t(a)){const o=r[i];t(o)?r[i]=Fh(o,a):r[i]=Fh(a)}else r[i]=a}return r}function hB(e,t){return Fh(cB,e,t||{})}function fB(e,t){return Fh(dB,e,t||{})}class pB{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){var a;try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:l};const u=s??rB.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;if(!c.name){const d=r;if(d)c.name=`${c.id}:${d}`;else{const h=(await this.client.getUser()).data.user,g=((a=h==null?void 0:h.user_metadata)===null||a===void 0?void 0:a.name)||(h==null?void 0:h.email)||(h==null?void 0:h.id)||"User";c.name=`${c.id}:${g}`}}c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=hB(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await lB({publicKey:c,signal:u});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=fB(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await uB(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:u}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return he(o)?{data:null,error:o}:{data:null,error:new Bi("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Gu("rpId is required for WebAuthn authentication")};try{if(!Rw())return{data:null,error:new Bi("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return he(a)?{data:null,error:a}:{data:null,error:new Bi("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Gu("rpId is required for WebAuthn registration")};try{if(!Rw())return{data:null,error:new Bi("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return he(a)?{data:null,error:a}:{data:null,error:new Bi("Unexpected error in register",a)}}}}QF();const mB={url:dF,storageKey:hF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Pw(e,t,n){return await n()}const ja={};class Qu{get jwks(){var t,n;return(n=(t=ja[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ja[this.storageKey]=Object.assign(Object.assign({},ja[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ja[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ja[this.storageKey]=Object.assign(Object.assign({},ja[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},mB),t);if(this.storageKey=i.storageKey,this.instanceID=(n=Qu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Qu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Dt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new KF({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=f2(i.fetch),this.lock=i.lock||Pw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Dt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=GF:this.lock=Pw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new pB(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:h2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Iw(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Iw(this.memoryStorage)),Dt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${u2}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Dt()&&(n=CF(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Dt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),vF(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return he(n)?this._returnResult({error:n}):this._returnResult({error:new Bi("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:er}),{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(he(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:c,password:d,options:f}=t;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await Da(this.storage,this.storageKey)),i=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:g},xform:er})}else if("phone"in t){const{phone:c,password:d,options:f}=t;i=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:er})}else throw new ud("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return await Ot(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),he(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:a,options:o}=t;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Aw})}else if("phone"in t){const{phone:i,password:a,options:o}=t;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Aw})}else throw new ud("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new Oa;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(he(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,a,o,l,u,c,d,f;let h,g;if("message"in t)h=t.message,g=t.signature;else{const{chain:y,wallet:w,statement:v,options:x}=t;let E;if(Dt())if(typeof w=="object")E=w;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")E=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=w}const T=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href),k=await E.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=m2(k[0]);let C=(r=x==null?void 0:x.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!C){const M=await E.request({method:"eth_chainId"});C=XF(M)}const O={domain:T.host,address:S,statement:v,uri:T.href,version:"1",chainId:C,nonce:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=x==null?void 0:x.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.resources};h=ZF(O),g=await E.request({method:"personal_sign",params:[JF(h),S]})}try{const{data:y,error:w}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:g},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:er});if(w)throw w;if(!y||!y.session||!y.user){const v=new Oa;return this._returnResult({data:{user:null,session:null},error:v})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(he(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var n,r,s,i,a,o,l,u,c,d,f,h;let g,y;if("message"in t)g=t.message,y=t.signature;else{const{chain:w,wallet:v,statement:x,options:E}=t;let T;if(Dt())if(typeof v=="object")T=v;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))T=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=v}const k=new URL((n=E==null?void 0:E.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const S=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),x?{statement:x}:null));let C;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")C=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)C=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)g=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),y=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${k.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(r=E==null?void 0:E.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=E==null?void 0:E.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((a=E==null?void 0:E.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((o=E==null?void 0:E.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((l=E==null?void 0:E.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((u=E==null?void 0:E.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((d=(c=E==null?void 0:E.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...E.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const S=await T.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=S}}try{const{data:w,error:v}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Ki(y)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:er});if(v)throw v;if(!w||!w.session||!w.user){const x=new Oa;return this._returnResult({data:{user:null,session:null},error:x})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:v})}catch(w){if(he(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const n=await Ii(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new bF;const{data:i,error:a}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:er});if(await Ot(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const o=new Oa;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),he(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=t,o=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:er}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Oa;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(he(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,a;try{if("email"in t){const{email:o,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Da(this.storage,this.storageKey));const{error:d}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:c}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new ud("You must provide either an email or phone number.")}catch(o){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),he(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:er});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(he(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Da(this.storage,this.storageKey));const u=await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:VF});return!((i=u.data)===null||i===void 0)&&i.url&&Dt()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),he(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new xn;const{error:s}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(he(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:a}=await be(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:a,error:o}=await be(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new ud("You must provide either an email or phone number and a type")}catch(n){if(he(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ii(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Gp:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await Ii(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Jp()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=UF(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ms}):await this._useSession(async n=>{var r,s,i;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xn}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ms})})}catch(n){if(he(n))return Qp(n)&&(await this._removeSession(),await Ot(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new xn;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Da(this.storage,this.storageKey));const{data:u,error:c}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Ms});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),he(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new xn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=dd(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(he(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:o}=n;if(o)throw o;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new xn;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(he(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Dt())throw new cd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new cd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ww("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ww("No code detected.");const{data:x,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=t;if(!i||!o||!a||!u)throw new cd("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(o);let f=c+d;l&&(f=parseInt(l));const h=f-c;h*1e3<=za&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const g=f-d;c-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,c):c-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,c);const{data:y,error:w}=await this._getUser(i);if(w)throw w;const v={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(r){if(he(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ii(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i&&!Qp(i))return this._returnResult({error:i});const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(yF(o)&&(o.status===404||o.status===401||o.status===403)||Qp(o)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await Ot(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=_F(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Da(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),he(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(he(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,o,l,u,c;const{data:d,error:f}=i;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Dt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(he(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:a,provider:o,token:l,access_token:u,nonce:c}=t,d=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:er}),{data:f,error:h}=d;return h?this._returnResult({data:{user:null,session:null},error:h}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Oa}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:h}))}catch(s){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),he(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(he(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await IF(async s=>(s>0&&await NF(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:er})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Xp(i)&&Date.now()+a-r<za})}catch(r){if(this._debug(n,"error",r),he(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Dt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Ii(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Ii(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Va(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Jp()}else if(s&&!s.user&&!s.user){const a=await Ii(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Ot(this.storage,this.storageKey+"-user"),await Va(this.storage,this.storageKey,s)):s.user=Jp()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Gp;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Gp}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Xp(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new xn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Lf;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new xn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),he(i)){const a={data:null,error:i};return Xp(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ot(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Va(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=_w(s);await Va(this.storage,this.storageKey,i)}else{const s=_w(n);await Va(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ot(this.storage,this.storageKey),await Ot(this.storage,this.storageKey+"-code-verifier"),await Ot(this.storage,this.storageKey+"-user"),this.userStorage&&await Ot(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Dt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),za);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/za);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${za}ms, refresh threshold is ${v0} ticks`),s<=v0&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof p2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await Da(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await be(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(he(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await be(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(he(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?aB(t.webauthn.credential_response):oB(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(n){if(he(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=await be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:sB(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:iB(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(he(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,s,i;if(t)try{const{payload:h}=dd(t);let g=null;h.aal&&(g=h.aal);let y=g;const{data:{user:w},error:v}=await this.getUser(t);if(v)return this._returnResult({data:null,error:v});((r=(n=w==null?void 0:w.factors)===null||n===void 0?void 0:n.filter(T=>T.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(y="aal2");const E=h.amr||[];return{data:{currentLevel:g,nextLevel:y,currentAuthenticationMethods:E},error:null}}catch(h){if(he(h))return this._returnResult({data:null,error:h});throw h}const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=dd(a.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((i=(s=a.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");const f=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await be(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new xn})})}catch(n){if(he(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new xn});const a=await be(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Dt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new xn});const a=await be(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Dt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await be(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new xn})})}catch(t){if(he(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await be(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new xn})})}catch(n){if(he(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+mF>s)return r;const{data:i,error:a}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(o=>o.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:h,error:g}=await this.getSession();if(g||!h.session)return this._returnResult({data:null,error:g});r=h.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=dd(r);n!=null&&n.allowExpired||jF(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:i,header:s,signature:a},error:null}}const c=FF(s.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,SF(`${o}.${l}`)))throw new w0("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}}Qu.nextInstanceID={};const gB=Qu,yB="2.95.3";let Kl="";typeof Deno<"u"?Kl="deno":typeof document<"u"?Kl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Kl="react-native":Kl="node";const vB={"X-Client-Info":`supabase-js-${Kl}/${yB}`},bB={headers:vB},xB={schema:"public"},wB={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},EB={};function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function TB(e,t){if(Xu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SB(e){var t=TB(e,"string");return Xu(t)=="symbol"?t:t+""}function kB(e,t,n){return(t=SB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ow(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ow(Object(n),!0).forEach(function(r){kB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ow(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const _B=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),CB=()=>Headers,AB=(e,t,n)=>{const r=_B(n),s=CB();return async(i,a)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,lt(lt({},a),{},{headers:u}))}};function NB(e){return e.endsWith("/")?e:e+"/"}function IB(e,t){var n,r;const{db:s,auth:i,realtime:a,global:o}=e,{db:l,auth:u,realtime:c,global:d}=t,f={db:lt(lt({},l),s),auth:lt(lt({},u),i),realtime:lt(lt({},c),a),storage:{},global:lt(lt(lt({},d),o),{},{headers:lt(lt({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function RB(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(NB(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var PB=class extends gB{constructor(e){super(e)}},OB=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=RB(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,o={db:xB,realtime:EB,auth:lt(lt({},wB),{},{storageKey:a}),global:bB},l=IB(n??{},o);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=AB(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(lt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new y8(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new cF(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new u8(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:a,lock:o,debug:l,throwOnError:u},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new PB({url:this.authUrl.href,headers:lt(lt({},f),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:a,lock:o,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new D8(this.realtimeUrl.href,lt(lt({},e),{},{params:lt(lt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const DB=(e,t,n)=>new OB(e,t,n);function LB(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}LB()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const MB="https://tqkhtbnagkgztakzhdow.supabase.co",jB="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRxa2h0Ym5hZ2tnenRha3poZG93Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA4Mjc2NTMsImV4cCI6MjA4NjQwMzY1M30.Zk1eCpSEvEyTVXs2O-ACaIgzRZm0YuwZuVMzD9c5j8o",ge=DB(MB,jB),y2=b.createContext(void 0);function FB({children:e}){const[t,n]=b.useState(null),[r,s]=b.useState(null),[i,a]=b.useState(null),[o,l]=b.useState(!0);b.useEffect(()=>{let y=!1;ge.auth.getSession().then(({data:{session:v}})=>{y=!0,a(v),n((v==null?void 0:v.user)??null),v!=null&&v.user?u(v.user.id):l(!1)});const{data:{subscription:w}}=ge.auth.onAuthStateChange((v,x)=>{y&&(a(x),n((x==null?void 0:x.user)??null),x!=null&&x.user?u(x.user.id):(s(null),l(!1)))});return()=>w.unsubscribe()},[]);async function u(y){const{data:w}=await ge.from("profiles").select("*").eq("id",y).single();s(w),l(!1)}async function c(y,w){const{error:v}=await ge.auth.signInWithPassword({email:y,password:w});return{error:v}}async function d(y,w,v){const{error:x}=await ge.auth.signUp({email:y,password:w,options:{data:{full_name:v}}});return{error:x}}async function f(){await ge.auth.signOut()}async function h(y){const{error:w}=await ge.auth.resetPasswordForEmail(y,{redirectTo:`${window.location.origin}/reset-password`});return{error:w}}async function g(y){const{error:w}=await ge.auth.updateUser({password:y});return{error:w}}return p.jsx(y2.Provider,{value:{user:t,profile:r,session:i,loading:o,signIn:c,signUp:d,signOut:f,resetPassword:h,updatePassword:g},children:e})}function Mf(){const e=b.useContext(y2);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const Wv=b.createContext({});function qv(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const v2=typeof window<"u",b2=v2?b.useLayoutEffect:b.useEffect,jf=b.createContext(null);function Kv(e,t){e.indexOf(t)===-1&&e.push(t)}function Bh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Br=(e,t,n)=>n>t?t:n<e?e:n;let Ff=()=>{},Yo=()=>{};const ls={},x2=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function w2(e){return typeof e=="object"&&e!==null}const E2=e=>/^0[^.\s]+$/u.test(e);function Yv(e){let t;return()=>(t===void 0&&(t=e()),t)}const zn=e=>e,BB=(e,t)=>n=>t(e(n)),Ec=(...e)=>e.reduce(BB),Ju=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Gv{constructor(){this.subscriptions=[]}add(t){return Kv(this.subscriptions,t),()=>Bh(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vn=e=>e*1e3,Un=e=>e/1e3;function T2(e,t){return t?e*(1e3/t):0}const S2=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,UB=1e-7,HB=12;function $B(e,t,n,r,s){let i,a,o=0;do a=t+(n-t)/2,i=S2(a,r,s)-e,i>0?n=a:t=a;while(Math.abs(i)>UB&&++o<HB);return a}function Tc(e,t,n,r){if(e===t&&n===r)return zn;const s=i=>$B(i,0,1,e,n);return i=>i===0||i===1?i:S2(s(i),t,r)}const k2=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,_2=e=>t=>1-e(1-t),C2=Tc(.33,1.53,.69,.99),Qv=_2(C2),A2=k2(Qv),N2=e=>(e*=2)<1?.5*Qv(e):.5*(2-Math.pow(2,-10*(e-1))),Xv=e=>1-Math.sin(Math.acos(e)),I2=_2(Xv),R2=k2(Xv),zB=Tc(.42,0,1,1),VB=Tc(0,0,.58,1),P2=Tc(.42,0,.58,1),WB=e=>Array.isArray(e)&&typeof e[0]!="number",O2=e=>Array.isArray(e)&&typeof e[0]=="number",Dw={linear:zn,easeIn:zB,easeInOut:P2,easeOut:VB,circIn:Xv,circInOut:R2,circOut:I2,backIn:Qv,backInOut:A2,backOut:C2,anticipate:N2},qB=e=>typeof e=="string",Lw=e=>{if(O2(e)){Yo(e.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[t,n,r,s]=e;return Tc(t,n,r,s)}else if(qB(e))return Yo(Dw[e]!==void 0,`Invalid easing type '${e}'`,"invalid-easing-type"),Dw[e];return e},hd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Mw={value:null,addProjectionMetrics:null};function KB(e,t){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function u(d){a.has(d)&&(c.schedule(d),e()),l++,d(o)}const c={schedule:(d,f=!1,h=!1)=>{const y=h&&s?n:r;return f&&a.add(d),y.has(d)||y.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(o=d,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),t&&Mw.value&&Mw.value.frameloop[t].push(l),l=0,n.clear(),s=!1,i&&(i=!1,c.process(d))}};return c}const YB=40;function D2(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=hd.reduce((E,T)=>(E[T]=KB(i,t?T:void 0),E),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:c,update:d,preRender:f,render:h,postRender:g}=a,y=()=>{const E=ls.useManualTiming?s.timestamp:performance.now();n=!1,ls.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(E-s.timestamp,YB),1)),s.timestamp=E,s.isProcessing=!0,o.process(s),l.process(s),u.process(s),c.process(s),d.process(s),f.process(s),h.process(s),g.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(y))},w=()=>{n=!0,r=!0,s.isProcessing||e(y)};return{schedule:hd.reduce((E,T)=>{const k=a[T];return E[T]=(S,C=!1,O=!1)=>(n||w(),k.schedule(S,C,O)),E},{}),cancel:E=>{for(let T=0;T<hd.length;T++)a[hd[T]].cancel(E)},state:s,steps:a}}const{schedule:Ge,cancel:fi,state:Mt,steps:em}=D2(typeof requestAnimationFrame<"u"?requestAnimationFrame:zn,!0);let Vd;function GB(){Vd=void 0}const Zt={now:()=>(Vd===void 0&&Zt.set(Mt.isProcessing||ls.useManualTiming?Mt.timestamp:performance.now()),Vd),set:e=>{Vd=e,queueMicrotask(GB)}},L2=e=>t=>typeof t=="string"&&t.startsWith(e),M2=L2("--"),QB=L2("var(--"),Jv=e=>QB(e)?XB.test(e.split("/*")[0].trim()):!1,XB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function jw(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const fl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Zu={...fl,transform:e=>Br(0,1,e)},fd={...fl,default:1},uu=e=>Math.round(e*1e5)/1e5,Zv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function JB(e){return e==null}const ZB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,eb=(e,t)=>n=>!!(typeof n=="string"&&ZB.test(n)&&n.startsWith(e)||t&&!JB(n)&&Object.prototype.hasOwnProperty.call(n,t)),j2=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,o]=r.match(Zv);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},eU=e=>Br(0,255,e),tm={...fl,transform:e=>Math.round(eU(e))},Yi={test:eb("rgb","red"),parse:j2("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+tm.transform(e)+", "+tm.transform(t)+", "+tm.transform(n)+", "+uu(Zu.transform(r))+")"};function tU(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const E0={test:eb("#"),parse:tU,transform:Yi.transform},Sc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),_s=Sc("deg"),Lr=Sc("%"),de=Sc("px"),nU=Sc("vh"),rU=Sc("vw"),Fw={...Lr,parse:e=>Lr.parse(e)/100,transform:e=>Lr.transform(e*100)},lo={test:eb("hsl","hue"),parse:j2("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Lr.transform(uu(t))+", "+Lr.transform(uu(n))+", "+uu(Zu.transform(r))+")"},xt={test:e=>Yi.test(e)||E0.test(e)||lo.test(e),parse:e=>Yi.test(e)?Yi.parse(e):lo.test(e)?lo.parse(e):E0.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Yi.transform(e):lo.transform(e),getAnimatableNone:e=>{const t=xt.parse(e);return t.alpha=0,xt.transform(t)}},sU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iU(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Zv))==null?void 0:t.length)||0)+(((n=e.match(sU))==null?void 0:n.length)||0)>0}const F2="number",B2="color",aU="var",oU="var(",Bw="${}",lU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ec(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=t.replace(lU,l=>(xt.test(l)?(r.color.push(i),s.push(B2),n.push(xt.parse(l))):l.startsWith(oU)?(r.var.push(i),s.push(aU),n.push(l)):(r.number.push(i),s.push(F2),n.push(parseFloat(l))),++i,Bw)).split(Bw);return{values:n,split:o,indexes:r,types:s}}function U2(e){return ec(e).values}function H2(e){const{split:t,types:n}=ec(e),r=t.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=t[a],s[a]!==void 0){const o=n[a];o===F2?i+=uu(s[a]):o===B2?i+=xt.transform(s[a]):i+=s[a]}return i}}const uU=e=>typeof e=="number"?0:xt.test(e)?xt.getAnimatableNone(e):e;function cU(e){const t=U2(e);return H2(e)(t.map(uU))}const pi={test:iU,parse:U2,createTransformer:H2,getAnimatableNone:cU};function nm(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function dU({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,a=0;if(!t)s=i=a=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;s=nm(l,o,e+1/3),i=nm(l,o,e),a=nm(l,o,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function Uh(e,t){return n=>n>0?t:e}const st=(e,t,n)=>e+(t-e)*n,rm=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},hU=[E0,Yi,lo],fU=e=>hU.find(t=>t.test(e));function Uw(e){const t=fU(e);if(Ff(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let n=t.parse(e);return t===lo&&(n=dU(n)),n}const Hw=(e,t)=>{const n=Uw(e),r=Uw(t);if(!n||!r)return Uh(e,t);const s={...n};return i=>(s.red=rm(n.red,r.red,i),s.green=rm(n.green,r.green,i),s.blue=rm(n.blue,r.blue,i),s.alpha=st(n.alpha,r.alpha,i),Yi.transform(s))},T0=new Set(["none","hidden"]);function pU(e,t){return T0.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function mU(e,t){return n=>st(e,t,n)}function tb(e){return typeof e=="number"?mU:typeof e=="string"?Jv(e)?Uh:xt.test(e)?Hw:vU:Array.isArray(e)?$2:typeof e=="object"?xt.test(e)?Hw:gU:Uh}function $2(e,t){const n=[...e],r=n.length,s=e.map((i,a)=>tb(i)(i,t[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function gU(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=tb(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function yU(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],a=e.indexes[i][r[i]],o=e.values[a]??0;n[s]=o,r[i]++}return n}const vU=(e,t)=>{const n=pi.createTransformer(t),r=ec(e),s=ec(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?T0.has(e)&&!s.values.length||T0.has(t)&&!r.values.length?pU(e,t):Ec($2(yU(r,s),s.values),n):(Ff(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),Uh(e,t))};function z2(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?st(e,t,n):tb(e)(e,t)}const bU=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Ge.update(t,n),stop:()=>fi(t),now:()=>Mt.isProcessing?Mt.timestamp:Zt.now()}},V2=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Hh=2e4;function nb(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Hh;)t+=n,r=e.next(t);return t>=Hh?1/0:t}function xU(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(nb(r),Hh);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:Un(s)}}const wU=5;function W2(e,t,n){const r=Math.max(t-wU,0);return T2(n-e(r),t-r)}const nt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sm=.001;function EU({duration:e=nt.duration,bounce:t=nt.bounce,velocity:n=nt.velocity,mass:r=nt.mass}){let s,i;Ff(e<=Vn(nt.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let a=1-t;a=Br(nt.minDamping,nt.maxDamping,a),e=Br(nt.minDuration,nt.maxDuration,Un(e)),a<1?(s=u=>{const c=u*a,d=c*e,f=c-n,h=S0(u,a),g=Math.exp(-d);return sm-f/h*g},i=u=>{const d=u*a*e,f=d*n+n,h=Math.pow(a,2)*Math.pow(u,2)*e,g=Math.exp(-d),y=S0(Math.pow(u,2),a);return(-s(u)+sm>0?-1:1)*((f-h)*g)/y}):(s=u=>{const c=Math.exp(-u*e),d=(u-n)*e+1;return-sm+c*d},i=u=>{const c=Math.exp(-u*e),d=(n-u)*(e*e);return c*d});const o=5/e,l=SU(s,i,o);if(e=Vn(e),isNaN(l))return{stiffness:nt.stiffness,damping:nt.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:e}}}const TU=12;function SU(e,t,n){let r=n;for(let s=1;s<TU;s++)r=r-e(r)/t(r);return r}function S0(e,t){return e*Math.sqrt(1-t*t)}const kU=["duration","bounce"],_U=["stiffness","damping","mass"];function $w(e,t){return t.some(n=>e[n]!==void 0)}function CU(e){let t={velocity:nt.velocity,stiffness:nt.stiffness,damping:nt.damping,mass:nt.mass,isResolvedFromDuration:!1,...e};if(!$w(e,_U)&&$w(e,kU))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Br(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:nt.mass,stiffness:s,damping:i}}else{const n=EU(e);t={...t,...n,mass:nt.mass},t.isResolvedFromDuration=!0}return t}function $h(e=nt.visualDuration,t=nt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:u,mass:c,duration:d,velocity:f,isResolvedFromDuration:h}=CU({...n,velocity:-Un(n.velocity||0)}),g=f||0,y=u/(2*Math.sqrt(l*c)),w=a-i,v=Un(Math.sqrt(l/c)),x=Math.abs(w)<5;r||(r=x?nt.restSpeed.granular:nt.restSpeed.default),s||(s=x?nt.restDelta.granular:nt.restDelta.default);let E;if(y<1){const k=S0(v,y);E=S=>{const C=Math.exp(-y*v*S);return a-C*((g+y*v*w)/k*Math.sin(k*S)+w*Math.cos(k*S))}}else if(y===1)E=k=>a-Math.exp(-v*k)*(w+(g+v*w)*k);else{const k=v*Math.sqrt(y*y-1);E=S=>{const C=Math.exp(-y*v*S),O=Math.min(k*S,300);return a-C*((g+y*v*w)*Math.sinh(O)+k*w*Math.cosh(O))/k}}const T={calculatedDuration:h&&d||null,next:k=>{const S=E(k);if(h)o.done=k>=d;else{let C=k===0?g:0;y<1&&(C=k===0?Vn(g):W2(E,k,S));const O=Math.abs(C)<=r,M=Math.abs(a-S)<=s;o.done=O&&M}return o.value=o.done?a:S,o},toString:()=>{const k=Math.min(nb(T),Hh),S=V2(C=>T.next(k*C).value,k,30);return k+"ms "+S},toTransition:()=>{}};return T}$h.applyToOptions=e=>{const t=xU(e,100,$h);return e.ease=t.ease,e.duration=Vn(t.duration),e.type="keyframes",e};function k0({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:c}){const d=e[0],f={done:!1,value:d},h=O=>o!==void 0&&O<o||l!==void 0&&O>l,g=O=>o===void 0?l:l===void 0||Math.abs(o-O)<Math.abs(l-O)?o:l;let y=n*t;const w=d+y,v=a===void 0?w:a(w);v!==w&&(y=v-d);const x=O=>-y*Math.exp(-O/r),E=O=>v+x(O),T=O=>{const M=x(O),I=E(O);f.done=Math.abs(M)<=u,f.value=f.done?v:I};let k,S;const C=O=>{h(f.value)&&(k=O,S=$h({keyframes:[f.value,g(f.value)],velocity:W2(E,O,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:c}))};return C(0),{calculatedDuration:null,next:O=>{let M=!1;return!S&&k===void 0&&(M=!0,T(O),C(O)),k!==void 0&&O>=k?S.next(O-k):(!M&&T(O),f)}}}function AU(e,t,n){const r=[],s=n||ls.mix||z2,i=e.length-1;for(let a=0;a<i;a++){let o=s(e[a],e[a+1]);if(t){const l=Array.isArray(t)?t[a]||zn:t;o=Ec(l,o)}r.push(o)}return r}function NU(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Yo(i===t.length,"Both input and output ranges must be the same length","range-length"),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=AU(t,r,s),l=o.length,u=c=>{if(a&&c<e[0])return t[0];let d=0;if(l>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=Ju(e[d],e[d+1],c);return o[d](f)};return n?c=>u(Br(e[0],e[i-1],c)):u}function IU(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Ju(0,t,r);e.push(st(n,1,s))}}function RU(e){const t=[0];return IU(t,e.length-1),t}function PU(e,t){return e.map(n=>n*t)}function OU(e,t){return e.map(()=>t||P2).splice(0,e.length-1)}function cu({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=WB(r)?r.map(Lw):Lw(r),i={done:!1,value:t[0]},a=PU(n&&n.length===t.length?n:RU(t),e),o=NU(a,t,{ease:Array.isArray(s)?s:OU(t,s)});return{calculatedDuration:e,next:l=>(i.value=o(l),i.done=l>=e,i)}}const DU=e=>e!==null;function rb(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(DU),o=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const LU={decay:k0,inertia:k0,tween:cu,keyframes:cu,spring:$h};function q2(e){typeof e.type=="string"&&(e.type=LU[e.type])}class sb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const MU=e=>e/100;class ib extends sb{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Zt.now()&&this.tick(Zt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;q2(t);const{type:n=cu,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=t;let{keyframes:o}=t;const l=n||cu;l!==cu&&typeof o[0]!="number"&&(this.mixKeyframes=Ec(MU,z2(o[0],o[1])),o=[0,100]);const u=l({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=nb(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:c,repeat:d,repeatType:f,repeatDelay:h,type:g,onUpdate:y,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?v<0:v>s;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let E=this.currentTime,T=r;if(d){const O=Math.min(this.currentTime,s)/o;let M=Math.floor(O),I=O%1;!I&&O>=1&&(I=1),I===1&&M--,M=Math.min(M,d+1),!!(M%2)&&(f==="reverse"?(I=1-I,h&&(I-=h/o)):f==="mirror"&&(T=a)),E=Br(0,1,I)*o}const k=x?{done:!1,value:c[0]}:T.next(E);i&&(k.value=i(k.value));let{done:S}=k;!x&&l!==null&&(S=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return C&&g!==k0&&(k.value=rb(c,this.options,w,this.speed)),y&&y(k.value),C&&this.finish(),k}then(t,n){return this.finished.then(t,n)}get duration(){return Un(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Un(t)}get time(){return Un(this.currentTime)}set time(t){var n;t=Vn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Zt.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Un(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=bU,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Zt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function jU(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Gi=e=>e*180/Math.PI,_0=e=>{const t=Gi(Math.atan2(e[1],e[0]));return C0(t)},FU={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:_0,rotateZ:_0,skewX:e=>Gi(Math.atan(e[1])),skewY:e=>Gi(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},C0=e=>(e=e%360,e<0&&(e+=360),e),zw=_0,Vw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Ww=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),BU={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Vw,scaleY:Ww,scale:e=>(Vw(e)+Ww(e))/2,rotateX:e=>C0(Gi(Math.atan2(e[6],e[5]))),rotateY:e=>C0(Gi(Math.atan2(-e[2],e[0]))),rotateZ:zw,rotate:zw,skewX:e=>Gi(Math.atan(e[4])),skewY:e=>Gi(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function A0(e){return e.includes("scale")?1:0}function N0(e,t){if(!e||e==="none")return A0(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=BU,s=n;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=FU,s=o}if(!s)return A0(t);const i=r[t],a=s[1].split(",").map(HU);return typeof i=="function"?i(a):a[i]}const UU=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return N0(n,t)};function HU(e){return parseFloat(e.trim())}const pl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ml=new Set(pl),qw=e=>e===fl||e===de,$U=new Set(["x","y","z"]),zU=pl.filter(e=>!$U.has(e));function VU(e){const t=[];return zU.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Qs={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>N0(t,"x"),y:(e,{transform:t})=>N0(t,"y")};Qs.translateX=Qs.x;Qs.translateY=Qs.y;const la=new Set;let I0=!1,R0=!1,P0=!1;function K2(){if(R0){const e=Array.from(la).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=VU(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var o;(o=r.getValue(i))==null||o.set(a)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}R0=!1,I0=!1,la.forEach(e=>e.complete(P0)),la.clear()}function Y2(){la.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(R0=!0)})}function WU(){P0=!0,Y2(),K2(),P0=!1}class ab{constructor(t,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(la.add(this),I0||(I0=!0,Ge.read(Y2),Ge.resolveKeyframes(K2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const o=r.readValue(n,a);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=a),s&&i===void 0&&s.set(t[0])}jU(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),la.delete(this)}cancel(){this.state==="scheduled"&&(la.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const qU=e=>e.startsWith("--");function KU(e,t,n){qU(t)?e.style.setProperty(t,n):e.style[t]=n}const YU=Yv(()=>window.ScrollTimeline!==void 0),GU={};function QU(e,t){const n=Yv(e);return()=>GU[t]??n()}const G2=QU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Yl=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Kw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yl([0,.65,.55,1]),circOut:Yl([.55,0,1,.45]),backIn:Yl([.31,.01,.66,-.59]),backOut:Yl([.33,1.53,.69,.99])};function Q2(e,t){if(e)return typeof e=="function"?G2()?V2(e,t):"ease-out":O2(e)?Yl(e):Array.isArray(e)?e.map(n=>Q2(n,t)||Kw.easeOut):Kw[e]}function XU(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeOut",times:l}={},u=void 0){const c={[t]:n};l&&(c.offset=l);const d=Q2(o,s);Array.isArray(d)&&(c.easing=d);const f={delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(c,f)}function X2(e){return typeof e=="function"&&"applyToOptions"in e}function JU({type:e,...t}){return X2(e)&&G2()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class J2 extends sb{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=t,Yo(typeof t.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const u=JU(t);this.animation=XU(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const c=rb(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(c):KU(n,r,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,r,s;const t=(n=this.options)==null?void 0:n.element;!this.isPseudoElement&&(t!=null&&t.isConnected)&&((s=(r=this.animation).commitStyles)==null||s.call(r))}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Un(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Un(t)}get time(){return Un(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Vn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&YU()?(this.animation.timeline=t,zn):n(this)}}const Z2={anticipate:N2,backInOut:A2,circInOut:R2};function ZU(e){return e in Z2}function e9(e){typeof e.ease=="string"&&ZU(e.ease)&&(e.ease=Z2[e.ease])}const im=10;class t9 extends J2{constructor(t){e9(t),q2(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const o=new ib({...a,autoplay:!1}),l=Math.max(im,Zt.now()-this.startTime),u=Br(0,im,l-im);n.setWithVelocity(o.sample(Math.max(0,l-u)).value,o.sample(l).value,u),o.stop()}}const Yw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(pi.test(e)||e==="0")&&!e.startsWith("url("));function n9(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function r9(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=Yw(s,t),o=Yw(i,t);return Ff(a===o,`You are trying to animate ${t} from "${s}" to "${i}". "${a?i:s}" is not an animatable value.`,"value-not-animatable"),!a||!o?!1:n9(e)||(n==="spring"||X2(n))&&r}function O0(e){e.duration=0,e.type="keyframes"}const s9=new Set(["opacity","clipPath","filter","transform"]),i9=Yv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function a9(e){var c;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=e;if(!(((c=t==null?void 0:t.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return i9()&&n&&s9.has(n)&&(n!=="transform"||!u)&&!l&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const o9=40;class l9 extends sb{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:o,name:l,motionValue:u,element:c,...d}){var g;super(),this.stop=()=>{var y,w;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Zt.now();const f={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:l,motionValue:u,element:c,...d},h=(c==null?void 0:c.KeyframeResolver)||ab;this.keyframeResolver=new h(o,(y,w,v)=>this.onKeyframesResolved(y,w,f,!v),l,u,c),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,n,r,s){var w,v;this.keyframeResolver=void 0;const{name:i,type:a,velocity:o,delay:l,isHandoff:u,onUpdate:c}=r;this.resolvedAt=Zt.now(),r9(t,i,a,o)||((ls.instantAnimations||!l)&&(c==null||c(rb(t,r,n))),t[0]=t[t.length-1],O0(r),r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>o9?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},h=!u&&a9(f),g=(v=(w=f.motionValue)==null?void 0:w.owner)==null?void 0:v.current,y=h?new t9({...f,element:g}):new ib(f);y.finished.then(()=>{this.notifyFinished()}).catch(zn),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),WU()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function eN(e,t,n,r=0,s=1){const i=Array.from(e).sort((u,c)=>u.sortNodePosition(c)).indexOf(t),a=e.size,o=(a-1)*r;return typeof n=="function"?n(i,a):s===1?i*r:o-i*r}const u9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function c9(e){const t=u9.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}const d9=4;function tN(e,t,n=1){Yo(n<=d9,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[r,s]=c9(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const a=i.trim();return x2(a)?parseFloat(a):a}return Jv(s)?tN(s,t,n+1):s}const h9={type:"spring",stiffness:500,damping:25,restSpeed:10},f9=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),p9={type:"keyframes",duration:.8},m9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},g9=(e,{keyframes:t})=>t.length>2?p9:ml.has(e)?e.startsWith("scale")?f9(t[1]):h9:m9,y9=e=>e!==null;function v9(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(y9),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}function nN(e,t){if(e!=null&&e.inherit&&t){const{inherit:n,...r}=e;return{...t,...r}}return e}function ob(e,t){const n=(e==null?void 0:e[t])??(e==null?void 0:e.default)??e;return n!==e?nN(n,e):n}function b9({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const lb=(e,t,n,r={},s,i)=>a=>{const o=ob(r,e)||{},l=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Vn(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:f=>{t.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:s};b9(o)||Object.assign(c,g9(e,c)),c.duration&&(c.duration=Vn(c.duration)),c.repeatDelay&&(c.repeatDelay=Vn(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(O0(c),c.delay===0&&(d=!0)),(ls.instantAnimations||ls.skipAnimations||s!=null&&s.shouldSkipAnimations)&&(d=!0,O0(c),c.delay=0),c.allowFlatten=!o.type&&!o.ease,d&&!i&&t.get()!==void 0){const f=v9(c.keyframes,o);if(f!==void 0){Ge.update(()=>{c.onUpdate(f),c.onComplete()});return}}return o.isSync?new ib(c):new l9(c)};function Gw(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function ub(e,t,n,r){if(typeof t=="function"){const[s,i]=Gw(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Gw(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function So(e,t,n){const r=e.getProps();return ub(r,t,n!==void 0?n:r.custom,e)}const rN=new Set(["width","height","top","left","right","bottom",...pl]),Qw=30,x9=e=>!isNaN(parseFloat(e));class w9{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Zt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Zt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=x9(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Gv);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ge.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Zt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Qw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Qw);return T2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Go(e,t){return new w9(e,t)}const D0=e=>Array.isArray(e);function E9(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Go(n))}function T9(e){return D0(e)?e[e.length-1]||0:e}function S9(e,t){const n=So(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const o=T9(i[a]);E9(e,a,o)}}const zt=e=>!!(e&&e.getVelocity);function k9(e){return!!(zt(e)&&e.add)}function L0(e,t){const n=e.getValue("willChange");if(k9(n))return n.add(t);if(!n&&ls.WillChange){const r=new ls.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function cb(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const _9="framerAppearId",sN="data-"+cb(_9);function iN(e){return e.props[sN]}function C9({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function aN(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i,transitionEnd:a,...o}=t;const l=e.getDefaultTransition();i=i?nN(i,l):l;const u=i==null?void 0:i.reduceMotion;r&&(i=r);const c=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in o){const h=e.getValue(f,e.latestValues[f]??null),g=o[f];if(g===void 0||d&&C9(d,f))continue;const y={delay:n,...ob(i||{},f)},w=h.get();if(w!==void 0&&!h.isAnimating&&!Array.isArray(g)&&g===w&&!y.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const T=iN(e);if(T){const k=window.MotionHandoffAnimation(T,f,Ge);k!==null&&(y.startTime=k,v=!0)}}L0(e,f);const x=u??e.shouldReduceMotion;h.start(lb(f,h,g,x&&rN.has(f)?{type:!1}:y,e,v));const E=h.animation;E&&c.push(E)}if(a){const f=()=>Ge.update(()=>{a&&S9(e,a)});c.length?Promise.all(c).then(f):f()}return c}function M0(e,t,n={}){var l;const r=So(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(aN(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=s;return A9(e,t,u,c,d,f,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[u,c]=o==="beforeChildren"?[i,a]:[a,i];return u().then(()=>c())}else return Promise.all([i(),a(n.delay)])}function A9(e,t,n=0,r=0,s=0,i=1,a){const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(M0(l,t,{...a,delay:n+(typeof r=="function"?0:r)+eN(e.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}function N9(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>M0(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=M0(e,t,n);else{const s=typeof t=="function"?So(e,t,n.custom):t;r=Promise.all(aN(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const I9={test:e=>e==="auto",parse:e=>e},oN=e=>t=>t.test(e),lN=[fl,de,Lr,_s,rU,nU,I9],Xw=e=>lN.find(oN(e));function R9(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||E2(e):!0}const P9=new Set(["brightness","contrast","saturate","opacity"]);function O9(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Zv)||[];if(!r)return e;const s=n.replace(r,"");let i=P9.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const D9=/\b([a-z-]*)\(.*?\)/gu,j0={...pi,getAnimatableNone:e=>{const t=e.match(D9);return t?t.map(O9).join(" "):e}},Jw={...fl,transform:Math.round},L9={rotate:_s,rotateX:_s,rotateY:_s,rotateZ:_s,scale:fd,scaleX:fd,scaleY:fd,scaleZ:fd,skew:_s,skewX:_s,skewY:_s,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:Zu,originX:Fw,originY:Fw,originZ:de},db={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,top:de,right:de,bottom:de,left:de,inset:de,insetBlock:de,insetBlockStart:de,insetBlockEnd:de,insetInline:de,insetInlineStart:de,insetInlineEnd:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,paddingBlock:de,paddingBlockStart:de,paddingBlockEnd:de,paddingInline:de,paddingInlineStart:de,paddingInlineEnd:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,marginBlock:de,marginBlockStart:de,marginBlockEnd:de,marginInline:de,marginInlineStart:de,marginInlineEnd:de,fontSize:de,backgroundPositionX:de,backgroundPositionY:de,...L9,zIndex:Jw,fillOpacity:Zu,strokeOpacity:Zu,numOctaves:Jw},M9={...db,color:xt,backgroundColor:xt,outlineColor:xt,fill:xt,stroke:xt,borderColor:xt,borderTopColor:xt,borderRightColor:xt,borderBottomColor:xt,borderLeftColor:xt,filter:j0,WebkitFilter:j0},uN=e=>M9[e];function cN(e,t){let n=uN(e);return n!==j0&&(n=pi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const j9=new Set(["auto","none","0"]);function F9(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!j9.has(i)&&ec(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=cN(n,s)}class B9 extends ab{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),Jv(d))){const f=tN(d,n.current);f!==void 0&&(t[c]=f),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!rN.has(r)||t.length!==2)return;const[s,i]=t,a=Xw(s),o=Xw(i),l=jw(s),u=jw(i);if(l!==u&&Qs[r]){this.needsMeasurement=!0;return}if(a!==o)if(qw(a)&&qw(o))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else Qs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||R9(t[s]))&&r.push(s);r.length&&F9(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qs[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var o;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=Qs[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const U9=new Set(["opacity","clipPath","filter","transform"]);function dN(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e).filter(r=>r!=null)}const hN=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function F0(e){return w2(e)&&"offsetHeight"in e}const{schedule:hb,cancel:Wte}=D2(queueMicrotask,!1),tr={x:!1,y:!1};function fN(){return tr.x||tr.y}function H9(e){return e==="x"||e==="y"?tr[e]?null:(tr[e]=!0,()=>{tr[e]=!1}):tr.x||tr.y?null:(tr.x=tr.y=!0,()=>{tr.x=tr.y=!1})}function pN(e,t){const n=dN(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function $9(e){return!(e.pointerType==="touch"||fN())}function z9(e,t,n={}){const[r,s,i]=pN(e,n);return r.forEach(a=>{let o=!1,l=!1,u;const c=()=>{a.removeEventListener("pointerleave",g)},d=w=>{u&&(u(w),u=void 0),c()},f=w=>{o=!1,window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",f),l&&(l=!1,d(w))},h=()=>{o=!0,window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",f,s)},g=w=>{if(w.pointerType!=="touch"){if(o){l=!0;return}d(w)}},y=w=>{if(!$9(w))return;l=!1;const v=t(a,w);typeof v=="function"&&(u=v,a.addEventListener("pointerleave",g,s))};a.addEventListener("pointerenter",y,s),a.addEventListener("pointerdown",h,s)}),i}const mN=(e,t)=>t?e===t?!0:mN(e,t.parentElement):!1,fb=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,V9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function W9(e){return V9.has(e.tagName)||e.isContentEditable===!0}const q9=new Set(["INPUT","SELECT","TEXTAREA"]);function K9(e){return q9.has(e.tagName)||e.isContentEditable===!0}const Wd=new WeakSet;function Zw(e){return t=>{t.key==="Enter"&&e(t)}}function am(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Y9=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Zw(()=>{if(Wd.has(n))return;am(n,"down");const s=Zw(()=>{am(n,"up")}),i=()=>am(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function eE(e){return fb(e)&&!fN()}const tE=new WeakSet;function G9(e,t,n={}){const[r,s,i]=pN(e,n),a=o=>{const l=o.currentTarget;if(!eE(o)||tE.has(o))return;Wd.add(l),n.stopPropagation&&tE.add(o);const u=t(l,o),c=(h,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),Wd.has(l)&&Wd.delete(l),eE(h)&&typeof u=="function"&&u(h,{success:g})},d=h=>{c(h,l===window||l===document||n.useGlobalTarget||mN(l,h.target))},f=h=>{c(h,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",f,s)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),F0(o)&&(o.addEventListener("focus",u=>Y9(u,s)),!W9(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function pb(e){return w2(e)&&"ownerSVGElement"in e}const qd=new WeakMap;let Cs;const gN=(e,t,n)=>(r,s)=>s&&s[0]?s[0][e+"Size"]:pb(r)&&"getBBox"in r?r.getBBox()[t]:r[n],Q9=gN("inline","width","offsetWidth"),X9=gN("block","height","offsetHeight");function J9({target:e,borderBoxSize:t}){var n;(n=qd.get(e))==null||n.forEach(r=>{r(e,{get width(){return Q9(e,t)},get height(){return X9(e,t)}})})}function Z9(e){e.forEach(J9)}function e7(){typeof ResizeObserver>"u"||(Cs=new ResizeObserver(Z9))}function t7(e,t){Cs||e7();const n=dN(e);return n.forEach(r=>{let s=qd.get(r);s||(s=new Set,qd.set(r,s)),s.add(t),Cs==null||Cs.observe(r)}),()=>{n.forEach(r=>{const s=qd.get(r);s==null||s.delete(t),s!=null&&s.size||Cs==null||Cs.unobserve(r)})}}const Kd=new Set;let uo;function n7(){uo=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Kd.forEach(t=>t(e))},window.addEventListener("resize",uo)}function r7(e){return Kd.add(e),uo||n7(),()=>{Kd.delete(e),!Kd.size&&typeof uo=="function"&&(window.removeEventListener("resize",uo),uo=void 0)}}function nE(e,t){return typeof e=="function"?r7(e):t7(e,t)}function s7(e){return pb(e)&&e.tagName==="svg"}const i7=[...lN,xt,pi],a7=e=>i7.find(oN(e)),rE=()=>({translate:0,scale:1,origin:0,originPoint:0}),co=()=>({x:rE(),y:rE()}),sE=()=>({min:0,max:0}),Tt=()=>({x:sE(),y:sE()}),o7=new WeakMap;function Bf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function tc(e){return typeof e=="string"||Array.isArray(e)}const mb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gb=["initial",...mb];function Uf(e){return Bf(e.animate)||gb.some(t=>tc(e[t]))}function yN(e){return!!(Uf(e)||e.variants)}function l7(e,t,n){for(const r in t){const s=t[r],i=n[r];if(zt(s))e.addValue(r,s);else if(zt(i))e.addValue(r,Go(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const a=e.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(r);e.addValue(r,Go(a!==void 0?a:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const B0={current:null},vN={current:!1},u7=typeof window<"u";function c7(){if(vN.current=!0,!!u7)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>B0.current=e.matches;e.addEventListener("change",t),t()}else B0.current=!1}const iE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let zh={};function bN(e){zh=e}function d7(){return zh}class h7{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,skipAnimations:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=ab,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Zt.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Ge.render(this.render,!1,!0))};const{latestValues:u,renderState:c}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.skipAnimationsConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=Uf(n),this.isVariantNode=yN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const g=f[h];u[h]!==void 0&&zt(g)&&g.set(u[h])}}mount(t){var n,r;if(this.hasBeenMounted)for(const s in this.initialValues)(n=this.values.get(s))==null||n.jump(this.initialValues[s]),this.latestValues[s]=this.initialValues[s];this.current=t,o7.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(vN.current||c7(),this.shouldReduceMotion=B0.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var t;this.projection&&this.projection.unmount(),fi(this.notifyUpdate),fi(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),n.accelerate&&U9.has(t)&&this.current instanceof HTMLElement){const{factory:a,keyframes:o,times:l,ease:u,duration:c}=n.accelerate,d=new J2({element:this.current,name:t,keyframes:o,times:l,ease:u,duration:Vn(c)}),f=a(d);this.valueSubscriptions.set(t,()=>{f(),d.cancel()});return}const r=ml.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Ge.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;typeof window<"u"&&window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in zh){const n=zh[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<iE.length;r++){const s=iE[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=t[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=l7(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Go(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(x2(r)||E2(r))?r=parseFloat(r):!a7(r)&&pi.test(n)&&(r=cN(t,n)),this.setBaseTarget(t,zt(r)?r.get():r)),zt(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=ub(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);a&&(r=a[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!zt(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Gv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){hb.render(this.render)}}class xN extends h7{constructor(){super(...arguments),this.KeyframeResolver=B9}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const r=t.style;return r?r[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;zt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Ei{constructor(t){this.isMounted=!1,this.node=t}update(){}}function wN({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function f7({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function p7(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function om(e){return e===void 0||e===1}function U0({scale:e,scaleX:t,scaleY:n}){return!om(e)||!om(t)||!om(n)}function ji(e){return U0(e)||EN(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function EN(e){return aE(e.x)||aE(e.y)}function aE(e){return e&&e!=="0%"}function Vh(e,t,n){const r=e-n,s=t*r;return n+s}function oE(e,t,n,r,s){return s!==void 0&&(e=Vh(e,s,r)),Vh(e,n,r)+t}function H0(e,t=0,n=1,r,s){e.min=oE(e.min,t,n,r,s),e.max=oE(e.max,t,n,r,s)}function TN(e,{x:t,y:n}){H0(e.x,t.translate,t.scale,t.originPoint),H0(e.y,n.translate,n.scale,n.originPoint)}const lE=.999999999999,uE=1.0000000000001;function m7(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,a;for(let o=0;o<s;o++){i=n[o],a=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&fo(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,TN(e,a)),r&&ji(i.latestValues)&&fo(e,i.latestValues))}t.x<uE&&t.x>lE&&(t.x=1),t.y<uE&&t.y>lE&&(t.y=1)}function ho(e,t){e.min=e.min+t,e.max=e.max+t}function cE(e,t,n,r,s=.5){const i=st(e.min,e.max,s);H0(e,t,n,i,r)}function fo(e,t){cE(e.x,t.x,t.scaleX,t.scale,t.originX),cE(e.y,t.y,t.scaleY,t.scale,t.originY)}function SN(e,t){return wN(p7(e.getBoundingClientRect(),t))}function g7(e,t,n){const r=SN(e,n),{scroll:s}=t;return s&&(ho(r.x,s.offset.x),ho(r.y,s.offset.y)),r}const y7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},v7=pl.length;function b7(e,t,n){let r="",s=!0;for(let i=0;i<v7;i++){const a=pl[i],o=e[a];if(o===void 0)continue;let l=!0;if(typeof o=="number")l=o===(a.startsWith("scale")?1:0);else{const u=parseFloat(o);l=a.startsWith("scale")?u===1:u===0}if(!l||n){const u=hN(o,db[a]);if(!l){s=!1;const c=y7[a]||a;r+=`${c}(${u}) `}n&&(t[a]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function yb(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let a=!1,o=!1;for(const l in t){const u=t[l];if(ml.has(l)){a=!0;continue}else if(M2(l)){s[l]=u;continue}else{const c=hN(u,db[l]);l.startsWith("origin")?(o=!0,i[l]=c):r[l]=c}}if(t.transform||(a||n?r.transform=b7(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:c=0}=i;r.transformOrigin=`${l} ${u} ${c}`}}function kN(e,{style:t,vars:n},r,s){const i=e.style;let a;for(a in t)i[a]=t[a];s==null||s.applyProjectionStyles(i,r);for(a in n)i.setProperty(a,n[a])}function dE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ol={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(de.test(e))e=parseFloat(e);else return e;const n=dE(e,t.target.x),r=dE(e,t.target.y);return`${n}% ${r}%`}},x7={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=pi.parse(e);if(s.length>5)return r;const i=pi.createTransformer(e),a=typeof s[0]!="number"?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;s[0+a]/=o,s[1+a]/=l;const u=st(o,l,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}},$0={borderRadius:{...Ol,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ol,borderTopRightRadius:Ol,borderBottomLeftRadius:Ol,borderBottomRightRadius:Ol,boxShadow:x7};function _N(e,{layout:t,layoutId:n}){return ml.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!$0[e]||e==="opacity")}function vb(e,t,n){var a;const r=e.style,s=t==null?void 0:t.style,i={};if(!r)return i;for(const o in r)(zt(r[o])||s&&zt(s[o])||_N(o,e)||((a=n==null?void 0:n.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(i[o]=r[o]);return i}function w7(e){return window.getComputedStyle(e)}class E7 extends xN{constructor(){super(...arguments),this.type="html",this.renderInstance=kN}readValueFromInstance(t,n){var r;if(ml.has(n))return(r=this.projection)!=null&&r.isProjecting?A0(n):UU(t,n);{const s=w7(t),i=(M2(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return SN(t,n)}build(t,n,r){yb(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return vb(t,n,r)}}const T7={offset:"stroke-dashoffset",array:"stroke-dasharray"},S7={offset:"strokeDashoffset",array:"strokeDasharray"};function k7(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?T7:S7;e[i.offset]=`${-r}`,e[i.array]=`${t} ${n}`}const _7=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function CN(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...o},l,u,c){if(yb(e,o,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:f}=e;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete d.transformBox);for(const h of _7)d[h]!==void 0&&(f[h]=d[h],delete d[h]);t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),s!==void 0&&k7(d,s,i,a,!1)}const AN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),NN=e=>typeof e=="string"&&e.toLowerCase()==="svg";function C7(e,t,n,r){kN(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(AN.has(s)?s:cb(s),t.attrs[s])}function IN(e,t,n){const r=vb(e,t,n);for(const s in e)if(zt(e[s])||zt(t[s])){const i=pl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}class A7 extends xN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ml.has(n)){const r=uN(n);return r&&r.default||0}return n=AN.has(n)?n:cb(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return IN(t,n,r)}build(t,n,r){CN(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){C7(t,n,r,s)}mount(t){this.isSVGTag=NN(t.tagName),super.mount(t)}}const N7=gb.length;function RN(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?RN(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<N7;n++){const r=gb[n],s=e.props[r];(tc(s)||s===!1)&&(t[r]=s)}return t}function PN(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const I7=[...mb].reverse(),R7=mb.length;function P7(e){return t=>Promise.all(t.map(({animation:n,options:r})=>N9(e,n,r)))}function O7(e){let t=P7(e),n=hE(),r=!0;const s=l=>(u,c)=>{var f;const d=So(e,c,l==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:h,transitionEnd:g,...y}=d;u={...u,...y,...g}}return u};function i(l){t=l(e)}function a(l){const{props:u}=e,c=RN(e.parent)||{},d=[],f=new Set;let h={},g=1/0;for(let w=0;w<R7;w++){const v=I7[w],x=n[v],E=u[v]!==void 0?u[v]:c[v],T=tc(E),k=v===l?x.isActive:null;k===!1&&(g=w);let S=E===c[v]&&E!==u[v]&&T;if(S&&r&&e.manuallyAnimateOnMount&&(S=!1),x.protectedKeys={...h},!x.isActive&&k===null||!E&&!x.prevProp||Bf(E)||typeof E=="boolean")continue;if(v==="exit"&&x.isActive&&k!==!0){x.prevResolvedValues&&(h={...h,...x.prevResolvedValues});continue}const C=D7(x.prevProp,E);let O=C||v===l&&x.isActive&&!S&&T||w>g&&T,M=!1;const I=Array.isArray(E)?E:[E];let H=I.reduce(s(v),{});k===!1&&(H={});const{prevResolvedValues:U={}}=x,G={...U,...H},W=J=>{O=!0,f.has(J)&&(M=!0,f.delete(J)),x.needsAnimating[J]=!0;const F=e.getValue(J);F&&(F.liveStyle=!1)};for(const J in G){const F=H[J],L=U[J];if(h.hasOwnProperty(J))continue;let _=!1;D0(F)&&D0(L)?_=!PN(F,L):_=F!==L,_?F!=null?W(J):f.add(J):F!==void 0&&f.has(J)?W(J):x.protectedKeys[J]=!0}x.prevProp=E,x.prevResolvedValues=H,x.isActive&&(h={...h,...H}),r&&e.blockInitialAnimation&&(O=!1);const q=S&&C;O&&(!q||M)&&d.push(...I.map(J=>{const F={type:v};if(typeof J=="string"&&r&&!q&&e.manuallyAnimateOnMount&&e.parent){const{parent:L}=e,_=So(L,J);if(L.enteringChildren&&_){const{delayChildren:ne}=_.transition||{};F.delay=eN(L.enteringChildren,e,ne)}}return{animation:J,options:F}}))}if(f.size){const w={};if(typeof u.initial!="boolean"){const v=So(e,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(w.transition=v.transition)}f.forEach(v=>{const x=e.getBaseTarget(v),E=e.getValue(v);E&&(E.liveStyle=!0),w[v]=x??null}),d.push({animation:w})}let y=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(d):Promise.resolve()}function o(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(f=>{var h;return(h=f.animationState)==null?void 0:h.setActive(l,u)}),n[l].isActive=u;const c=a(l);for(const f in n)n[f].protectedKeys={};return c}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>n,reset:()=>{n=hE()}}}function D7(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!PN(t,e):!1}function Ri(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hE(){return{animate:Ri(!0),whileInView:Ri(),whileHover:Ri(),whileTap:Ri(),whileDrag:Ri(),whileFocus:Ri(),exit:Ri()}}function fE(e,t){e.min=t.min,e.max=t.max}function Zn(e,t){fE(e.x,t.x),fE(e.y,t.y)}function pE(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const ON=1e-4,L7=1-ON,M7=1+ON,DN=.01,j7=0-DN,F7=0+DN;function en(e){return e.max-e.min}function B7(e,t,n){return Math.abs(e-t)<=n}function mE(e,t,n,r=.5){e.origin=r,e.originPoint=st(t.min,t.max,e.origin),e.scale=en(n)/en(t),e.translate=st(n.min,n.max,e.origin)-e.originPoint,(e.scale>=L7&&e.scale<=M7||isNaN(e.scale))&&(e.scale=1),(e.translate>=j7&&e.translate<=F7||isNaN(e.translate))&&(e.translate=0)}function du(e,t,n,r){mE(e.x,t.x,n.x,r?r.originX:void 0),mE(e.y,t.y,n.y,r?r.originY:void 0)}function gE(e,t,n){e.min=n.min+t.min,e.max=e.min+en(t)}function U7(e,t,n){gE(e.x,t.x,n.x),gE(e.y,t.y,n.y)}function yE(e,t,n){e.min=t.min-n.min,e.max=e.min+en(t)}function Wh(e,t,n){yE(e.x,t.x,n.x),yE(e.y,t.y,n.y)}function vE(e,t,n,r,s){return e-=t,e=Vh(e,1/n,r),s!==void 0&&(e=Vh(e,1/s,r)),e}function H7(e,t=0,n=1,r=.5,s,i=e,a=e){if(Lr.test(t)&&(t=parseFloat(t),t=st(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=st(i.min,i.max,r);e===i&&(o-=t),e.min=vE(e.min,t,n,o,s),e.max=vE(e.max,t,n,o,s)}function bE(e,t,[n,r,s],i,a){H7(e,t[n],t[r],t[s],t.scale,i,a)}const $7=["x","scaleX","originX"],z7=["y","scaleY","originY"];function xE(e,t,n,r){bE(e.x,t,$7,n?n.x:void 0,r?r.x:void 0),bE(e.y,t,z7,n?n.y:void 0,r?r.y:void 0)}function wE(e){return e.translate===0&&e.scale===1}function LN(e){return wE(e.x)&&wE(e.y)}function EE(e,t){return e.min===t.min&&e.max===t.max}function V7(e,t){return EE(e.x,t.x)&&EE(e.y,t.y)}function TE(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function MN(e,t){return TE(e.x,t.x)&&TE(e.y,t.y)}function SE(e){return en(e.x)/en(e.y)}function kE(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Tr(e){return[e("x"),e("y")]}function W7(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:f,skewX:h,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),h&&(r+=`skewX(${h}deg) `),g&&(r+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const jN=["TopLeft","TopRight","BottomLeft","BottomRight"],q7=jN.length,_E=e=>typeof e=="string"?parseFloat(e):e,CE=e=>typeof e=="number"||de.test(e);function K7(e,t,n,r,s,i){s?(e.opacity=st(0,n.opacity??1,Y7(r)),e.opacityExit=st(t.opacity??1,0,G7(r))):i&&(e.opacity=st(t.opacity??1,n.opacity??1,r));for(let a=0;a<q7;a++){const o=`border${jN[a]}Radius`;let l=AE(t,o),u=AE(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||CE(l)===CE(u)?(e[o]=Math.max(st(_E(l),_E(u),r),0),(Lr.test(u)||Lr.test(l))&&(e[o]+="%")):e[o]=u}(t.rotate||n.rotate)&&(e.rotate=st(t.rotate||0,n.rotate||0,r))}function AE(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Y7=FN(0,.5,I2),G7=FN(.5,.95,zn);function FN(e,t,n){return r=>r<e?0:r>t?1:n(Ju(e,t,r))}function Q7(e,t,n){const r=zt(e)?e:Go(e);return r.start(lb("",r,t,n)),r.animation}function nc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const X7=(e,t)=>e.depth-t.depth;class J7{constructor(){this.children=[],this.isDirty=!1}add(t){Kv(this.children,t),this.isDirty=!0}remove(t){Bh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(X7),this.isDirty=!1,this.children.forEach(t)}}function Z7(e,t){const n=Zt.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(fi(r),e(i-t))};return Ge.setup(r,!0),()=>fi(r)}function Yd(e){return zt(e)?e.get():e}class eH{constructor(){this.members=[]}add(t){Kv(this.members,t);for(let n=this.members.length-1;n>=0;n--){const r=this.members[n];if(r===t||r===this.lead||r===this.prevLead)continue;const s=r.instance;s&&s.isConnected===!1&&r.isPresent!==!1&&!r.snapshot&&Bh(this.members,r)}t.scheduleRender()}remove(t){if(Bh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s],a=i.instance;if(i.isPresent!==!1&&(!a||a.isConnected!==!1)){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender();const s=r.options.layoutDependency,i=t.options.layoutDependency;if(!(s!==void 0&&i!==void 0&&s===i)){const l=r.instance;l&&l.isConnected===!1&&!r.snapshot||(t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Gd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},lm=["","X","Y","Z"],tH=1e3;let nH=0;function um(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function BN(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=iN(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ge,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&BN(r)}function UN({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},o=t==null?void 0:t()){this.id=nH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(iH),this.nodes.forEach(uH),this.nodes.forEach(cH),this.nodes.forEach(aH)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new J7)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Gv),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=pb(a)&&!s7(a),this.instance=a;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let c,d=0;const f=()=>this.root.updateBlockedByResize=!1;Ge.read(()=>{d=window.innerWidth}),e(a,()=>{const h=window.innerWidth;h!==d&&(d=h,this.root.updateBlockedByResize=!0,c&&c(),c=Z7(f,250),Gd.hasAnimatedSinceResize&&(Gd.hasAnimatedSinceResize=!1,this.nodes.forEach(RE)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||mH,{onLayoutAnimationStart:y,onLayoutAnimationComplete:w}=u.getProps(),v=!this.targetLayout||!MN(this.targetLayout,h),x=!d&&f;if(this.options.layoutRoot||this.resumeFrom||x||d&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...ob(g,"layout"),onPlay:y,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(c,x)}else d||RE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),fi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dH),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&BN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(NE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(IE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(lH),this.nodes.forEach(rH),this.nodes.forEach(sH)):this.nodes.forEach(IE),this.clearAllSnapshots();const o=Zt.now();Mt.delta=Br(0,1e3/60,o-Mt.timestamp),Mt.timestamp=o,Mt.isProcessing=!0,em.update.process(Mt),em.preRender.process(Mt),em.render.process(Mt),Mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(oH),this.sharedNodes.forEach(hH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!en(this.snapshot.measuredBox.x)&&!en(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!LN(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;a&&this.instance&&(o||ji(this.latestValues)||c)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),gH(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return Tt();const o=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(yH))){const{scroll:c}=this.root;c&&(ho(o.x,c.offset.x),ho(o.y,c.offset.y))}return o}removeElementScroll(a){var l;const o=Tt();if(Zn(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:f}=c;c!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Zn(o,a),ho(o.x,d.offset.x),ho(o.y,d.offset.y))}return o}applyTransform(a,o=!1){const l=Tt();Zn(l,a);for(let u=0;u<this.path.length;u++){const c=this.path[u];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&fo(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),ji(c.latestValues)&&fo(l,c.latestValues)}return ji(this.latestValues)&&fo(l,this.latestValues),l}removeTransform(a){const o=Tt();Zn(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!ji(u.latestValues))continue;U0(u.latestValues)&&u.updateSnapshot();const c=Tt(),d=u.measurePageBox();Zn(c,d),xE(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return ji(this.latestValues)&&xE(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:d}=this.options;if(!this.layout||!(c||d))return;this.resolvedRelativeTargetAt=Mt.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tt(),this.targetWithTransforms=Tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),U7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zn(this.target,this.layout.layoutBox),TN(this.target,this.targetDelta)):Zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||U0(this.parent.latestValues)||EN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,l){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),Wh(this.relativeTargetOrigin,o,l),Zn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var g;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Mt.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;Zn(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;m7(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Tt());const{target:h}=a;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(pE(this.prevProjectionDelta.x,this.projectionDelta.x),pE(this.prevProjectionDelta.y,this.projectionDelta.y)),du(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!kE(this.projectionDelta.x,this.prevProjectionDelta.x)||!kE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=co(),this.projectionDelta=co(),this.projectionDeltaWithTransform=co()}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=co();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Tt(),h=l?l.source:void 0,g=this.layout?this.layout.source:void 0,y=h!==g,w=this.getStack(),v=!w||w.members.length<=1,x=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(pH));this.animationProgress=0;let E;this.mixTargetDelta=T=>{const k=T/1e3;PE(d.x,a.x,k),PE(d.y,a.y,k),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wh(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fH(this.relativeTarget,this.relativeTargetOrigin,f,k),E&&V7(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Tt()),Zn(E,this.relativeTarget)),y&&(this.animationValues=c,K7(c,u,this.latestValues,k,x,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(fi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ge.update(()=>{Gd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Go(0)),this.currentAnimation=Q7(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),a.onUpdate&&a.onUpdate(c)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:c}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&HN(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Tt();const d=en(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+d;const f=en(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+f}Zn(o,l),fo(o,c),du(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new eH),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&um("z",a,u,this.animationValues);for(let c=0;c<lm.length;c++)um(`rotate${lm[c]}`,a,u,this.animationValues),um(`skew${lm[c]}`,a,u,this.animationValues);a.render();for(const c in u)a.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Yd(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Yd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ji(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let d=W7(this.projectionDeltaWithTransform,this.treeScale,c);l&&(d=l(c,d)),a.transform=d;const{x:f,y:h}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,u.animationValues?a.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:a.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const g in $0){if(c[g]===void 0)continue;const{correct:y,applyTo:w,isCSSVariable:v}=$0[g],x=d==="none"?c[g]:y(c[g],u);if(w){const E=w.length;for(let T=0;T<E;T++)a[w[T]]=x}else v?this.options.visualElement.renderState.vars[g]=x:a[g]=x}this.options.layoutId&&(a.pointerEvents=u===this?Yd(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(NE),this.root.sharedNodes.clear()}}}function rH(e){e.updateLayout()}function sH(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?Tr(d=>{const f=a?t.measuredBox[d]:t.layoutBox[d],h=en(f);f.min=r[d].min,f.max=f.min+h}):HN(i,t.layoutBox,r)&&Tr(d=>{const f=a?t.measuredBox[d]:t.layoutBox[d],h=en(r[d]);f.max=f.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+h)});const o=co();du(o,r,t.layoutBox);const l=co();a?du(l,e.applyTransform(s,!0),t.measuredBox):du(l,r,t.layoutBox);const u=!LN(o);let c=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const g=Tt();Wh(g,t.layoutBox,f.layoutBox);const y=Tt();Wh(y,r,h.layoutBox),MN(g,y)||(c=!0),d.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=g,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function iH(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function aH(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function oH(e){e.clearSnapshot()}function NE(e){e.clearMeasurements()}function IE(e){e.isLayoutDirty=!1}function lH(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function RE(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function uH(e){e.resolveTargetDelta()}function cH(e){e.calcProjection()}function dH(e){e.resetSkewAndRotation()}function hH(e){e.removeLeadSnapshot()}function PE(e,t,n){e.translate=st(t.translate,0,n),e.scale=st(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function OE(e,t,n,r){e.min=st(t.min,n.min,r),e.max=st(t.max,n.max,r)}function fH(e,t,n,r){OE(e.x,t.x,n.x,r),OE(e.y,t.y,n.y,r)}function pH(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const mH={duration:.45,ease:[.4,0,.1,1]},DE=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),LE=DE("applewebkit/")&&!DE("chrome/")?Math.round:zn;function ME(e){e.min=LE(e.min),e.max=LE(e.max)}function gH(e){ME(e.x),ME(e.y)}function HN(e,t,n){return e==="position"||e==="preserve-aspect"&&!B7(SE(t),SE(n),.2)}function yH(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const vH=UN({attachResizeListener:(e,t)=>nc(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),cm={current:void 0},$N=UN({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!cm.current){const e=new vH({});e.mount(window),e.setOptions({layoutScroll:!0}),cm.current=e}return cm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),bb=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function jE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function bH(...e){return t=>{let n=!1;const r=e.map(s=>{const i=jE(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():jE(e[s],null)}}}}function xH(...e){return b.useCallback(bH(...e),e)}class wH extends b.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=n.offsetParent,s=F0(r)&&r.offsetWidth||0,i=F0(r)&&r.offsetHeight||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left,a.bottom=i-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function EH({children:e,isPresent:t,anchorX:n,anchorY:r,root:s,pop:i}){var f;const a=b.useId(),o=b.useRef(null),l=b.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:u}=b.useContext(bb),c=((f=e.props)==null?void 0:f.ref)??(e==null?void 0:e.ref),d=xH(o,c);return b.useInsertionEffect(()=>{const{width:h,height:g,top:y,left:w,right:v,bottom:x}=l.current;if(t||i===!1||!o.current||!h||!g)return;const E=n==="left"?`left: ${w}`:`right: ${v}`,T=r==="bottom"?`bottom: ${x}`:`top: ${y}`;o.current.dataset.motionPopId=a;const k=document.createElement("style");u&&(k.nonce=u);const S=s??document.head;return S.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${g}px !important;
            ${E}px !important;
            ${T}px !important;
          }
        `),()=>{S.contains(k)&&S.removeChild(k)}},[t]),p.jsx(wH,{isPresent:t,childRef:o,sizeRef:l,pop:i,children:i===!1?e:b.cloneElement(e,{ref:d})})}const TH=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a,anchorX:o,anchorY:l,root:u})=>{const c=qv(SH),d=b.useId();let f=!0,h=b.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:n,custom:s,onExitComplete:g=>{c.set(g,!0);for(const y of c.values())if(!y)return;r&&r()},register:g=>(c.set(g,!1),()=>c.delete(g))}),[n,c,r]);return i&&f&&(h={...h}),b.useMemo(()=>{c.forEach((g,y)=>c.set(y,!1))},[n]),b.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),e=p.jsx(EH,{pop:a==="popLayout",isPresent:n,anchorX:o,anchorY:l,root:u,children:e}),p.jsx(jf.Provider,{value:h,children:e})};function SH(){return new Map}function zN(e=!0){const t=b.useContext(jf);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=b.useId();b.useEffect(()=>{if(e)return s(i)},[e]);const a=b.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,a]:[!0]}const pd=e=>e.key||"";function FE(e){const t=[];return b.Children.forEach(e,n=>{b.isValidElement(n)&&t.push(n)}),t}const xa=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:o="left",anchorY:l="top",root:u})=>{const[c,d]=zN(a),f=b.useMemo(()=>FE(e),[e]),h=a&&!c?[]:f.map(pd),g=b.useRef(!0),y=b.useRef(f),w=qv(()=>new Map),v=b.useRef(new Set),[x,E]=b.useState(f),[T,k]=b.useState(f);b2(()=>{g.current=!1,y.current=f;for(let O=0;O<T.length;O++){const M=pd(T[O]);h.includes(M)?(w.delete(M),v.current.delete(M)):w.get(M)!==!0&&w.set(M,!1)}},[T,h.length,h.join("-")]);const S=[];if(f!==x){let O=[...f];for(let M=0;M<T.length;M++){const I=T[M],H=pd(I);h.includes(H)||(O.splice(M,0,I),S.push(I))}return i==="wait"&&S.length&&(O=S),k(FE(O)),E(f),null}const{forceRender:C}=b.useContext(Wv);return p.jsx(p.Fragment,{children:T.map(O=>{const M=pd(O),I=a&&!c?!1:f===T||h.includes(M),H=()=>{if(v.current.has(M))return;if(v.current.add(M),w.has(M))w.set(M,!0);else return;let U=!0;w.forEach(G=>{G||(U=!1)}),U&&(C==null||C(),k(y.current),a&&(d==null||d()),r&&r())};return p.jsx(TH,{isPresent:I,initial:!g.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:u,onExitComplete:I?void 0:H,anchorX:o,anchorY:l,children:O},M)})})},VN=b.createContext({strict:!1}),BE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let UE=!1;function kH(){if(UE)return;const e={};for(const t in BE)e[t]={isEnabled:n=>BE[t].some(r=>!!n[r])};bN(e),UE=!0}function WN(){return kH(),d7()}function _H(e){const t=WN();for(const n in e)t[n]={...t[n],...e[n]};bN(t)}const CH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function qh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||CH.has(e)}let qN=e=>!qh(e);function AH(e){typeof e=="function"&&(qN=t=>t.startsWith("on")?!qh(t):e(t))}try{AH(require("@emotion/is-prop-valid").default)}catch{}function NH(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(qN(s)||n===!0&&qh(s)||!t&&!qh(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const Hf=b.createContext({});function IH(e,t){if(Uf(e)){const{initial:n,animate:r}=e;return{initial:n===!1||tc(n)?n:void 0,animate:tc(r)?r:void 0}}return e.inherit!==!1?t:{}}function RH(e){const{initial:t,animate:n}=IH(e,b.useContext(Hf));return b.useMemo(()=>({initial:t,animate:n}),[HE(t),HE(n)])}function HE(e){return Array.isArray(e)?e.join(" "):e}const xb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function KN(e,t,n){for(const r in t)!zt(t[r])&&!_N(r,n)&&(e[r]=t[r])}function PH({transformTemplate:e},t){return b.useMemo(()=>{const n=xb();return yb(n,t,e),Object.assign({},n.vars,n.style)},[t])}function OH(e,t){const n=e.style||{},r={};return KN(r,n,e),Object.assign(r,PH(e,t)),r}function DH(e,t){const n={},r=OH(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const YN=()=>({...xb(),attrs:{}});function LH(e,t,n,r){const s=b.useMemo(()=>{const i=YN();return CN(i,t,NN(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};KN(i,e.style,e),s.style={...i,...s.style}}return s}const MH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wb(e){return typeof e!="string"||e.includes("-")?!1:!!(MH.indexOf(e)>-1||/[A-Z]/u.test(e))}function jH(e,t,n,{latestValues:r},s,i=!1,a){const l=(a??wb(e)?LH:DH)(t,r,s,e),u=NH(t,typeof e=="string",i),c=e!==b.Fragment?{...u,...l,ref:n}:{},{children:d}=t,f=b.useMemo(()=>zt(d)?d.get():d,[d]);return b.createElement(e,{...c,children:f})}function FH({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:BH(n,r,s,e),renderState:t()}}function BH(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=Yd(i[f]);let{initial:a,animate:o}=e;const l=Uf(e),u=yN(e);t&&u&&!l&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let c=n?n.initial===!1:!1;c=c||a===!1;const d=c?o:a;if(d&&typeof d!="boolean"&&!Bf(d)){const f=Array.isArray(d)?d:[d];for(let h=0;h<f.length;h++){const g=ub(e,f[h]);if(g){const{transitionEnd:y,transition:w,...v}=g;for(const x in v){let E=v[x];if(Array.isArray(E)){const T=c?E.length-1:0;E=E[T]}E!==null&&(s[x]=E)}for(const x in y)s[x]=y[x]}}}return s}const GN=e=>(t,n)=>{const r=b.useContext(Hf),s=b.useContext(jf),i=()=>FH(e,t,r,s);return n?i():qv(i)},UH=GN({scrapeMotionValuesFromProps:vb,createRenderState:xb}),HH=GN({scrapeMotionValuesFromProps:IN,createRenderState:YN}),$H=Symbol.for("motionComponentSymbol");function zH(e,t,n){const r=b.useRef(n);b.useInsertionEffect(()=>{r.current=n});const s=b.useRef(null);return b.useCallback(i=>{var o;i&&((o=e.onMount)==null||o.call(e,i)),t&&(i?t.mount(i):t.unmount());const a=r.current;if(typeof a=="function")if(i){const l=a(i);typeof l=="function"&&(s.current=l)}else s.current?(s.current(),s.current=null):a(i);else a&&(a.current=i)},[t])}const QN=b.createContext({});function Wa(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function VH(e,t,n,r,s,i){var E,T;const{visualElement:a}=b.useContext(Hf),o=b.useContext(VN),l=b.useContext(jf),u=b.useContext(bb),c=u.reducedMotion,d=u.skipAnimations,f=b.useRef(null),h=b.useRef(!1);r=r||o.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,skipAnimations:d,isSVG:i}),h.current&&f.current&&(f.current.manuallyAnimateOnMount=!0));const g=f.current,y=b.useContext(QN);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&WH(f.current,n,s,y);const w=b.useRef(!1);b.useInsertionEffect(()=>{g&&w.current&&g.update(n,l)});const v=n[sN],x=b.useRef(!!v&&!((E=window.MotionHandoffIsComplete)!=null&&E.call(window,v))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,v)));return b2(()=>{h.current=!0,g&&(w.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),x.current&&g.animationState&&g.animationState.animateChanges())}),b.useEffect(()=>{g&&(!x.current&&g.animationState&&g.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,v)}),x.current=!1),g.enteringChildren=void 0)}),g}function WH(e,t,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:XN(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&Wa(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}function XN(e){if(e)return e.options.allowProjection!==!1?e.projection:XN(e.parent)}function dm(e,{forwardMotionProps:t=!1,type:n}={},r,s){r&&_H(r);const i=n?n==="svg":wb(e),a=i?HH:UH;function o(u,c){let d;const f={...b.useContext(bb),...u,layoutId:qH(u)},{isStatic:h}=f,g=RH(u),y=a(u,h);if(!h&&v2){KH();const w=YH(f);d=w.MeasureLayout,g.visualElement=VH(e,y,f,s,w.ProjectionNode,i)}return p.jsxs(Hf.Provider,{value:g,children:[d&&g.visualElement?p.jsx(d,{visualElement:g.visualElement,...f}):null,jH(e,u,zH(y,g.visualElement,c),y,h,t,i)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=b.forwardRef(o);return l[$H]=e,l}function qH({layoutId:e}){const t=b.useContext(Wv).id;return t&&e!==void 0?t+"-"+e:e}function KH(e,t){b.useContext(VN).strict}function YH(e){const t=WN(),{drag:n,layout:r}=t;if(!n&&!r)return{};const s={...n,...r};return{MeasureLayout:n!=null&&n.isEnabled(e)||r!=null&&r.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function GH(e,t){if(typeof Proxy>"u")return dm;const n=new Map,r=(i,a)=>dm(i,a,e,t),s=(i,a)=>r(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?r:(n.has(a)||n.set(a,dm(a,void 0,e,t)),n.get(a))})}const QH=(e,t)=>t.isSVG??wb(e)?new A7(t):new E7(t,{allowProjection:e!==b.Fragment});class XH extends Ei{constructor(t){super(t),t.animationState||(t.animationState=O7(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Bf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let JH=0;class ZH extends Ei{constructor(){super(...arguments),this.id=JH++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const e$={animation:{Feature:XH},exit:{Feature:ZH}};function kc(e){return{point:{x:e.pageX,y:e.pageY}}}const t$=e=>t=>fb(t)&&e(t,kc(t));function hu(e,t,n,r){return nc(e,t,t$(n),r)}const JN=({current:e})=>e?e.ownerDocument.defaultView:null,$E=(e,t)=>Math.abs(e-t);function n$(e,t){const n=$E(e.x,t.x),r=$E(e.y,t.y);return Math.sqrt(n**2+r**2)}const zE=new Set(["auto","scroll"]);class ZN{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=h=>{this.handleScroll(h.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=fm(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,y=n$(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!y)return;const{point:w}=h,{timestamp:v}=Mt;this.history.push({...w,timestamp:v});const{onStart:x,onMove:E}=this.handlers;g||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,h)},this.handlePointerMove=(h,g)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=hm(g,this.transformPagePoint),Ge.update(this.updatePoint,!0)},this.handlePointerUp=(h,g)=>{this.end();const{onEnd:y,onSessionEnd:w,resumeAnimation:v}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=fm(h.type==="pointercancel"?this.lastMoveEventInfo:hm(g,this.transformPagePoint),this.history);this.startEvent&&y&&y(h,x),w&&w(h,x)},!fb(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const l=kc(t),u=hm(l,this.transformPagePoint),{point:c}=u,{timestamp:d}=Mt;this.history=[{...c,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,fm(u,this.history)),this.removeListeners=Ec(hu(this.contextWindow,"pointermove",this.handlePointerMove),hu(this.contextWindow,"pointerup",this.handlePointerUp),hu(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(t){let n=t.parentElement;for(;n;){const r=getComputedStyle(n);(zE.has(r.overflowX)||zE.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const r=t===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},i={x:s.x-n.x,y:s.y-n.y};i.x===0&&i.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(t,s),Ge.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),fi(this.updatePoint)}}function hm(e,t){return t?{point:t(e.point)}:e}function VE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function fm({point:e},t){return{point:e,delta:VE(e,eI(t)),offset:VE(e,r$(t)),velocity:s$(t,.1)}}function r$(e){return e[0]}function eI(e){return e[e.length-1]}function s$(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=eI(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Vn(t)));)n--;if(!r)return{x:0,y:0};r===e[0]&&e.length>2&&s.timestamp-r.timestamp>Vn(t)*2&&(r=e[1]);const i=Un(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function i$(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?st(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?st(n,e,r.max):Math.min(e,n)),e}function WE(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function a$(e,{top:t,left:n,bottom:r,right:s}){return{x:WE(e.x,n,s),y:WE(e.y,t,r)}}function qE(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function o$(e,t){return{x:qE(e.x,t.x),y:qE(e.y,t.y)}}function l$(e,t){let n=.5;const r=en(e),s=en(t);return s>r?n=Ju(t.min,t.max-r,e.min):r>s&&(n=Ju(e.min,e.max-s,t.min)),Br(0,1,n)}function u$(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const z0=.35;function c$(e=z0){return e===!1?e=0:e===!0&&(e=z0),{x:KE(e,"left","right"),y:KE(e,"top","bottom")}}function KE(e,t,n){return{min:YE(e,t),max:YE(e,n)}}function YE(e,t){return typeof e=="number"?e:e[t]||0}const d$=new WeakMap;class h${constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=d=>{n&&this.snapToCursor(kc(d).point),this.stopAnimation()},a=(d,f)=>{const{drag:h,dragPropagation:g,onDragStart:y}=this.getProps();if(h&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=H9(h),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Tr(v=>{let x=this.getAxisMotionValue(v).get()||0;if(Lr.test(x)){const{projection:E}=this.visualElement;if(E&&E.layout){const T=E.layout.layoutBox[v];T&&(x=en(T)*(parseFloat(x)/100))}}this.originPoint[v]=x}),y&&Ge.update(()=>y(d,f),!1,!0),L0(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:h,dragDirectionLock:g,onDirectionLock:y,onDrag:w}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=f;if(g&&this.currentDirection===null){this.currentDirection=p$(v),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),w&&Ge.update(()=>w(d,f),!1,!0)},l=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>{const{dragSnapToOrigin:d}=this.getProps();(d||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:c}=this.getProps();this.panSession=new ZN(t,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:r,contextWindow:JN(this.visualElement),element:this.visualElement.current})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Ge.postRender(()=>o(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!md(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=i$(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&Wa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=a$(r.layoutBox,t):this.constraints=!1,this.elastic=c$(n),s!==this.constraints&&!Wa(t)&&r&&this.constraints&&!this.hasMutatedConstraints&&Tr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=u$(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Wa(t))return!1;const r=t.current;Yo(r!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=g7(r,s.root,this.visualElement.getTransformPagePoint());let a=o$(s.layout.layoutBox,i);if(n){const o=n(f7(a));this.hasMutatedConstraints=!!o,o&&(a=wN(o))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=Tr(c=>{if(!md(c,n,this.currentDirection))return;let d=l&&l[c]||{};a&&(d={min:0,max:0});const f=s?200:1e6,h=s?40:1e7,g={type:"inertia",velocity:r?t[c]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return L0(this.visualElement,t),r.start(lb(t,r,0,n,this.visualElement,!1))}stopAnimation(){Tr(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Tr(n=>{const{drag:r}=this.getProps();if(!md(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[n],l=i.get()||0;i.set(t[n]-st(a,o,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Wa(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Tr(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();s[a]=l$({min:l,max:l},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),Tr(a=>{if(!md(a,t,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(st(l,u,s[a]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;d$.set(this.visualElement,this);const t=this.visualElement.current,n=hu(t,"pointerdown",u=>{const{drag:c,dragListener:d=!0}=this.getProps(),f=u.target,h=f!==t&&K9(f);c&&d&&!h&&this.start(u)});let r;const s=()=>{const{dragConstraints:u}=this.getProps();Wa(u)&&u.current&&(this.constraints=this.resolveRefConstraints(),r||(r=f$(t,u.current,()=>this.scalePositionWithinConstraints())))},{projection:i}=this.visualElement,a=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ge.read(s);const o=nc(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(Tr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=u[d].translate,f.set(f.get()+u[d].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l(),r&&r()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=z0,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function GE(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function f$(e,t,n){const r=nE(e,GE(n)),s=nE(t,GE(n));return()=>{r(),s()}}function md(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function p$(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class m$ extends Ei{constructor(t){super(t),this.removeGroupControls=zn,this.removeListeners=zn,this.controls=new h$(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const pm=e=>(t,n)=>{e&&Ge.update(()=>e(t,n),!1,!0)};class g$ extends Ei{constructor(){super(...arguments),this.removePointerDownListener=zn}onPointerDown(t){this.session=new ZN(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:JN(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:pm(t),onStart:pm(n),onMove:pm(r),onEnd:(i,a)=>{delete this.session,s&&Ge.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=hu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let mm=!1;class y$ extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),mm&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Gd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,t.layoutDependency!==n&&a.setOptions({...a.options,layoutDependency:n}),mm=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||Ge.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),hb.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;mm=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function tI(e){const[t,n]=zN(),r=b.useContext(Wv);return p.jsx(y$,{...e,layoutGroup:r,switchLayoutGroup:b.useContext(QN),isPresent:t,safeToRemove:n})}const v$={pan:{Feature:g$},drag:{Feature:m$,ProjectionNode:$N,MeasureLayout:tI}};function QE(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Ge.postRender(()=>i(t,kc(t)))}class b$ extends Ei{mount(){const{current:t}=this.node;t&&(this.unmount=z9(t,(n,r)=>(QE(this.node,r,"Start"),s=>QE(this.node,s,"End"))))}unmount(){}}class x$ extends Ei{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ec(nc(this.node.current,"focus",()=>this.onFocus()),nc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function XE(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Ge.postRender(()=>i(t,kc(t)))}class w$ extends Ei{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:n,propagate:r}=this.node.props;this.unmount=G9(t,(s,i)=>(XE(this.node,i,"Start"),(a,{success:o})=>XE(this.node,a,o?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:(r==null?void 0:r.tap)===!1})}unmount(){}}const V0=new WeakMap,gm=new WeakMap,E$=e=>{const t=V0.get(e.target);t&&t(e)},T$=e=>{e.forEach(E$)};function S$({root:e,...t}){const n=e||document;gm.has(n)||gm.set(n,{});const r=gm.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(T$,{root:e,...t})),r[s]}function k$(e,t,n){const r=S$(t);return V0.set(e,n),r.observe(e),()=>{V0.delete(e),r.unobserve(e)}}const _$={some:0,all:1};class C$ extends Ei{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:_$[s]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),f=u?c:d;f&&f(l)};return k$(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(A$(t,n))&&this.startObserver()}unmount(){}}function A$({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const N$={inView:{Feature:C$},tap:{Feature:w$},focus:{Feature:x$},hover:{Feature:b$}},I$={layout:{ProjectionNode:$N,MeasureLayout:tI}},R$={...e$,...N$,...v$,...I$},Ue=GH(R$,QH),P$=({activeTab:e,setActiveTab:t})=>{const{profile:n,signOut:r}=Mf(),s=[{id:"dashboard",label:"Dashboard"},{id:"playbook",label:"Playbook"},{id:"staging",label:"Review & Publish"},{id:"integrations",label:"Integrations"}],i=n!=null&&n.full_name?n.full_name.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2):"?";return p.jsx("header",{className:"border-b border-border bg-card/50 backdrop-blur-sm sticky top-0 z-40",children:p.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 flex items-center justify-between h-14",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-lg gradient-primary flex items-center justify-center",children:p.jsx(u4,{className:"w-4 h-4 text-primary-foreground"})}),p.jsx("span",{className:"text-sm text-foreground",children:"Playbook Manager"})]}),p.jsx("nav",{className:"flex items-center gap-1",children:s.map(a=>p.jsx("button",{onClick:()=>t(a.id),className:`px-3 py-1.5 rounded-lg text-xs font-subheading transition-colors ${e===a.id?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,children:a.label},a.id))}),p.jsxs("div",{className:"flex items-center gap-2",children:[(n==null?void 0:n.full_name)&&p.jsx("span",{className:"text-xs text-muted-foreground hidden sm:inline",children:n.full_name}),p.jsx("div",{className:"w-7 h-7 rounded-full bg-primary/20 flex items-center justify-center text-[11px] font-overline text-primary",children:i}),p.jsx("button",{onClick:r,className:"w-7 h-7 rounded-full hover:bg-muted flex items-center justify-center transition-colors",title:"Sign out",children:p.jsx(y4,{className:"w-3.5 h-3.5 text-muted-foreground"})})]})]})})};function Eb(){const e=ds({queryKey:["skills"],queryFn:async()=>{const[t,n,r]=await Promise.all([ge.from("skill_categories").select("*").order("sort_order"),ge.from("skills").select("*").order("sort_order"),ge.from("user_skills").select("*")]);if(t.error)throw t.error;if(n.error)throw n.error;if(r.error)throw r.error;const s=new Map((r.data??[]).map(i=>[i.skill_id,i]));return(t.data??[]).map(i=>({id:i.id,name:i.name,skills:(n.data??[]).filter(a=>a.category_id===i.id).map(a=>{const o=s.get(a.id);return{id:a.id,name:a.name,status:(o==null?void 0:o.status)??"missing",lastUpdated:(o==null?void 0:o.last_updated)??void 0,section:(o==null?void 0:o.section_title)??void 0,coverageNote:(o==null?void 0:o.coverage_note)??void 0,fulfilled:(o==null?void 0:o.fulfilled)??!1}})}))}});return{...e,isRefetching:e.isFetching&&!e.isLoading}}function nI(){const e=Rt();return sn({mutationFn:async({skillId:t,fulfilled:n})=>{const{error:r}=await ge.from("user_skills").update({fulfilled:n}).eq("skill_id",t);if(r)throw r},onSuccess:()=>e.invalidateQueries({queryKey:["skills"]})})}function O$(e,t){const n=e.length;if(n===0)return{score:0,covered:0,total:0,partial:0,missing:0,outdated:0,lastAnalyzed:t??null};const r=e.filter(u=>u.status==="covered").length,s=e.filter(u=>u.status==="partial").length,i=e.filter(u=>u.status==="missing").length,a=new Date,o=e.filter(u=>u.lastUpdated?a.getTime()-new Date(u.lastUpdated).getTime()>90*24*60*60*1e3:!1).length;return{score:Math.round((r+s*.5)/n*100),covered:r,total:n,partial:s,missing:i,outdated:o,lastAnalyzed:t??null}}function D$(){return ds({queryKey:["analyzed-at"],queryFn:async()=>{const{data:{user:e}}=await ge.auth.getUser();if(!e)return null;const{data:t,error:n}=await ge.from("profiles").select("analyzed_at").eq("id",e.id).single();if(n)throw n;return(t==null?void 0:t.analyzed_at)??null}})}function rI(){const{data:e,isLoading:t,isRefetching:n}=Eb(),{data:r,isLoading:s}=D$();return{data:b.useMemo(()=>{if(!e)return;const a=e.flatMap(o=>o.skills);return O$(a,r)},[e,r]),isLoading:t||s,isRefetching:n}}function L$(){return ds({queryKey:["imports"],queryFn:async()=>{const{data:e,error:t}=await ge.from("imports").select("*").order("started_at",{ascending:!1});if(t)throw t;return e??[]}})}function sI(e){const t=Rt();return sn({mutationFn:async({provider:n,content:r,pdfBase64:s})=>{e==null||e("extracting");const{data:i,error:a}=await ge.functions.invoke("import",{body:{provider:n,content:r,pdfBase64:s}});if(a)throw a;e==null||e("analyzing");const{error:o}=await ge.functions.invoke("analyze");if(o)throw o;return i},onSuccess:()=>{t.invalidateQueries({queryKey:["imports"]}),t.invalidateQueries({queryKey:["playbook-sections"]}),t.invalidateQueries({queryKey:["skills"]}),t.invalidateQueries({queryKey:["health-score"]}),t.invalidateQueries({queryKey:["analyzed-at"]})}})}function M$(){const e=Rt();return sn({mutationFn:async()=>{const{data:t,error:n}=await ge.functions.invoke("analyze");if(n)throw n;return t},onSuccess:()=>{e.invalidateQueries({queryKey:["playbook-sections"]}),e.invalidateQueries({queryKey:["skills"]}),e.invalidateQueries({queryKey:["health-score"]}),e.invalidateQueries({queryKey:["analyzed-at"]})}})}function iI(){const e=Rt();return sn({mutationFn:async()=>{const{data:t,error:n}=await ge.functions.invoke("import-notion");if(n)throw n;return t},onSuccess:()=>{e.invalidateQueries({queryKey:["imports"]}),e.invalidateQueries({queryKey:["playbook-sections"]}),e.invalidateQueries({queryKey:["skills"]}),e.invalidateQueries({queryKey:["connections"]})}})}function aI(){const e=Rt();return sn({mutationFn:async t=>{const{data:n,error:r}=await ge.functions.invoke("import-confluence",{body:t?{pageIds:t}:{}});if(r)throw r;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["imports"]}),e.invalidateQueries({queryKey:["playbook-sections"]}),e.invalidateQueries({queryKey:["skills"]}),e.invalidateQueries({queryKey:["connections"]})}})}const j$=({activeFilter:e,onFilterChange:t})=>{const{data:n,isLoading:r,isRefetching:s}=rI(),i=M$();if(r||!n)return p.jsx("div",{className:"rounded-xl border border-border bg-card px-5 py-3 shadow-card flex items-center justify-center min-h-[52px]",children:p.jsx(Ve,{className:"w-4 h-4 text-primary animate-spin"})});const a=n.score>=70?"text-success":n.score>=40?"text-warning":"text-destructive";return p.jsx(Ue.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"rounded-xl border border-border bg-card px-5 py-3 shadow-card",children:p.jsxs("div",{className:"flex items-center gap-6 flex-wrap",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("span",{className:"text-sm font-subheading text-foreground",children:"Playbook Health"}),p.jsx("span",{className:`text-xl font-overline font-mono ${a}`,children:n.score}),p.jsx("span",{className:"text-xs text-muted-foreground",children:"/ 100"}),p.jsxs(RA,{children:[p.jsx(PA,{asChild:!0,children:p.jsx(g4,{className:"w-3.5 h-3.5 text-muted-foreground cursor-help"})}),p.jsxs(Pv,{side:"bottom",className:"max-w-xs text-xs leading-relaxed",children:[p.jsx("p",{children:"Score = (covered + partial  0.5) / total skills  100"}),p.jsx("p",{className:"mt-1 text-muted-foreground",children:"Fully covered skills count 100%, partially covered count 50%. Skills not updated in 90+ days are flagged as outdated."})]})]}),s&&p.jsx(Ve,{className:"w-3 h-3 text-muted-foreground animate-spin"})]}),p.jsx("div",{className:"h-5 w-px bg-border"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(gd,{icon:dr,label:"Covered",value:n.covered,color:"text-success",active:e==="covered",onClick:()=>t("covered")}),p.jsx(gd,{icon:bc,label:"Partial",value:n.partial,color:"text-warning",active:e==="partial",onClick:()=>t("partial")}),p.jsx(gd,{icon:vc,label:"Missing",value:n.missing,color:"text-destructive",active:e==="missing",onClick:()=>t("missing")}),p.jsx(gd,{icon:gv,label:"Outdated",value:n.outdated,color:"text-muted-foreground",active:e==="outdated",onClick:()=>t("outdated")})]}),p.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[p.jsx("span",{className:"text-xs text-muted-foreground",children:n.lastAnalyzed?`Last analyzed ${F$(n.lastAnalyzed)}`:"Not yet analyzed"}),p.jsxs("button",{disabled:i.isPending,onClick:()=>i.mutate(),className:"flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-subheading bg-muted/50 hover:bg-muted/80 transition-all disabled:opacity-50",children:[p.jsx($C,{className:`w-3.5 h-3.5 text-muted-foreground ${i.isPending?"animate-spin":""}`}),p.jsx("span",{className:"text-muted-foreground",children:i.isPending?"Analyzing":"Re-analyze"})]})]})]})})};function F$(e){const t=Date.now()-new Date(e).getTime(),n=Math.floor(t/6e4);if(n<1)return"just now";if(n<60)return`${n}m ago`;const r=Math.floor(n/60);return r<24?`${r}h ago`:`${Math.floor(r/24)}d ago`}function gd({icon:e,label:t,value:n,color:r,active:s,onClick:i}){return p.jsxs("button",{className:`flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-subheading transition-all ${s?"bg-primary/10 ring-2 ring-primary/30":"bg-muted/50 hover:bg-muted/80"}`,onClick:i,children:[p.jsx(e,{className:`w-3.5 h-3.5 ${r}`}),p.jsx("span",{className:"text-muted-foreground",children:t}),p.jsx("span",{className:`font-overline font-mono ${r}`,children:n})]})}var ym,$f="HoverCard",[oI,Kte]=cs($f,[ll]),zf=ll(),[B$,Tb]=oI($f),lI=e=>{const{__scopeHoverCard:t,children:n,open:r,defaultOpen:s,onOpenChange:i,openDelay:a=700,closeDelay:o=300}=e,l=zf(t),u=b.useRef(0),c=b.useRef(0),d=b.useRef(!1),f=b.useRef(!1),[h,g]=_a({prop:r,defaultProp:s??!1,onChange:i,caller:$f}),y=b.useCallback(()=>{clearTimeout(c.current),u.current=window.setTimeout(()=>g(!0),a)},[a,g]),w=b.useCallback(()=>{clearTimeout(u.current),!d.current&&!f.current&&(c.current=window.setTimeout(()=>g(!1),o))},[o,g]),v=b.useCallback(()=>g(!1),[g]);return b.useEffect(()=>()=>{clearTimeout(u.current),clearTimeout(c.current)},[]),p.jsx(B$,{scope:t,open:h,onOpenChange:g,onOpen:y,onClose:w,onDismiss:v,hasSelectionRef:d,isPointerDownOnContentRef:f,children:p.jsx(Av,{...l,children:n})})};lI.displayName=$f;var uI="HoverCardTrigger",cI=b.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,s=Tb(uI,n),i=zf(n);return p.jsx(Af,{asChild:!0,...i,children:p.jsx(De.a,{"data-state":s.open?"open":"closed",...r,ref:t,onPointerEnter:_e(e.onPointerEnter,Yh(s.onOpen)),onPointerLeave:_e(e.onPointerLeave,Yh(s.onClose)),onFocus:_e(e.onFocus,s.onOpen),onBlur:_e(e.onBlur,s.onClose),onTouchStart:_e(e.onTouchStart,a=>a.preventDefault())})})});cI.displayName=uI;var U$="HoverCardPortal",[Yte,H$]=oI(U$,{forceMount:void 0}),Kh="HoverCardContent",dI=b.forwardRef((e,t)=>{const n=H$(Kh,e.__scopeHoverCard),{forceMount:r=n.forceMount,...s}=e,i=Tb(Kh,e.__scopeHoverCard);return p.jsx(yr,{present:r||i.open,children:p.jsx($$,{"data-state":i.open?"open":"closed",...s,onPointerEnter:_e(e.onPointerEnter,Yh(i.onOpen)),onPointerLeave:_e(e.onPointerLeave,Yh(i.onClose)),ref:t})})});dI.displayName=Kh;var $$=b.forwardRef((e,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,...o}=e,l=Tb(Kh,n),u=zf(n),c=b.useRef(null),d=mt(t,c),[f,h]=b.useState(!1);return b.useEffect(()=>{if(f){const g=document.body;return ym=g.style.userSelect||g.style.webkitUserSelect,g.style.userSelect="none",g.style.webkitUserSelect="none",()=>{g.style.userSelect=ym,g.style.webkitUserSelect=ym}}},[f]),b.useEffect(()=>{if(c.current){const g=()=>{h(!1),l.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var w;((w=document.getSelection())==null?void 0:w.toString())!==""&&(l.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",g),()=>{document.removeEventListener("pointerup",g),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!1}}},[l.isPointerDownOnContentRef,l.hasSelectionRef]),b.useEffect(()=>{c.current&&W$(c.current).forEach(y=>y.setAttribute("tabindex","-1"))}),p.jsx(sl,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:a,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:_e(i,g=>{g.preventDefault()}),onDismiss:l.onDismiss,children:p.jsx(Nv,{...u,...o,onPointerDown:_e(o.onPointerDown,g=>{g.currentTarget.contains(g.target)&&h(!0),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!0}),ref:d,style:{...o.style,userSelect:f?"text":void 0,WebkitUserSelect:f?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),z$="HoverCardArrow",V$=b.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,s=zf(n);return p.jsx(Iv,{...s,...r,ref:t})});V$.displayName=z$;function Yh(e){return t=>t.pointerType==="touch"?void 0:e()}function W$(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var q$=lI,K$=cI,hI=dI;const fI=q$,pI=K$,Sb=b.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>p.jsx(hI,{ref:s,align:t,sideOffset:n,className:ct("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Sb.displayName=hI.displayName;const Y$={covered:{icon:dr,label:"Covered",color:"text-success",bg:"bg-success/10",border:"border-success/20"},partial:{icon:bc,label:"Partial",color:"text-warning",bg:"bg-warning/10",border:"border-warning/20"},missing:{icon:vc,label:"Missing",color:"text-destructive",bg:"bg-destructive/10",border:"border-destructive/20"}},JE=e=>e?new Date().getTime()-new Date(e).getTime()>90*24*60*60*1e3:!1,G$=({onFillGap:e,statusFilter:t})=>{const{data:n,isLoading:r,isRefetching:s}=Eb(),i=nI();return r||!n?p.jsx("div",{className:"rounded-xl border border-border bg-card p-6 shadow-card flex items-center justify-center min-h-[300px]",children:p.jsx(Ve,{className:"w-6 h-6 text-primary animate-spin"})}):p.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"rounded-xl border border-border bg-card p-6 shadow-card",children:[p.jsx("div",{className:"flex items-center justify-between mb-5",children:p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("h2",{className:"text-lg text-foreground",children:"Skills Framework"}),s&&p.jsx(Ve,{className:"w-3.5 h-3.5 text-muted-foreground animate-spin"})]}),p.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Coverage across sales competencies"})]})}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:n.map((a,o)=>{const l=a.skills.filter(d=>d.status==="covered").length,u=Math.round(l/a.skills.length*100),c=t?a.skills.filter(d=>t==="outdated"?JE(d.lastUpdated):d.status===t):a.skills;return t&&c.length===0?null:p.jsxs(Ue.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15+o*.04},className:"rounded-lg border border-border/60 bg-muted/20 p-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("span",{className:"text-sm font-subheading text-foreground",children:a.name}),p.jsx("span",{className:"text-xs font-mono text-muted-foreground",children:t?`${c.length} of ${a.skills.length}`:`${u}%`})]}),!t&&p.jsx("div",{className:"h-1.5 rounded-full bg-muted mb-3 overflow-hidden",children:p.jsx(Ue.div,{className:"h-full rounded-full gradient-primary",initial:{width:0},animate:{width:`${u}%`},transition:{duration:1,delay:.3+o*.08}})}),p.jsx("div",{className:`grid gap-1.5 ${t?"mt-1":""}`,children:c.map(d=>{const f=Y$[d.status],h=f.icon,g=JE(d.lastUpdated),y=d.status==="missing"||d.status==="partial"||g,w=d.status!=="covered",v=p.jsxs("div",{className:`flex items-center justify-between rounded-lg px-3 py-2 border ${d.fulfilled?"bg-muted/30 border-border/40":`${f.bg} ${f.border}`} ${y&&!d.fulfilled?"cursor-pointer hover:brightness-110 transition-all":"transition-all"}`,onClick:()=>y&&!d.fulfilled&&(e==null?void 0:e(d.id,d.name)),children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(h,{className:`w-3.5 h-3.5 ${d.fulfilled?"text-muted-foreground":f.color}`}),p.jsx("span",{className:`text-sm font-subheading ${d.fulfilled?"text-muted-foreground line-through":"text-foreground"}`,children:d.name}),d.fulfilled&&p.jsx("span",{className:"text-[10px] text-muted-foreground italic",children:"Dismissed"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[d.lastUpdated&&!d.fulfilled&&p.jsx("span",{className:`text-[10px] font-mono ${g?"text-destructive font-caption":"text-muted-foreground"}`,children:new Date(d.lastUpdated).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}),y&&!d.fulfilled&&p.jsx("span",{className:"text-[10px] font-caption text-primary",children:g&&d.status==="covered"?"Update ":"Fill "})]})]});return w?p.jsxs(fI,{openDelay:300,closeDelay:200,children:[p.jsx(pI,{asChild:!0,children:v}),p.jsx(Sb,{side:"right",className:"w-auto max-w-xs p-2 text-xs",children:p.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.coverageNote&&p.jsx("p",{className:"text-muted-foreground",children:d.coverageNote}),p.jsx("button",{onClick:x=>{x.stopPropagation(),i.mutate({skillId:d.id,fulfilled:!d.fulfilled})},className:"text-[11px] font-subheading text-foreground hover:text-primary transition-colors text-left",children:d.fulfilled?"Undo":"Dismiss"})]})})]},d.id):p.jsx("div",{children:v},d.id)})})]},a.id)})})]})};function Q$(e){return ds({queryKey:["chat-history",e],queryFn:async()=>{const{data:t,error:n}=await ge.from("chat_messages").select("*, staged_edits:staged_edits(id, section_id, before_text, after_text, created_at, status, playbook_sections!inner(title))").eq("conversation_id",e).order("created_at",{ascending:!0});if(n)throw n;return(t??[]).map(r=>{const s=r.role==="assistant"&&Array.isArray(r.staged_edits)&&r.staged_edits.length>0?r.staged_edits.map(i=>({id:i.id,sectionId:i.section_id,sectionTitle:i.playbook_sections.title,before:i.before_text,after:i.after_text,rationale:"",timestamp:i.created_at,status:i.status})):void 0;return{id:r.id,role:r.role,content:r.content,timestamp:r.created_at,edits:s}})},enabled:!!e})}function X$(){const[e,t]=b.useState(!1),[n,r]=b.useState(""),[s,i]=b.useState([]),[a,o]=b.useState([]),[l,u]=b.useState(!1),c=b.useRef(null),d=Rt(),f=b.useCallback(async(y,w)=>{t(!0),r(""),i([]),o([]),u(!1);const v=new AbortController;c.current=v;try{const{error:x}=await ge.auth.getUser();if(x)throw new Error("Not authenticated");const{data:{session:E}}=await ge.auth.getSession();if(!E)throw new Error("Not authenticated");const T=await fetch("https://tqkhtbnagkgztakzhdow.supabase.co/functions/v1/chat",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E.access_token}`},body:JSON.stringify({message:y,conversationId:w.conversationId,sectionContext:w.sectionContext}),signal:v.signal});if(!T.ok){let U="Chat request failed";try{U=(await T.json()).error||U}catch{}throw new Error(U)}if(!T.body)throw new Error("No response body");const k=T.body.getReader(),S=new TextDecoder;let C="";const O=[];let M=[],I="";for(;;){const{done:U,value:G}=await k.read();if(U)break;const W=S.decode(G,{stream:!0});I+=W;const q=I.split(`
`);I=q.pop()??"";for(const ae of q)if(ae.startsWith("data: ")){const J=ae.slice(6);if(J==="[DONE]")continue;try{const F=JSON.parse(J);if(F.type==="text"){C+=F.text;const L=C.replace(/\n*\{?\{["']?suggest[\s\S]*$/,"");r(L)}else F.type==="suggestions"?(M=F.options,o(F.options)):F.type==="tool_start"?u(!0):F.type==="staged_edit"?(u(!1),O.push(F.edit),i(L=>[...L,F.edit])):F.type==="tool_error"&&(u(!1),C+=`

*Error: ${F.error}*`,r(C))}catch{}}}return d.invalidateQueries({queryKey:["chat-history",w.conversationId]}),O.length>0&&d.invalidateQueries({queryKey:["staged-edits"]}),{content:C.replace(/\n*\{?\{["']?suggest["']?:\s*\[.*?\]\}?\}\s*$/,""),edits:O,suggestions:M}}finally{t(!1),u(!1),c.current=null}},[d]),h=b.useCallback(()=>{r(""),i([]),o([])},[]),g=b.useCallback(()=>{var y;(y=c.current)==null||y.abort()},[]);return{sendMessage:f,isStreaming:e,streamingContent:n,stagedEdits:s,suggestions:a,isToolRunning:l,abort:g,clearStream:h}}function J$(){return ds({queryKey:["staged-edits"],queryFn:async()=>{const{data:e,error:t}=await ge.from("staged_edits").select("*, playbook_sections!inner(title)").order("created_at",{ascending:!1});if(t)throw t;return(e??[]).map(n=>({id:n.id,sectionId:n.section_id,section:n.playbook_sections.title,before:n.before_text,after:n.after_text,timestamp:n.created_at,status:n.status,source:n.source??void 0}))}})}function Z$(){const e=Rt();return sn({mutationFn:async t=>{const{data:{user:n}}=await ge.auth.getUser(),r={section_id:t.sectionId,before_text:t.before,after_text:t.after,source:t.source,created_by:(n==null?void 0:n.id)??null};t.autoApprove&&(r.status="approved",r.reviewed_by=(n==null?void 0:n.id)??null,r.reviewed_at=new Date().toISOString());const{error:s}=await ge.from("staged_edits").insert(r);if(s)throw s},onSuccess:()=>{e.invalidateQueries({queryKey:["staged-edits"]})}})}function mI(){const e=Rt();return sn({mutationFn:async t=>{const{data:{user:n}}=await ge.auth.getUser(),{error:r}=await ge.rpc("approve_staged_edit",{edit_id:t,reviewer_id:(n==null?void 0:n.id)??null});if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["staged-edits"]}),e.invalidateQueries({queryKey:["playbook-sections"]})}})}function gI(){const e=Rt();return sn({mutationFn:async t=>{const{data:{user:n}}=await ge.auth.getUser(),{error:r}=await ge.from("staged_edits").update({status:"rejected",reviewed_by:(n==null?void 0:n.id)??null,reviewed_at:new Date().toISOString()}).eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["staged-edits"]})}})}function ez(){const e=Rt();return sn({mutationFn:async t=>{const{data:{user:n}}=await ge.auth.getUser(),{error:r}=await ge.rpc("unapprove_staged_edit",{edit_id:t,reviewer_id:(n==null?void 0:n.id)??null});if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["staged-edits"]}),e.invalidateQueries({queryKey:["playbook-sections"]})}})}function tz(){const e=Rt();return sn({mutationFn:async t=>{const{error:n}=await ge.from("staged_edits").update({status:"pending",reviewed_by:null,reviewed_at:null}).eq("id",t);if(n)throw n},onSuccess:()=>{e.invalidateQueries({queryKey:["staged-edits"]})}})}function yI(){const e=Rt();return sn({mutationFn:async({editId:t,afterText:n})=>{const{error:r}=await ge.from("staged_edits").update({after_text:n}).eq("id",t).eq("status","pending");if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["staged-edits"]})}})}function ZE(e){const t=[],n=String(e||"");let r=n.indexOf(","),s=0,i=!1;for(;!i;){r===-1&&(r=n.length,i=!0);const a=n.slice(s,r).trim();(a||!i)&&t.push(a),s=r+1,r=n.indexOf(",",s)}return t}function vI(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const nz=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,rz=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,sz={};function eT(e,t){return(sz.jsx?rz:nz).test(e)}const iz=/[ \t\n\f\r]/g;function az(e){return typeof e=="object"?e.type==="text"?tT(e.value):!1:tT(e)}function tT(e){return e.replace(iz,"")===""}class _c{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}_c.prototype.normal={};_c.prototype.property={};_c.prototype.space=void 0;function bI(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new _c(n,r,t)}function rc(e){return e.toLowerCase()}class gn{constructor(t,n){this.attribute=n,this.property=t}}gn.prototype.attribute="";gn.prototype.booleanish=!1;gn.prototype.boolean=!1;gn.prototype.commaOrSpaceSeparated=!1;gn.prototype.commaSeparated=!1;gn.prototype.defined=!1;gn.prototype.mustUseProperty=!1;gn.prototype.number=!1;gn.prototype.overloadedBoolean=!1;gn.prototype.property="";gn.prototype.spaceSeparated=!1;gn.prototype.space=void 0;let oz=0;const ke=Na(),vt=Na(),W0=Na(),re=Na(),Ke=Na(),ko=Na(),wn=Na();function Na(){return 2**++oz}const q0=Object.freeze(Object.defineProperty({__proto__:null,boolean:ke,booleanish:vt,commaOrSpaceSeparated:wn,commaSeparated:ko,number:re,overloadedBoolean:W0,spaceSeparated:Ke},Symbol.toStringTag,{value:"Module"})),vm=Object.keys(q0);class kb extends gn{constructor(t,n,r,s){let i=-1;if(super(t,n),nT(this,"space",s),typeof r=="number")for(;++i<vm.length;){const a=vm[i];nT(this,vm[i],(r&q0[a])===q0[a])}}}kb.prototype.defined=!0;function nT(e,t,n){n&&(e[t]=n)}function gl(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const i=new kb(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[rc(r)]=r,n[rc(i.attribute)]=r}return new _c(t,n,e.space)}const xI=gl({properties:{ariaActiveDescendant:null,ariaAtomic:vt,ariaAutoComplete:null,ariaBusy:vt,ariaChecked:vt,ariaColCount:re,ariaColIndex:re,ariaColSpan:re,ariaControls:Ke,ariaCurrent:null,ariaDescribedBy:Ke,ariaDetails:null,ariaDisabled:vt,ariaDropEffect:Ke,ariaErrorMessage:null,ariaExpanded:vt,ariaFlowTo:Ke,ariaGrabbed:vt,ariaHasPopup:null,ariaHidden:vt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ke,ariaLevel:re,ariaLive:null,ariaModal:vt,ariaMultiLine:vt,ariaMultiSelectable:vt,ariaOrientation:null,ariaOwns:Ke,ariaPlaceholder:null,ariaPosInSet:re,ariaPressed:vt,ariaReadOnly:vt,ariaRelevant:null,ariaRequired:vt,ariaRoleDescription:Ke,ariaRowCount:re,ariaRowIndex:re,ariaRowSpan:re,ariaSelected:vt,ariaSetSize:re,ariaSort:null,ariaValueMax:re,ariaValueMin:re,ariaValueNow:re,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function wI(e,t){return t in e?e[t]:t}function EI(e,t){return wI(e,t.toLowerCase())}const lz=gl({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ko,acceptCharset:Ke,accessKey:Ke,action:null,allow:null,allowFullScreen:ke,allowPaymentRequest:ke,allowUserMedia:ke,alt:null,as:null,async:ke,autoCapitalize:null,autoComplete:Ke,autoFocus:ke,autoPlay:ke,blocking:Ke,capture:null,charSet:null,checked:ke,cite:null,className:Ke,cols:re,colSpan:null,content:null,contentEditable:vt,controls:ke,controlsList:Ke,coords:re|ko,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ke,defer:ke,dir:null,dirName:null,disabled:ke,download:W0,draggable:vt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ke,formTarget:null,headers:Ke,height:re,hidden:W0,high:re,href:null,hrefLang:null,htmlFor:Ke,httpEquiv:Ke,id:null,imageSizes:null,imageSrcSet:null,inert:ke,inputMode:null,integrity:null,is:null,isMap:ke,itemId:null,itemProp:Ke,itemRef:Ke,itemScope:ke,itemType:Ke,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ke,low:re,manifest:null,max:null,maxLength:re,media:null,method:null,min:null,minLength:re,multiple:ke,muted:ke,name:null,nonce:null,noModule:ke,noValidate:ke,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ke,optimum:re,pattern:null,ping:Ke,placeholder:null,playsInline:ke,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ke,referrerPolicy:null,rel:Ke,required:ke,reversed:ke,rows:re,rowSpan:re,sandbox:Ke,scope:null,scoped:ke,seamless:ke,selected:ke,shadowRootClonable:ke,shadowRootDelegatesFocus:ke,shadowRootMode:null,shape:null,size:re,sizes:null,slot:null,span:re,spellCheck:vt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:re,step:null,style:null,tabIndex:re,target:null,title:null,translate:null,type:null,typeMustMatch:ke,useMap:null,value:vt,width:re,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ke,axis:null,background:null,bgColor:null,border:re,borderColor:null,bottomMargin:re,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ke,declare:ke,event:null,face:null,frame:null,frameBorder:null,hSpace:re,leftMargin:re,link:null,longDesc:null,lowSrc:null,marginHeight:re,marginWidth:re,noResize:ke,noHref:ke,noShade:ke,noWrap:ke,object:null,profile:null,prompt:null,rev:null,rightMargin:re,rules:null,scheme:null,scrolling:vt,standby:null,summary:null,text:null,topMargin:re,valueType:null,version:null,vAlign:null,vLink:null,vSpace:re,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ke,disableRemotePlayback:ke,prefix:null,property:null,results:re,security:null,unselectable:null},space:"html",transform:EI}),uz=gl({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:wn,accentHeight:re,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:re,amplitude:re,arabicForm:null,ascent:re,attributeName:null,attributeType:null,azimuth:re,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:re,by:null,calcMode:null,capHeight:re,className:Ke,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:re,diffuseConstant:re,direction:null,display:null,dur:null,divisor:re,dominantBaseline:null,download:ke,dx:null,dy:null,edgeMode:null,editable:null,elevation:re,enableBackground:null,end:null,event:null,exponent:re,externalResourcesRequired:null,fill:null,fillOpacity:re,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ko,g2:ko,glyphName:ko,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:re,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:re,horizOriginX:re,horizOriginY:re,id:null,ideographic:re,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:re,k:re,k1:re,k2:re,k3:re,k4:re,kernelMatrix:wn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:re,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:re,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:re,overlineThickness:re,paintOrder:null,panose1:null,path:null,pathLength:re,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ke,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:re,pointsAtY:re,pointsAtZ:re,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:wn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:wn,rev:wn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:wn,requiredFeatures:wn,requiredFonts:wn,requiredFormats:wn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:re,specularExponent:re,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:re,strikethroughThickness:re,string:null,stroke:null,strokeDashArray:wn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:re,strokeOpacity:re,strokeWidth:null,style:null,surfaceScale:re,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:wn,tabIndex:re,tableValues:null,target:null,targetX:re,targetY:re,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:wn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:re,underlineThickness:re,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:re,values:null,vAlphabetic:re,vMathematical:re,vectorEffect:null,vHanging:re,vIdeographic:re,version:null,vertAdvY:re,vertOriginX:re,vertOriginY:re,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:re,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:wI}),TI=gl({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),SI=gl({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:EI}),kI=gl({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),cz={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},dz=/[A-Z]/g,rT=/-[a-z]/g,hz=/^data[-\w.:]+$/i;function Vf(e,t){const n=rc(t);let r=t,s=gn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&hz.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(rT,pz);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!rT.test(i)){let a=i.replace(dz,fz);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}s=kb}return new s(r,t)}function fz(e){return"-"+e.toLowerCase()}function pz(e){return e.charAt(1).toUpperCase()}const Cc=bI([xI,lz,TI,SI,kI],"html"),Ti=bI([xI,uz,TI,SI,kI],"svg");function sT(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function _I(e){return e.join(" ").trim()}var _b={},iT=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,mz=/\n/g,gz=/^\s*/,yz=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,vz=/^:\s*/,bz=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,xz=/^[;\s]*/,wz=/^\s+|\s+$/g,Ez=`
`,aT="/",oT="*",Ui="",Tz="comment",Sz="declaration";function kz(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function s(g){var y=g.match(mz);y&&(n+=y.length);var w=g.lastIndexOf(Ez);r=~w?g.length-w:r+g.length}function i(){var g={line:n,column:r};return function(y){return y.position=new a(g),u(),y}}function a(g){this.start=g,this.end={line:n,column:r},this.source=t.source}a.prototype.content=e;function o(g){var y=new Error(t.source+":"+n+":"+r+": "+g);if(y.reason=g,y.filename=t.source,y.line=n,y.column=r,y.source=e,!t.silent)throw y}function l(g){var y=g.exec(e);if(y){var w=y[0];return s(w),e=e.slice(w.length),y}}function u(){l(gz)}function c(g){var y;for(g=g||[];y=d();)y!==!1&&g.push(y);return g}function d(){var g=i();if(!(aT!=e.charAt(0)||oT!=e.charAt(1))){for(var y=2;Ui!=e.charAt(y)&&(oT!=e.charAt(y)||aT!=e.charAt(y+1));)++y;if(y+=2,Ui===e.charAt(y-1))return o("End of comment missing");var w=e.slice(2,y-2);return r+=2,s(w),e=e.slice(y),r+=2,g({type:Tz,comment:w})}}function f(){var g=i(),y=l(yz);if(y){if(d(),!l(vz))return o("property missing ':'");var w=l(bz),v=g({type:Sz,property:lT(y[0].replace(iT,Ui)),value:w?lT(w[0].replace(iT,Ui)):Ui});return l(xz),v}}function h(){var g=[];c(g);for(var y;y=f();)y!==!1&&(g.push(y),c(g));return g}return u(),h()}function lT(e){return e?e.replace(wz,Ui):Ui}var _z=kz,Cz=nh&&nh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_b,"__esModule",{value:!0});_b.default=Nz;const Az=Cz(_z);function Nz(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Az.default)(e),s=typeof t=="function";return r.forEach(i=>{if(i.type!=="declaration")return;const{property:a,value:o}=i;s?t(a,o,i):o&&(n=n||{},n[a]=o)}),n}var Wf={};Object.defineProperty(Wf,"__esModule",{value:!0});Wf.camelCase=void 0;var Iz=/^--[a-zA-Z0-9_-]+$/,Rz=/-([a-z])/g,Pz=/^[^-]+$/,Oz=/^-(webkit|moz|ms|o|khtml)-/,Dz=/^-(ms)-/,Lz=function(e){return!e||Pz.test(e)||Iz.test(e)},Mz=function(e,t){return t.toUpperCase()},uT=function(e,t){return"".concat(t,"-")},jz=function(e,t){return t===void 0&&(t={}),Lz(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Dz,uT):e=e.replace(Oz,uT),e.replace(Rz,Mz))};Wf.camelCase=jz;var Fz=nh&&nh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Bz=Fz(_b),Uz=Wf;function K0(e,t){var n={};return!e||typeof e!="string"||(0,Bz.default)(e,function(r,s){r&&s&&(n[(0,Uz.camelCase)(r,t)]=s)}),n}K0.default=K0;var Hz=K0;const $z=rf(Hz),qf=CI("end"),Hr=CI("start");function CI(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function zz(e){const t=Hr(e),n=qf(e);if(t&&n)return{start:t,end:n}}function fu(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?cT(e.position):"start"in e||"end"in e?cT(e):"line"in e||"column"in e?Y0(e):""}function Y0(e){return dT(e&&e.line)+":"+dT(e&&e.column)}function cT(e){return Y0(e&&e.start)+"-"+Y0(e&&e.end)}function dT(e){return e&&typeof e=="number"?e:1}class qt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",i={},a=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?s=t:!i.cause&&t&&(a=!0,s=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?i.ruleId=r:(i.source=r.slice(0,l),i.ruleId=r.slice(l+1))}if(!i.place&&i.ancestors&&i.ancestors){const l=i.ancestors[i.ancestors.length-1];l&&(i.place=l.position)}const o=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=o?o.line:void 0,this.name=fu(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=a&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}qt.prototype.file="";qt.prototype.name="";qt.prototype.reason="";qt.prototype.message="";qt.prototype.stack="";qt.prototype.column=void 0;qt.prototype.line=void 0;qt.prototype.ancestors=void 0;qt.prototype.cause=void 0;qt.prototype.fatal=void 0;qt.prototype.place=void 0;qt.prototype.ruleId=void 0;qt.prototype.source=void 0;const Cb={}.hasOwnProperty,Vz=new Map,Wz=/[A-Z]/g,qz=new Set(["table","tbody","thead","tfoot","tr"]),Kz=new Set(["td","th"]),AI="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Yz(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=nV(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=tV(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Ti:Cc,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=NI(s,e,void 0);return i&&typeof i!="string"?i:s.create(e,s.Fragment,{children:i||void 0},void 0)}function NI(e,t,n){if(t.type==="element")return Gz(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Qz(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Jz(e,t,n);if(t.type==="mdxjsEsm")return Xz(e,t);if(t.type==="root")return Zz(e,t,n);if(t.type==="text")return eV(e,t)}function Gz(e,t,n){const r=e.schema;let s=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=Ti,e.schema=s),e.ancestors.push(t);const i=RI(e,t.tagName,!1),a=rV(e,t);let o=Nb(e,t);return qz.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!az(l):!0})),II(e,a,i,t),Ab(a,o),e.ancestors.pop(),e.schema=r,e.create(t,i,a,n)}function Qz(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}sc(e,t.position)}function Xz(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);sc(e,t.position)}function Jz(e,t,n){const r=e.schema;let s=r;t.name==="svg"&&r.space==="html"&&(s=Ti,e.schema=s),e.ancestors.push(t);const i=t.name===null?e.Fragment:RI(e,t.name,!0),a=sV(e,t),o=Nb(e,t);return II(e,a,i,t),Ab(a,o),e.ancestors.pop(),e.schema=r,e.create(t,i,a,n)}function Zz(e,t,n){const r={};return Ab(r,Nb(e,t)),e.create(t,e.Fragment,r,n)}function eV(e,t){return t.value}function II(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Ab(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function tV(e,t,n){return r;function r(s,i,a,o){const u=Array.isArray(a.children)?n:t;return o?u(i,a,o):u(i,a)}}function nV(e,t){return n;function n(r,s,i,a){const o=Array.isArray(i.children),l=Hr(r);return t(s,i,a,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function rV(e,t){const n={};let r,s;for(s in t.properties)if(s!=="children"&&Cb.call(t.properties,s)){const i=iV(e,s,t.properties[s]);if(i){const[a,o]=i;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&Kz.has(t.tagName)?r=o:n[a]=o}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function sV(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const i=r.data.estree.body[0];i.type;const a=i.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else sc(e,t.position);else{const s=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,i=e.evaluater.evaluateExpression(o.expression)}else sc(e,t.position);else i=r.value===null?!0:r.value;n[s]=i}return n}function Nb(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:Vz;for(;++r<t.children.length;){const i=t.children[r];let a;if(e.passKeys){const l=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(l){const u=s.get(l)||0;a=l+"-"+u,s.set(l,u+1)}}const o=NI(e,i,a);o!==void 0&&n.push(o)}return n}function iV(e,t,n){const r=Vf(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?vI(n):_I(n)),r.property==="style"){let s=typeof n=="object"?n:aV(e,String(n));return e.stylePropertyNameCase==="css"&&(s=oV(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&r.space?cz[r.property]||r.property:r.attribute,n]}}function aV(e,t){try{return $z(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,s=new qt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=AI+"#cannot-parse-style-attribute",s}}function RI(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let i=-1,a;for(;++i<s.length;){const o=eT(s[i])?{type:"Identifier",name:s[i]}:{type:"Literal",value:s[i]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(i&&o.type==="Literal"),optional:!1}:o}r=a}else r=eT(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const s=r.value;return Cb.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(r);sc(e)}function sc(e,t){const n=new qt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=AI+"#cannot-handle-mdx-estrees-without-createevaluater",n}function oV(e){const t={};let n;for(n in e)Cb.call(e,n)&&(t[lV(n)]=e[n]);return t}function lV(e){let t=e.replace(Wz,uV);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function uV(e){return"-"+e.toLowerCase()}const bm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},cV={};function Ib(e,t){const n=cV,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return PI(e,r,s)}function PI(e,t,n){if(dV(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return hT(e.children,t,n)}return Array.isArray(e)?hT(e,t,n):""}function hT(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=PI(e[s],t,n);return r.join("")}function dV(e){return!!(e&&typeof e=="object")}const fT=document.createElement("i");function Rb(e){const t="&"+e+";";fT.innerHTML=t;const n=fT.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function An(e,t,n,r){const s=e.length;let i=0,a;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);i<r.length;)a=r.slice(i,i+1e4),a.unshift(t,0),e.splice(...a),i+=1e4,t+=1e4}function jn(e,t){return e.length>0?(An(e,e.length,0,t),e):t}const pT={}.hasOwnProperty;function OI(e){const t={};let n=-1;for(;++n<e.length;)hV(t,e[n]);return t}function hV(e,t){let n;for(n in t){const s=(pT.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let a;if(i)for(a in i){pT.call(s,a)||(s[a]=[]);const o=i[a];fV(s[a],Array.isArray(o)?o:o?[o]:[])}}}function fV(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);An(e,0,0,r)}function DI(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function hr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Jt=Si(/[A-Za-z]/),Vt=Si(/[\dA-Za-z]/),pV=Si(/[#-'*+\--9=?A-Z^-~]/);function Gh(e){return e!==null&&(e<32||e===127)}const G0=Si(/\d/),mV=Si(/[\dA-Fa-f]/),gV=Si(/[!-/:-@[-`{-~]/);function ve(e){return e!==null&&e<-2}function We(e){return e!==null&&(e<0||e===32)}function Pe(e){return e===-2||e===-1||e===32}const Kf=Si(new RegExp("\\p{P}|\\p{S}","u")),wa=Si(/\s/);function Si(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function yl(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const i=e.charCodeAt(n);let a="";if(i===37&&Vt(e.charCodeAt(n+1))&&Vt(e.charCodeAt(n+2)))s=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(a=String.fromCharCode(i));else if(i>55295&&i<57344){const o=e.charCodeAt(n+1);i<56320&&o>56319&&o<57344?(a=String.fromCharCode(i,o),s=1):a=""}else a=String.fromCharCode(i);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+s+1,a=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function je(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let i=0;return a;function a(l){return Pe(l)?(e.enter(n),o(l)):t(l)}function o(l){return Pe(l)&&i++<s?(e.consume(l),o):(e.exit(n),t(l))}}const yV={tokenize:vV};function vV(e){const t=e.attempt(this.parser.constructs.contentInitial,r,s);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),je(e,t,"linePrefix")}function s(o){return e.enter("paragraph"),i(o)}function i(o){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return ve(o)?(e.consume(o),e.exit("chunkText"),i):(e.consume(o),a)}}const bV={tokenize:xV},mT={tokenize:wV};function xV(e){const t=this,n=[];let r=0,s,i,a;return o;function o(E){if(r<n.length){const T=n[r];return t.containerState=T[1],e.attempt(T[0].continuation,l,u)(E)}return u(E)}function l(E){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&x();const T=t.events.length;let k=T,S;for(;k--;)if(t.events[k][0]==="exit"&&t.events[k][1].type==="chunkFlow"){S=t.events[k][1].end;break}v(r);let C=T;for(;C<t.events.length;)t.events[C][1].end={...S},C++;return An(t.events,k+1,0,t.events.slice(T)),t.events.length=C,u(E)}return o(E)}function u(E){if(r===n.length){if(!s)return f(E);if(s.currentConstruct&&s.currentConstruct.concrete)return g(E);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(mT,c,d)(E)}function c(E){return s&&x(),v(r),f(E)}function d(E){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,g(E)}function f(E){return t.containerState={},e.attempt(mT,h,g)(E)}function h(E){return r++,n.push([t.currentConstruct,t.containerState]),f(E)}function g(E){if(E===null){s&&x(),v(0),e.consume(E);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:i}),y(E)}function y(E){if(E===null){w(e.exit("chunkFlow"),!0),v(0),e.consume(E);return}return ve(E)?(e.consume(E),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(E),y)}function w(E,T){const k=t.sliceStream(E);if(T&&k.push(null),E.previous=i,i&&(i.next=E),i=E,s.defineSkip(E.start),s.write(k),t.parser.lazy[E.start.line]){let S=s.events.length;for(;S--;)if(s.events[S][1].start.offset<a&&(!s.events[S][1].end||s.events[S][1].end.offset>a))return;const C=t.events.length;let O=C,M,I;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){if(M){I=t.events[O][1].end;break}M=!0}for(v(r),S=C;S<t.events.length;)t.events[S][1].end={...I},S++;An(t.events,O+1,0,t.events.slice(C)),t.events.length=S}}function v(E){let T=n.length;for(;T-- >E;){const k=n[T];t.containerState=k[1],k[0].exit.call(t,e)}n.length=E}function x(){s.write([null]),i=void 0,s=void 0,t.containerState._closeFlow=void 0}}function wV(e,t,n){return je(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Qo(e){if(e===null||We(e)||wa(e))return 1;if(Kf(e))return 2}function Yf(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const i=e[s].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const Q0={name:"attention",resolveAll:EV,tokenize:TV};function EV(e,t){let n=-1,r,s,i,a,o,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},f={...e[n][1].start};gT(d,-l),gT(f,l),a={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:f},i={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},s={type:l>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[r][1].end={...a.start},e[n][1].start={...o.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=jn(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=jn(u,[["enter",s,t],["enter",a,t],["exit",a,t],["enter",i,t]]),u=jn(u,Yf(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=jn(u,[["exit",i,t],["enter",o,t],["exit",o,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=jn(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,An(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function TV(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=Qo(r);let i;return a;function a(l){return i=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===i)return e.consume(l),o;const u=e.exit("attentionSequence"),c=Qo(l),d=!c||c===2&&s||n.includes(l),f=!s||s===2&&c||n.includes(r);return u._open=!!(i===42?d:d&&(s||!f)),u._close=!!(i===42?f:f&&(c||!d)),t(l)}}function gT(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const SV={name:"autolink",tokenize:kV};function kV(e,t,n){let r=0;return s;function s(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(h){return Jt(h)?(e.consume(h),a):h===64?n(h):u(h)}function a(h){return h===43||h===45||h===46||Vt(h)?(r=1,o(h)):u(h)}function o(h){return h===58?(e.consume(h),r=0,l):(h===43||h===45||h===46||Vt(h))&&r++<32?(e.consume(h),o):(r=0,u(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||Gh(h)?n(h):(e.consume(h),l)}function u(h){return h===64?(e.consume(h),c):pV(h)?(e.consume(h),u):n(h)}function c(h){return Vt(h)?d(h):n(h)}function d(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):f(h)}function f(h){if((h===45||Vt(h))&&r++<63){const g=h===45?f:d;return e.consume(h),g}return n(h)}}const Ac={partial:!0,tokenize:_V};function _V(e,t,n){return r;function r(i){return Pe(i)?je(e,s,"linePrefix")(i):s(i)}function s(i){return i===null||ve(i)?t(i):n(i)}}const LI={continuation:{tokenize:AV},exit:NV,name:"blockQuote",tokenize:CV};function CV(e,t,n){const r=this;return s;function s(a){if(a===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),i}return n(a)}function i(a){return Pe(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function AV(e,t,n){const r=this;return s;function s(a){return Pe(a)?je(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):i(a)}function i(a){return e.attempt(LI,t,n)(a)}}function NV(e){e.exit("blockQuote")}const MI={name:"characterEscape",tokenize:IV};function IV(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),s}function s(i){return gV(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const jI={name:"characterReference",tokenize:RV};function RV(e,t,n){const r=this;let s=0,i,a;return o;function o(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),i=31,a=Vt,c(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,a=mV,c):(e.enter("characterReferenceValue"),i=7,a=G0,c(d))}function c(d){if(d===59&&s){const f=e.exit("characterReferenceValue");return a===Vt&&!Rb(r.sliceSerialize(f))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(d)&&s++<i?(e.consume(d),c):n(d)}}const yT={partial:!0,tokenize:OV},vT={concrete:!0,name:"codeFenced",tokenize:PV};function PV(e,t,n){const r=this,s={partial:!0,tokenize:k};let i=0,a=0,o;return l;function l(S){return u(S)}function u(S){const C=r.events[r.events.length-1];return i=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,o=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(S)}function c(S){return S===o?(a++,e.consume(S),c):a<3?n(S):(e.exit("codeFencedFenceSequence"),Pe(S)?je(e,d,"whitespace")(S):d(S))}function d(S){return S===null||ve(S)?(e.exit("codeFencedFence"),r.interrupt?t(S):e.check(yT,y,T)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(S))}function f(S){return S===null||ve(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(S)):Pe(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),je(e,h,"whitespace")(S)):S===96&&S===o?n(S):(e.consume(S),f)}function h(S){return S===null||ve(S)?d(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(S))}function g(S){return S===null||ve(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(S)):S===96&&S===o?n(S):(e.consume(S),g)}function y(S){return e.attempt(s,T,w)(S)}function w(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),v}function v(S){return i>0&&Pe(S)?je(e,x,"linePrefix",i+1)(S):x(S)}function x(S){return S===null||ve(S)?e.check(yT,y,T)(S):(e.enter("codeFlowValue"),E(S))}function E(S){return S===null||ve(S)?(e.exit("codeFlowValue"),x(S)):(e.consume(S),E)}function T(S){return e.exit("codeFenced"),t(S)}function k(S,C,O){let M=0;return I;function I(q){return S.enter("lineEnding"),S.consume(q),S.exit("lineEnding"),H}function H(q){return S.enter("codeFencedFence"),Pe(q)?je(S,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):U(q)}function U(q){return q===o?(S.enter("codeFencedFenceSequence"),G(q)):O(q)}function G(q){return q===o?(M++,S.consume(q),G):M>=a?(S.exit("codeFencedFenceSequence"),Pe(q)?je(S,W,"whitespace")(q):W(q)):O(q)}function W(q){return q===null||ve(q)?(S.exit("codeFencedFence"),C(q)):O(q)}}}function OV(e,t,n){const r=this;return s;function s(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i)}function i(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const xm={name:"codeIndented",tokenize:LV},DV={partial:!0,tokenize:MV};function LV(e,t,n){const r=this;return s;function s(u){return e.enter("codeIndented"),je(e,i,"linePrefix",5)(u)}function i(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?l(u):ve(u)?e.attempt(DV,a,l)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||ve(u)?(e.exit("codeFlowValue"),a(u)):(e.consume(u),o)}function l(u){return e.exit("codeIndented"),t(u)}}function MV(e,t,n){const r=this;return s;function s(a){return r.parser.lazy[r.now().line]?n(a):ve(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):je(e,i,"linePrefix",5)(a)}function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):ve(a)?s(a):n(a)}}const jV={name:"codeText",previous:BV,resolve:FV,tokenize:UV};function FV(e){let t=e.length-4,n=3,r,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)s===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(s=r):(r===t||e[r][1].type==="lineEnding")&&(e[s][1].type="codeTextData",r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),t-=r-s-2,r=s+2),s=void 0);return e}function BV(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function UV(e,t,n){let r=0,s,i;return a;function a(d){return e.enter("codeText"),e.enter("codeTextSequence"),o(d)}function o(d){return d===96?(e.consume(d),r++,o):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):d===96?(i=e.enter("codeTextSequence"),s=0,c(d)):ve(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||ve(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),u)}function c(d){return d===96?(e.consume(d),s++,c):s===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(i.type="codeTextData",u(d))}}class HV{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const s=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&Dl(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Dl(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Dl(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Dl(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Dl(this.left,n.reverse())}}}function Dl(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function FI(e){const t={};let n=-1,r,s,i,a,o,l,u;const c=new HV(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,i=0,i<l.length&&l[i][1].type==="lineEndingBlank"&&(i+=2),i<l.length&&l[i][1].type==="content"))for(;++i<l.length&&l[i][1].type!=="content";)l[i][1].type==="chunkText"&&(l[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,$V(c,n)),n=t[n],u=!0);else if(r[1]._container){for(i=n,s=void 0;i--;)if(a=c.get(i),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(s&&(c.get(s)[1].type="lineEndingBlank"),a[1].type="lineEnding",s=i);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;s&&(r[1].end={...c.get(s)[1].start},o=c.slice(s,n),o.unshift(r),c.splice(s,n-s+1,o))}}return An(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function $V(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const i=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,l=[],u={};let c,d,f=-1,h=n,g=0,y=0;const w=[y];for(;h;){for(;e.get(++s)[1]!==h;);i.push(s),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),d&&a.defineSkip(h.start),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(c),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++f<o.length;)o[f][0]==="exit"&&o[f-1][0]==="enter"&&o[f][1].type===o[f-1][1].type&&o[f][1].start.line!==o[f][1].end.line&&(y=f+1,w.push(y),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(a.events=[],h?(h._tokenizer=void 0,h.previous=void 0):w.pop(),f=w.length;f--;){const v=o.slice(w[f],w[f+1]),x=i.pop();l.push([x,x+v.length-1]),e.splice(x,2,v)}for(l.reverse(),f=-1;++f<l.length;)u[g+l[f][0]]=g+l[f][1],g+=l[f][1]-l[f][0]-1;return u}const zV={resolve:WV,tokenize:qV},VV={partial:!0,tokenize:KV};function WV(e){return FI(e),e}function qV(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(o)}function s(o){return o===null?i(o):ve(o)?e.check(VV,a,i)(o):(e.consume(o),s)}function i(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function KV(e,t,n){const r=this;return s;function s(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),je(e,i,"linePrefix")}function i(a){if(a===null||ve(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function BI(e,t,n,r,s,i,a,o,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(v){return v===60?(e.enter(r),e.enter(s),e.enter(i),e.consume(v),e.exit(i),f):v===null||v===32||v===41||Gh(v)?n(v):(e.enter(r),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),y(v))}function f(v){return v===62?(e.enter(i),e.consume(v),e.exit(i),e.exit(s),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),h(v))}function h(v){return v===62?(e.exit("chunkString"),e.exit(o),f(v)):v===null||v===60||ve(v)?n(v):(e.consume(v),v===92?g:h)}function g(v){return v===60||v===62||v===92?(e.consume(v),h):h(v)}function y(v){return!c&&(v===null||v===41||We(v))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(r),t(v)):c<u&&v===40?(e.consume(v),c++,y):v===41?(e.consume(v),c--,y):v===null||v===32||v===40||Gh(v)?n(v):(e.consume(v),v===92?w:y)}function w(v){return v===40||v===41||v===92?(e.consume(v),y):y(v)}}function UI(e,t,n,r,s,i){const a=this;let o=0,l;return u;function u(h){return e.enter(r),e.enter(s),e.consume(h),e.exit(s),e.enter(i),c}function c(h){return o>999||h===null||h===91||h===93&&!l||h===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(h):h===93?(e.exit(i),e.enter(s),e.consume(h),e.exit(s),e.exit(r),t):ve(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||ve(h)||o++>999?(e.exit("chunkString"),c(h)):(e.consume(h),l||(l=!Pe(h)),h===92?f:d)}function f(h){return h===91||h===92||h===93?(e.consume(h),o++,d):d(h)}}function HI(e,t,n,r,s,i){let a;return o;function o(f){return f===34||f===39||f===40?(e.enter(r),e.enter(s),e.consume(f),e.exit(s),a=f===40?41:f,l):n(f)}function l(f){return f===a?(e.enter(s),e.consume(f),e.exit(s),e.exit(r),t):(e.enter(i),u(f))}function u(f){return f===a?(e.exit(i),l(a)):f===null?n(f):ve(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),je(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===a||f===null||ve(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?d:c)}function d(f){return f===a||f===92?(e.consume(f),c):c(f)}}function pu(e,t){let n;return r;function r(s){return ve(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r):Pe(s)?je(e,r,n?"linePrefix":"lineSuffix")(s):t(s)}}const YV={name:"definition",tokenize:QV},GV={partial:!0,tokenize:XV};function QV(e,t,n){const r=this;let s;return i;function i(h){return e.enter("definition"),a(h)}function a(h){return UI.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function o(h){return s=hr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):n(h)}function l(h){return We(h)?pu(e,u)(h):u(h)}function u(h){return BI(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(GV,d,d)(h)}function d(h){return Pe(h)?je(e,f,"whitespace")(h):f(h)}function f(h){return h===null||ve(h)?(e.exit("definition"),r.parser.defined.push(s),t(h)):n(h)}}function XV(e,t,n){return r;function r(o){return We(o)?pu(e,s)(o):n(o)}function s(o){return HI(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function i(o){return Pe(o)?je(e,a,"whitespace")(o):a(o)}function a(o){return o===null||ve(o)?t(o):n(o)}}const JV={name:"hardBreakEscape",tokenize:ZV};function ZV(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),s}function s(i){return ve(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const eW={name:"headingAtx",resolve:tW,tokenize:nW};function tW(e,t){let n=e.length-2,r=3,s,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},An(e,r,n-r+1,[["enter",s,t],["enter",i,t],["exit",i,t],["exit",s,t]])),e}function nW(e,t,n){let r=0;return s;function s(c){return e.enter("atxHeading"),i(c)}function i(c){return e.enter("atxHeadingSequence"),a(c)}function a(c){return c===35&&r++<6?(e.consume(c),a):c===null||We(c)?(e.exit("atxHeadingSequence"),o(c)):n(c)}function o(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||ve(c)?(e.exit("atxHeading"),t(c)):Pe(c)?je(e,o,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),o(c))}function u(c){return c===null||c===35||We(c)?(e.exit("atxHeadingText"),o(c)):(e.consume(c),u)}}const rW=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],bT=["pre","script","style","textarea"],sW={concrete:!0,name:"htmlFlow",resolveTo:oW,tokenize:lW},iW={partial:!0,tokenize:cW},aW={partial:!0,tokenize:uW};function oW(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function lW(e,t,n){const r=this;let s,i,a,o,l;return u;function u(A){return c(A)}function c(A){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(A),d}function d(A){return A===33?(e.consume(A),f):A===47?(e.consume(A),i=!0,y):A===63?(e.consume(A),s=3,r.interrupt?t:_):Jt(A)?(e.consume(A),a=String.fromCharCode(A),w):n(A)}function f(A){return A===45?(e.consume(A),s=2,h):A===91?(e.consume(A),s=5,o=0,g):Jt(A)?(e.consume(A),s=4,r.interrupt?t:_):n(A)}function h(A){return A===45?(e.consume(A),r.interrupt?t:_):n(A)}function g(A){const X="CDATA[";return A===X.charCodeAt(o++)?(e.consume(A),o===X.length?r.interrupt?t:U:g):n(A)}function y(A){return Jt(A)?(e.consume(A),a=String.fromCharCode(A),w):n(A)}function w(A){if(A===null||A===47||A===62||We(A)){const X=A===47,Q=a.toLowerCase();return!X&&!i&&bT.includes(Q)?(s=1,r.interrupt?t(A):U(A)):rW.includes(a.toLowerCase())?(s=6,X?(e.consume(A),v):r.interrupt?t(A):U(A)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(A):i?x(A):E(A))}return A===45||Vt(A)?(e.consume(A),a+=String.fromCharCode(A),w):n(A)}function v(A){return A===62?(e.consume(A),r.interrupt?t:U):n(A)}function x(A){return Pe(A)?(e.consume(A),x):I(A)}function E(A){return A===47?(e.consume(A),I):A===58||A===95||Jt(A)?(e.consume(A),T):Pe(A)?(e.consume(A),E):I(A)}function T(A){return A===45||A===46||A===58||A===95||Vt(A)?(e.consume(A),T):k(A)}function k(A){return A===61?(e.consume(A),S):Pe(A)?(e.consume(A),k):E(A)}function S(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(e.consume(A),l=A,C):Pe(A)?(e.consume(A),S):O(A)}function C(A){return A===l?(e.consume(A),l=null,M):A===null||ve(A)?n(A):(e.consume(A),C)}function O(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||We(A)?k(A):(e.consume(A),O)}function M(A){return A===47||A===62||Pe(A)?E(A):n(A)}function I(A){return A===62?(e.consume(A),H):n(A)}function H(A){return A===null||ve(A)?U(A):Pe(A)?(e.consume(A),H):n(A)}function U(A){return A===45&&s===2?(e.consume(A),ae):A===60&&s===1?(e.consume(A),J):A===62&&s===4?(e.consume(A),ne):A===63&&s===3?(e.consume(A),_):A===93&&s===5?(e.consume(A),L):ve(A)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(iW,j,G)(A)):A===null||ve(A)?(e.exit("htmlFlowData"),G(A)):(e.consume(A),U)}function G(A){return e.check(aW,W,j)(A)}function W(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),q}function q(A){return A===null||ve(A)?G(A):(e.enter("htmlFlowData"),U(A))}function ae(A){return A===45?(e.consume(A),_):U(A)}function J(A){return A===47?(e.consume(A),a="",F):U(A)}function F(A){if(A===62){const X=a.toLowerCase();return bT.includes(X)?(e.consume(A),ne):U(A)}return Jt(A)&&a.length<8?(e.consume(A),a+=String.fromCharCode(A),F):U(A)}function L(A){return A===93?(e.consume(A),_):U(A)}function _(A){return A===62?(e.consume(A),ne):A===45&&s===2?(e.consume(A),_):U(A)}function ne(A){return A===null||ve(A)?(e.exit("htmlFlowData"),j(A)):(e.consume(A),ne)}function j(A){return e.exit("htmlFlow"),t(A)}}function uW(e,t,n){const r=this;return s;function s(a){return ve(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):n(a)}function i(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function cW(e,t,n){return r;function r(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(Ac,t,n)}}const dW={name:"htmlText",tokenize:hW};function hW(e,t,n){const r=this;let s,i,a;return o;function o(_){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(_),l}function l(_){return _===33?(e.consume(_),u):_===47?(e.consume(_),k):_===63?(e.consume(_),E):Jt(_)?(e.consume(_),O):n(_)}function u(_){return _===45?(e.consume(_),c):_===91?(e.consume(_),i=0,g):Jt(_)?(e.consume(_),x):n(_)}function c(_){return _===45?(e.consume(_),h):n(_)}function d(_){return _===null?n(_):_===45?(e.consume(_),f):ve(_)?(a=d,J(_)):(e.consume(_),d)}function f(_){return _===45?(e.consume(_),h):d(_)}function h(_){return _===62?ae(_):_===45?f(_):d(_)}function g(_){const ne="CDATA[";return _===ne.charCodeAt(i++)?(e.consume(_),i===ne.length?y:g):n(_)}function y(_){return _===null?n(_):_===93?(e.consume(_),w):ve(_)?(a=y,J(_)):(e.consume(_),y)}function w(_){return _===93?(e.consume(_),v):y(_)}function v(_){return _===62?ae(_):_===93?(e.consume(_),v):y(_)}function x(_){return _===null||_===62?ae(_):ve(_)?(a=x,J(_)):(e.consume(_),x)}function E(_){return _===null?n(_):_===63?(e.consume(_),T):ve(_)?(a=E,J(_)):(e.consume(_),E)}function T(_){return _===62?ae(_):E(_)}function k(_){return Jt(_)?(e.consume(_),S):n(_)}function S(_){return _===45||Vt(_)?(e.consume(_),S):C(_)}function C(_){return ve(_)?(a=C,J(_)):Pe(_)?(e.consume(_),C):ae(_)}function O(_){return _===45||Vt(_)?(e.consume(_),O):_===47||_===62||We(_)?M(_):n(_)}function M(_){return _===47?(e.consume(_),ae):_===58||_===95||Jt(_)?(e.consume(_),I):ve(_)?(a=M,J(_)):Pe(_)?(e.consume(_),M):ae(_)}function I(_){return _===45||_===46||_===58||_===95||Vt(_)?(e.consume(_),I):H(_)}function H(_){return _===61?(e.consume(_),U):ve(_)?(a=H,J(_)):Pe(_)?(e.consume(_),H):M(_)}function U(_){return _===null||_===60||_===61||_===62||_===96?n(_):_===34||_===39?(e.consume(_),s=_,G):ve(_)?(a=U,J(_)):Pe(_)?(e.consume(_),U):(e.consume(_),W)}function G(_){return _===s?(e.consume(_),s=void 0,q):_===null?n(_):ve(_)?(a=G,J(_)):(e.consume(_),G)}function W(_){return _===null||_===34||_===39||_===60||_===61||_===96?n(_):_===47||_===62||We(_)?M(_):(e.consume(_),W)}function q(_){return _===47||_===62||We(_)?M(_):n(_)}function ae(_){return _===62?(e.consume(_),e.exit("htmlTextData"),e.exit("htmlText"),t):n(_)}function J(_){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),F}function F(_){return Pe(_)?je(e,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):L(_)}function L(_){return e.enter("htmlTextData"),a(_)}}const Pb={name:"labelEnd",resolveAll:gW,resolveTo:yW,tokenize:vW},fW={tokenize:bW},pW={tokenize:xW},mW={tokenize:wW};function gW(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",t+=s}}return e.length!==n.length&&An(e,0,e.length,n),e}function yW(e,t){let n=e.length,r=0,s,i,a,o;for(;n--;)if(s=e[n][1],i){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(i=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(a=n);const l={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[i][1].start},end:{...e[a][1].end}},c={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",l,t],["enter",u,t]],o=jn(o,e.slice(i+1,i+r+3)),o=jn(o,[["enter",c,t]]),o=jn(o,Yf(t.parser.constructs.insideSpan.null,e.slice(i+r+4,a-3),t)),o=jn(o,[["exit",c,t],e[a-2],e[a-1],["exit",u,t]]),o=jn(o,e.slice(a+1)),o=jn(o,[["exit",l,t]]),An(e,i,e.length,o),e}function vW(e,t,n){const r=this;let s=r.events.length,i,a;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){i=r.events[s][1];break}return o;function o(f){return i?i._inactive?d(f):(a=r.parser.defined.includes(hr(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),l):n(f)}function l(f){return f===40?e.attempt(fW,c,a?c:d)(f):f===91?e.attempt(pW,c,a?u:d)(f):a?c(f):d(f)}function u(f){return e.attempt(mW,c,d)(f)}function c(f){return t(f)}function d(f){return i._balanced=!0,n(f)}}function bW(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),s}function s(d){return We(d)?pu(e,i)(d):i(d)}function i(d){return d===41?c(d):BI(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function a(d){return We(d)?pu(e,l)(d):c(d)}function o(d){return n(d)}function l(d){return d===34||d===39||d===40?HI(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return We(d)?pu(e,c)(d):c(d)}function c(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function xW(e,t,n){const r=this;return s;function s(o){return UI.call(r,e,i,a,"reference","referenceMarker","referenceString")(o)}function i(o){return r.parser.defined.includes(hr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function a(o){return n(o)}}function wW(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),s}function s(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const EW={name:"labelStartImage",resolveAll:Pb.resolveAll,tokenize:TW};function TW(e,t,n){const r=this;return s;function s(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),i}function i(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const SW={name:"labelStartLink",resolveAll:Pb.resolveAll,tokenize:kW};function kW(e,t,n){const r=this;return s;function s(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),i}function i(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const wm={name:"lineEnding",tokenize:_W};function _W(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),je(e,t,"linePrefix")}}const Qd={name:"thematicBreak",tokenize:CW};function CW(e,t,n){let r=0,s;return i;function i(u){return e.enter("thematicBreak"),a(u)}function a(u){return s=u,o(u)}function o(u){return u===s?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||ve(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===s?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),Pe(u)?je(e,o,"whitespace")(u):o(u))}}const on={continuation:{tokenize:RW},exit:OW,name:"list",tokenize:IW},AW={partial:!0,tokenize:DW},NW={partial:!0,tokenize:PW};function IW(e,t,n){const r=this,s=r.events[r.events.length-1];let i=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,a=0;return o;function o(h){const g=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:G0(h)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(Qd,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return n(h)}function l(h){return G0(h)&&++a<10?(e.consume(h),l):(!r.interrupt||a<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(Ac,r.interrupt?n:c,e.attempt(AW,f,d))}function c(h){return r.containerState.initialBlankLine=!0,i++,f(h)}function d(h){return Pe(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),f):n(h)}function f(h){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function RW(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Ac,s,i);function s(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,je(e,t,"listItemIndent",r.containerState.size+1)(o)}function i(o){return r.containerState.furtherBlankLines||!Pe(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(NW,t,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,je(e,e.attempt(on,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function PW(e,t,n){const r=this;return je(e,s,"listItemIndent",r.containerState.size+1);function s(i){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(i):n(i)}}function OW(e){e.exit(this.containerState.type)}function DW(e,t,n){const r=this;return je(e,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(i){const a=r.events[r.events.length-1];return!Pe(i)&&a&&a[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const xT={name:"setextUnderline",resolveTo:LW,tokenize:MW};function LW(e,t){let n=e.length,r,s,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",i?(e.splice(s,0,["enter",a,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function MW(e,t,n){const r=this;let s;return i;function i(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),s=u,a(u)):n(u)}function a(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===s?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),Pe(u)?je(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||ve(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const jW={tokenize:FW};function FW(e){const t=this,n=e.attempt(Ac,r,e.attempt(this.parser.constructs.flowInitial,s,je(e,e.attempt(this.parser.constructs.flow,s,e.attempt(zV,s)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const BW={resolveAll:zI()},UW=$I("string"),HW=$I("text");function $I(e){return{resolveAll:zI(e==="text"?$W:void 0),tokenize:t};function t(n){const r=this,s=this.parser.constructs[e],i=n.attempt(s,a,o);return a;function a(c){return u(c)?i(c):o(c)}function o(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),i(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=s[c];let f=-1;if(d)for(;++f<d.length;){const h=d[f];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function zI(e){return t;function t(n,r){let s=-1,i;for(;++s<=n.length;)i===void 0?n[s]&&n[s][1].type==="data"&&(i=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==i+2&&(n[i][1].end=n[s-1][1].end,n.splice(i+2,s-i-2),s=i+2),i=void 0);return e?e(n,r):n}}function $W(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],s=t.sliceStream(r);let i=s.length,a=-1,o=0,l;for(;i--;){const u=s[i];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(u===-2)l=!0,o++;else if(u!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const u={type:n===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?a:r.start._bufferIndex+a,_index:r.start._index+i,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const zW={42:on,43:on,45:on,48:on,49:on,50:on,51:on,52:on,53:on,54:on,55:on,56:on,57:on,62:LI},VW={91:YV},WW={[-2]:xm,[-1]:xm,32:xm},qW={35:eW,42:Qd,45:[xT,Qd],60:sW,61:xT,95:Qd,96:vT,126:vT},KW={38:jI,92:MI},YW={[-5]:wm,[-4]:wm,[-3]:wm,33:EW,38:jI,42:Q0,60:[SV,dW],91:SW,92:[JV,MI],93:Pb,95:Q0,96:jV},GW={null:[Q0,BW]},QW={null:[42,95]},XW={null:[]},JW=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:QW,contentInitial:VW,disable:XW,document:zW,flow:qW,flowInitial:WW,insideSpan:GW,string:KW,text:YW},Symbol.toStringTag,{value:"Module"}));function ZW(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},i=[];let a=[],o=[];const l={attempt:C(k),check:C(S),consume:x,enter:E,exit:T,interrupt:C(S,{interrupt:!0})},u={code:null,containerState:{},defineSkip:y,events:[],now:g,parser:e,previous:null,sliceSerialize:f,sliceStream:h,write:d};let c=t.tokenize.call(u,l);return t.resolveAll&&i.push(t),u;function d(H){return a=jn(a,H),w(),a[a.length-1]!==null?[]:(O(t,0),u.events=Yf(i,u.events,u),u.events)}function f(H,U){return tq(h(H),U)}function h(H){return eq(a,H)}function g(){const{_bufferIndex:H,_index:U,line:G,column:W,offset:q}=r;return{_bufferIndex:H,_index:U,line:G,column:W,offset:q}}function y(H){s[H.line]=H.column,I()}function w(){let H;for(;r._index<a.length;){const U=a[r._index];if(typeof U=="string")for(H=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===H&&r._bufferIndex<U.length;)v(U.charCodeAt(r._bufferIndex));else v(U)}}function v(H){c=c(H)}function x(H){ve(H)?(r.line++,r.column=1,r.offset+=H===-3?2:1,I()):H!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=H}function E(H,U){const G=U||{};return G.type=H,G.start=g(),u.events.push(["enter",G,u]),o.push(G),G}function T(H){const U=o.pop();return U.end=g(),u.events.push(["exit",U,u]),U}function k(H,U){O(H,U.from)}function S(H,U){U.restore()}function C(H,U){return G;function G(W,q,ae){let J,F,L,_;return Array.isArray(W)?j(W):"tokenize"in W?j([W]):ne(W);function ne(oe){return $;function $(pe){const we=pe!==null&&oe[pe],Le=pe!==null&&oe.null,ee=[...Array.isArray(we)?we:we?[we]:[],...Array.isArray(Le)?Le:Le?[Le]:[]];return j(ee)(pe)}}function j(oe){return J=oe,F=0,oe.length===0?ae:A(oe[F])}function A(oe){return $;function $(pe){return _=M(),L=oe,oe.partial||(u.currentConstruct=oe),oe.name&&u.parser.constructs.disable.null.includes(oe.name)?Q():oe.tokenize.call(U?Object.assign(Object.create(u),U):u,l,X,Q)(pe)}}function X(oe){return H(L,_),q}function Q(oe){return _.restore(),++F<J.length?A(J[F]):ae}}}function O(H,U){H.resolveAll&&!i.includes(H)&&i.push(H),H.resolve&&An(u.events,U,u.events.length-U,H.resolve(u.events.slice(U),u)),H.resolveTo&&(u.events=H.resolveTo(u.events,u))}function M(){const H=g(),U=u.previous,G=u.currentConstruct,W=u.events.length,q=Array.from(o);return{from:W,restore:ae};function ae(){r=H,u.previous=U,u.currentConstruct=G,u.events.length=W,o=q,I()}}function I(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function eq(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,i=t.end._bufferIndex;let a;if(n===s)a=[e[n].slice(r,i)];else{if(a=e.slice(n,s),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}i>0&&a.push(e[s].slice(0,i))}return a}function tq(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const i=e[n];let a;if(typeof i=="string")a=i;else switch(i){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&s)continue;a=" ";break}default:a=String.fromCharCode(i)}s=i===-2,r.push(a)}return r.join("")}function nq(e){const r={constructs:OI([JW,...(e||{}).extensions||[]]),content:s(yV),defined:[],document:s(bV),flow:s(jW),lazy:{},string:s(UW),text:s(HW)};return r;function s(i){return a;function a(o){return ZW(r,i,o)}}}function rq(e){for(;!FI(e););return e}const wT=/[\0\t\n\r]/g;function sq(){let e=1,t="",n=!0,r;return s;function s(i,a,o){const l=[];let u,c,d,f,h;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(a||void 0).decode(i)),d=0,t="",n&&(i.charCodeAt(0)===65279&&d++,n=void 0);d<i.length;){if(wT.lastIndex=d,u=wT.exec(i),f=u&&u.index!==void 0?u.index:i.length,h=i.charCodeAt(f),!u){t=i.slice(d);break}if(h===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(i.slice(d,f)),e+=f-d),h){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}d=f+1}return o&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const iq=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function aq(e){return e.replace(iq,oq)}function oq(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),i=s===120||s===88;return DI(n.slice(i?2:1),i?16:10)}return Rb(n)||e}const VI={}.hasOwnProperty;function lq(e,t,n){return typeof t!="string"&&(n=t,t=void 0),uq(n)(rq(nq(n).document().write(sq()(e,t,!0))))}function uq(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Pt),autolinkProtocol:M,autolinkEmail:M,atxHeading:i(ue),blockQuote:i(Le),characterEscape:M,characterReference:M,codeFenced:i(ee),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:i(ee,a),codeText:i(me,a),codeTextData:M,data:M,codeFlowValue:M,definition:i(fe),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:i(K),hardBreakEscape:i(Ne),hardBreakTrailing:i(Ne),htmlFlow:i(dt,a),htmlFlowData:M,htmlText:i(dt,a),htmlTextData:M,image:i(gt),label:a,link:i(Pt),listItem:i(Ci),listItemValue:f,listOrdered:i(_i,d),listUnordered:i(_i),paragraph:i(Dc),reference:A,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:i(ue),strong:i(zr),thematicBreak:i(cp)},exit:{atxHeading:l(),atxHeadingSequence:k,autolink:l(),autolinkEmail:we,autolinkProtocol:pe,blockQuote:l(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:Q,characterReferenceMarkerNumeric:Q,characterReferenceValue:oe,characterReference:$,codeFenced:l(w),codeFencedFence:y,codeFencedFenceInfo:h,codeFencedFenceMeta:g,codeFlowValue:I,codeIndented:l(v),codeText:l(q),codeTextData:I,data:I,definition:l(),definitionDestinationString:T,definitionLabelString:x,definitionTitleString:E,emphasis:l(),hardBreakEscape:l(U),hardBreakTrailing:l(U),htmlFlow:l(G),htmlFlowData:I,htmlText:l(W),htmlTextData:I,image:l(J),label:L,labelText:F,lineEnding:H,link:l(ae),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:X,resourceDestinationString:_,resourceTitleString:ne,resource:j,setextHeading:l(O),setextHeadingLineSequence:C,setextHeadingText:S,strong:l(),thematicBreak:l()}};WI(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(V){let se={type:"root",children:[]};const Ee={stack:[se],tokenStack:[],config:t,enter:o,exit:u,buffer:a,resume:c,data:n},Re=[];let Be=-1;for(;++Be<V.length;)if(V[Be][1].type==="listOrdered"||V[Be][1].type==="listUnordered")if(V[Be][0]==="enter")Re.push(Be);else{const vn=Re.pop();Be=s(V,vn,Be)}for(Be=-1;++Be<V.length;){const vn=t[V[Be][0]];VI.call(vn,V[Be][1].type)&&vn[V[Be][1].type].call(Object.assign({sliceSerialize:V[Be][2].sliceSerialize},Ee),V[Be][1])}if(Ee.tokenStack.length>0){const vn=Ee.tokenStack[Ee.tokenStack.length-1];(vn[1]||ET).call(Ee,void 0,vn[0])}for(se.position={start:Es(V.length>0?V[0][1].start:{line:1,column:1,offset:0}),end:Es(V.length>0?V[V.length-2][1].end:{line:1,column:1,offset:0})},Be=-1;++Be<t.transforms.length;)se=t.transforms[Be](se)||se;return se}function s(V,se,Ee){let Re=se-1,Be=-1,vn=!1,xr,bn,Pn,ps;for(;++Re<=Ee;){const yt=V[Re];switch(yt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{yt[0]==="enter"?Be++:Be--,ps=void 0;break}case"lineEndingBlank":{yt[0]==="enter"&&(xr&&!ps&&!Be&&!Pn&&(Pn=Re),ps=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ps=void 0}if(!Be&&yt[0]==="enter"&&yt[1].type==="listItemPrefix"||Be===-1&&yt[0]==="exit"&&(yt[1].type==="listUnordered"||yt[1].type==="listOrdered")){if(xr){let ms=Re;for(bn=void 0;ms--;){const Kn=V[ms];if(Kn[1].type==="lineEnding"||Kn[1].type==="lineEndingBlank"){if(Kn[0]==="exit")continue;bn&&(V[bn][1].type="lineEndingBlank",vn=!0),Kn[1].type="lineEnding",bn=ms}else if(!(Kn[1].type==="linePrefix"||Kn[1].type==="blockQuotePrefix"||Kn[1].type==="blockQuotePrefixWhitespace"||Kn[1].type==="blockQuoteMarker"||Kn[1].type==="listItemIndent"))break}Pn&&(!bn||Pn<bn)&&(xr._spread=!0),xr.end=Object.assign({},bn?V[bn][1].start:yt[1].end),V.splice(bn||Re,0,["exit",xr,yt[2]]),Re++,Ee++}if(yt[1].type==="listItemPrefix"){const ms={type:"listItem",_spread:!1,start:Object.assign({},yt[1].start),end:void 0};xr=ms,V.splice(Re,0,["enter",ms,yt[2]]),Re++,Ee++,Pn=void 0,ps=!0}}}return V[se][1]._spread=vn,Ee}function i(V,se){return Ee;function Ee(Re){o.call(this,V(Re),Re),se&&se.call(this,Re)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(V,se,Ee){this.stack[this.stack.length-1].children.push(V),this.stack.push(V),this.tokenStack.push([se,Ee||void 0]),V.position={start:Es(se.start),end:void 0}}function l(V){return se;function se(Ee){V&&V.call(this,Ee),u.call(this,Ee)}}function u(V,se){const Ee=this.stack.pop(),Re=this.tokenStack.pop();if(Re)Re[0].type!==V.type&&(se?se.call(this,V,Re[0]):(Re[1]||ET).call(this,V,Re[0]));else throw new Error("Cannot close `"+V.type+"` ("+fu({start:V.start,end:V.end})+"): its not open");Ee.position.end=Es(V.end)}function c(){return Ib(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(V){if(this.data.expectingFirstListItemValue){const se=this.stack[this.stack.length-2];se.start=Number.parseInt(this.sliceSerialize(V),10),this.data.expectingFirstListItemValue=void 0}}function h(){const V=this.resume(),se=this.stack[this.stack.length-1];se.lang=V}function g(){const V=this.resume(),se=this.stack[this.stack.length-1];se.meta=V}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const V=this.resume(),se=this.stack[this.stack.length-1];se.value=V.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const V=this.resume(),se=this.stack[this.stack.length-1];se.value=V.replace(/(\r?\n|\r)$/g,"")}function x(V){const se=this.resume(),Ee=this.stack[this.stack.length-1];Ee.label=se,Ee.identifier=hr(this.sliceSerialize(V)).toLowerCase()}function E(){const V=this.resume(),se=this.stack[this.stack.length-1];se.title=V}function T(){const V=this.resume(),se=this.stack[this.stack.length-1];se.url=V}function k(V){const se=this.stack[this.stack.length-1];if(!se.depth){const Ee=this.sliceSerialize(V).length;se.depth=Ee}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function C(V){const se=this.stack[this.stack.length-1];se.depth=this.sliceSerialize(V).codePointAt(0)===61?1:2}function O(){this.data.setextHeadingSlurpLineEnding=void 0}function M(V){const Ee=this.stack[this.stack.length-1].children;let Re=Ee[Ee.length-1];(!Re||Re.type!=="text")&&(Re=up(),Re.position={start:Es(V.start),end:void 0},Ee.push(Re)),this.stack.push(Re)}function I(V){const se=this.stack.pop();se.value+=this.sliceSerialize(V),se.position.end=Es(V.end)}function H(V){const se=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ee=se.children[se.children.length-1];Ee.position.end=Es(V.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(se.type)&&(M.call(this,V),I.call(this,V))}function U(){this.data.atHardBreak=!0}function G(){const V=this.resume(),se=this.stack[this.stack.length-1];se.value=V}function W(){const V=this.resume(),se=this.stack[this.stack.length-1];se.value=V}function q(){const V=this.resume(),se=this.stack[this.stack.length-1];se.value=V}function ae(){const V=this.stack[this.stack.length-1];if(this.data.inReference){const se=this.data.referenceType||"shortcut";V.type+="Reference",V.referenceType=se,delete V.url,delete V.title}else delete V.identifier,delete V.label;this.data.referenceType=void 0}function J(){const V=this.stack[this.stack.length-1];if(this.data.inReference){const se=this.data.referenceType||"shortcut";V.type+="Reference",V.referenceType=se,delete V.url,delete V.title}else delete V.identifier,delete V.label;this.data.referenceType=void 0}function F(V){const se=this.sliceSerialize(V),Ee=this.stack[this.stack.length-2];Ee.label=aq(se),Ee.identifier=hr(se).toLowerCase()}function L(){const V=this.stack[this.stack.length-1],se=this.resume(),Ee=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ee.type==="link"){const Re=V.children;Ee.children=Re}else Ee.alt=se}function _(){const V=this.resume(),se=this.stack[this.stack.length-1];se.url=V}function ne(){const V=this.resume(),se=this.stack[this.stack.length-1];se.title=V}function j(){this.data.inReference=void 0}function A(){this.data.referenceType="collapsed"}function X(V){const se=this.resume(),Ee=this.stack[this.stack.length-1];Ee.label=se,Ee.identifier=hr(this.sliceSerialize(V)).toLowerCase(),this.data.referenceType="full"}function Q(V){this.data.characterReferenceType=V.type}function oe(V){const se=this.sliceSerialize(V),Ee=this.data.characterReferenceType;let Re;Ee?(Re=DI(se,Ee==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Re=Rb(se);const Be=this.stack[this.stack.length-1];Be.value+=Re}function $(V){const se=this.stack.pop();se.position.end=Es(V.end)}function pe(V){I.call(this,V);const se=this.stack[this.stack.length-1];se.url=this.sliceSerialize(V)}function we(V){I.call(this,V);const se=this.stack[this.stack.length-1];se.url="mailto:"+this.sliceSerialize(V)}function Le(){return{type:"blockquote",children:[]}}function ee(){return{type:"code",lang:null,meta:null,value:""}}function me(){return{type:"inlineCode",value:""}}function fe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function K(){return{type:"emphasis",children:[]}}function ue(){return{type:"heading",depth:0,children:[]}}function Ne(){return{type:"break"}}function dt(){return{type:"html",value:""}}function gt(){return{type:"image",title:null,url:"",alt:null}}function Pt(){return{type:"link",title:null,url:"",children:[]}}function _i(V){return{type:"list",ordered:V.type==="listOrdered",start:null,spread:V._spread,children:[]}}function Ci(V){return{type:"listItem",spread:V._spread,checked:null,children:[]}}function Dc(){return{type:"paragraph",children:[]}}function zr(){return{type:"strong",children:[]}}function up(){return{type:"text",value:""}}function cp(){return{type:"thematicBreak"}}}function Es(e){return{line:e.line,column:e.column,offset:e.offset}}function WI(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?WI(e,r):cq(e,r)}}function cq(e,t){let n;for(n in t)if(VI.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function ET(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+fu({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+fu({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+fu({start:t.start,end:t.end})+") is still open")}function dq(e){const t=this;t.parser=n;function n(r){return lq(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function hq(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function fq(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function pq(e,t){const n=t.value?t.value+`
`:"",r={},s=t.lang?t.lang.split(/\s+/):[];s.length>0&&(r.className=["language-"+s[0]]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function mq(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function gq(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function yq(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=yl(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let a,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=i+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function vq(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function bq(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function qI(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),i=s[0];i&&i.type==="text"?i.value="["+i.value:s.unshift({type:"text",value:"["});const a=s[s.length-1];return a&&a.type==="text"?a.value+=r:s.push({type:"text",value:r}),s}function xq(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return qI(e,t);const s={src:yl(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const i={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,i),e.applyData(t,i)}function wq(e,t){const n={src:yl(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Eq(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Tq(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return qI(e,t);const s={href:yl(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const i={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function Sq(e,t){const n={href:yl(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function kq(e,t,n){const r=e.all(t),s=n?_q(n):KI(t),i={},a=[];if(typeof t.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const c=r[o];(s||o!==0||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!s?a.push(...c.children):a.push(c)}const l=r[r.length-1];l&&(s||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:i,children:a};return e.patch(t,u),e.applyData(t,u)}function _q(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=KI(n[r])}return t}function KI(e){const t=e.spread;return t??e.children.length>1}function Cq(e,t){const n={},r=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<r.length;){const a=r[s];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function Aq(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Nq(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Iq(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Rq(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),s.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=Hr(t.children[1]),l=qf(t.children[t.children.length-1]);o&&l&&(a.position={start:o,end:l}),s.push(a)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,i),e.applyData(t,i)}function Pq(e,t,n){const r=n?n.children:void 0,i=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:t.children.length;let l=-1;const u=[];for(;++l<o;){const d=t.children[l],f={},h=a?a[l]:void 0;h&&(f.align=h);let g={type:"element",tagName:i,properties:f,children:[]};d&&(g.children=e.all(d),e.patch(d,g),g=e.applyData(d,g)),u.push(g)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function Oq(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const TT=9,ST=32;function Dq(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const i=[];for(;r;)i.push(kT(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return i.push(kT(t.slice(s),s>0,!1)),i.join("")}function kT(e,t,n){let r=0,s=e.length;if(t){let i=e.codePointAt(r);for(;i===TT||i===ST;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(s-1);for(;i===TT||i===ST;)s--,i=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}function Lq(e,t){const n={type:"text",value:Dq(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Mq(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const jq={blockquote:hq,break:fq,code:pq,delete:mq,emphasis:gq,footnoteReference:yq,heading:vq,html:bq,imageReference:xq,image:wq,inlineCode:Eq,linkReference:Tq,link:Sq,listItem:kq,list:Cq,paragraph:Aq,root:Nq,strong:Iq,table:Rq,tableCell:Oq,tableRow:Pq,text:Lq,thematicBreak:Mq,toml:yd,yaml:yd,definition:yd,footnoteDefinition:yd};function yd(){}const YI=-1,Gf=0,mu=1,Qh=2,Ob=3,Db=4,Lb=5,Mb=6,GI=7,QI=8,_T=typeof self=="object"?self:globalThis,Fq=(e,t)=>{const n=(s,i)=>(e.set(i,s),s),r=s=>{if(e.has(s))return e.get(s);const[i,a]=t[s];switch(i){case Gf:case YI:return n(a,s);case mu:{const o=n([],s);for(const l of a)o.push(r(l));return o}case Qh:{const o=n({},s);for(const[l,u]of a)o[r(l)]=r(u);return o}case Ob:return n(new Date(a),s);case Db:{const{source:o,flags:l}=a;return n(new RegExp(o,l),s)}case Lb:{const o=n(new Map,s);for(const[l,u]of a)o.set(r(l),r(u));return o}case Mb:{const o=n(new Set,s);for(const l of a)o.add(r(l));return o}case GI:{const{name:o,message:l}=a;return n(new _T[o](l),s)}case QI:return n(BigInt(a),s);case"BigInt":return n(Object(BigInt(a)),s);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return n(new DataView(o),a)}}return n(new _T[i](a),s)};return r},CT=e=>Fq(new Map,e)(0),Fa="",{toString:Bq}={},{keys:Uq}=Object,Ll=e=>{const t=typeof e;if(t!=="object"||!e)return[Gf,t];const n=Bq.call(e).slice(8,-1);switch(n){case"Array":return[mu,Fa];case"Object":return[Qh,Fa];case"Date":return[Ob,Fa];case"RegExp":return[Db,Fa];case"Map":return[Lb,Fa];case"Set":return[Mb,Fa];case"DataView":return[mu,n]}return n.includes("Array")?[mu,n]:n.includes("Error")?[GI,n]:[Qh,n]},vd=([e,t])=>e===Gf&&(t==="function"||t==="symbol"),Hq=(e,t,n,r)=>{const s=(a,o)=>{const l=r.push(a)-1;return n.set(o,l),l},i=a=>{if(n.has(a))return n.get(a);let[o,l]=Ll(a);switch(o){case Gf:{let c=a;switch(l){case"bigint":o=QI,c=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return s([YI],a)}return s([o,c],a)}case mu:{if(l){let f=a;return l==="DataView"?f=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(a)),s([l,[...f]],a)}const c=[],d=s([o,c],a);for(const f of a)c.push(i(f));return d}case Qh:{if(l)switch(l){case"BigInt":return s([l,a.toString()],a);case"Boolean":case"Number":case"String":return s([l,a.valueOf()],a)}if(t&&"toJSON"in a)return i(a.toJSON());const c=[],d=s([o,c],a);for(const f of Uq(a))(e||!vd(Ll(a[f])))&&c.push([i(f),i(a[f])]);return d}case Ob:return s([o,a.toISOString()],a);case Db:{const{source:c,flags:d}=a;return s([o,{source:c,flags:d}],a)}case Lb:{const c=[],d=s([o,c],a);for(const[f,h]of a)(e||!(vd(Ll(f))||vd(Ll(h))))&&c.push([i(f),i(h)]);return d}case Mb:{const c=[],d=s([o,c],a);for(const f of a)(e||!vd(Ll(f)))&&c.push(i(f));return d}}const{message:u}=a;return s([o,{name:l,message:u}],a)};return i},AT=(e,{json:t,lossy:n}={})=>{const r=[];return Hq(!(t||n),!!t,new Map,r)(e),r},Xo=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?CT(AT(e,t)):structuredClone(e):(e,t)=>CT(AT(e,t));function $q(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function zq(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Vq(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||$q,r=e.options.footnoteBackLabel||zq,s=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const c=e.all(u),d=String(u.identifier).toUpperCase(),f=yl(d.toLowerCase());let h=0;const g=[],y=e.footnoteCounts.get(d);for(;y!==void 0&&++h<=y;){g.length>0&&g.push({type:"text",value:" "});let x=typeof n=="string"?n:n(l,h);typeof x=="string"&&(x={type:"text",value:x}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,h),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const w=c[c.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const x=w.children[w.children.length-1];x&&x.type==="text"?x.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...g)}else c.push(...g);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(c,!0)};e.patch(u,v),o.push(v)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Xo(a),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const Qf=function(e){if(e==null)return Yq;if(typeof e=="function")return Xf(e);if(typeof e=="object")return Array.isArray(e)?Wq(e):qq(e);if(typeof e=="string")return Kq(e);throw new Error("Expected function, string, or object as test")};function Wq(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Qf(e[n]);return Xf(r);function r(...s){let i=-1;for(;++i<t.length;)if(t[i].apply(this,s))return!0;return!1}}function qq(e){const t=e;return Xf(n);function n(r){const s=r;let i;for(i in e)if(s[i]!==t[i])return!1;return!0}}function Kq(e){return Xf(t);function t(n){return n&&n.type===e}}function Xf(e){return t;function t(n,r,s){return!!(Gq(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function Yq(){return!0}function Gq(e){return e!==null&&typeof e=="object"&&"type"in e}const XI=[],Qq=!0,X0=!1,Xq="skip";function JI(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const i=Qf(s),a=r?-1:1;o(e,void 0,[])();function o(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return f;function f(){let h=XI,g,y,w;if((!t||i(l,u,c[c.length-1]||void 0))&&(h=Jq(n(l,c)),h[0]===X0))return h;if("children"in l&&l.children){const v=l;if(v.children&&h[0]!==Xq)for(y=(r?v.children.length:-1)+a,w=c.concat(v);y>-1&&y<v.children.length;){const x=v.children[y];if(g=o(x,y,w)(),g[0]===X0)return g;y=typeof g[1]=="number"?g[1]:y+a}}return h}}}function Jq(e){return Array.isArray(e)?e:typeof e=="number"?[Qq,e]:e==null?XI:[e]}function Jf(e,t,n,r){let s,i,a;typeof t=="function"&&typeof n!="function"?(i=void 0,a=t,s=n):(i=t,a=n,s=r),JI(e,i,o,s);function o(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return a(l,d,c)}}const J0={}.hasOwnProperty,Zq={};function eK(e,t){const n=t||Zq,r=new Map,s=new Map,i=new Map,a={...jq,...n.handlers},o={all:u,applyData:nK,definitionById:r,footnoteById:s,footnoteCounts:i,footnoteOrder:[],handlers:a,one:l,options:n,patch:tK,wrap:sK};return Jf(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:s,f=String(c.identifier).toUpperCase();d.has(f)||d.set(f,c)}}),o;function l(c,d){const f=c.type,h=o.handlers[f];if(J0.call(o.handlers,f)&&h)return h(o,c,d);if(o.options.passThrough&&o.options.passThrough.includes(f)){if("children"in c){const{children:y,...w}=c,v=Xo(w);return v.children=o.all(c),v}return Xo(c)}return(o.options.unknownHandler||rK)(o,c,d)}function u(c){const d=[];if("children"in c){const f=c.children;let h=-1;for(;++h<f.length;){const g=o.one(f[h],c);if(g){if(h&&f[h-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=NT(g.value)),!Array.isArray(g)&&g.type==="element")){const y=g.children[0];y&&y.type==="text"&&(y.value=NT(y.value))}Array.isArray(g)?d.push(...g):d.push(g)}}}return d}}function tK(e,t){e.position&&(t.position=zz(e))}function nK(e,t){let n=t;if(e&&e.data){const r=e.data.hName,s=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&i&&Object.assign(n.properties,Xo(i)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function rK(e,t){const n=t.data||{},r="value"in t&&!(J0.call(n,"hProperties")||J0.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function sK(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function NT(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function IT(e,t){const n=eK(e,t),r=n.one(e,void 0),s=Vq(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&i.children.push({type:"text",value:`
`},s),i}function iK(e,t){return e&&"run"in e?async function(n,r){const s=IT(n,{file:r,...t});await e.run(s,r)}:function(n,r){return IT(n,{file:r,...e||t})}}function RT(e){if(e)throw e}var Xd=Object.prototype.hasOwnProperty,ZI=Object.prototype.toString,PT=Object.defineProperty,OT=Object.getOwnPropertyDescriptor,DT=function(t){return typeof Array.isArray=="function"?Array.isArray(t):ZI.call(t)==="[object Array]"},LT=function(t){if(!t||ZI.call(t)!=="[object Object]")return!1;var n=Xd.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Xd.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var s;for(s in t);return typeof s>"u"||Xd.call(t,s)},MT=function(t,n){PT&&n.name==="__proto__"?PT(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},jT=function(t,n){if(n==="__proto__")if(Xd.call(t,n)){if(OT)return OT(t,n).value}else return;return t[n]},aK=function e(){var t,n,r,s,i,a,o=arguments[0],l=1,u=arguments.length,c=!1;for(typeof o=="boolean"&&(c=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=jT(o,n),s=jT(t,n),o!==s&&(c&&s&&(LT(s)||(i=DT(s)))?(i?(i=!1,a=r&&DT(r)?r:[]):a=r&&LT(r)?r:{},MT(o,{name:n,newValue:e(c,a,s)})):typeof s<"u"&&MT(o,{name:n,newValue:s}));return o};const Em=rf(aK);function Z0(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function oK(){const e=[],t={run:n,use:r};return t;function n(...s){let i=-1;const a=s.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...s);function o(l,...u){const c=e[++i];let d=-1;if(l){a(l);return}for(;++d<s.length;)(u[d]===null||u[d]===void 0)&&(u[d]=s[d]);s=u,c?lK(c,o)(...u):a(null,...u)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function lK(e,t){let n;return r;function r(...a){const o=e.length>a.length;let l;o&&a.push(s);try{l=e.apply(this,a)}catch(u){const c=u;if(o&&n)throw c;return s(c)}o||(l&&l.then&&typeof l.then=="function"?l.then(i,s):l instanceof Error?s(l):i(l))}function s(a,...o){n||(n=!0,t(a,...o))}function i(a){s(null,a)}}const Sr={basename:uK,dirname:cK,extname:dK,join:hK,sep:"/"};function uK(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Nc(e);let n=0,r=-1,s=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(i){n=s+1;break}}else r<0&&(i=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,o=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(i){n=s+1;break}}else a<0&&(i=!0,a=s+1),o>-1&&(e.codePointAt(s)===t.codePointAt(o--)?o<0&&(r=s):(o=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function cK(e){if(Nc(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function dK(e){Nc(e);let t=e.length,n=-1,r=0,s=-1,i=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),o===46?s<0?s=t:i!==1&&(i=1):s>-1&&(i=-1)}return s<0||n<0||i===0||i===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function hK(...e){let t=-1,n;for(;++t<e.length;)Nc(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":fK(n)}function fK(e){Nc(e);const t=e.codePointAt(0)===47;let n=pK(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function pK(e,t){let n="",r=0,s=-1,i=0,a=-1,o,l;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(s===a-1||i===1))if(s!==a-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),s=a,i=0;continue}}else if(n.length>0){n="",r=0,s=a,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,a):n=e.slice(s+1,a),r=a-s-1;s=a,i=0}else o===46&&i>-1?i++:i=-1}return n}function Nc(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const mK={cwd:gK};function gK(){return"/"}function ey(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function yK(e){if(typeof e=="string")e=new URL(e);else if(!ey(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return vK(e)}function vK(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const Tm=["history","path","basename","stem","extname","dirname"];class eR{constructor(t){let n;t?ey(t)?n={path:t}:typeof t=="string"||bK(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":mK.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Tm.length;){const i=Tm[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let s;for(s in n)Tm.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Sr.basename(this.path):void 0}set basename(t){km(t,"basename"),Sm(t,"basename"),this.path=Sr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Sr.dirname(this.path):void 0}set dirname(t){FT(this.basename,"dirname"),this.path=Sr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Sr.extname(this.path):void 0}set extname(t){if(Sm(t,"extname"),FT(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Sr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){ey(t)&&(t=yK(t)),km(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Sr.basename(this.path,this.extname):void 0}set stem(t){km(t,"stem"),Sm(t,"stem"),this.path=Sr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new qt(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Sm(e,t){if(e&&e.includes(Sr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Sr.sep+"`")}function km(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function FT(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function bK(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const xK=function(e){const r=this.constructor.prototype,s=r[e],i=function(){return s.apply(i,arguments)};return Object.setPrototypeOf(i,r),i},wK={}.hasOwnProperty;class jb extends xK{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=oK()}copy(){const t=new jb;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Em(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Am("data",this.frozen),this.namespace[t]=n,this):wK.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Am("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=bd(t),r=this.parser||this.Parser;return _m("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),_m("process",this.parser||this.Parser),Cm("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(i,a){const o=bd(t),l=r.parse(o);r.run(l,o,function(c,d,f){if(c||!d||!f)return u(c);const h=d,g=r.stringify(h,f);SK(g)?f.value=g:f.result=g,u(c,f)});function u(c,d){c||!d?a(c):i?i(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),_m("processSync",this.parser||this.Parser),Cm("processSync",this.compiler||this.Compiler),this.process(t,s),UT("processSync","process",n),r;function s(i,a){n=!0,RT(i),r=a}}run(t,n,r){BT(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(a,o){const l=bd(n);s.run(t,l,u);function u(c,d,f){const h=d||t;c?o(c):a?a(h):r(void 0,h,f)}}}runSync(t,n){let r=!1,s;return this.run(t,n,i),UT("runSync","run",r),s;function i(a,o){RT(a),s=o,r=!0}}stringify(t,n){this.freeze();const r=bd(n),s=this.compiler||this.Compiler;return Cm("stringify",s),BT(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if(Am("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;l(c,d)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(s.settings=Em(!0,s.settings,u.settings))}function o(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];i(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===u){f=d;break}if(f===-1)r.push([u,...c]);else if(c.length>0){let[h,...g]=c;const y=r[f][1];Z0(y)&&Z0(h)&&(h=Em(!0,y,h)),r[f]=[u,h,...g]}}}}const EK=new jb().freeze();function _m(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Cm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Am(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function BT(e){if(!Z0(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function UT(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function bd(e){return TK(e)?e:new eR(e)}function TK(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function SK(e){return typeof e=="string"||kK(e)}function kK(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const _K="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",HT=[],$T={allowDangerousHtml:!0},CK=/^(https?|ircs?|mailto|xmpp)$/i,AK=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function tR(e){const t=NK(e),n=IK(e);return RK(t.runSync(t.parse(n),n),e)}function NK(e){const t=e.rehypePlugins||HT,n=e.remarkPlugins||HT,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...$T}:$T;return EK().use(dq).use(n).use(iK,r).use(t)}function IK(e){const t=e.children||"",n=new eR;return typeof t=="string"&&(n.value=t),n}function RK(e,t){const n=t.allowedElements,r=t.allowElement,s=t.components,i=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||PK;for(const c of AK)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+_K+c.id,void 0);return Jf(e,u),Yz(e,{Fragment:p.Fragment,components:s,ignoreInvalidStyle:!0,jsx:p.jsx,jsxs:p.jsxs,passKeys:!0,passNode:!0});function u(c,d,f){if(c.type==="raw"&&f&&typeof d=="number")return a?f.children.splice(d,1):f.children[d]={type:"text",value:c.value},d;if(c.type==="element"){let h;for(h in bm)if(Object.hasOwn(bm,h)&&Object.hasOwn(c.properties,h)){const g=c.properties[h],y=bm[h];(y===null||y.includes(c.tagName))&&(c.properties[h]=l(String(g||""),h,c))}}if(c.type==="element"){let h=n?!n.includes(c.tagName):i?i.includes(c.tagName):!1;if(!h&&r&&typeof d=="number"&&(h=!r(c,d,f)),h&&f&&typeof d=="number")return o&&c.children?f.children.splice(d,1,...c.children):f.children.splice(d,1),d}}}function PK(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||r!==-1&&t>r||CK.test(e.slice(0,t))?e:""}function zT(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,s=n.indexOf(t);for(;s!==-1;)r++,s=n.indexOf(t,s+t.length);return r}function OK(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function DK(e,t,n){const s=Qf((n||{}).ignore||[]),i=LK(t);let a=-1;for(;++a<i.length;)JI(e,"text",o);function o(u,c){let d=-1,f;for(;++d<c.length;){const h=c[d],g=f?f.children:void 0;if(s(h,g?g.indexOf(h):void 0,f))return;f=h}if(f)return l(u,c)}function l(u,c){const d=c[c.length-1],f=i[a][0],h=i[a][1];let g=0;const w=d.children.indexOf(u);let v=!1,x=[];f.lastIndex=0;let E=f.exec(u.value);for(;E;){const T=E.index,k={index:E.index,input:E.input,stack:[...c,u]};let S=h(...E,k);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=T+1:(g!==T&&x.push({type:"text",value:u.value.slice(g,T)}),Array.isArray(S)?x.push(...S):S&&x.push(S),g=T+E[0].length,v=!0),!f.global)break;E=f.exec(u.value)}return v?(g<u.value.length&&x.push({type:"text",value:u.value.slice(g)}),d.children.splice(w,1,...x)):x=[u],w+x.length}}function LK(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const s=n[r];t.push([MK(s[0]),jK(s[1])])}return t}function MK(e){return typeof e=="string"?new RegExp(OK(e),"g"):e}function jK(e){return typeof e=="function"?e:function(){return e}}const Nm="phrasing",Im=["autolink","link","image","label"];function FK(){return{transforms:[WK],enter:{literalAutolink:UK,literalAutolinkEmail:Rm,literalAutolinkHttp:Rm,literalAutolinkWww:Rm},exit:{literalAutolink:VK,literalAutolinkEmail:zK,literalAutolinkHttp:HK,literalAutolinkWww:$K}}}function BK(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Nm,notInConstruct:Im},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Nm,notInConstruct:Im},{character:":",before:"[ps]",after:"\\/",inConstruct:Nm,notInConstruct:Im}]}}function UK(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Rm(e){this.config.enter.autolinkProtocol.call(this,e)}function HK(e){this.config.exit.autolinkProtocol.call(this,e)}function $K(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function zK(e){this.config.exit.autolinkEmail.call(this,e)}function VK(e){this.exit(e)}function WK(e){DK(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,qK],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),KK]],{ignore:["link","linkReference"]})}function qK(e,t,n,r,s){let i="";if(!nR(s)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!YK(n)))return!1;const a=GK(n+r);if(!a[0])return!1;const o={type:"link",title:null,url:i+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function KK(e,t,n,r){return!nR(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function YK(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function GK(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const s=zT(e,"(");let i=zT(e,")");for(;r!==-1&&s>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}function nR(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||wa(n)||Kf(n))&&(!t||n!==47)}rR.peek=sY;function QK(){this.buffer()}function XK(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function JK(){this.buffer()}function ZK(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function eY(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=hr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function tY(e){this.exit(e)}function nY(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=hr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function rY(e){this.exit(e)}function sY(){return"["}function rR(e,t,n,r){const s=n.createTracker(r);let i=s.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return i+=s.move(n.safe(n.associationId(e),{after:"]",before:i})),o(),a(),i+=s.move("]"),i}function iY(){return{enter:{gfmFootnoteCallString:QK,gfmFootnoteCall:XK,gfmFootnoteDefinitionLabelString:JK,gfmFootnoteDefinition:ZK},exit:{gfmFootnoteCallString:eY,gfmFootnoteCall:tY,gfmFootnoteDefinitionLabelString:nY,gfmFootnoteDefinition:rY}}}function aY(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:rR},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,s,i,a){const o=i.createTracker(a);let l=o.move("[^");const u=i.enter("footnoteDefinition"),c=i.enter("label");return l+=o.move(i.safe(i.associationId(r),{before:l,after:"]"})),c(),l+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),l+=o.move((t?`
`:" ")+i.indentLines(i.containerFlow(r,o.current()),t?sR:oY))),u(),l}}function oY(e,t,n){return t===0?e:sR(e,t,n)}function sR(e,t,n){return(n?"":"    ")+e}const lY=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];iR.peek=fY;function uY(){return{canContainEols:["delete"],enter:{strikethrough:dY},exit:{strikethrough:hY}}}function cY(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:lY}],handlers:{delete:iR}}}function dY(e){this.enter({type:"delete",children:[]},e)}function hY(e){this.exit(e)}function iR(e,t,n,r){const s=n.createTracker(r),i=n.enter("strikethrough");let a=s.move("~~");return a+=n.containerPhrasing(e,{...s.current(),before:a,after:"~"}),a+=s.move("~~"),i(),a}function fY(){return"~"}function pY(e){return e.length}function mY(e,t){const n=t||{},r=(n.align||[]).concat(),s=n.stringLength||pY,i=[],a=[],o=[],l=[];let u=0,c=-1;for(;++c<e.length;){const y=[],w=[];let v=-1;for(e[c].length>u&&(u=e[c].length);++v<e[c].length;){const x=gY(e[c][v]);if(n.alignDelimiters!==!1){const E=s(x);w[v]=E,(l[v]===void 0||E>l[v])&&(l[v]=E)}y.push(x)}a[c]=y,o[c]=w}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<u;)i[d]=VT(r[d]);else{const y=VT(r);for(;++d<u;)i[d]=y}d=-1;const f=[],h=[];for(;++d<u;){const y=i[d];let w="",v="";y===99?(w=":",v=":"):y===108?w=":":y===114&&(v=":");let x=n.alignDelimiters===!1?1:Math.max(1,l[d]-w.length-v.length);const E=w+"-".repeat(x)+v;n.alignDelimiters!==!1&&(x=w.length+x+v.length,x>l[d]&&(l[d]=x),h[d]=x),f[d]=E}a.splice(1,0,f),o.splice(1,0,h),c=-1;const g=[];for(;++c<a.length;){const y=a[c],w=o[c];d=-1;const v=[];for(;++d<u;){const x=y[d]||"";let E="",T="";if(n.alignDelimiters!==!1){const k=l[d]-(w[d]||0),S=i[d];S===114?E=" ".repeat(k):S===99?k%2?(E=" ".repeat(k/2+.5),T=" ".repeat(k/2-.5)):(E=" ".repeat(k/2),T=E):T=" ".repeat(k)}n.delimiterStart!==!1&&!d&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&x==="")&&(n.delimiterStart!==!1||d)&&v.push(" "),n.alignDelimiters!==!1&&v.push(E),v.push(x),n.alignDelimiters!==!1&&v.push(T),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||d!==u-1)&&v.push("|")}g.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return g.join(`
`)}function gY(e){return e==null?"":String(e)}function VT(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const WT={}.hasOwnProperty;function aR(e,t){const n=t||{};function r(s,...i){let a=r.invalid;const o=r.handlers;if(s&&WT.call(s,e)){const l=String(s[e]);a=WT.call(o,l)?o[l]:r.unknown}if(a)return a.call(this,s,...i)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function yY(e,t,n,r){const s=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const a=n.indentLines(n.containerFlow(e,i.current()),vY);return s(),a}function vY(e,t,n){return">"+(n?"":" ")+e}function bY(e,t){return qT(e,t.inConstruct,!0)&&!qT(e,t.notInConstruct,!1)}function qT(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function KT(e,t,n,r){let s=-1;for(;++s<n.unsafe.length;)if(n.unsafe[s].character===`
`&&bY(n.stack,n.unsafe[s]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function xY(e,t){const n=String(e);let r=n.indexOf(t),s=r,i=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===s?++i>a&&(a=i):i=1,s=r+t.length,r=n.indexOf(t,s);return a}function wY(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function EY(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function TY(e,t,n,r){const s=EY(n),i=e.value||"",a=s==="`"?"GraveAccent":"Tilde";if(wY(e,n)){const d=n.enter("codeIndented"),f=n.indentLines(i,SY);return d(),f}const o=n.createTracker(r),l=s.repeat(Math.max(xY(i,s)+1,3)),u=n.enter("codeFenced");let c=o.move(l);if(e.lang){const d=n.enter(`codeFencedLang${a}`);c+=o.move(n.safe(e.lang,{before:c,after:" ",encode:["`"],...o.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${a}`);c+=o.move(" "),c+=o.move(n.safe(e.meta,{before:c,after:`
`,encode:["`"],...o.current()})),d()}return c+=o.move(`
`),i&&(c+=o.move(i+`
`)),c+=o.move(l),u(),c}function SY(e,t,n){return(n?"":"    ")+e}function Fb(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function kY(e,t,n,r){const s=Fb(n),i=s==='"'?"Quote":"Apostrophe",a=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),o(),e.title&&(o=n.enter(`title${i}`),u+=l.move(" "+s),u+=l.move(n.safe(e.title,{before:u,after:s,...l.current()})),u+=l.move(s),o()),a(),u}function _Y(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function ic(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Xh(e,t,n){const r=Qo(e),s=Qo(t);return r===void 0?s===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}oR.peek=CY;function oR(e,t,n,r){const s=_Y(n),i=n.enter("emphasis"),a=n.createTracker(r),o=a.move(s);let l=a.move(n.containerPhrasing(e,{after:s,before:o,...a.current()}));const u=l.charCodeAt(0),c=Xh(r.before.charCodeAt(r.before.length-1),u,s);c.inside&&(l=ic(u)+l.slice(1));const d=l.charCodeAt(l.length-1),f=Xh(r.after.charCodeAt(0),d,s);f.inside&&(l=l.slice(0,-1)+ic(d));const h=a.move(s);return i(),n.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},o+l+h}function CY(e,t,n){return n.options.emphasis||"*"}function AY(e,t){let n=!1;return Jf(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,X0}),!!((!e.depth||e.depth<3)&&Ib(e)&&(t.options.setext||n))}function NY(e,t,n,r){const s=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(AY(e,n)){const c=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return d(),c(),f+`
`+(s===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const a="#".repeat(s),o=n.enter("headingAtx"),l=n.enter("phrasing");i.move(a+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(u)&&(u=ic(u.charCodeAt(0))+u.slice(1)),u=u?a+" "+u:a,n.options.closeAtx&&(u+=" "+a),l(),o(),u}lR.peek=IY;function lR(e){return e.value||""}function IY(){return"<"}uR.peek=RY;function uR(e,t,n,r){const s=Fb(n),i=s==='"'?"Quote":"Apostrophe",a=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=n.enter(`title${i}`),u+=l.move(" "+s),u+=l.move(n.safe(e.title,{before:u,after:s,...l.current()})),u+=l.move(s),o()),u+=l.move(")"),a(),u}function RY(){return"!"}cR.peek=PY;function cR(e,t,n,r){const s=e.referenceType,i=n.enter("imageReference");let a=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const u=n.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),a();const c=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return a(),n.stack=c,i(),s==="full"||!u||u!==d?l+=o.move(d+"]"):s==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function PY(){return"!"}dR.peek=OY;function dR(e,t,n){let r=e.value||"",s="`",i=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(r);)s+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const a=n.unsafe[i],o=n.compilePattern(a);let l;if(a.atBreak)for(;l=o.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return s+r+s}function OY(){return"`"}function hR(e,t){const n=Ib(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}fR.peek=DY;function fR(e,t,n,r){const s=Fb(n),i=s==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let o,l;if(hR(e,n)){const c=n.stack;n.stack=[],o=n.enter("autolink");let d=a.move("<");return d+=a.move(n.containerPhrasing(e,{before:d,after:">",...a.current()})),d+=a.move(">"),o(),n.stack=c,d}o=n.enter("link"),l=n.enter("label");let u=a.move("[");return u+=a.move(n.containerPhrasing(e,{before:u,after:"](",...a.current()})),u+=a.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),l(),e.title&&(l=n.enter(`title${i}`),u+=a.move(" "+s),u+=a.move(n.safe(e.title,{before:u,after:s,...a.current()})),u+=a.move(s),l()),u+=a.move(")"),o(),u}function DY(e,t,n){return hR(e,n)?"<":"["}pR.peek=LY;function pR(e,t,n,r){const s=e.referenceType,i=n.enter("linkReference");let a=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),a();const c=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return a(),n.stack=c,i(),s==="full"||!u||u!==d?l+=o.move(d+"]"):s==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function LY(){return"["}function Bb(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function MY(e){const t=Bb(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function jY(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function mR(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function FY(e,t,n,r){const s=n.enter("list"),i=n.bulletCurrent;let a=e.ordered?jY(n):Bb(n);const o=e.ordered?a==="."?")":".":MY(n);let l=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const c=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&c&&(!c.children||!c.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),mR(n)===a&&c){let d=-1;for(;++d<e.children.length;){const f=e.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(a=o),n.bulletCurrent=a;const u=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=i,s(),u}function BY(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function UY(e,t,n,r){const s=BY(n);let i=n.bulletCurrent||Bb(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let a=i.length+1;(s==="tab"||s==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const o=n.createTracker(r);o.move(i+" ".repeat(a-i.length)),o.shift(a);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,o.current()),c);return l(),u;function c(d,f,h){return f?(h?"":" ".repeat(a))+d:(h?i:i+" ".repeat(a-i.length))+d}}function HY(e,t,n,r){const s=n.enter("paragraph"),i=n.enter("phrasing"),a=n.containerPhrasing(e,r);return i(),s(),a}const $Y=Qf(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function zY(e,t,n,r){return(e.children.some(function(a){return $Y(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function VY(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}gR.peek=WY;function gR(e,t,n,r){const s=VY(n),i=n.enter("strong"),a=n.createTracker(r),o=a.move(s+s);let l=a.move(n.containerPhrasing(e,{after:s,before:o,...a.current()}));const u=l.charCodeAt(0),c=Xh(r.before.charCodeAt(r.before.length-1),u,s);c.inside&&(l=ic(u)+l.slice(1));const d=l.charCodeAt(l.length-1),f=Xh(r.after.charCodeAt(0),d,s);f.inside&&(l=l.slice(0,-1)+ic(d));const h=a.move(s+s);return i(),n.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},o+l+h}function WY(e,t,n){return n.options.strong||"*"}function qY(e,t,n,r){return n.safe(e.value,r)}function KY(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function YY(e,t,n){const r=(mR(n)+(n.options.ruleSpaces?" ":"")).repeat(KY(n));return n.options.ruleSpaces?r.slice(0,-1):r}const yR={blockquote:yY,break:KT,code:TY,definition:kY,emphasis:oR,hardBreak:KT,heading:NY,html:lR,image:uR,imageReference:cR,inlineCode:dR,link:fR,linkReference:pR,list:FY,listItem:UY,paragraph:HY,root:zY,strong:gR,text:qY,thematicBreak:YY};function GY(){return{enter:{table:QY,tableData:YT,tableHeader:YT,tableRow:JY},exit:{codeText:ZY,table:XY,tableData:Pm,tableHeader:Pm,tableRow:Pm}}}function QY(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function XY(e){this.exit(e),this.data.inTable=void 0}function JY(e){this.enter({type:"tableRow",children:[]},e)}function Pm(e){this.exit(e)}function YT(e){this.enter({type:"tableCell",children:[]},e)}function ZY(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,eG));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function eG(e,t){return t==="|"?t:e}function tG(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,s=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:a,tableCell:l,tableRow:o}};function a(h,g,y,w){return u(c(h,y,w),h.align)}function o(h,g,y,w){const v=d(h,y,w),x=u([v]);return x.slice(0,x.indexOf(`
`))}function l(h,g,y,w){const v=y.enter("tableCell"),x=y.enter("phrasing"),E=y.containerPhrasing(h,{...w,before:i,after:i});return x(),v(),E}function u(h,g){return mY(h,{align:g,alignDelimiters:r,padding:n,stringLength:s})}function c(h,g,y){const w=h.children;let v=-1;const x=[],E=g.enter("table");for(;++v<w.length;)x[v]=d(w[v],g,y);return E(),x}function d(h,g,y){const w=h.children;let v=-1;const x=[],E=g.enter("tableRow");for(;++v<w.length;)x[v]=l(w[v],h,g,y);return E(),x}function f(h,g,y){let w=yR.inlineCode(h,g,y);return y.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function nG(){return{exit:{taskListCheckValueChecked:GT,taskListCheckValueUnchecked:GT,paragraph:sG}}}function rG(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:iG}}}function GT(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function sG(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const s=t.children;let i=-1,a;for(;++i<s.length;){const o=s[i];if(o.type==="paragraph"){a=o;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function iG(e,t,n,r){const s=e.children[0],i=typeof e.checked=="boolean"&&s&&s.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);i&&o.move(a);let l=yR.listItem(e,t,n,{...r,...o.current()});return i&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(c){return c+a}}function aG(){return[FK(),iY(),uY(),GY(),nG()]}function oG(e){return{extensions:[BK(),aY(e),cY(),tG(e),rG()]}}const lG={tokenize:pG,partial:!0},vR={tokenize:mG,partial:!0},bR={tokenize:gG,partial:!0},xR={tokenize:yG,partial:!0},uG={tokenize:vG,partial:!0},wR={name:"wwwAutolink",tokenize:hG,previous:TR},ER={name:"protocolAutolink",tokenize:fG,previous:SR},fs={name:"emailAutolink",tokenize:dG,previous:kR},$r={};function cG(){return{text:$r}}let Pi=48;for(;Pi<123;)$r[Pi]=fs,Pi++,Pi===58?Pi=65:Pi===91&&(Pi=97);$r[43]=fs;$r[45]=fs;$r[46]=fs;$r[95]=fs;$r[72]=[fs,ER];$r[104]=[fs,ER];$r[87]=[fs,wR];$r[119]=[fs,wR];function dG(e,t,n){const r=this;let s,i;return a;function a(d){return!ty(d)||!kR.call(r,r.previous)||Ub(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(d))}function o(d){return ty(d)?(e.consume(d),o):d===64?(e.consume(d),l):n(d)}function l(d){return d===46?e.check(uG,c,u)(d):d===45||d===95||Vt(d)?(i=!0,e.consume(d),l):c(d)}function u(d){return e.consume(d),s=!0,l}function c(d){return i&&s&&Jt(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function hG(e,t,n){const r=this;return s;function s(a){return a!==87&&a!==119||!TR.call(r,r.previous)||Ub(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(lG,e.attempt(vR,e.attempt(bR,i),n),n)(a))}function i(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function fG(e,t,n){const r=this;let s="",i=!1;return a;function a(d){return(d===72||d===104)&&SR.call(r,r.previous)&&!Ub(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),s+=String.fromCodePoint(d),e.consume(d),o):n(d)}function o(d){if(Jt(d)&&s.length<5)return s+=String.fromCodePoint(d),e.consume(d),o;if(d===58){const f=s.toLowerCase();if(f==="http"||f==="https")return e.consume(d),l}return n(d)}function l(d){return d===47?(e.consume(d),i?u:(i=!0,l)):n(d)}function u(d){return d===null||Gh(d)||We(d)||wa(d)||Kf(d)?n(d):e.attempt(vR,e.attempt(bR,c),n)(d)}function c(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function pG(e,t,n){let r=0;return s;function s(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),s):a===46&&r===3?(e.consume(a),i):n(a)}function i(a){return a===null?n(a):t(a)}}function mG(e,t,n){let r,s,i;return a;function a(u){return u===46||u===95?e.check(xR,l,o)(u):u===null||We(u)||wa(u)||u!==45&&Kf(u)?l(u):(i=!0,e.consume(u),a)}function o(u){return u===95?r=!0:(s=r,r=void 0),e.consume(u),a}function l(u){return s||r||!i?n(u):t(u)}}function gG(e,t){let n=0,r=0;return s;function s(a){return a===40?(n++,e.consume(a),s):a===41&&r<n?i(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(xR,t,i)(a):a===null||We(a)||wa(a)?t(a):(e.consume(a),s)}function i(a){return a===41&&r++,e.consume(a),s}}function yG(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),i):o===93?(e.consume(o),s):o===60||o===null||We(o)||wa(o)?t(o):n(o)}function s(o){return o===null||o===40||o===91||We(o)||wa(o)?t(o):r(o)}function i(o){return Jt(o)?a(o):n(o)}function a(o){return o===59?(e.consume(o),r):Jt(o)?(e.consume(o),a):n(o)}}function vG(e,t,n){return r;function r(i){return e.consume(i),s}function s(i){return Vt(i)?n(i):t(i)}}function TR(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||We(e)}function SR(e){return!Jt(e)}function kR(e){return!(e===47||ty(e))}function ty(e){return e===43||e===45||e===46||e===95||Vt(e)}function Ub(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const bG={tokenize:CG,partial:!0};function xG(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:SG,continuation:{tokenize:kG},exit:_G}},text:{91:{name:"gfmFootnoteCall",tokenize:TG},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:wG,resolveTo:EG}}}}function wG(e,t,n){const r=this;let s=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;s--;){const l=r.events[s][1];if(l.type==="labelImage"){a=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!a||!a._balanced)return n(l);const u=hr(r.sliceSerialize({start:a.end,end:r.now()}));return u.codePointAt(0)!==94||!i.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function EG(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",s,t],["exit",s,t],["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function TG(e,t,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,a;return o;function o(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(d){if(i>999||d===93&&!a||d===null||d===91||We(d))return n(d);if(d===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return s.includes(hr(r.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return We(d)||(a=!0),i++,e.consume(d),d===92?c:u}function c(d){return d===91||d===92||d===93?(e.consume(d),i++,u):u(d)}}function SG(e,t,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,a=0,o;return l;function l(g){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(g){return g===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(g)}function c(g){if(a>999||g===93&&!o||g===null||g===91||We(g))return n(g);if(g===93){e.exit("chunkString");const y=e.exit("gfmFootnoteDefinitionLabelString");return i=hr(r.sliceSerialize(y)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return We(g)||(o=!0),a++,e.consume(g),g===92?d:c}function d(g){return g===91||g===92||g===93?(e.consume(g),a++,c):c(g)}function f(g){return g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),s.includes(i)||s.push(i),je(e,h,"gfmFootnoteDefinitionWhitespace")):n(g)}function h(g){return t(g)}}function kG(e,t,n){return e.check(Ac,t,e.attempt(bG,t,n))}function _G(e){e.exit("gfmFootnoteDefinition")}function CG(e,t,n){const r=this;return je(e,s,"gfmFootnoteDefinitionIndent",5);function s(i){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(i):n(i)}}function AG(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:i,resolveAll:s};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function s(a,o){let l=-1;for(;++l<a.length;)if(a[l][0]==="enter"&&a[l][1].type==="strikethroughSequenceTemporary"&&a[l][1]._close){let u=l;for(;u--;)if(a[u][0]==="exit"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._open&&a[l][1].end.offset-a[l][1].start.offset===a[u][1].end.offset-a[u][1].start.offset){a[l][1].type="strikethroughSequence",a[u][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},a[u][1].start),end:Object.assign({},a[l][1].end)},d={type:"strikethroughText",start:Object.assign({},a[u][1].end),end:Object.assign({},a[l][1].start)},f=[["enter",c,o],["enter",a[u][1],o],["exit",a[u][1],o],["enter",d,o]],h=o.parser.constructs.insideSpan.null;h&&An(f,f.length,0,Yf(h,a.slice(u+1,l),o)),An(f,f.length,0,[["exit",d,o],["enter",a[l][1],o],["exit",a[l][1],o],["exit",c,o]]),An(a,u-1,l-u+3,f),l=u+f.length-2;break}}for(l=-1;++l<a.length;)a[l][1].type==="strikethroughSequenceTemporary"&&(a[l][1].type="data");return a}function i(a,o,l){const u=this.previous,c=this.events;let d=0;return f;function f(g){return u===126&&c[c.length-1][1].type!=="characterEscape"?l(g):(a.enter("strikethroughSequenceTemporary"),h(g))}function h(g){const y=Qo(u);if(g===126)return d>1?l(g):(a.consume(g),d++,h);if(d<2&&!n)return l(g);const w=a.exit("strikethroughSequenceTemporary"),v=Qo(g);return w._open=!v||v===2&&!!y,w._close=!y||y===2&&!!v,o(g)}}}class NG{constructor(){this.map=[]}add(t,n,r){IG(this,t,n,r)}consume(t){if(this.map.sort(function(i,a){return i[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let s=r.pop();for(;s;){for(const i of s)t.push(i);s=r.pop()}this.map.length=0}}function IG(e,t,n,r){let s=0;if(!(n===0&&r.length===0)){for(;s<e.map.length;){if(e.map[s][0]===t){e.map[s][1]+=n,e.map[s][2].push(...r);return}s+=1}e.map.push([t,n,r])}}function RG(e,t){let n=!1;const r=[];for(;t<e.length;){const s=e[t];if(n){if(s[0]==="enter")s[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function PG(){return{flow:{null:{name:"table",tokenize:OG,resolveAll:DG}}}}function OG(e,t,n){const r=this;let s=0,i=0,a;return o;function o(I){let H=r.events.length-1;for(;H>-1;){const W=r.events[H][1].type;if(W==="lineEnding"||W==="linePrefix")H--;else break}const U=H>-1?r.events[H][1].type:null,G=U==="tableHead"||U==="tableRow"?S:l;return G===S&&r.parser.lazy[r.now().line]?n(I):G(I)}function l(I){return e.enter("tableHead"),e.enter("tableRow"),u(I)}function u(I){return I===124||(a=!0,i+=1),c(I)}function c(I){return I===null?n(I):ve(I)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),h):n(I):Pe(I)?je(e,c,"whitespace")(I):(i+=1,a&&(a=!1,s+=1),I===124?(e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),a=!0,c):(e.enter("data"),d(I)))}function d(I){return I===null||I===124||We(I)?(e.exit("data"),c(I)):(e.consume(I),I===92?f:d)}function f(I){return I===92||I===124?(e.consume(I),d):d(I)}function h(I){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(I):(e.enter("tableDelimiterRow"),a=!1,Pe(I)?je(e,g,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):g(I))}function g(I){return I===45||I===58?w(I):I===124?(a=!0,e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),y):k(I)}function y(I){return Pe(I)?je(e,w,"whitespace")(I):w(I)}function w(I){return I===58?(i+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(I),e.exit("tableDelimiterMarker"),v):I===45?(i+=1,v(I)):I===null||ve(I)?T(I):k(I)}function v(I){return I===45?(e.enter("tableDelimiterFiller"),x(I)):k(I)}function x(I){return I===45?(e.consume(I),x):I===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(I),e.exit("tableDelimiterMarker"),E):(e.exit("tableDelimiterFiller"),E(I))}function E(I){return Pe(I)?je(e,T,"whitespace")(I):T(I)}function T(I){return I===124?g(I):I===null||ve(I)?!a||s!==i?k(I):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(I)):k(I)}function k(I){return n(I)}function S(I){return e.enter("tableRow"),C(I)}function C(I){return I===124?(e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),C):I===null||ve(I)?(e.exit("tableRow"),t(I)):Pe(I)?je(e,C,"whitespace")(I):(e.enter("data"),O(I))}function O(I){return I===null||I===124||We(I)?(e.exit("data"),C(I)):(e.consume(I),I===92?M:O)}function M(I){return I===92||I===124?(e.consume(I),O):O(I)}}function DG(e,t){let n=-1,r=!0,s=0,i=[0,0,0,0],a=[0,0,0,0],o=!1,l=0,u,c,d;const f=new NG;for(;++n<e.length;){const h=e[n],g=h[1];h[0]==="enter"?g.type==="tableHead"?(o=!1,l!==0&&(QT(f,t,l,u,c),c=void 0,l=0),u={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},f.add(n,0,[["enter",u,t]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(r=!0,d=void 0,i=[0,0,0,0],a=[0,n+1,0,0],o&&(o=!1,c={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},f.add(n,0,[["enter",c,t]])),s=g.type==="tableDelimiterRow"?2:c?3:1):s&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(i[1]!==0&&(a[0]=a[1],d=xd(f,t,i,s,void 0,d),i=[0,0,0,0]),a[2]=n)):g.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(a[0]=a[1],d=xd(f,t,i,s,void 0,d)),i=a,a=[i[1],n,0,0])):g.type==="tableHead"?(o=!0,l=n):g.type==="tableRow"||g.type==="tableDelimiterRow"?(l=n,i[1]!==0?(a[0]=a[1],d=xd(f,t,i,s,n,d)):a[1]!==0&&(d=xd(f,t,a,s,n,d)),s=0):s&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(a[3]=n)}for(l!==0&&QT(f,t,l,u,c),f.consume(t.events),n=-1;++n<t.events.length;){const h=t.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=RG(t.events,n))}return e}function xd(e,t,n,r,s,i){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(i.end=Object.assign({},qa(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const l=qa(t.events,n[1]);if(i={type:a,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const u=qa(t.events,n[2]),c=qa(t.events,n[3]),d={type:o,start:Object.assign({},u),end:Object.assign({},c)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const f=t.events[n[2]],h=t.events[n[3]];if(f[1].end=Object.assign({},h[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const g=n[2]+1,y=n[3]-n[2]-1;e.add(g,y,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return s!==void 0&&(i.end=Object.assign({},qa(t.events,s)),e.add(s,0,[["exit",i,t]]),i=void 0),i}function QT(e,t,n,r,s){const i=[],a=qa(t.events,n);s&&(s.end=Object.assign({},a),i.push(["exit",s,t])),r.end=Object.assign({},a),i.push(["exit",r,t]),e.add(n+1,0,i)}function qa(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const LG={name:"tasklistCheck",tokenize:jG};function MG(){return{text:{91:LG}}}function jG(e,t,n){const r=this;return s;function s(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),i)}function i(l){return We(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),a):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),a):n(l)}function a(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(l)}function o(l){return ve(l)?t(l):Pe(l)?e.check({tokenize:FG},t,n)(l):n(l)}}function FG(e,t,n){return je(e,r,"whitespace");function r(s){return s===null?n(s):t(s)}}function BG(e){return OI([cG(),xG(),AG(e),PG(),MG()])}const UG={};function _R(e){const t=this,n=e||UG,r=t.data(),s=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);s.push(BG(n)),i.push(aG()),a.push(oG(n))}const XT=/[#.]/g;function HG(e,t){const n=e||"",r={};let s=0,i,a;for(;s<n.length;){XT.lastIndex=s;const o=XT.exec(n),l=n.slice(s,o?o.index:n.length);l&&(i?i==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:a=l,s+=l.length),o&&(i=o[0],s++)}return{type:"element",tagName:a||t||"div",properties:r,children:[]}}function CR(e,t,n){const r=n?WG(n):void 0;function s(i,a,...o){let l;if(i==null){l={type:"root",children:[]};const u=a;o.unshift(u)}else{l=HG(i,t);const u=l.tagName.toLowerCase(),c=r?r.get(u):void 0;if(l.tagName=c||u,$G(a))o.unshift(a);else for(const[d,f]of Object.entries(a))zG(e,l.properties,d,f)}for(const u of o)ny(l.children,u);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return s}function $G(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const s=t[r];if(s&&typeof s=="object"){if(!Array.isArray(s))return!0;const i=s;for(const a of i)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function zG(e,t,n,r){const s=Vf(e,n);let i;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;i=r}else typeof r=="boolean"?i=r:typeof r=="string"?s.spaceSeparated?i=sT(r):s.commaSeparated?i=ZE(r):s.commaOrSpaceSeparated?i=sT(ZE(r).join(" ")):i=JT(s,s.property,r):Array.isArray(r)?i=[...r]:i=s.property==="style"?VG(r):String(r);if(Array.isArray(i)){const a=[];for(const o of i)a.push(JT(s,s.property,o));i=a}s.property==="className"&&Array.isArray(t.className)&&(i=t.className.concat(i)),t[s.property]=i}}function ny(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)ny(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?ny(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function JT(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||rc(n)===rc(t)))return!0}return n}function VG(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function WG(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const qG=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],KG=CR(Cc,"div"),YG=CR(Ti,"g",qG);function GG(e){const t=String(e),n=[];return{toOffset:s,toPoint:r};function r(i){if(typeof i=="number"&&i>-1&&i<=t.length){let a=0;for(;;){let o=n[a];if(o===void 0){const l=ZT(t,n[a-1]);o=l===-1?t.length+1:l+1,n[a]=o}if(o>i)return{line:a+1,column:i-(a>0?n[a-1]:0)+1,offset:i};a++}}}function s(i){if(i&&typeof i.line=="number"&&typeof i.column=="number"&&!Number.isNaN(i.line)&&!Number.isNaN(i.column)){for(;n.length<i.line;){const o=n[n.length-1],l=ZT(t,o),u=l===-1?t.length+1:l+1;if(o===u)break;n.push(u)}const a=(i.line>1?n[i.line-2]:0)+i.column-1;if(a<n[i.line-1])return a}}}function ZT(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const Qi={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},AR={}.hasOwnProperty,QG=Object.prototype;function XG(e,t){const n=t||{};return Hb({file:n.file||void 0,location:!1,schema:n.space==="svg"?Ti:Cc,verbose:n.verbose||!1},e)}function Hb(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},Jd(e,r,n),n}case"#document":case"#document-fragment":{const r=t,s="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:NR(e,t.childNodes),data:{quirksMode:s}},e.file&&e.location){const i=String(e.file),a=GG(i),o=a.toPoint(0),l=a.toPoint(i.length);n.position={start:o,end:l}}return n}case"#documentType":{const r=t;return n={type:"doctype"},Jd(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},Jd(e,r,n),n}default:return n=JG(e,t),n}}function NR(e,t){let n=-1;const r=[];for(;++n<t.length;){const s=Hb(e,t[n]);r.push(s)}return r}function JG(e,t){const n=e.schema;e.schema=t.namespaceURI===Qi.svg?Ti:Cc;let r=-1;const s={};for(;++r<t.attrs.length;){const o=t.attrs[r],l=(o.prefix?o.prefix+":":"")+o.name;AR.call(QG,l)||(s[l]=o.value)}const a=(e.schema.space==="svg"?YG:KG)(t.tagName,s,NR(e,t.childNodes));if(Jd(e,t,a),a.tagName==="template"){const o=t,l=o.sourceCodeLocation,u=l&&l.startTag&&po(l.startTag),c=l&&l.endTag&&po(l.endTag),d=Hb(e,o.content);u&&c&&e.file&&(d.position={start:u.end,end:c.start}),a.content=d}return e.schema=n,a}function Jd(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=ZG(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function ZG(e,t,n){const r=po(n);if(t.type==="element"){const s=t.children[t.children.length-1];if(r&&!n.endTag&&s&&s.position&&s.position.end&&(r.end=Object.assign({},s.position.end)),e.verbose){const i={};let a;if(n.attrs)for(a in n.attrs)AR.call(n.attrs,a)&&(i[Vf(e.schema,a).property]=po(n.attrs[a]));n.startTag;const o=po(n.startTag),l=n.endTag?po(n.endTag):void 0,u={opening:o};l&&(u.closing=l),u.properties=i,t.data={position:u}}}return r}function po(e){const t=eS({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=eS({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function eS(e){return e.line&&e.column?e:void 0}const eQ={},tQ={}.hasOwnProperty,IR=aR("type",{handlers:{root:rQ,element:lQ,text:aQ,comment:oQ,doctype:iQ}});function nQ(e,t){const r=(t||eQ).space;return IR(e,r==="svg"?Ti:Cc)}function rQ(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=$b(e.children,n,t),vl(e,n),n}function sQ(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=$b(e.children,n,t),vl(e,n),n}function iQ(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return vl(e,t),t}function aQ(e){const t={nodeName:"#text",value:e.value,parentNode:null};return vl(e,t),t}function oQ(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return vl(e,t),t}function lQ(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=Ti);const s=[];let i;if(e.properties){for(i in e.properties)if(i!=="children"&&tQ.call(e.properties,i)){const l=uQ(r,i,e.properties[i]);l&&s.push(l)}}const a=r.space,o={nodeName:e.tagName,tagName:e.tagName,attrs:s,namespaceURI:Qi[a],childNodes:[],parentNode:null};return o.childNodes=$b(e.children,o,r),vl(e,o),e.tagName==="template"&&e.content&&(o.content=sQ(e.content,r)),o}function uQ(e,t,n){const r=Vf(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?vI(n):_I(n));const s={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const i=s.name.indexOf(":");i<0?s.prefix="":(s.name=s.name.slice(i+1),s.prefix=r.attribute.slice(0,i)),s.namespace=Qi[r.space]}return s}function $b(e,t,n){let r=-1;const s=[];if(e)for(;++r<e.length;){const i=IR(e[r],n);i.parentNode=t,s.push(i)}return s}function vl(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const cQ=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],dQ=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),et="";var N;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(N||(N={}));const an={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function RR(e){return e>=55296&&e<=57343}function hQ(e){return e>=56320&&e<=57343}function fQ(e,t){return(e-55296)*1024+9216+t}function PR(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function OR(e){return e>=64976&&e<=65007||dQ.has(e)}var z;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(z||(z={}));const pQ=65536;class mQ{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=pQ,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:s,offset:i}=this,a=s+n,o=i+n;return{code:t,startLine:r,endLine:r,startCol:a,endCol:a,startOffset:o,endOffset:o}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(hQ(n))return this.pos++,this._addGap(),fQ(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,N.EOF;return this._err(z.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,N.EOF;const r=this.html.charCodeAt(n);return r===N.CARRIAGE_RETURN?N.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,N.EOF;let t=this.html.charCodeAt(this.pos);return t===N.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,N.LINE_FEED):t===N.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,RR(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===N.LINE_FEED||t===N.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){PR(t)?this._err(z.controlCharacterInInputStream):OR(t)&&this._err(z.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Ie;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Ie||(Ie={}));function DR(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const gQ=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),yQ=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function vQ(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=yQ.get(e))!==null&&t!==void 0?t:e}var Nt;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Nt||(Nt={}));const bQ=32;var Xs;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Xs||(Xs={}));function ry(e){return e>=Nt.ZERO&&e<=Nt.NINE}function xQ(e){return e>=Nt.UPPER_A&&e<=Nt.UPPER_F||e>=Nt.LOWER_A&&e<=Nt.LOWER_F}function wQ(e){return e>=Nt.UPPER_A&&e<=Nt.UPPER_Z||e>=Nt.LOWER_A&&e<=Nt.LOWER_Z||ry(e)}function EQ(e){return e===Nt.EQUALS||wQ(e)}var Ct;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Ct||(Ct={}));var Xr;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Xr||(Xr={}));class TQ{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=Ct.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Xr.Strict}startEntity(t){this.decodeMode=t,this.state=Ct.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Ct.EntityStart:return t.charCodeAt(n)===Nt.NUM?(this.state=Ct.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Ct.NamedEntity,this.stateNamedEntity(t,n));case Ct.NumericStart:return this.stateNumericStart(t,n);case Ct.NumericDecimal:return this.stateNumericDecimal(t,n);case Ct.NumericHex:return this.stateNumericHex(t,n);case Ct.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|bQ)===Nt.LOWER_X?(this.state=Ct.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Ct.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,s){if(n!==r){const i=r-n;this.result=this.result*Math.pow(s,i)+Number.parseInt(t.substr(n,i),s),this.consumed+=i}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const s=t.charCodeAt(n);if(ry(s)||xQ(s))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const s=t.charCodeAt(n);if(ry(s))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Nt.SEMI)this.consumed+=1;else if(this.decodeMode===Xr.Strict)return 0;return this.emitCodePoint(vQ(this.result),this.consumed),this.errors&&(t!==Nt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let s=r[this.treeIndex],i=(s&Xs.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const a=t.charCodeAt(n);if(this.treeIndex=SQ(r,s,this.treeIndex+Math.max(1,i),a),this.treeIndex<0)return this.result===0||this.decodeMode===Xr.Attribute&&(i===0||EQ(a))?0:this.emitNotTerminatedNamedEntity();if(s=r[this.treeIndex],i=(s&Xs.VALUE_LENGTH)>>14,i!==0){if(a===Nt.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==Xr.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,s=(r[n]&Xs.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,s,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:s}=this;return this.emitCodePoint(n===1?s[t]&~Xs.VALUE_LENGTH:s[t+1],r),n===3&&this.emitCodePoint(s[t+2],r),r}end(){var t;switch(this.state){case Ct.NamedEntity:return this.result!==0&&(this.decodeMode!==Xr.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Ct.NumericDecimal:return this.emitNumericEntity(0,2);case Ct.NumericHex:return this.emitNumericEntity(0,3);case Ct.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Ct.EntityStart:return 0}}}function SQ(e,t,n,r){const s=(t&Xs.BRANCH_LENGTH)>>7,i=t&Xs.JUMP_TABLE;if(s===0)return i!==0&&r===i?n:-1;if(i){const l=r-i;return l<0||l>=s?-1:e[n+l]-1}let a=n,o=a+s-1;for(;a<=o;){const l=a+o>>>1,u=e[l];if(u<r)a=l+1;else if(u>r)o=l-1;else return e[l+s]}return-1}var Y;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(Y||(Y={}));var ua;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(ua||(ua={}));var Fn;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Fn||(Fn={}));var B;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(B||(B={}));var m;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(m||(m={}));const kQ=new Map([[B.A,m.A],[B.ADDRESS,m.ADDRESS],[B.ANNOTATION_XML,m.ANNOTATION_XML],[B.APPLET,m.APPLET],[B.AREA,m.AREA],[B.ARTICLE,m.ARTICLE],[B.ASIDE,m.ASIDE],[B.B,m.B],[B.BASE,m.BASE],[B.BASEFONT,m.BASEFONT],[B.BGSOUND,m.BGSOUND],[B.BIG,m.BIG],[B.BLOCKQUOTE,m.BLOCKQUOTE],[B.BODY,m.BODY],[B.BR,m.BR],[B.BUTTON,m.BUTTON],[B.CAPTION,m.CAPTION],[B.CENTER,m.CENTER],[B.CODE,m.CODE],[B.COL,m.COL],[B.COLGROUP,m.COLGROUP],[B.DD,m.DD],[B.DESC,m.DESC],[B.DETAILS,m.DETAILS],[B.DIALOG,m.DIALOG],[B.DIR,m.DIR],[B.DIV,m.DIV],[B.DL,m.DL],[B.DT,m.DT],[B.EM,m.EM],[B.EMBED,m.EMBED],[B.FIELDSET,m.FIELDSET],[B.FIGCAPTION,m.FIGCAPTION],[B.FIGURE,m.FIGURE],[B.FONT,m.FONT],[B.FOOTER,m.FOOTER],[B.FOREIGN_OBJECT,m.FOREIGN_OBJECT],[B.FORM,m.FORM],[B.FRAME,m.FRAME],[B.FRAMESET,m.FRAMESET],[B.H1,m.H1],[B.H2,m.H2],[B.H3,m.H3],[B.H4,m.H4],[B.H5,m.H5],[B.H6,m.H6],[B.HEAD,m.HEAD],[B.HEADER,m.HEADER],[B.HGROUP,m.HGROUP],[B.HR,m.HR],[B.HTML,m.HTML],[B.I,m.I],[B.IMG,m.IMG],[B.IMAGE,m.IMAGE],[B.INPUT,m.INPUT],[B.IFRAME,m.IFRAME],[B.KEYGEN,m.KEYGEN],[B.LABEL,m.LABEL],[B.LI,m.LI],[B.LINK,m.LINK],[B.LISTING,m.LISTING],[B.MAIN,m.MAIN],[B.MALIGNMARK,m.MALIGNMARK],[B.MARQUEE,m.MARQUEE],[B.MATH,m.MATH],[B.MENU,m.MENU],[B.META,m.META],[B.MGLYPH,m.MGLYPH],[B.MI,m.MI],[B.MO,m.MO],[B.MN,m.MN],[B.MS,m.MS],[B.MTEXT,m.MTEXT],[B.NAV,m.NAV],[B.NOBR,m.NOBR],[B.NOFRAMES,m.NOFRAMES],[B.NOEMBED,m.NOEMBED],[B.NOSCRIPT,m.NOSCRIPT],[B.OBJECT,m.OBJECT],[B.OL,m.OL],[B.OPTGROUP,m.OPTGROUP],[B.OPTION,m.OPTION],[B.P,m.P],[B.PARAM,m.PARAM],[B.PLAINTEXT,m.PLAINTEXT],[B.PRE,m.PRE],[B.RB,m.RB],[B.RP,m.RP],[B.RT,m.RT],[B.RTC,m.RTC],[B.RUBY,m.RUBY],[B.S,m.S],[B.SCRIPT,m.SCRIPT],[B.SEARCH,m.SEARCH],[B.SECTION,m.SECTION],[B.SELECT,m.SELECT],[B.SOURCE,m.SOURCE],[B.SMALL,m.SMALL],[B.SPAN,m.SPAN],[B.STRIKE,m.STRIKE],[B.STRONG,m.STRONG],[B.STYLE,m.STYLE],[B.SUB,m.SUB],[B.SUMMARY,m.SUMMARY],[B.SUP,m.SUP],[B.TABLE,m.TABLE],[B.TBODY,m.TBODY],[B.TEMPLATE,m.TEMPLATE],[B.TEXTAREA,m.TEXTAREA],[B.TFOOT,m.TFOOT],[B.TD,m.TD],[B.TH,m.TH],[B.THEAD,m.THEAD],[B.TITLE,m.TITLE],[B.TR,m.TR],[B.TRACK,m.TRACK],[B.TT,m.TT],[B.U,m.U],[B.UL,m.UL],[B.SVG,m.SVG],[B.VAR,m.VAR],[B.WBR,m.WBR],[B.XMP,m.XMP]]);function bl(e){var t;return(t=kQ.get(e))!==null&&t!==void 0?t:m.UNKNOWN}const Z=m,_Q={[Y.HTML]:new Set([Z.ADDRESS,Z.APPLET,Z.AREA,Z.ARTICLE,Z.ASIDE,Z.BASE,Z.BASEFONT,Z.BGSOUND,Z.BLOCKQUOTE,Z.BODY,Z.BR,Z.BUTTON,Z.CAPTION,Z.CENTER,Z.COL,Z.COLGROUP,Z.DD,Z.DETAILS,Z.DIR,Z.DIV,Z.DL,Z.DT,Z.EMBED,Z.FIELDSET,Z.FIGCAPTION,Z.FIGURE,Z.FOOTER,Z.FORM,Z.FRAME,Z.FRAMESET,Z.H1,Z.H2,Z.H3,Z.H4,Z.H5,Z.H6,Z.HEAD,Z.HEADER,Z.HGROUP,Z.HR,Z.HTML,Z.IFRAME,Z.IMG,Z.INPUT,Z.LI,Z.LINK,Z.LISTING,Z.MAIN,Z.MARQUEE,Z.MENU,Z.META,Z.NAV,Z.NOEMBED,Z.NOFRAMES,Z.NOSCRIPT,Z.OBJECT,Z.OL,Z.P,Z.PARAM,Z.PLAINTEXT,Z.PRE,Z.SCRIPT,Z.SECTION,Z.SELECT,Z.SOURCE,Z.STYLE,Z.SUMMARY,Z.TABLE,Z.TBODY,Z.TD,Z.TEMPLATE,Z.TEXTAREA,Z.TFOOT,Z.TH,Z.THEAD,Z.TITLE,Z.TR,Z.TRACK,Z.UL,Z.WBR,Z.XMP]),[Y.MATHML]:new Set([Z.MI,Z.MO,Z.MN,Z.MS,Z.MTEXT,Z.ANNOTATION_XML]),[Y.SVG]:new Set([Z.TITLE,Z.FOREIGN_OBJECT,Z.DESC]),[Y.XLINK]:new Set,[Y.XML]:new Set,[Y.XMLNS]:new Set},sy=new Set([Z.H1,Z.H2,Z.H3,Z.H4,Z.H5,Z.H6]);B.STYLE,B.SCRIPT,B.XMP,B.IFRAME,B.NOEMBED,B.NOFRAMES,B.PLAINTEXT;var R;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(R||(R={}));const ft={DATA:R.DATA,RCDATA:R.RCDATA,RAWTEXT:R.RAWTEXT,SCRIPT_DATA:R.SCRIPT_DATA,PLAINTEXT:R.PLAINTEXT,CDATA_SECTION:R.CDATA_SECTION};function CQ(e){return e>=N.DIGIT_0&&e<=N.DIGIT_9}function Gl(e){return e>=N.LATIN_CAPITAL_A&&e<=N.LATIN_CAPITAL_Z}function AQ(e){return e>=N.LATIN_SMALL_A&&e<=N.LATIN_SMALL_Z}function As(e){return AQ(e)||Gl(e)}function tS(e){return As(e)||CQ(e)}function wd(e){return e+32}function LR(e){return e===N.SPACE||e===N.LINE_FEED||e===N.TABULATION||e===N.FORM_FEED}function nS(e){return LR(e)||e===N.SOLIDUS||e===N.GREATER_THAN_SIGN}function NQ(e){return e===N.NULL?z.nullCharacterReference:e>1114111?z.characterReferenceOutsideUnicodeRange:RR(e)?z.surrogateCharacterReference:OR(e)?z.noncharacterCharacterReference:PR(e)||e===N.CARRIAGE_RETURN?z.controlCharacterReference:null}class IQ{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=R.DATA,this.returnState=R.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new mQ(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new TQ(gQ,(r,s)=>{this.preprocessor.pos=this.entityStartPos+s-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(z.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(z.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const s=NQ(r);s&&this._err(s,1)}}:void 0)}_err(t,n=0){var r,s;(s=(r=this.handler).onParseError)===null||s===void 0||s.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Ie.START_TAG,tagName:"",tagID:m.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Ie.END_TAG,tagName:"",tagID:m.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Ie.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Ie.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(DR(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const s=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);s[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(z.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=bl(t.tagName),t.type===Ie.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(z.endTagWithAttributes),t.selfClosing&&this._err(z.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Ie.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Ie.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Ie.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Ie.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=LR(t)?Ie.WHITESPACE_CHARACTER:t===N.NULL?Ie.NULL_CHARACTER:Ie.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Ie.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=R.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Xr.Attribute:Xr.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===R.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===R.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===R.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case R.DATA:{this._stateData(t);break}case R.RCDATA:{this._stateRcdata(t);break}case R.RAWTEXT:{this._stateRawtext(t);break}case R.SCRIPT_DATA:{this._stateScriptData(t);break}case R.PLAINTEXT:{this._statePlaintext(t);break}case R.TAG_OPEN:{this._stateTagOpen(t);break}case R.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case R.TAG_NAME:{this._stateTagName(t);break}case R.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case R.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case R.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case R.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case R.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case R.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case R.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case R.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case R.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case R.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case R.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case R.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case R.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case R.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case R.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case R.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case R.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case R.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case R.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case R.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case R.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case R.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case R.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case R.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case R.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case R.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case R.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case R.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case R.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case R.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case R.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case R.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case R.BOGUS_COMMENT:{this._stateBogusComment(t);break}case R.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case R.COMMENT_START:{this._stateCommentStart(t);break}case R.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case R.COMMENT:{this._stateComment(t);break}case R.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case R.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case R.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case R.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case R.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case R.COMMENT_END:{this._stateCommentEnd(t);break}case R.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case R.DOCTYPE:{this._stateDoctype(t);break}case R.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case R.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case R.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case R.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case R.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case R.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case R.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case R.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case R.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case R.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case R.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case R.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case R.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case R.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case R.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case R.CDATA_SECTION:{this._stateCdataSection(t);break}case R.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case R.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case R.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case R.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case N.LESS_THAN_SIGN:{this.state=R.TAG_OPEN;break}case N.AMPERSAND:{this._startCharacterReference();break}case N.NULL:{this._err(z.unexpectedNullCharacter),this._emitCodePoint(t);break}case N.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case N.AMPERSAND:{this._startCharacterReference();break}case N.LESS_THAN_SIGN:{this.state=R.RCDATA_LESS_THAN_SIGN;break}case N.NULL:{this._err(z.unexpectedNullCharacter),this._emitChars(et);break}case N.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case N.LESS_THAN_SIGN:{this.state=R.RAWTEXT_LESS_THAN_SIGN;break}case N.NULL:{this._err(z.unexpectedNullCharacter),this._emitChars(et);break}case N.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case N.LESS_THAN_SIGN:{this.state=R.SCRIPT_DATA_LESS_THAN_SIGN;break}case N.NULL:{this._err(z.unexpectedNullCharacter),this._emitChars(et);break}case N.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case N.NULL:{this._err(z.unexpectedNullCharacter),this._emitChars(et);break}case N.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(As(t))this._createStartTagToken(),this.state=R.TAG_NAME,this._stateTagName(t);else switch(t){case N.EXCLAMATION_MARK:{this.state=R.MARKUP_DECLARATION_OPEN;break}case N.SOLIDUS:{this.state=R.END_TAG_OPEN;break}case N.QUESTION_MARK:{this._err(z.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=R.BOGUS_COMMENT,this._stateBogusComment(t);break}case N.EOF:{this._err(z.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(z.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=R.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(As(t))this._createEndTagToken(),this.state=R.TAG_NAME,this._stateTagName(t);else switch(t){case N.GREATER_THAN_SIGN:{this._err(z.missingEndTagName),this.state=R.DATA;break}case N.EOF:{this._err(z.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(z.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=R.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:{this.state=R.BEFORE_ATTRIBUTE_NAME;break}case N.SOLIDUS:{this.state=R.SELF_CLOSING_START_TAG;break}case N.GREATER_THAN_SIGN:{this.state=R.DATA,this.emitCurrentTagToken();break}case N.NULL:{this._err(z.unexpectedNullCharacter),n.tagName+=et;break}case N.EOF:{this._err(z.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Gl(t)?wd(t):t)}}_stateRcdataLessThanSign(t){t===N.SOLIDUS?this.state=R.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=R.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){As(t)?(this.state=R.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=R.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=R.BEFORE_ATTRIBUTE_NAME,!1;case N.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=R.SELF_CLOSING_START_TAG,!1;case N.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=R.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=R.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===N.SOLIDUS?this.state=R.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=R.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){As(t)?(this.state=R.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=R.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=R.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case N.SOLIDUS:{this.state=R.SCRIPT_DATA_END_TAG_OPEN;break}case N.EXCLAMATION_MARK:{this.state=R.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=R.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){As(t)?(this.state=R.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=R.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=R.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===N.HYPHEN_MINUS?(this.state=R.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=R.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===N.HYPHEN_MINUS?(this.state=R.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=R.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case N.HYPHEN_MINUS:{this.state=R.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case N.LESS_THAN_SIGN:{this.state=R.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case N.NULL:{this._err(z.unexpectedNullCharacter),this._emitChars(et);break}case N.EOF:{this._err(z.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case N.HYPHEN_MINUS:{this.state=R.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case N.LESS_THAN_SIGN:{this.state=R.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case N.NULL:{this._err(z.unexpectedNullCharacter),this.state=R.SCRIPT_DATA_ESCAPED,this._emitChars(et);break}case N.EOF:{this._err(z.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=R.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case N.HYPHEN_MINUS:{this._emitChars("-");break}case N.LESS_THAN_SIGN:{this.state=R.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case N.GREATER_THAN_SIGN:{this.state=R.SCRIPT_DATA,this._emitChars(">");break}case N.NULL:{this._err(z.unexpectedNullCharacter),this.state=R.SCRIPT_DATA_ESCAPED,this._emitChars(et);break}case N.EOF:{this._err(z.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=R.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===N.SOLIDUS?this.state=R.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:As(t)?(this._emitChars("<"),this.state=R.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=R.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){As(t)?(this.state=R.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=R.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=R.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(an.SCRIPT,!1)&&nS(this.preprocessor.peek(an.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<an.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=R.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case N.HYPHEN_MINUS:{this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case N.LESS_THAN_SIGN:{this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case N.NULL:{this._err(z.unexpectedNullCharacter),this._emitChars(et);break}case N.EOF:{this._err(z.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case N.HYPHEN_MINUS:{this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case N.LESS_THAN_SIGN:{this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case N.NULL:{this._err(z.unexpectedNullCharacter),this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(et);break}case N.EOF:{this._err(z.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case N.HYPHEN_MINUS:{this._emitChars("-");break}case N.LESS_THAN_SIGN:{this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case N.GREATER_THAN_SIGN:{this.state=R.SCRIPT_DATA,this._emitChars(">");break}case N.NULL:{this._err(z.unexpectedNullCharacter),this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(et);break}case N.EOF:{this._err(z.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===N.SOLIDUS?(this.state=R.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(an.SCRIPT,!1)&&nS(this.preprocessor.peek(an.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<an.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=R.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:break;case N.SOLIDUS:case N.GREATER_THAN_SIGN:case N.EOF:{this.state=R.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case N.EQUALS_SIGN:{this._err(z.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=R.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=R.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:case N.SOLIDUS:case N.GREATER_THAN_SIGN:case N.EOF:{this._leaveAttrName(),this.state=R.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case N.EQUALS_SIGN:{this._leaveAttrName(),this.state=R.BEFORE_ATTRIBUTE_VALUE;break}case N.QUOTATION_MARK:case N.APOSTROPHE:case N.LESS_THAN_SIGN:{this._err(z.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case N.NULL:{this._err(z.unexpectedNullCharacter),this.currentAttr.name+=et;break}default:this.currentAttr.name+=String.fromCodePoint(Gl(t)?wd(t):t)}}_stateAfterAttributeName(t){switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:break;case N.SOLIDUS:{this.state=R.SELF_CLOSING_START_TAG;break}case N.EQUALS_SIGN:{this.state=R.BEFORE_ATTRIBUTE_VALUE;break}case N.GREATER_THAN_SIGN:{this.state=R.DATA,this.emitCurrentTagToken();break}case N.EOF:{this._err(z.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=R.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:break;case N.QUOTATION_MARK:{this.state=R.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case N.APOSTROPHE:{this.state=R.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case N.GREATER_THAN_SIGN:{this._err(z.missingAttributeValue),this.state=R.DATA,this.emitCurrentTagToken();break}default:this.state=R.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case N.QUOTATION_MARK:{this.state=R.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case N.AMPERSAND:{this._startCharacterReference();break}case N.NULL:{this._err(z.unexpectedNullCharacter),this.currentAttr.value+=et;break}case N.EOF:{this._err(z.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case N.APOSTROPHE:{this.state=R.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case N.AMPERSAND:{this._startCharacterReference();break}case N.NULL:{this._err(z.unexpectedNullCharacter),this.currentAttr.value+=et;break}case N.EOF:{this._err(z.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:{this._leaveAttrValue(),this.state=R.BEFORE_ATTRIBUTE_NAME;break}case N.AMPERSAND:{this._startCharacterReference();break}case N.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=R.DATA,this.emitCurrentTagToken();break}case N.NULL:{this._err(z.unexpectedNullCharacter),this.currentAttr.value+=et;break}case N.QUOTATION_MARK:case N.APOSTROPHE:case N.LESS_THAN_SIGN:case N.EQUALS_SIGN:case N.GRAVE_ACCENT:{this._err(z.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case N.EOF:{this._err(z.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:{this._leaveAttrValue(),this.state=R.BEFORE_ATTRIBUTE_NAME;break}case N.SOLIDUS:{this._leaveAttrValue(),this.state=R.SELF_CLOSING_START_TAG;break}case N.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=R.DATA,this.emitCurrentTagToken();break}case N.EOF:{this._err(z.eofInTag),this._emitEOFToken();break}default:this._err(z.missingWhitespaceBetweenAttributes),this.state=R.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case N.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=R.DATA,this.emitCurrentTagToken();break}case N.EOF:{this._err(z.eofInTag),this._emitEOFToken();break}default:this._err(z.unexpectedSolidusInTag),this.state=R.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case N.GREATER_THAN_SIGN:{this.state=R.DATA,this.emitCurrentComment(n);break}case N.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case N.NULL:{this._err(z.unexpectedNullCharacter),n.data+=et;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(an.DASH_DASH,!0)?(this._createCommentToken(an.DASH_DASH.length+1),this.state=R.COMMENT_START):this._consumeSequenceIfMatch(an.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(an.DOCTYPE.length+1),this.state=R.DOCTYPE):this._consumeSequenceIfMatch(an.CDATA_START,!0)?this.inForeignNode?this.state=R.CDATA_SECTION:(this._err(z.cdataInHtmlContent),this._createCommentToken(an.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=R.BOGUS_COMMENT):this._ensureHibernation()||(this._err(z.incorrectlyOpenedComment),this._createCommentToken(2),this.state=R.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case N.HYPHEN_MINUS:{this.state=R.COMMENT_START_DASH;break}case N.GREATER_THAN_SIGN:{this._err(z.abruptClosingOfEmptyComment),this.state=R.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=R.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case N.HYPHEN_MINUS:{this.state=R.COMMENT_END;break}case N.GREATER_THAN_SIGN:{this._err(z.abruptClosingOfEmptyComment),this.state=R.DATA,this.emitCurrentComment(n);break}case N.EOF:{this._err(z.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=R.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case N.HYPHEN_MINUS:{this.state=R.COMMENT_END_DASH;break}case N.LESS_THAN_SIGN:{n.data+="<",this.state=R.COMMENT_LESS_THAN_SIGN;break}case N.NULL:{this._err(z.unexpectedNullCharacter),n.data+=et;break}case N.EOF:{this._err(z.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case N.EXCLAMATION_MARK:{n.data+="!",this.state=R.COMMENT_LESS_THAN_SIGN_BANG;break}case N.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=R.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===N.HYPHEN_MINUS?this.state=R.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=R.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===N.HYPHEN_MINUS?this.state=R.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=R.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==N.GREATER_THAN_SIGN&&t!==N.EOF&&this._err(z.nestedComment),this.state=R.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case N.HYPHEN_MINUS:{this.state=R.COMMENT_END;break}case N.EOF:{this._err(z.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=R.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case N.GREATER_THAN_SIGN:{this.state=R.DATA,this.emitCurrentComment(n);break}case N.EXCLAMATION_MARK:{this.state=R.COMMENT_END_BANG;break}case N.HYPHEN_MINUS:{n.data+="-";break}case N.EOF:{this._err(z.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=R.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case N.HYPHEN_MINUS:{n.data+="--!",this.state=R.COMMENT_END_DASH;break}case N.GREATER_THAN_SIGN:{this._err(z.incorrectlyClosedComment),this.state=R.DATA,this.emitCurrentComment(n);break}case N.EOF:{this._err(z.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=R.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:{this.state=R.BEFORE_DOCTYPE_NAME;break}case N.GREATER_THAN_SIGN:{this.state=R.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case N.EOF:{this._err(z.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(z.missingWhitespaceBeforeDoctypeName),this.state=R.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Gl(t))this._createDoctypeToken(String.fromCharCode(wd(t))),this.state=R.DOCTYPE_NAME;else switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:break;case N.NULL:{this._err(z.unexpectedNullCharacter),this._createDoctypeToken(et),this.state=R.DOCTYPE_NAME;break}case N.GREATER_THAN_SIGN:{this._err(z.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=R.DATA;break}case N.EOF:{this._err(z.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=R.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:{this.state=R.AFTER_DOCTYPE_NAME;break}case N.GREATER_THAN_SIGN:{this.state=R.DATA,this.emitCurrentDoctype(n);break}case N.NULL:{this._err(z.unexpectedNullCharacter),n.name+=et;break}case N.EOF:{this._err(z.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Gl(t)?wd(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:break;case N.GREATER_THAN_SIGN:{this.state=R.DATA,this.emitCurrentDoctype(n);break}case N.EOF:{this._err(z.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(an.PUBLIC,!1)?this.state=R.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(an.SYSTEM,!1)?this.state=R.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(z.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:{this.state=R.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case N.QUOTATION_MARK:{this._err(z.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=R.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case N.APOSTROPHE:{this._err(z.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=R.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case N.GREATER_THAN_SIGN:{this._err(z.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=R.DATA,this.emitCurrentDoctype(n);break}case N.EOF:{this._err(z.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(z.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:break;case N.QUOTATION_MARK:{n.publicId="",this.state=R.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case N.APOSTROPHE:{n.publicId="",this.state=R.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case N.GREATER_THAN_SIGN:{this._err(z.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=R.DATA,this.emitCurrentDoctype(n);break}case N.EOF:{this._err(z.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(z.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case N.QUOTATION_MARK:{this.state=R.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case N.NULL:{this._err(z.unexpectedNullCharacter),n.publicId+=et;break}case N.GREATER_THAN_SIGN:{this._err(z.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=R.DATA;break}case N.EOF:{this._err(z.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case N.APOSTROPHE:{this.state=R.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case N.NULL:{this._err(z.unexpectedNullCharacter),n.publicId+=et;break}case N.GREATER_THAN_SIGN:{this._err(z.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=R.DATA;break}case N.EOF:{this._err(z.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:{this.state=R.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case N.GREATER_THAN_SIGN:{this.state=R.DATA,this.emitCurrentDoctype(n);break}case N.QUOTATION_MARK:{this._err(z.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case N.APOSTROPHE:{this._err(z.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case N.EOF:{this._err(z.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(z.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:break;case N.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=R.DATA;break}case N.QUOTATION_MARK:{n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case N.APOSTROPHE:{n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case N.EOF:{this._err(z.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(z.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:{this.state=R.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case N.QUOTATION_MARK:{this._err(z.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case N.APOSTROPHE:{this._err(z.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case N.GREATER_THAN_SIGN:{this._err(z.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=R.DATA,this.emitCurrentDoctype(n);break}case N.EOF:{this._err(z.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(z.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:break;case N.QUOTATION_MARK:{n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case N.APOSTROPHE:{n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case N.GREATER_THAN_SIGN:{this._err(z.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=R.DATA,this.emitCurrentDoctype(n);break}case N.EOF:{this._err(z.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(z.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case N.QUOTATION_MARK:{this.state=R.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case N.NULL:{this._err(z.unexpectedNullCharacter),n.systemId+=et;break}case N.GREATER_THAN_SIGN:{this._err(z.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=R.DATA;break}case N.EOF:{this._err(z.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case N.APOSTROPHE:{this.state=R.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case N.NULL:{this._err(z.unexpectedNullCharacter),n.systemId+=et;break}case N.GREATER_THAN_SIGN:{this._err(z.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=R.DATA;break}case N.EOF:{this._err(z.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case N.SPACE:case N.LINE_FEED:case N.TABULATION:case N.FORM_FEED:break;case N.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=R.DATA;break}case N.EOF:{this._err(z.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(z.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case N.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=R.DATA;break}case N.NULL:{this._err(z.unexpectedNullCharacter);break}case N.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case N.RIGHT_SQUARE_BRACKET:{this.state=R.CDATA_SECTION_BRACKET;break}case N.EOF:{this._err(z.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===N.RIGHT_SQUARE_BRACKET?this.state=R.CDATA_SECTION_END:(this._emitChars("]"),this.state=R.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case N.GREATER_THAN_SIGN:{this.state=R.DATA;break}case N.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=R.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(N.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&tS(this.preprocessor.peek(1))?R.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){tS(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===N.SEMICOLON&&this._err(z.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const MR=new Set([m.DD,m.DT,m.LI,m.OPTGROUP,m.OPTION,m.P,m.RB,m.RP,m.RT,m.RTC]),rS=new Set([...MR,m.CAPTION,m.COLGROUP,m.TBODY,m.TD,m.TFOOT,m.TH,m.THEAD,m.TR]),Jh=new Set([m.APPLET,m.CAPTION,m.HTML,m.MARQUEE,m.OBJECT,m.TABLE,m.TD,m.TEMPLATE,m.TH]),RQ=new Set([...Jh,m.OL,m.UL]),PQ=new Set([...Jh,m.BUTTON]),sS=new Set([m.ANNOTATION_XML,m.MI,m.MN,m.MO,m.MS,m.MTEXT]),iS=new Set([m.DESC,m.FOREIGN_OBJECT,m.TITLE]),OQ=new Set([m.TR,m.TEMPLATE,m.HTML]),DQ=new Set([m.TBODY,m.TFOOT,m.THEAD,m.TEMPLATE,m.HTML]),LQ=new Set([m.TABLE,m.TEMPLATE,m.HTML]),MQ=new Set([m.TD,m.TH]);class jQ{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=m.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===m.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Y.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const s=this._indexOf(t)+1;this.items.splice(s,0,n),this.tagIDs.splice(s,0,r),this.stackTop++,s===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,s===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Y.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(sy,Y.HTML)}popUntilTableCellPopped(){this.popUntilPopped(MQ,Y.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(LQ,Y.HTML)}clearBackToTableBodyContext(){this.clearBackTo(DQ,Y.HTML)}clearBackToTableRowContext(){this.clearBackTo(OQ,Y.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===m.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===m.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const s=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case Y.HTML:{if(s===t)return!0;if(n.has(s))return!1;break}case Y.SVG:{if(iS.has(s))return!1;break}case Y.MATHML:{if(sS.has(s))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Jh)}hasInListItemScope(t){return this.hasInDynamicScope(t,RQ)}hasInButtonScope(t){return this.hasInDynamicScope(t,PQ)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case Y.HTML:{if(sy.has(n))return!0;if(Jh.has(n))return!1;break}case Y.SVG:{if(iS.has(n))return!1;break}case Y.MATHML:{if(sS.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Y.HTML)switch(this.tagIDs[n]){case t:return!0;case m.TABLE:case m.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===Y.HTML)switch(this.tagIDs[t]){case m.TBODY:case m.THEAD:case m.TFOOT:return!0;case m.TABLE:case m.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Y.HTML)switch(this.tagIDs[n]){case t:return!0;case m.OPTION:case m.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&MR.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&rS.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&rS.has(this.currentTagId);)this.pop()}}const Om=3;var Ar;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Ar||(Ar={}));const aS={type:Ar.Marker};class FQ{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],s=n.length,i=this.treeAdapter.getTagName(t),a=this.treeAdapter.getNamespaceURI(t);for(let o=0;o<this.entries.length;o++){const l=this.entries[o];if(l.type===Ar.Marker)break;const{element:u}=l;if(this.treeAdapter.getTagName(u)===i&&this.treeAdapter.getNamespaceURI(u)===a){const c=this.treeAdapter.getAttrList(u);c.length===s&&r.push({idx:o,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<Om)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<Om)return;const s=new Map(n.map(a=>[a.name,a.value]));let i=0;for(let a=0;a<r.length;a++){const o=r[a];o.attrs.every(l=>s.get(l.name)===l.value)&&(i+=1,i>=Om&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(aS)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:Ar.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Ar.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(aS);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===Ar.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===Ar.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===Ar.Element&&n.element===t)}}const Ns={createDocument(){return{nodeName:"#document",mode:Fn.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const s=e.childNodes.find(i=>i.nodeName==="#documentType");if(s)s.name=t,s.publicId=n,s.systemId=r;else{const i={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};Ns.appendChild(e,i)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(Ns.isTextNode(n)){n.value+=t;return}}Ns.appendChild(e,Ns.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&Ns.isTextNode(r)?r.value+=t:Ns.insertBefore(e,Ns.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},jR="html",BQ="about:legacy-compat",UQ="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",FR=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],HQ=[...FR,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],$Q=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),BR=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],zQ=[...BR,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function oS(e,t){return t.some(n=>e.startsWith(n))}function VQ(e){return e.name===jR&&e.publicId===null&&(e.systemId===null||e.systemId===BQ)}function WQ(e){if(e.name!==jR)return Fn.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===UQ)return Fn.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),$Q.has(n))return Fn.QUIRKS;let r=t===null?HQ:FR;if(oS(n,r))return Fn.QUIRKS;if(r=t===null?BR:zQ,oS(n,r))return Fn.LIMITED_QUIRKS}return Fn.NO_QUIRKS}const lS={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},qQ="definitionurl",KQ="definitionURL",YQ=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),GQ=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Y.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Y.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Y.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Y.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Y.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Y.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Y.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:Y.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Y.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Y.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Y.XMLNS}]]),QQ=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),XQ=new Set([m.B,m.BIG,m.BLOCKQUOTE,m.BODY,m.BR,m.CENTER,m.CODE,m.DD,m.DIV,m.DL,m.DT,m.EM,m.EMBED,m.H1,m.H2,m.H3,m.H4,m.H5,m.H6,m.HEAD,m.HR,m.I,m.IMG,m.LI,m.LISTING,m.MENU,m.META,m.NOBR,m.OL,m.P,m.PRE,m.RUBY,m.S,m.SMALL,m.SPAN,m.STRONG,m.STRIKE,m.SUB,m.SUP,m.TABLE,m.TT,m.U,m.UL,m.VAR]);function JQ(e){const t=e.tagID;return t===m.FONT&&e.attrs.some(({name:r})=>r===ua.COLOR||r===ua.SIZE||r===ua.FACE)||XQ.has(t)}function UR(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===qQ){e.attrs[t].name=KQ;break}}function HR(e){for(let t=0;t<e.attrs.length;t++){const n=YQ.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function zb(e){for(let t=0;t<e.attrs.length;t++){const n=GQ.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function ZQ(e){const t=QQ.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=bl(e.tagName))}function eX(e,t){return t===Y.MATHML&&(e===m.MI||e===m.MO||e===m.MN||e===m.MS||e===m.MTEXT)}function tX(e,t,n){if(t===Y.MATHML&&e===m.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===ua.ENCODING){const s=n[r].value.toLowerCase();return s===lS.TEXT_HTML||s===lS.APPLICATION_XML}}return t===Y.SVG&&(e===m.FOREIGN_OBJECT||e===m.DESC||e===m.TITLE)}function nX(e,t,n,r){return(!r||r===Y.HTML)&&tX(e,t,n)||(!r||r===Y.MATHML)&&eX(e,t)}const rX="hidden",sX=8,iX=3;var P;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(P||(P={}));const aX={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},$R=new Set([m.TABLE,m.TBODY,m.TFOOT,m.THEAD,m.TR]),uS={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Ns,onParseError:null};class cS{constructor(t,n,r=null,s=null){this.fragmentContext=r,this.scriptHandler=s,this.currentToken=null,this.stopped=!1,this.insertionMode=P.INITIAL,this.originalInsertionMode=P.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...uS,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new IQ(this.options,this),this.activeFormattingElements=new FQ(this.treeAdapter),this.fragmentContextID=r?bl(this.treeAdapter.getTagName(r)):m.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new jQ(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...uS,...n};t??(t=r.treeAdapter.createElement(B.TEMPLATE,Y.HTML,[]));const s=r.treeAdapter.createElement("documentmock",Y.HTML,[]),i=new this(r,s,t);return i.fragmentContextID===m.TEMPLATE&&i.tmplInsertionModeStack.unshift(P.IN_TEMPLATE),i._initTokenizerForFragmentParsing(),i._insertFakeRootElement(),i._resetInsertionMode(),i._findFormInFragmentContext(),i}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var s;if(!this.onParseError)return;const i=(s=t.location)!==null&&s!==void 0?s:aX,a={code:n,startLine:i.startLine,startCol:i.startCol,startOffset:i.startOffset,endLine:r?i.startLine:i.endLine,endCol:r?i.startCol:i.endCol,endOffset:r?i.startOffset:i.endOffset};this.onParseError(a)}onItemPush(t,n,r){var s,i;(i=(s=this.treeAdapter).onItemPush)===null||i===void 0||i.call(s,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,s;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(s=(r=this.treeAdapter).onItemPop)===null||s===void 0||s.call(r,t,this.openElements.current),n){let i,a;this.openElements.stackTop===0&&this.fragmentContext?(i=this.fragmentContext,a=this.fragmentContextID):{current:i,currentTagId:a}=this.openElements,this._setContextModes(i,a)}}_setContextModes(t,n){const r=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===Y.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,Y.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=P.TEXT}switchToPlaintextParsing(){this.insertionMode=P.TEXT,this.originalInsertionMode=P.IN_BODY,this.tokenizer.state=ft.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===B.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Y.HTML))switch(this.fragmentContextID){case m.TITLE:case m.TEXTAREA:{this.tokenizer.state=ft.RCDATA;break}case m.STYLE:case m.XMP:case m.IFRAME:case m.NOEMBED:case m.NOFRAMES:case m.NOSCRIPT:{this.tokenizer.state=ft.RAWTEXT;break}case m.SCRIPT:{this.tokenizer.state=ft.SCRIPT_DATA;break}case m.PLAINTEXT:{this.tokenizer.state=ft.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",s=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,s),t.location){const a=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));a&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,Y.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,Y.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(B.HTML,Y.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,m.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const s=this.treeAdapter.getChildNodes(n),i=r?s.lastIndexOf(r):s.length,a=s[i-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:l,endCol:u,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:l,endCol:u,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,s=this.treeAdapter.getTagName(t),i=n.type===Ie.END_TAG&&s===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,i)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===m.SVG&&this.treeAdapter.getTagName(n)===B.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Y.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===m.MGLYPH||t.tagID===m.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,Y.HTML)}_processToken(t){switch(t.type){case Ie.CHARACTER:{this.onCharacter(t);break}case Ie.NULL_CHARACTER:{this.onNullCharacter(t);break}case Ie.COMMENT:{this.onComment(t);break}case Ie.DOCTYPE:{this.onDoctype(t);break}case Ie.START_TAG:{this._processStartTag(t);break}case Ie.END_TAG:{this.onEndTag(t);break}case Ie.EOF:{this.onEof(t);break}case Ie.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const s=this.treeAdapter.getNamespaceURI(n),i=this.treeAdapter.getAttrList(n);return nX(t,s,i,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(s=>s.type===Ar.Marker||this.openElements.contains(s.element)),r=n===-1?t-1:n-1;for(let s=r;s>=0;s--){const i=this.activeFormattingElements.entries[s];this._insertElement(i.token,this.treeAdapter.getNamespaceURI(i.element)),i.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=P.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(m.P),this.openElements.popUntilTagNamePopped(m.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case m.TR:{this.insertionMode=P.IN_ROW;return}case m.TBODY:case m.THEAD:case m.TFOOT:{this.insertionMode=P.IN_TABLE_BODY;return}case m.CAPTION:{this.insertionMode=P.IN_CAPTION;return}case m.COLGROUP:{this.insertionMode=P.IN_COLUMN_GROUP;return}case m.TABLE:{this.insertionMode=P.IN_TABLE;return}case m.BODY:{this.insertionMode=P.IN_BODY;return}case m.FRAMESET:{this.insertionMode=P.IN_FRAMESET;return}case m.SELECT:{this._resetInsertionModeForSelect(t);return}case m.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case m.HTML:{this.insertionMode=this.headElement?P.AFTER_HEAD:P.BEFORE_HEAD;return}case m.TD:case m.TH:{if(t>0){this.insertionMode=P.IN_CELL;return}break}case m.HEAD:{if(t>0){this.insertionMode=P.IN_HEAD;return}break}}this.insertionMode=P.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===m.TEMPLATE)break;if(r===m.TABLE){this.insertionMode=P.IN_SELECT_IN_TABLE;return}}this.insertionMode=P.IN_SELECT}_isElementCausesFosterParenting(t){return $R.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case m.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Y.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case m.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return _Q[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){MJ(this,t);return}switch(this.insertionMode){case P.INITIAL:{Ml(this,t);break}case P.BEFORE_HTML:{gu(this,t);break}case P.BEFORE_HEAD:{yu(this,t);break}case P.IN_HEAD:{vu(this,t);break}case P.IN_HEAD_NO_SCRIPT:{bu(this,t);break}case P.AFTER_HEAD:{xu(this,t);break}case P.IN_BODY:case P.IN_CAPTION:case P.IN_CELL:case P.IN_TEMPLATE:{VR(this,t);break}case P.TEXT:case P.IN_SELECT:case P.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case P.IN_TABLE:case P.IN_TABLE_BODY:case P.IN_ROW:{Dm(this,t);break}case P.IN_TABLE_TEXT:{QR(this,t);break}case P.IN_COLUMN_GROUP:{Zh(this,t);break}case P.AFTER_BODY:{ef(this,t);break}case P.AFTER_AFTER_BODY:{Zd(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){LJ(this,t);return}switch(this.insertionMode){case P.INITIAL:{Ml(this,t);break}case P.BEFORE_HTML:{gu(this,t);break}case P.BEFORE_HEAD:{yu(this,t);break}case P.IN_HEAD:{vu(this,t);break}case P.IN_HEAD_NO_SCRIPT:{bu(this,t);break}case P.AFTER_HEAD:{xu(this,t);break}case P.TEXT:{this._insertCharacters(t);break}case P.IN_TABLE:case P.IN_TABLE_BODY:case P.IN_ROW:{Dm(this,t);break}case P.IN_COLUMN_GROUP:{Zh(this,t);break}case P.AFTER_BODY:{ef(this,t);break}case P.AFTER_AFTER_BODY:{Zd(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){iy(this,t);return}switch(this.insertionMode){case P.INITIAL:case P.BEFORE_HTML:case P.BEFORE_HEAD:case P.IN_HEAD:case P.IN_HEAD_NO_SCRIPT:case P.AFTER_HEAD:case P.IN_BODY:case P.IN_TABLE:case P.IN_CAPTION:case P.IN_COLUMN_GROUP:case P.IN_TABLE_BODY:case P.IN_ROW:case P.IN_CELL:case P.IN_SELECT:case P.IN_SELECT_IN_TABLE:case P.IN_TEMPLATE:case P.IN_FRAMESET:case P.AFTER_FRAMESET:{iy(this,t);break}case P.IN_TABLE_TEXT:{jl(this,t);break}case P.AFTER_BODY:{fX(this,t);break}case P.AFTER_AFTER_BODY:case P.AFTER_AFTER_FRAMESET:{pX(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case P.INITIAL:{mX(this,t);break}case P.BEFORE_HEAD:case P.IN_HEAD:case P.IN_HEAD_NO_SCRIPT:case P.AFTER_HEAD:{this._err(t,z.misplacedDoctype);break}case P.IN_TABLE_TEXT:{jl(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,z.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?jJ(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case P.INITIAL:{Ml(this,t);break}case P.BEFORE_HTML:{gX(this,t);break}case P.BEFORE_HEAD:{vX(this,t);break}case P.IN_HEAD:{vr(this,t);break}case P.IN_HEAD_NO_SCRIPT:{wX(this,t);break}case P.AFTER_HEAD:{TX(this,t);break}case P.IN_BODY:{Kt(this,t);break}case P.IN_TABLE:{Jo(this,t);break}case P.IN_TABLE_TEXT:{jl(this,t);break}case P.IN_CAPTION:{bJ(this,t);break}case P.IN_COLUMN_GROUP:{qb(this,t);break}case P.IN_TABLE_BODY:{tp(this,t);break}case P.IN_ROW:{np(this,t);break}case P.IN_CELL:{EJ(this,t);break}case P.IN_SELECT:{ZR(this,t);break}case P.IN_SELECT_IN_TABLE:{SJ(this,t);break}case P.IN_TEMPLATE:{_J(this,t);break}case P.AFTER_BODY:{AJ(this,t);break}case P.IN_FRAMESET:{NJ(this,t);break}case P.AFTER_FRAMESET:{RJ(this,t);break}case P.AFTER_AFTER_BODY:{OJ(this,t);break}case P.AFTER_AFTER_FRAMESET:{DJ(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?FJ(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case P.INITIAL:{Ml(this,t);break}case P.BEFORE_HTML:{yX(this,t);break}case P.BEFORE_HEAD:{bX(this,t);break}case P.IN_HEAD:{xX(this,t);break}case P.IN_HEAD_NO_SCRIPT:{EX(this,t);break}case P.AFTER_HEAD:{SX(this,t);break}case P.IN_BODY:{ep(this,t);break}case P.TEXT:{uJ(this,t);break}case P.IN_TABLE:{ac(this,t);break}case P.IN_TABLE_TEXT:{jl(this,t);break}case P.IN_CAPTION:{xJ(this,t);break}case P.IN_COLUMN_GROUP:{wJ(this,t);break}case P.IN_TABLE_BODY:{ay(this,t);break}case P.IN_ROW:{JR(this,t);break}case P.IN_CELL:{TJ(this,t);break}case P.IN_SELECT:{eP(this,t);break}case P.IN_SELECT_IN_TABLE:{kJ(this,t);break}case P.IN_TEMPLATE:{CJ(this,t);break}case P.AFTER_BODY:{nP(this,t);break}case P.IN_FRAMESET:{IJ(this,t);break}case P.AFTER_FRAMESET:{PJ(this,t);break}case P.AFTER_AFTER_BODY:{Zd(this,t);break}}}onEof(t){switch(this.insertionMode){case P.INITIAL:{Ml(this,t);break}case P.BEFORE_HTML:{gu(this,t);break}case P.BEFORE_HEAD:{yu(this,t);break}case P.IN_HEAD:{vu(this,t);break}case P.IN_HEAD_NO_SCRIPT:{bu(this,t);break}case P.AFTER_HEAD:{xu(this,t);break}case P.IN_BODY:case P.IN_TABLE:case P.IN_CAPTION:case P.IN_COLUMN_GROUP:case P.IN_TABLE_BODY:case P.IN_ROW:case P.IN_CELL:case P.IN_SELECT:case P.IN_SELECT_IN_TABLE:{YR(this,t);break}case P.TEXT:{cJ(this,t);break}case P.IN_TABLE_TEXT:{jl(this,t);break}case P.IN_TEMPLATE:{tP(this,t);break}case P.AFTER_BODY:case P.IN_FRAMESET:case P.AFTER_FRAMESET:case P.AFTER_AFTER_BODY:case P.AFTER_AFTER_FRAMESET:{Wb(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===N.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case P.IN_HEAD:case P.IN_HEAD_NO_SCRIPT:case P.AFTER_HEAD:case P.TEXT:case P.IN_COLUMN_GROUP:case P.IN_SELECT:case P.IN_SELECT_IN_TABLE:case P.IN_FRAMESET:case P.AFTER_FRAMESET:{this._insertCharacters(t);break}case P.IN_BODY:case P.IN_CAPTION:case P.IN_CELL:case P.IN_TEMPLATE:case P.AFTER_BODY:case P.AFTER_AFTER_BODY:case P.AFTER_AFTER_FRAMESET:{zR(this,t);break}case P.IN_TABLE:case P.IN_TABLE_BODY:case P.IN_ROW:{Dm(this,t);break}case P.IN_TABLE_TEXT:{GR(this,t);break}}}}function oX(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):KR(e,t),n}function lX(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const s=e.openElements.items[r];if(s===t.element)break;e._isSpecialElement(s,e.openElements.tagIDs[r])&&(n=s)}return n||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),n}function uX(e,t,n){let r=t,s=e.openElements.getCommonAncestor(t);for(let i=0,a=s;a!==n;i++,a=s){s=e.openElements.getCommonAncestor(a);const o=e.activeFormattingElements.getElementEntry(a),l=o&&i>=iX;!o||l?(l&&e.activeFormattingElements.removeEntry(o),e.openElements.remove(a)):(a=cX(e,o),r===t&&(e.activeFormattingElements.bookmark=o),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(a,r),r=a)}return r}function cX(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function dX(e,t,n){const r=e.treeAdapter.getTagName(t),s=bl(r);if(e._isElementCausesFosterParenting(s))e._fosterParentElement(n);else{const i=e.treeAdapter.getNamespaceURI(t);s===m.TEMPLATE&&i===Y.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function hX(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:s}=n,i=e.treeAdapter.createElement(s.tagName,r,s.attrs);e._adoptNodes(t,i),e.treeAdapter.appendChild(t,i),e.activeFormattingElements.insertElementAfterBookmark(i,s),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,i,s.tagID)}function Vb(e,t){for(let n=0;n<sX;n++){const r=oX(e,t);if(!r)break;const s=lX(e,r);if(!s)break;e.activeFormattingElements.bookmark=r;const i=uX(e,s,r.element),a=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(i),a&&dX(e,a,i),hX(e,s,r)}}function iy(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function fX(e,t){e._appendCommentNode(t,e.openElements.items[0])}function pX(e,t){e._appendCommentNode(t,e.document)}function Wb(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],s=e.treeAdapter.getNodeSourceCodeLocation(r);if(s&&!s.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const i=e.openElements.items[1],a=e.treeAdapter.getNodeSourceCodeLocation(i);a&&!a.endTag&&e._setEndLocation(i,t)}}}}function mX(e,t){e._setDocumentType(t);const n=t.forceQuirks?Fn.QUIRKS:WQ(t);VQ(t)||e._err(t,z.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=P.BEFORE_HTML}function Ml(e,t){e._err(t,z.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Fn.QUIRKS),e.insertionMode=P.BEFORE_HTML,e._processToken(t)}function gX(e,t){t.tagID===m.HTML?(e._insertElement(t,Y.HTML),e.insertionMode=P.BEFORE_HEAD):gu(e,t)}function yX(e,t){const n=t.tagID;(n===m.HTML||n===m.HEAD||n===m.BODY||n===m.BR)&&gu(e,t)}function gu(e,t){e._insertFakeRootElement(),e.insertionMode=P.BEFORE_HEAD,e._processToken(t)}function vX(e,t){switch(t.tagID){case m.HTML:{Kt(e,t);break}case m.HEAD:{e._insertElement(t,Y.HTML),e.headElement=e.openElements.current,e.insertionMode=P.IN_HEAD;break}default:yu(e,t)}}function bX(e,t){const n=t.tagID;n===m.HEAD||n===m.BODY||n===m.HTML||n===m.BR?yu(e,t):e._err(t,z.endTagWithoutMatchingOpenElement)}function yu(e,t){e._insertFakeElement(B.HEAD,m.HEAD),e.headElement=e.openElements.current,e.insertionMode=P.IN_HEAD,e._processToken(t)}function vr(e,t){switch(t.tagID){case m.HTML:{Kt(e,t);break}case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:{e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case m.TITLE:{e._switchToTextParsing(t,ft.RCDATA);break}case m.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,ft.RAWTEXT):(e._insertElement(t,Y.HTML),e.insertionMode=P.IN_HEAD_NO_SCRIPT);break}case m.NOFRAMES:case m.STYLE:{e._switchToTextParsing(t,ft.RAWTEXT);break}case m.SCRIPT:{e._switchToTextParsing(t,ft.SCRIPT_DATA);break}case m.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=P.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(P.IN_TEMPLATE);break}case m.HEAD:{e._err(t,z.misplacedStartTagForHeadElement);break}default:vu(e,t)}}function xX(e,t){switch(t.tagID){case m.HEAD:{e.openElements.pop(),e.insertionMode=P.AFTER_HEAD;break}case m.BODY:case m.BR:case m.HTML:{vu(e,t);break}case m.TEMPLATE:{Ia(e,t);break}default:e._err(t,z.endTagWithoutMatchingOpenElement)}}function Ia(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==m.TEMPLATE&&e._err(t,z.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(m.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,z.endTagWithoutMatchingOpenElement)}function vu(e,t){e.openElements.pop(),e.insertionMode=P.AFTER_HEAD,e._processToken(t)}function wX(e,t){switch(t.tagID){case m.HTML:{Kt(e,t);break}case m.BASEFONT:case m.BGSOUND:case m.HEAD:case m.LINK:case m.META:case m.NOFRAMES:case m.STYLE:{vr(e,t);break}case m.NOSCRIPT:{e._err(t,z.nestedNoscriptInHead);break}default:bu(e,t)}}function EX(e,t){switch(t.tagID){case m.NOSCRIPT:{e.openElements.pop(),e.insertionMode=P.IN_HEAD;break}case m.BR:{bu(e,t);break}default:e._err(t,z.endTagWithoutMatchingOpenElement)}}function bu(e,t){const n=t.type===Ie.EOF?z.openElementsLeftAfterEof:z.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=P.IN_HEAD,e._processToken(t)}function TX(e,t){switch(t.tagID){case m.HTML:{Kt(e,t);break}case m.BODY:{e._insertElement(t,Y.HTML),e.framesetOk=!1,e.insertionMode=P.IN_BODY;break}case m.FRAMESET:{e._insertElement(t,Y.HTML),e.insertionMode=P.IN_FRAMESET;break}case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:case m.NOFRAMES:case m.SCRIPT:case m.STYLE:case m.TEMPLATE:case m.TITLE:{e._err(t,z.abandonedHeadElementChild),e.openElements.push(e.headElement,m.HEAD),vr(e,t),e.openElements.remove(e.headElement);break}case m.HEAD:{e._err(t,z.misplacedStartTagForHeadElement);break}default:xu(e,t)}}function SX(e,t){switch(t.tagID){case m.BODY:case m.HTML:case m.BR:{xu(e,t);break}case m.TEMPLATE:{Ia(e,t);break}default:e._err(t,z.endTagWithoutMatchingOpenElement)}}function xu(e,t){e._insertFakeElement(B.BODY,m.BODY),e.insertionMode=P.IN_BODY,Zf(e,t)}function Zf(e,t){switch(t.type){case Ie.CHARACTER:{VR(e,t);break}case Ie.WHITESPACE_CHARACTER:{zR(e,t);break}case Ie.COMMENT:{iy(e,t);break}case Ie.START_TAG:{Kt(e,t);break}case Ie.END_TAG:{ep(e,t);break}case Ie.EOF:{YR(e,t);break}}}function zR(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function VR(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function kX(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function _X(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function CX(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Y.HTML),e.insertionMode=P.IN_FRAMESET)}function AX(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,Y.HTML)}function NX(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&sy.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Y.HTML)}function IX(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,Y.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function RX(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,Y.HTML),n||(e.formElement=e.openElements.current))}function PX(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const s=e.openElements.tagIDs[r];if(n===m.LI&&s===m.LI||(n===m.DD||n===m.DT)&&(s===m.DD||s===m.DT)){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.popUntilTagNamePopped(s);break}if(s!==m.ADDRESS&&s!==m.DIV&&s!==m.P&&e._isSpecialElement(e.openElements.items[r],s))break}e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,Y.HTML)}function OX(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,Y.HTML),e.tokenizer.state=ft.PLAINTEXT}function DX(e,t){e.openElements.hasInScope(m.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(m.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.framesetOk=!1}function LX(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(B.A);n&&(Vb(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function MX(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function jX(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(m.NOBR)&&(Vb(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Y.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function FX(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function BX(e,t){e.treeAdapter.getDocumentMode(e.document)!==Fn.QUIRKS&&e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,Y.HTML),e.framesetOk=!1,e.insertionMode=P.IN_TABLE}function WR(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Y.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function qR(e){const t=DR(e,ua.TYPE);return t!=null&&t.toLowerCase()===rX}function UX(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Y.HTML),qR(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function HX(e,t){e._appendElement(t,Y.HTML),t.ackSelfClosing=!0}function $X(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._appendElement(t,Y.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function zX(e,t){t.tagName=B.IMG,t.tagID=m.IMG,WR(e,t)}function VX(e,t){e._insertElement(t,Y.HTML),e.skipNextNewLine=!0,e.tokenizer.state=ft.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=P.TEXT}function WX(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,ft.RAWTEXT)}function qX(e,t){e.framesetOk=!1,e._switchToTextParsing(t,ft.RAWTEXT)}function dS(e,t){e._switchToTextParsing(t,ft.RAWTEXT)}function KX(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===P.IN_TABLE||e.insertionMode===P.IN_CAPTION||e.insertionMode===P.IN_TABLE_BODY||e.insertionMode===P.IN_ROW||e.insertionMode===P.IN_CELL?P.IN_SELECT_IN_TABLE:P.IN_SELECT}function YX(e,t){e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML)}function GX(e,t){e.openElements.hasInScope(m.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Y.HTML)}function QX(e,t){e.openElements.hasInScope(m.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(m.RTC),e._insertElement(t,Y.HTML)}function XX(e,t){e._reconstructActiveFormattingElements(),UR(t),zb(t),t.selfClosing?e._appendElement(t,Y.MATHML):e._insertElement(t,Y.MATHML),t.ackSelfClosing=!0}function JX(e,t){e._reconstructActiveFormattingElements(),HR(t),zb(t),t.selfClosing?e._appendElement(t,Y.SVG):e._insertElement(t,Y.SVG),t.ackSelfClosing=!0}function hS(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Y.HTML)}function Kt(e,t){switch(t.tagID){case m.I:case m.S:case m.B:case m.U:case m.EM:case m.TT:case m.BIG:case m.CODE:case m.FONT:case m.SMALL:case m.STRIKE:case m.STRONG:{MX(e,t);break}case m.A:{LX(e,t);break}case m.H1:case m.H2:case m.H3:case m.H4:case m.H5:case m.H6:{NX(e,t);break}case m.P:case m.DL:case m.OL:case m.UL:case m.DIV:case m.DIR:case m.NAV:case m.MAIN:case m.MENU:case m.ASIDE:case m.CENTER:case m.FIGURE:case m.FOOTER:case m.HEADER:case m.HGROUP:case m.DIALOG:case m.DETAILS:case m.ADDRESS:case m.ARTICLE:case m.SEARCH:case m.SECTION:case m.SUMMARY:case m.FIELDSET:case m.BLOCKQUOTE:case m.FIGCAPTION:{AX(e,t);break}case m.LI:case m.DD:case m.DT:{PX(e,t);break}case m.BR:case m.IMG:case m.WBR:case m.AREA:case m.EMBED:case m.KEYGEN:{WR(e,t);break}case m.HR:{$X(e,t);break}case m.RB:case m.RTC:{GX(e,t);break}case m.RT:case m.RP:{QX(e,t);break}case m.PRE:case m.LISTING:{IX(e,t);break}case m.XMP:{WX(e,t);break}case m.SVG:{JX(e,t);break}case m.HTML:{kX(e,t);break}case m.BASE:case m.LINK:case m.META:case m.STYLE:case m.TITLE:case m.SCRIPT:case m.BGSOUND:case m.BASEFONT:case m.TEMPLATE:{vr(e,t);break}case m.BODY:{_X(e,t);break}case m.FORM:{RX(e,t);break}case m.NOBR:{jX(e,t);break}case m.MATH:{XX(e,t);break}case m.TABLE:{BX(e,t);break}case m.INPUT:{UX(e,t);break}case m.PARAM:case m.TRACK:case m.SOURCE:{HX(e,t);break}case m.IMAGE:{zX(e,t);break}case m.BUTTON:{DX(e,t);break}case m.APPLET:case m.OBJECT:case m.MARQUEE:{FX(e,t);break}case m.IFRAME:{qX(e,t);break}case m.SELECT:{KX(e,t);break}case m.OPTION:case m.OPTGROUP:{YX(e,t);break}case m.NOEMBED:case m.NOFRAMES:{dS(e,t);break}case m.FRAMESET:{CX(e,t);break}case m.TEXTAREA:{VX(e,t);break}case m.NOSCRIPT:{e.options.scriptingEnabled?dS(e,t):hS(e,t);break}case m.PLAINTEXT:{OX(e,t);break}case m.COL:case m.TH:case m.TD:case m.TR:case m.HEAD:case m.FRAME:case m.TBODY:case m.TFOOT:case m.THEAD:case m.CAPTION:case m.COLGROUP:break;default:hS(e,t)}}function ZX(e,t){if(e.openElements.hasInScope(m.BODY)&&(e.insertionMode=P.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function eJ(e,t){e.openElements.hasInScope(m.BODY)&&(e.insertionMode=P.AFTER_BODY,nP(e,t))}function tJ(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function nJ(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(m.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(m.FORM):n&&e.openElements.remove(n))}function rJ(e){e.openElements.hasInButtonScope(m.P)||e._insertFakeElement(B.P,m.P),e._closePElement()}function sJ(e){e.openElements.hasInListItemScope(m.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(m.LI),e.openElements.popUntilTagNamePopped(m.LI))}function iJ(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function aJ(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function oJ(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function lJ(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(B.BR,m.BR),e.openElements.pop(),e.framesetOk=!1}function KR(e,t){const n=t.tagName,r=t.tagID;for(let s=e.openElements.stackTop;s>0;s--){const i=e.openElements.items[s],a=e.openElements.tagIDs[s];if(r===a&&(r!==m.UNKNOWN||e.treeAdapter.getTagName(i)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=s&&e.openElements.shortenToLength(s);break}if(e._isSpecialElement(i,a))break}}function ep(e,t){switch(t.tagID){case m.A:case m.B:case m.I:case m.S:case m.U:case m.EM:case m.TT:case m.BIG:case m.CODE:case m.FONT:case m.NOBR:case m.SMALL:case m.STRIKE:case m.STRONG:{Vb(e,t);break}case m.P:{rJ(e);break}case m.DL:case m.UL:case m.OL:case m.DIR:case m.DIV:case m.NAV:case m.PRE:case m.MAIN:case m.MENU:case m.ASIDE:case m.BUTTON:case m.CENTER:case m.FIGURE:case m.FOOTER:case m.HEADER:case m.HGROUP:case m.DIALOG:case m.ADDRESS:case m.ARTICLE:case m.DETAILS:case m.SEARCH:case m.SECTION:case m.SUMMARY:case m.LISTING:case m.FIELDSET:case m.BLOCKQUOTE:case m.FIGCAPTION:{tJ(e,t);break}case m.LI:{sJ(e);break}case m.DD:case m.DT:{iJ(e,t);break}case m.H1:case m.H2:case m.H3:case m.H4:case m.H5:case m.H6:{aJ(e);break}case m.BR:{lJ(e);break}case m.BODY:{ZX(e,t);break}case m.HTML:{eJ(e,t);break}case m.FORM:{nJ(e);break}case m.APPLET:case m.OBJECT:case m.MARQUEE:{oJ(e,t);break}case m.TEMPLATE:{Ia(e,t);break}default:KR(e,t)}}function YR(e,t){e.tmplInsertionModeStack.length>0?tP(e,t):Wb(e,t)}function uJ(e,t){var n;t.tagID===m.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function cJ(e,t){e._err(t,z.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Dm(e,t){if(e.openElements.currentTagId!==void 0&&$R.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=P.IN_TABLE_TEXT,t.type){case Ie.CHARACTER:{QR(e,t);break}case Ie.WHITESPACE_CHARACTER:{GR(e,t);break}}else Ic(e,t)}function dJ(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Y.HTML),e.insertionMode=P.IN_CAPTION}function hJ(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Y.HTML),e.insertionMode=P.IN_COLUMN_GROUP}function fJ(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(B.COLGROUP,m.COLGROUP),e.insertionMode=P.IN_COLUMN_GROUP,qb(e,t)}function pJ(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Y.HTML),e.insertionMode=P.IN_TABLE_BODY}function mJ(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(B.TBODY,m.TBODY),e.insertionMode=P.IN_TABLE_BODY,tp(e,t)}function gJ(e,t){e.openElements.hasInTableScope(m.TABLE)&&(e.openElements.popUntilTagNamePopped(m.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function yJ(e,t){qR(t)?e._appendElement(t,Y.HTML):Ic(e,t),t.ackSelfClosing=!0}function vJ(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,Y.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Jo(e,t){switch(t.tagID){case m.TD:case m.TH:case m.TR:{mJ(e,t);break}case m.STYLE:case m.SCRIPT:case m.TEMPLATE:{vr(e,t);break}case m.COL:{fJ(e,t);break}case m.FORM:{vJ(e,t);break}case m.TABLE:{gJ(e,t);break}case m.TBODY:case m.TFOOT:case m.THEAD:{pJ(e,t);break}case m.INPUT:{yJ(e,t);break}case m.CAPTION:{dJ(e,t);break}case m.COLGROUP:{hJ(e,t);break}default:Ic(e,t)}}function ac(e,t){switch(t.tagID){case m.TABLE:{e.openElements.hasInTableScope(m.TABLE)&&(e.openElements.popUntilTagNamePopped(m.TABLE),e._resetInsertionMode());break}case m.TEMPLATE:{Ia(e,t);break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TBODY:case m.TD:case m.TFOOT:case m.TH:case m.THEAD:case m.TR:break;default:Ic(e,t)}}function Ic(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Zf(e,t),e.fosterParentingEnabled=n}function GR(e,t){e.pendingCharacterTokens.push(t)}function QR(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function jl(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Ic(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const XR=new Set([m.CAPTION,m.COL,m.COLGROUP,m.TBODY,m.TD,m.TFOOT,m.TH,m.THEAD,m.TR]);function bJ(e,t){const n=t.tagID;XR.has(n)?e.openElements.hasInTableScope(m.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(m.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=P.IN_TABLE,Jo(e,t)):Kt(e,t)}function xJ(e,t){const n=t.tagID;switch(n){case m.CAPTION:case m.TABLE:{e.openElements.hasInTableScope(m.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(m.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=P.IN_TABLE,n===m.TABLE&&ac(e,t));break}case m.BODY:case m.COL:case m.COLGROUP:case m.HTML:case m.TBODY:case m.TD:case m.TFOOT:case m.TH:case m.THEAD:case m.TR:break;default:ep(e,t)}}function qb(e,t){switch(t.tagID){case m.HTML:{Kt(e,t);break}case m.COL:{e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case m.TEMPLATE:{vr(e,t);break}default:Zh(e,t)}}function wJ(e,t){switch(t.tagID){case m.COLGROUP:{e.openElements.currentTagId===m.COLGROUP&&(e.openElements.pop(),e.insertionMode=P.IN_TABLE);break}case m.TEMPLATE:{Ia(e,t);break}case m.COL:break;default:Zh(e,t)}}function Zh(e,t){e.openElements.currentTagId===m.COLGROUP&&(e.openElements.pop(),e.insertionMode=P.IN_TABLE,e._processToken(t))}function tp(e,t){switch(t.tagID){case m.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Y.HTML),e.insertionMode=P.IN_ROW;break}case m.TH:case m.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(B.TR,m.TR),e.insertionMode=P.IN_ROW,np(e,t);break}case m.CAPTION:case m.COL:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=P.IN_TABLE,Jo(e,t));break}default:Jo(e,t)}}function ay(e,t){const n=t.tagID;switch(t.tagID){case m.TBODY:case m.TFOOT:case m.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=P.IN_TABLE);break}case m.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=P.IN_TABLE,ac(e,t));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TD:case m.TH:case m.TR:break;default:ac(e,t)}}function np(e,t){switch(t.tagID){case m.TH:case m.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,Y.HTML),e.insertionMode=P.IN_CELL,e.activeFormattingElements.insertMarker();break}case m.CAPTION:case m.COL:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:case m.TR:{e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=P.IN_TABLE_BODY,tp(e,t));break}default:Jo(e,t)}}function JR(e,t){switch(t.tagID){case m.TR:{e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=P.IN_TABLE_BODY);break}case m.TABLE:{e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=P.IN_TABLE_BODY,ay(e,t));break}case m.TBODY:case m.TFOOT:case m.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(m.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=P.IN_TABLE_BODY,ay(e,t));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TD:case m.TH:break;default:ac(e,t)}}function EJ(e,t){const n=t.tagID;XR.has(n)?(e.openElements.hasInTableScope(m.TD)||e.openElements.hasInTableScope(m.TH))&&(e._closeTableCell(),np(e,t)):Kt(e,t)}function TJ(e,t){const n=t.tagID;switch(n){case m.TD:case m.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=P.IN_ROW);break}case m.TABLE:case m.TBODY:case m.TFOOT:case m.THEAD:case m.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),JR(e,t));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:break;default:ep(e,t)}}function ZR(e,t){switch(t.tagID){case m.HTML:{Kt(e,t);break}case m.OPTION:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e._insertElement(t,Y.HTML);break}case m.OPTGROUP:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e.openElements.currentTagId===m.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Y.HTML);break}case m.HR:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e.openElements.currentTagId===m.OPTGROUP&&e.openElements.pop(),e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case m.INPUT:case m.KEYGEN:case m.TEXTAREA:case m.SELECT:{e.openElements.hasInSelectScope(m.SELECT)&&(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode(),t.tagID!==m.SELECT&&e._processStartTag(t));break}case m.SCRIPT:case m.TEMPLATE:{vr(e,t);break}}}function eP(e,t){switch(t.tagID){case m.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===m.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===m.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===m.OPTGROUP&&e.openElements.pop();break}case m.OPTION:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop();break}case m.SELECT:{e.openElements.hasInSelectScope(m.SELECT)&&(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode());break}case m.TEMPLATE:{Ia(e,t);break}}}function SJ(e,t){const n=t.tagID;n===m.CAPTION||n===m.TABLE||n===m.TBODY||n===m.TFOOT||n===m.THEAD||n===m.TR||n===m.TD||n===m.TH?(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode(),e._processStartTag(t)):ZR(e,t)}function kJ(e,t){const n=t.tagID;n===m.CAPTION||n===m.TABLE||n===m.TBODY||n===m.TFOOT||n===m.THEAD||n===m.TR||n===m.TD||n===m.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode(),e.onEndTag(t)):eP(e,t)}function _J(e,t){switch(t.tagID){case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:case m.NOFRAMES:case m.SCRIPT:case m.STYLE:case m.TEMPLATE:case m.TITLE:{vr(e,t);break}case m.CAPTION:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:{e.tmplInsertionModeStack[0]=P.IN_TABLE,e.insertionMode=P.IN_TABLE,Jo(e,t);break}case m.COL:{e.tmplInsertionModeStack[0]=P.IN_COLUMN_GROUP,e.insertionMode=P.IN_COLUMN_GROUP,qb(e,t);break}case m.TR:{e.tmplInsertionModeStack[0]=P.IN_TABLE_BODY,e.insertionMode=P.IN_TABLE_BODY,tp(e,t);break}case m.TD:case m.TH:{e.tmplInsertionModeStack[0]=P.IN_ROW,e.insertionMode=P.IN_ROW,np(e,t);break}default:e.tmplInsertionModeStack[0]=P.IN_BODY,e.insertionMode=P.IN_BODY,Kt(e,t)}}function CJ(e,t){t.tagID===m.TEMPLATE&&Ia(e,t)}function tP(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(m.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):Wb(e,t)}function AJ(e,t){t.tagID===m.HTML?Kt(e,t):ef(e,t)}function nP(e,t){var n;if(t.tagID===m.HTML){if(e.fragmentContext||(e.insertionMode=P.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===m.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else ef(e,t)}function ef(e,t){e.insertionMode=P.IN_BODY,Zf(e,t)}function NJ(e,t){switch(t.tagID){case m.HTML:{Kt(e,t);break}case m.FRAMESET:{e._insertElement(t,Y.HTML);break}case m.FRAME:{e._appendElement(t,Y.HTML),t.ackSelfClosing=!0;break}case m.NOFRAMES:{vr(e,t);break}}}function IJ(e,t){t.tagID===m.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==m.FRAMESET&&(e.insertionMode=P.AFTER_FRAMESET))}function RJ(e,t){switch(t.tagID){case m.HTML:{Kt(e,t);break}case m.NOFRAMES:{vr(e,t);break}}}function PJ(e,t){t.tagID===m.HTML&&(e.insertionMode=P.AFTER_AFTER_FRAMESET)}function OJ(e,t){t.tagID===m.HTML?Kt(e,t):Zd(e,t)}function Zd(e,t){e.insertionMode=P.IN_BODY,Zf(e,t)}function DJ(e,t){switch(t.tagID){case m.HTML:{Kt(e,t);break}case m.NOFRAMES:{vr(e,t);break}}}function LJ(e,t){t.chars=et,e._insertCharacters(t)}function MJ(e,t){e._insertCharacters(t),e.framesetOk=!1}function rP(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Y.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function jJ(e,t){if(JQ(t))rP(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===Y.MATHML?UR(t):r===Y.SVG&&(ZQ(t),HR(t)),zb(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function FJ(e,t){if(t.tagID===m.P||t.tagID===m.BR){rP(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===Y.HTML){e._endTagOutsideForeignContent(t);break}const s=e.treeAdapter.getTagName(r);if(s.toLowerCase()===t.tagName){t.tagName=s,e.openElements.shortenToLength(n);break}}}B.AREA,B.BASE,B.BASEFONT,B.BGSOUND,B.BR,B.COL,B.EMBED,B.FRAME,B.HR,B.IMG,B.INPUT,B.KEYGEN,B.LINK,B.META,B.PARAM,B.SOURCE,B.TRACK,B.WBR;const BJ=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,UJ=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),fS={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function sP(e,t){const n=QJ(e),r=aR("type",{handlers:{root:HJ,element:$J,text:zJ,comment:aP,doctype:VJ,raw:qJ},unknown:KJ}),s={parser:n?new cS(fS):cS.getFragmentParser(void 0,fS),handle(o){r(o,s)},stitches:!1,options:t||{}};r(e,s),xl(s,Hr());const i=n?s.parser.document:s.parser.getFragment(),a=XG(i,{file:s.options.file});return s.stitches&&Jf(a,"comment",function(o,l,u){const c=o;if(c.value.stitch&&u&&l!==void 0){const d=u.children;return d[l]=c.value.stitch,l}}),a.type==="root"&&a.children.length===1&&a.children[0].type===e.type?a.children[0]:a}function iP(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function HJ(e,t){iP(e.children,t)}function $J(e,t){YJ(e,t),iP(e.children,t),GJ(e,t)}function zJ(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:Ie.CHARACTER,chars:e.value,location:Rc(e)};xl(t,Hr(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function VJ(e,t){const n={type:Ie.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Rc(e)};xl(t,Hr(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function WJ(e,t){t.stitches=!0;const n=XJ(e);if("children"in e&&"children"in n){const r=sP({type:"root",children:e.children},t.options);n.children=r.children}aP({type:"comment",value:{stitch:n}},t)}function aP(e,t){const n=e.value,r={type:Ie.COMMENT,data:n,location:Rc(e)};xl(t,Hr(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function qJ(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,oP(t,Hr(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(BJ,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function KJ(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))WJ(n,t);else{let r="";throw UJ.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function xl(e,t){oP(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=ft.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function oP(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function YJ(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===ft.PLAINTEXT)return;xl(t,Hr(e));const r=t.parser.openElements.current;let s="namespaceURI"in r?r.namespaceURI:Qi.html;s===Qi.html&&n==="svg"&&(s=Qi.svg);const i=nQ({...e,children:[]},{space:s===Qi.svg?"svg":"html"}),a={type:Ie.START_TAG,tagName:n,tagID:bl(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in i?i.attrs:[],location:Rc(e)};t.parser.currentToken=a,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function GJ(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&cQ.includes(n)||t.parser.tokenizer.state===ft.PLAINTEXT)return;xl(t,qf(e));const r={type:Ie.END_TAG,tagName:n,tagID:bl(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Rc(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===ft.RCDATA||t.parser.tokenizer.state===ft.RAWTEXT||t.parser.tokenizer.state===ft.SCRIPT_DATA)&&(t.parser.tokenizer.state=ft.DATA)}function QJ(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function Rc(e){const t=Hr(e)||{line:void 0,column:void 0,offset:void 0},n=qf(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function XJ(e){return"children"in e?Xo({...e,children:[]}):Xo(e)}function JJ(e){return function(t,n){return sP(t,{...e,file:n})}}function Ql(e){return typeof e=="string"?e:typeof e=="number"?String(e):b.isValidElement(e)?b.Children.toArray(e.props.children).map(Ql).join(""):""}function ZJ(e){return e.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}const gr=({children:e,className:t=""})=>{const n=new Map;function r(s){let i=ZJ(s);const a=n.get(i)??0;return n.set(i,a+1),a>0&&(i=`${i}-${a+1}`),i}return p.jsx("div",{className:`text-sm leading-relaxed ${t}`,children:p.jsx(tR,{remarkPlugins:[_R],components:{h1:({children:s})=>{const i=r(Ql(s));return p.jsx("h1",{id:i,className:"text-lg text-foreground mt-5 mb-2",children:s})},h2:({children:s})=>{const i=r(Ql(s));return p.jsx("h2",{id:i,className:"text-base text-foreground mt-4 mb-2",children:s})},h3:({children:s})=>{const i=r(Ql(s));return p.jsx("h3",{id:i,className:"text-sm text-foreground mt-3 mb-1.5",children:s})},h4:({children:s})=>{const i=r(Ql(s));return p.jsx("h4",{id:i,className:"text-sm text-foreground mt-2 mb-1",children:s})},p:({children:s})=>p.jsx("p",{className:"text-sm text-secondary-foreground leading-relaxed mb-2",children:s}),ul:({children:s})=>p.jsx("ul",{className:"list-disc ml-4 mb-2 space-y-0.5",children:s}),ol:({children:s})=>p.jsx("ol",{className:"list-decimal ml-4 mb-2 space-y-0.5",children:s}),li:({children:s})=>p.jsx("li",{className:"text-sm text-secondary-foreground",children:s}),strong:({children:s})=>p.jsx("strong",{className:"font-subheading text-foreground",children:s}),em:({children:s})=>p.jsx("em",{className:"italic",children:s}),blockquote:({children:s})=>p.jsx("blockquote",{className:"border-l-2 border-primary pl-3 text-sm text-muted-foreground italic my-2",children:s}),code:({children:s})=>p.jsx("code",{className:"rounded bg-muted/50 px-1.5 py-0.5 text-xs font-mono text-foreground",children:s}),pre:({children:s})=>p.jsx("pre",{className:"rounded-lg bg-muted/50 border border-border p-3 my-2 overflow-x-auto text-xs font-mono text-foreground",children:s}),table:({children:s})=>p.jsx("div",{className:"overflow-x-auto my-3 rounded-lg border border-border",children:p.jsx("table",{className:"text-xs border-collapse w-full",children:s})}),thead:({children:s})=>p.jsx("thead",{className:"bg-muted/50",children:s}),tbody:({children:s})=>p.jsx("tbody",{children:s}),tr:({children:s})=>p.jsx("tr",{className:"border-b border-border/50 last:border-b-0",children:s}),th:({children:s})=>p.jsx("th",{className:"text-left px-3 py-2 font-subheading text-foreground border-b border-border",children:s}),td:({children:s})=>p.jsx("td",{className:"px-3 py-2 text-secondary-foreground",children:s}),hr:()=>p.jsx("hr",{className:"border-border my-4"}),a:({href:s,children:i})=>{const a=s&&/^javascript:/i.test(s)?void 0:s;return p.jsx("a",{href:a,className:"text-primary underline",target:"_blank",rel:"noopener noreferrer",children:i})}},children:e})})},eZ=({children:e,className:t=""})=>p.jsx("div",{className:`text-sm leading-relaxed ${t}`,children:p.jsx(tR,{remarkPlugins:[_R],rehypePlugins:[JJ],components:{p:({children:n})=>p.jsx("p",{className:"text-sm text-secondary-foreground leading-relaxed mb-2",children:n}),ul:({children:n})=>p.jsx("ul",{className:"list-disc ml-4 mb-2 space-y-0.5",children:n}),ol:({children:n})=>p.jsx("ol",{className:"list-decimal ml-4 mb-2 space-y-0.5",children:n}),li:({children:n})=>p.jsx("li",{className:"text-sm text-secondary-foreground",children:n}),strong:({children:n})=>p.jsx("strong",{className:"font-subheading text-foreground",children:n}),em:({children:n})=>p.jsx("em",{className:"italic",children:n}),h1:({children:n})=>p.jsx("h1",{className:"text-lg text-foreground mt-5 mb-2",children:n}),h2:({children:n})=>p.jsx("h2",{className:"text-base text-foreground mt-4 mb-2",children:n}),h3:({children:n})=>p.jsx("h3",{className:"text-sm text-foreground mt-3 mb-1.5",children:n}),h4:({children:n})=>p.jsx("h4",{className:"text-sm text-foreground mt-2 mb-1",children:n}),ins:({children:n})=>p.jsx("ins",{className:"bg-success/15 rounded-sm no-underline",children:n}),del:({children:n})=>p.jsx("del",{className:"bg-destructive/15 rounded-sm",children:n}),hr:()=>p.jsx("hr",{className:"border-border my-4"}),a:({href:n,children:r})=>{const s=n&&/^javascript:/i.test(n)?void 0:n;return p.jsx("a",{href:s,className:"text-primary underline",target:"_blank",rel:"noopener noreferrer",children:r})}},children:e})});class tZ{diff(t,n,r={}){let s;typeof r=="function"?(s=r,r={}):"callback"in r&&(s=r.callback);const i=this.castInput(t,r),a=this.castInput(n,r),o=this.removeEmpty(this.tokenize(i,r)),l=this.removeEmpty(this.tokenize(a,r));return this.diffWithOptionsObj(o,l,r,s)}diffWithOptionsObj(t,n,r,s){var i;const a=x=>{if(x=this.postProcess(x,r),s){setTimeout(function(){s(x)},0);return}else return x},o=n.length,l=t.length;let u=1,c=o+l;r.maxEditLength!=null&&(c=Math.min(c,r.maxEditLength));const d=(i=r.timeout)!==null&&i!==void 0?i:1/0,f=Date.now()+d,h=[{oldPos:-1,lastComponent:void 0}];let g=this.extractCommon(h[0],n,t,0,r);if(h[0].oldPos+1>=l&&g+1>=o)return a(this.buildValues(h[0].lastComponent,n,t));let y=-1/0,w=1/0;const v=()=>{for(let x=Math.max(y,-u);x<=Math.min(w,u);x+=2){let E;const T=h[x-1],k=h[x+1];T&&(h[x-1]=void 0);let S=!1;if(k){const O=k.oldPos-x;S=k&&0<=O&&O<o}const C=T&&T.oldPos+1<l;if(!S&&!C){h[x]=void 0;continue}if(!C||S&&T.oldPos<k.oldPos?E=this.addToPath(k,!0,!1,0,r):E=this.addToPath(T,!1,!0,1,r),g=this.extractCommon(E,n,t,x,r),E.oldPos+1>=l&&g+1>=o)return a(this.buildValues(E.lastComponent,n,t))||!0;h[x]=E,E.oldPos+1>=l&&(w=Math.min(w,x-1)),g+1>=o&&(y=Math.max(y,x+1))}u++};if(s)(function x(){setTimeout(function(){if(u>c||Date.now()>f)return s(void 0);v()||x()},0)})();else for(;u<=c&&Date.now()<=f;){const x=v();if(x)return x}}addToPath(t,n,r,s,i){const a=t.lastComponent;return a&&!i.oneChangePerToken&&a.added===n&&a.removed===r?{oldPos:t.oldPos+s,lastComponent:{count:a.count+1,added:n,removed:r,previousComponent:a.previousComponent}}:{oldPos:t.oldPos+s,lastComponent:{count:1,added:n,removed:r,previousComponent:a}}}extractCommon(t,n,r,s,i){const a=n.length,o=r.length;let l=t.oldPos,u=l-s,c=0;for(;u+1<a&&l+1<o&&this.equals(r[l+1],n[u+1],i);)u++,l++,c++,i.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return c&&!i.oneChangePerToken&&(t.lastComponent={count:c,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=l,u}equals(t,n,r){return r.comparator?r.comparator(t,n):t===n||!!r.ignoreCase&&t.toLowerCase()===n.toLowerCase()}removeEmpty(t){const n=[];for(let r=0;r<t.length;r++)t[r]&&n.push(t[r]);return n}castInput(t,n){return t}tokenize(t,n){return Array.from(t)}join(t){return t.join("")}postProcess(t,n){return t}get useLongestToken(){return!1}buildValues(t,n,r){const s=[];let i;for(;t;)s.push(t),i=t.previousComponent,delete t.previousComponent,t=i;s.reverse();const a=s.length;let o=0,l=0,u=0;for(;o<a;o++){const c=s[o];if(c.removed)c.value=this.join(r.slice(u,u+c.count)),u+=c.count;else{if(!c.added&&this.useLongestToken){let d=n.slice(l,l+c.count);d=d.map(function(f,h){const g=r[u+h];return g.length>f.length?g:f}),c.value=this.join(d)}else c.value=this.join(n.slice(l,l+c.count));l+=c.count,c.added||(u+=c.count)}}return s}}function pS(e,t){let n;for(n=0;n<e.length&&n<t.length;n++)if(e[n]!=t[n])return e.slice(0,n);return e.slice(0,n)}function mS(e,t){let n;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(n=0;n<e.length&&n<t.length;n++)if(e[e.length-(n+1)]!=t[t.length-(n+1)])return e.slice(-n);return e.slice(-n)}function oy(e,t,n){if(e.slice(0,t.length)!=t)throw Error(`string ${JSON.stringify(e)} doesn't start with prefix ${JSON.stringify(t)}; this is a bug`);return n+e.slice(t.length)}function ly(e,t,n){if(!t)return e+n;if(e.slice(-t.length)!=t)throw Error(`string ${JSON.stringify(e)} doesn't end with suffix ${JSON.stringify(t)}; this is a bug`);return e.slice(0,-t.length)+n}function Fl(e,t){return oy(e,t,"")}function Ed(e,t){return ly(e,t,"")}function gS(e,t){return t.slice(0,nZ(e,t))}function nZ(e,t){let n=0;e.length>t.length&&(n=e.length-t.length);let r=t.length;e.length<t.length&&(r=e.length);const s=Array(r);let i=0;s[0]=0;for(let a=1;a<r;a++){for(t[a]==t[i]?s[a]=s[i]:s[a]=i;i>0&&t[a]!=t[i];)i=s[i];t[a]==t[i]&&i++}i=0;for(let a=n;a<e.length;a++){for(;i>0&&e[a]!=t[i];)i=s[i];e[a]==t[i]&&i++}return i}function Bl(e){let t;for(t=e.length-1;t>=0&&e[t].match(/\s/);t--);return e.substring(t+1)}function Ts(e){const t=e.match(/^\s*/);return t?t[0]:""}const yS="a-zA-Z0-9_\\u{AD}\\u{C0}-\\u{D6}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",rZ=new RegExp(`[${yS}]+|\\s+|[^${yS}]`,"ug");class sZ extends tZ{equals(t,n,r){return r.ignoreCase&&(t=t.toLowerCase(),n=n.toLowerCase()),t.trim()===n.trim()}tokenize(t,n={}){let r;if(n.intlSegmenter){const a=n.intlSegmenter;if(a.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');r=[];for(const o of Array.from(a.segment(t))){const l=o.segment;r.length&&/\s/.test(r[r.length-1])&&/\s/.test(l)?r[r.length-1]+=l:r.push(l)}}else r=t.match(rZ)||[];const s=[];let i=null;return r.forEach(a=>{/\s/.test(a)?i==null?s.push(a):s.push(s.pop()+a):i!=null&&/\s/.test(i)?s[s.length-1]==i?s.push(s.pop()+a):s.push(i+a):s.push(a),i=a}),s}join(t){return t.map((n,r)=>r==0?n:n.replace(/^\s+/,"")).join("")}postProcess(t,n){if(!t||n.oneChangePerToken)return t;let r=null,s=null,i=null;return t.forEach(a=>{a.added?s=a:a.removed?i=a:((s||i)&&vS(r,i,s,a),r=a,s=null,i=null)}),(s||i)&&vS(r,i,s,null),t}}const iZ=new sZ;function lP(e,t,n){return iZ.diff(e,t,n)}function vS(e,t,n,r){if(t&&n){const s=Ts(t.value),i=Bl(t.value),a=Ts(n.value),o=Bl(n.value);if(e){const l=pS(s,a);e.value=ly(e.value,a,l),t.value=Fl(t.value,l),n.value=Fl(n.value,l)}if(r){const l=mS(i,o);r.value=oy(r.value,o,l),t.value=Ed(t.value,l),n.value=Ed(n.value,l)}}else if(n){if(e){const s=Ts(n.value);n.value=n.value.substring(s.length)}if(r){const s=Ts(r.value);r.value=r.value.substring(s.length)}}else if(e&&r){const s=Ts(r.value),i=Ts(t.value),a=Bl(t.value),o=pS(s,i);t.value=Fl(t.value,o);const l=mS(Fl(s,o),a);t.value=Ed(t.value,l),r.value=oy(r.value,s,l),e.value=ly(e.value,s,s.slice(0,s.length-l.length))}else if(r){const s=Ts(r.value),i=Bl(t.value),a=gS(i,s);t.value=Ed(t.value,a)}else if(e){const s=Bl(e.value),i=Ts(t.value),a=gS(s,i);t.value=Fl(t.value,a)}}function bS(e,t){return e===t?[{text:e,type:"unchanged"}]:lP(e,t).map(n=>({text:n.value,type:n.added?"added":n.removed?"removed":"unchanged"}))}function xS({segments:e}){return p.jsx(p.Fragment,{children:e.map((t,n)=>p.jsx("span",{className:t.type==="added"?"bg-success/15 rounded-sm":t.type==="removed"?"bg-destructive/15 line-through rounded-sm":"",children:t.text},n))})}const aZ=({before:e,after:t})=>{const n=Math.max(e.headers.length,t.headers.length),r=Math.max(e.rows.length,t.rows.length),s=b.useMemo(()=>{const a=[];for(let o=0;o<n;o++){const l=e.headers[o]??"",u=t.headers[o]??"";a.push(bS(l,u))}return a},[e.headers,t.headers,n]),i=b.useMemo(()=>{const a=[];for(let o=0;o<r;o++){const l=e.rows[o],u=t.rows[o];if(l)if(u){const c=[];let d=!1;for(let f=0;f<n;f++){const h=l[f]??"",g=u[f]??"",y=bS(h,g);h!==g&&(d=!0),c.push(y)}a.push({cells:c,rowType:d?"changed":"unchanged"})}else{const c=l.map(d=>[{text:d,type:"removed"}]);for(;c.length<n;)c.push([{text:"",type:"unchanged"}]);a.push({cells:c,rowType:"removed"})}else{const c=(u??[]).map(d=>[{text:d,type:"added"}]);for(;c.length<n;)c.push([{text:"",type:"unchanged"}]);a.push({cells:c,rowType:"added"})}}return a},[e.rows,t.rows,r,n]);return p.jsx("div",{className:"overflow-x-auto rounded-lg border border-border",children:p.jsxs("table",{className:"text-xs border-collapse w-full",children:[p.jsx("thead",{className:"bg-muted/50",children:p.jsx("tr",{className:"border-b border-border/50",children:s.map((a,o)=>p.jsx("th",{className:"text-left px-3 py-2 font-subheading text-foreground border-b border-border",children:p.jsx(xS,{segments:a})},o))})}),p.jsx("tbody",{children:i.map((a,o)=>p.jsx("tr",{className:`border-b border-border/50 last:border-b-0 ${a.rowType==="added"?"bg-success/5":a.rowType==="removed"?"bg-destructive/5":""}`,children:a.cells.map((l,u)=>p.jsx("td",{className:"px-3 py-2 text-secondary-foreground",children:p.jsx(xS,{segments:l})},u))},o))})]})})};function wS(e){const t=e.split(`
`);let n=0;for(const r of t)if(r.trimStart().startsWith("|")){if(n++,n>=2)return!0}else n=0;return!1}function mi(e){const t=e.split(`
`),n=[];let r=0;for(;r<t.length;){const s=t[r];if(n.push(s),s.trimStart().startsWith("|")&&r+1<t.length&&t[r+1].trimStart().startsWith("|")&&!uP(t[r+1])&&!(r>0&&t[r-1].trimStart().startsWith("|"))){const a=uy(s).length,o="| "+Array(a).fill("---").join(" | ")+" |";n.push(o)}r++}return n.join(`
`)}function uP(e){const t=e.trim();return/^\|[\s|:\-]+\|$/.test(t)&&t.includes("---")}function uy(e){const t=e.trim(),n=t.startsWith("|")?t.slice(1):t;return(n.endsWith("|")?n.slice(0,-1):n).split("|").map(s=>s.trim())}function ES(e){const t=e.split(`
`).map(a=>a.trim()).filter(a=>a.length>0);if(t.length<1)return null;const n=t.filter(a=>a.startsWith("|"));if(n.length<1)return null;const r=n.filter(a=>!uP(a));if(r.length<1)return null;const s=uy(r[0]),i=r.slice(1).map(a=>uy(a));return{headers:s,rows:i}}function oZ(e,t){return lP(e,t).map(n=>({text:n.value,type:n.added?"added":n.removed?"removed":"unchanged"}))}const cP=({before:e,after:t,fullSize:n=!1})=>{const r=n?"text-[10px]":"text-[9px]",s=n?"p-2":"p-1.5",i=n?"max-h-[60vh] overflow-y-auto":"max-h-[200px] overflow-y-auto";return e?e===t?p.jsxs("div",{children:[p.jsx("span",{className:`${r} font-overline text-muted-foreground uppercase tracking-wider`,children:"No changes"}),p.jsx("div",{className:`mt-1 rounded bg-muted/30 border border-border ${s} text-foreground leading-relaxed min-h-[40px] ${i}`,children:p.jsx(gr,{children:mi(t)})})]}):wS(e)||wS(t)?p.jsx(lZ,{before:e,after:t,labelClass:r,padClass:s,maxH:i}):p.jsx(uZ,{before:e,after:t,labelClass:r,padClass:s,maxH:i}):p.jsxs("div",{children:[p.jsx("span",{className:`${r} font-overline text-muted-foreground uppercase tracking-wider`,children:"New content"}),p.jsx("div",{className:`mt-1 rounded bg-success/5 border border-success/10 ${s} text-foreground leading-relaxed min-h-[40px] ${i}`,children:p.jsx(gr,{children:mi(t)})})]})},lZ=({before:e,after:t,labelClass:n,padClass:r,maxH:s})=>{const i=b.useMemo(()=>ES(e),[e]),a=b.useMemo(()=>ES(t),[t]);return i&&a?p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("span",{className:`${n} font-overline text-muted-foreground uppercase tracking-wider`,children:"Changes"}),p.jsxs("span",{className:`${n} text-muted-foreground/60`,children:[p.jsx("span",{className:"text-destructive",children:"red"})," = removed, ",p.jsx("span",{className:"text-success",children:"green"})," = added"]})]}),p.jsx("div",{className:`${s}`,children:p.jsx(aZ,{before:i,after:a})})]}):p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{children:[p.jsx("span",{className:`${n} font-overline text-muted-foreground uppercase tracking-wider`,children:"Current version"}),p.jsx("div",{className:`mt-1 rounded bg-destructive/5 border border-destructive/10 ${r} text-muted-foreground leading-relaxed min-h-[40px] ${s}`,children:p.jsx(gr,{children:mi(e)})})]}),p.jsxs("div",{children:[p.jsx("span",{className:`${n} font-overline text-muted-foreground uppercase tracking-wider`,children:"Proposed version"}),p.jsx("div",{className:`mt-1 rounded bg-success/5 border border-success/10 ${r} text-foreground leading-relaxed min-h-[40px] ${s}`,children:p.jsx(gr,{children:mi(t)})})]})]})},uZ=({before:e,after:t,labelClass:n,maxH:r})=>{const s=b.useMemo(()=>oZ(e,t).map(a=>a.type==="added"?`<ins>${a.text}</ins>`:a.type==="removed"?`<del>${a.text}</del>`:a.text).join(""),[e,t]);return p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("span",{className:`${n} font-overline text-muted-foreground uppercase tracking-wider`,children:"Changes"}),p.jsxs("span",{className:`${n} text-muted-foreground/60`,children:[p.jsx("span",{className:"text-destructive",children:"red"})," = removed, ",p.jsx("span",{className:"text-success",children:"green"})," = added"]})]}),p.jsx("div",{className:`overflow-x-auto rounded-lg border border-border p-3 ${r}`,children:p.jsx(eZ,{children:mi(s)})})]})};function Ss(e,t,n,r){const{selectionStart:s,selectionEnd:i,value:a}=e,o=a.slice(s,i),l=`${t}${o}${n}`,u=a.slice(0,s)+l+a.slice(i);r(u),requestAnimationFrame(()=>{e.selectionStart=s+t.length,e.selectionEnd=s+t.length+o.length,e.focus()})}function Td(e,t,n){const{selectionStart:r,selectionEnd:s,value:i}=e,a=i.lastIndexOf(`
`,r-1)+1,o=i.indexOf(`
`,s),u=i.slice(a,o===-1?void 0:o).split(`
`).map(d=>`${t}${d}`).join(`
`),c=i.slice(0,a)+u+(o===-1?"":i.slice(o));n(c)}const Kb=({markdown:e,onChange:t})=>{const n=b.useRef(null),r=b.useCallback(i=>{const a=n.current;if(!(!a||!(i.metaKey||i.ctrlKey)))if(i.key==="b")i.preventDefault(),Ss(a,"**","**",t);else if(i.key==="i")i.preventDefault(),Ss(a,"_","_",t);else if(i.key==="k"){i.preventDefault();const l=a.value.slice(a.selectionStart,a.selectionEnd);Ss(a,"[",`](${l?"":"url"})`,t)}else i.key==="e"?(i.preventDefault(),Ss(a,"`","`",t)):i.shiftKey&&i.key==="8"&&(i.preventDefault(),Td(a,"- ",t))},[t]),s=b.useCallback(i=>{if(i.key!=="Tab")return;i.preventDefault();const a=n.current;if(!a)return;const{selectionStart:o,selectionEnd:l,value:u}=a,c=u.slice(0,o)+"  "+u.slice(l);t(c),requestAnimationFrame(()=>{a.selectionStart=a.selectionEnd=o+2,a.focus()})},[t]);return p.jsxs("div",{className:"rounded-lg border border-border overflow-hidden",children:[p.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 bg-muted/50 border-b border-border",children:[p.jsx(Oi,{label:"Bold",shortcut:"B",onClick:()=>n.current&&Ss(n.current,"**","**",t)}),p.jsx(Oi,{label:"Italic",shortcut:"I",onClick:()=>n.current&&Ss(n.current,"_","_",t)}),p.jsx(Oi,{label:"Code",shortcut:"E",onClick:()=>n.current&&Ss(n.current,"`","`",t)}),p.jsx(Oi,{label:"Link",shortcut:"K",onClick:()=>n.current&&Ss(n.current,"[","](url)",t)}),p.jsx("div",{className:"w-px h-4 bg-border mx-1"}),p.jsx(Oi,{label:"H2",onClick:()=>n.current&&Td(n.current,"## ",t)}),p.jsx(Oi,{label:"H3",onClick:()=>n.current&&Td(n.current,"### ",t)}),p.jsx(Oi,{label:"List",onClick:()=>n.current&&Td(n.current,"- ",t)})]}),p.jsx("textarea",{ref:n,value:e,onChange:i=>t(i.target.value),onKeyDown:i=>{r(i),s(i)},className:"w-full min-h-[300px] bg-card p-4 text-sm text-foreground font-mono leading-relaxed resize-y outline-none focus:ring-2 focus:ring-primary/30 transition-all",spellCheck:!0})]})};function Oi({label:e,shortcut:t,onClick:n}){return p.jsx("button",{type:"button",onClick:n,title:t?`${e} (Cmd+${t})`:e,className:"px-2 py-1 text-[11px] font-caption text-muted-foreground hover:text-foreground hover:bg-muted rounded transition-colors",children:e})}const cZ=({title:e,onClick:t})=>p.jsxs("button",{onClick:t,className:"inline-flex items-center gap-1.5 rounded-full border border-primary/20 bg-primary/5 hover:bg-primary/10 pl-2 pr-2.5 py-1 text-left transition-colors group flex-shrink-0",children:[p.jsx(Ch,{className:"w-3 h-3 text-primary flex-shrink-0"}),p.jsx("span",{className:"text-[11px] font-subheading text-foreground whitespace-nowrap",children:e}),p.jsx(Vi,{className:"w-3 h-3 text-primary opacity-50 group-hover:opacity-100 group-hover:translate-x-0.5 transition-all flex-shrink-0"})]});function dP(e){return e.replace(/^[\s\u00A0]+|[\s\u00A0]+$/g,"")}function dZ(e){return e.replace(/\*\*(.+?)\*\*/g,"$1").replace(/\*(.+?)\*/g,"$1").replace(/__(.+?)__/g,"$1").replace(/_(.+?)_/g,"$1").replace(/`(.+?)`/g,"$1").replace(/\[(.+?)\]\(.+?\)/g,"$1").replace(/["""\u201C\u201D]/g,"")}function TS(e,t,n){const r=dZ(e).toLowerCase();return t.filter(s=>{if(s.id===n)return!1;const i=dP(s.title);return i.length<5?!1:r.includes(i.toLowerCase())})}const Lm=({edit:e,onAccept:t,onReject:n,status:r,isProcessing:s})=>{const i=r!=="pending",[a,o]=b.useState(!1),[l,u]=b.useState(!1),[c,d]=b.useState(""),[f,h]=b.useState(null),g=yI(),y=f??e.after,w=()=>{d(y),u(!0)},v=()=>{g.mutate({editId:e.id,afterText:c},{onSuccess:()=>{h(c),u(!1)}})},x=T=>l?p.jsxs("div",{className:"space-y-3",children:[e.before&&p.jsxs("div",{className:`rounded-lg border border-border bg-muted/50 ${T?"p-3":"p-2"}`,children:[p.jsx("div",{className:`${T?"text-xs":"text-[9px]"} font-caption text-muted-foreground mb-1.5`,children:"Current version (read-only)"}),p.jsx(gr,{children:e.before})]}),p.jsx(Kb,{markdown:c,onChange:d}),p.jsxs("div",{className:"flex gap-2 justify-end",children:[p.jsx("button",{onClick:()=>u(!1),className:"rounded-lg px-3 py-1.5 text-xs font-subheading text-muted-foreground hover:text-foreground transition-colors",children:"Cancel"}),p.jsx("button",{disabled:!c.trim()||c===y||g.isPending,onClick:v,className:"rounded-lg bg-primary px-3 py-1.5 text-xs font-subheading text-primary-foreground disabled:opacity-30 transition-opacity",children:g.isPending?"Saving...":"Save"})]})]}):p.jsx(cP,{before:e.before,after:y,fullSize:T}),E=T=>!i&&!l?p.jsxs("div",{className:`flex gap-2 ${T?"pt-2":"pt-1"}`,children:[p.jsxs("button",{onClick:w,className:`flex items-center justify-center gap-1 rounded-md border border-border hover:bg-muted/50 px-2 ${T?"py-2 text-sm":"py-1.5 text-[11px]"} font-subheading text-muted-foreground hover:text-foreground transition-colors`,children:[p.jsx(yv,{className:"w-3 h-3"}),"Edit"]}),p.jsxs("button",{onClick:()=>{n(e.id),o(!1)},disabled:s,className:`flex-1 flex items-center justify-center gap-1 rounded-md bg-destructive/15 hover:bg-destructive/25 px-2 ${T?"py-2 text-sm":"py-1.5 text-[11px]"} font-subheading text-destructive transition-colors disabled:opacity-30`,children:[s?p.jsx(Ve,{className:"w-3 h-3 animate-spin"}):p.jsx(ga,{className:"w-3 h-3"}),"Reject"]}),p.jsxs("button",{onClick:()=>{t(e.id),o(!1)},disabled:s,className:`flex-1 flex items-center justify-center gap-1 rounded-md bg-success/15 hover:bg-success/25 px-2 ${T?"py-2 text-sm":"py-1.5 text-[11px]"} font-subheading text-success transition-colors disabled:opacity-30`,children:[s?p.jsx(Ve,{className:"w-3 h-3 animate-spin"}):p.jsx(Bu,{className:"w-3 h-3"}),"Accept"]})]}):null;return p.jsxs(p.Fragment,{children:[p.jsxs(Ue.div,{initial:{opacity:0,scale:.97},animate:{opacity:1,scale:1},className:`rounded-lg border p-3 space-y-2 ${i?r==="accepted"?"border-success/30 bg-success/5":"border-destructive/30 bg-destructive/5 opacity-60":"border-primary/30 bg-primary/5"}`,children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx(Ax,{className:"w-3 h-3 text-primary"}),p.jsx("span",{className:"text-[11px] font-subheading text-foreground",children:e.sectionTitle}),i&&p.jsx("span",{className:`rounded px-1.5 py-0.5 text-[9px] font-mono font-caption ${r==="accepted"?"bg-success/15 text-success":"bg-destructive/15 text-destructive"}`,children:r})]}),!l&&p.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-1 text-[9px] font-caption text-muted-foreground hover:text-foreground transition-colors",children:[p.jsx(v4,{className:"w-3 h-3"}),"Expand"]})]}),e.rationale&&!l&&p.jsx("p",{className:"text-[11px] text-muted-foreground italic leading-snug",children:e.rationale}),x(!1),E(!1)]}),a&&rl.createPortal(p.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-8",onClick:()=>o(!1),children:[p.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm"}),p.jsxs(Ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},onClick:T=>T.stopPropagation(),className:"relative w-full max-w-4xl rounded-xl border border-border bg-card shadow-lg p-6 space-y-4 max-h-[90vh] overflow-y-auto",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Ax,{className:"w-4 h-4 text-primary"}),p.jsx("span",{className:"text-sm font-subheading text-foreground",children:e.sectionTitle}),i&&p.jsx("span",{className:`rounded px-1.5 py-0.5 text-[10px] font-mono font-caption ${r==="accepted"?"bg-success/15 text-success":"bg-destructive/15 text-destructive"}`,children:r})]}),p.jsx("button",{onClick:()=>o(!1),className:"rounded-md p-1 hover:bg-muted transition-colors",children:p.jsx(ga,{className:"w-4 h-4 text-muted-foreground"})})]}),e.rationale&&!l&&p.jsx("p",{className:"text-sm text-muted-foreground italic leading-snug",children:e.rationale}),x(!0),E(!0)]})]}),document.body)]})},hP=({currentSection:e,sectionId:t,isEmbedded:n=!1,prefillMessage:r,prefillKey:s,onNavigateToSection:i,sections:a})=>{const o=b.useMemo(()=>t?`section-${t}`:"dashboard",[t]),{data:l}=Q$(o),{sendMessage:u,isStreaming:c,streamingContent:d,stagedEdits:f,suggestions:h,isToolRunning:g,clearStream:y}=X$(),w=mI(),v=gI(),[x,E]=b.useState([]),[T,k]=b.useState(""),[S,C]=b.useState({}),[O,M]=b.useState([]),[I,H]=b.useState(null),U=b.useRef(null),G=b.useRef(null);b.useEffect(()=>{var $;r&&(k(r),($=G.current)==null||$.focus())},[s]);const[W,q]=b.useState(!1),ae=b.useRef(null),J=typeof window<"u"&&("SpeechRecognition"in window||"webkitSpeechRecognition"in window),F=()=>{var Le;if(W){(Le=ae.current)==null||Le.stop();return}const $=window.SpeechRecognition||window.webkitSpeechRecognition,pe=new $;pe.continuous=!0,pe.interimResults=!0,pe.lang="en-US";const we=T.trim()?T.trimEnd()+" ":"";pe.onresult=ee=>{let me="";for(let fe=0;fe<ee.results.length;fe++)me+=ee.results[fe][0].transcript;k(we+me)},pe.onend=()=>q(!1),pe.onerror=()=>q(!1),ae.current=pe,pe.start(),q(!0)},L=b.useMemo(()=>[{id:"initial",role:"assistant",content:n&&e?`You're viewing: **${e}**

Just tell me what you want to add or change  I'll figure out where it belongs in the playbook. It doesn't have to be about this section.

I can also help with gaps, questions, or drafting new content.`:`Hi! I'm your playbook assistant. Just tell me what you want to add or change  I'll figure out where it goes.

You can paste notes, describe a new technique, or ask me to fill a gap. I'll draft the content and place it in the right section for your review.`,timestamp:new Date().toISOString()},...l??[],...x],[l,x,n,e]);b.useEffect(()=>{E([]),C({}),M([])},[o]);const _=b.useRef(0);b.useEffect(()=>{l&&l.length>_.current&&x.length>0&&!c&&E([]),_.current=(l==null?void 0:l.length)??0},[l,c,x.length]),b.useEffect(()=>{var $;($=U.current)==null||$.scrollTo({top:U.current.scrollHeight,behavior:"smooth"})},[L,d,f]);const[ne,j]=b.useState([]);b.useEffect(()=>{if(!a||!i)return;if(d){j(TS(d,a,t));return}const $=[...L].reverse().find(pe=>pe.role==="assistant"&&pe.id!=="initial");$&&j(TS($.content,a,t))},[d,L,a,t,i]);const A=async $=>{H($);try{await w.mutateAsync($),C(pe=>({...pe,[$]:"accepted"})),qi.success("Edit approved and applied!")}catch{qi.error("Failed to approve edit")}finally{H(null)}},X=async $=>{H($);try{await v.mutateAsync($),C(pe=>({...pe,[$]:"rejected"})),qi.success("Edit rejected")}catch{qi.error("Failed to reject edit")}finally{H(null)}},Q=async $=>{var we;if(!$.trim()||c)return;(we=ae.current)==null||we.stop(),M([]);const pe={id:`local-${Date.now()}`,role:"user",content:$,timestamp:new Date().toISOString()};E(Le=>[...Le,pe]),k(""),G.current&&(G.current.style.height="auto");try{const Le=await u($,{conversationId:o,sectionContext:t?{sectionId:t,sectionTitle:e??""}:void 0});(Le.edits.length>0||Le.content.trim())&&E(ee=>[...ee,{id:`assistant-${Date.now()}`,role:"assistant",content:Le.content,timestamp:new Date().toISOString(),edits:Le.edits.length>0?Le.edits:void 0}]),M(Le.suggestions),y()}catch{y()}},oe=()=>Q(T);return p.jsxs(Ue.div,{initial:{opacity:0,y:n?0:20},animate:{opacity:1,y:0},transition:{delay:n?0:.2},className:`flex flex-col ${n?"h-full bg-muted/30":"rounded-xl border border-border bg-card shadow-card h-[600px]"}`,children:[p.jsxs("div",{className:`flex items-center gap-2 px-5 py-4 ${n?"border-b border-border/50":"border-b border-border"}`,children:[p.jsx("div",{className:"w-7 h-7 rounded-lg gradient-primary flex items-center justify-center",children:p.jsx(vv,{className:"w-4 h-4 text-primary-foreground"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-sm text-foreground",children:"AI Assistant"}),p.jsx("p",{className:"text-[11px] text-muted-foreground",children:n?"Context-aware help":"Draft and edit playbook content"})]})]}),p.jsxs("div",{ref:U,className:"flex-1 overflow-y-auto px-5 py-4 space-y-4",children:[p.jsx(xa,{children:L.map($=>{var pe;return p.jsxs(Ue.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:`flex gap-3 ${$.role==="user"?"flex-row-reverse":""}`,children:[p.jsx("div",{className:`w-7 h-7 rounded-lg flex items-center justify-center flex-shrink-0 ${$.role==="assistant"?"bg-primary/10 text-primary":"bg-secondary text-secondary-foreground"}`,children:$.role==="assistant"?p.jsx(Nl,{className:"w-4 h-4"}):p.jsx(_4,{className:"w-4 h-4"})}),p.jsxs("div",{className:"max-w-[80%] space-y-2",children:[$.content&&p.jsx("div",{className:`rounded-xl px-4 py-3 text-sm leading-relaxed ${$.role==="assistant"?"bg-muted text-foreground":"bg-primary text-primary-foreground"}`,children:$.role==="assistant"?p.jsx(gr,{children:$.content}):p.jsx("div",{className:"whitespace-pre-wrap",children:$.content})}),(pe=$.edits)==null?void 0:pe.map(we=>p.jsx(Lm,{edit:we,onAccept:A,onReject:X,status:S[we.id]??we.status??"pending",isProcessing:I===we.id},we.id))]})]},$.id)})}),d&&p.jsxs(Ue.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"flex gap-3",children:[p.jsx("div",{className:"w-7 h-7 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:p.jsx(Nl,{className:"w-4 h-4 text-primary"})}),p.jsxs("div",{className:"max-w-[80%] space-y-2",children:[p.jsx("div",{className:"rounded-xl px-4 py-3 text-sm leading-relaxed bg-muted text-foreground",children:p.jsx(gr,{children:d})}),f.map($=>p.jsx(Lm,{edit:$,onAccept:A,onReject:X,status:S[$.id]??$.status??"pending",isProcessing:I===$.id},$.id))]})]}),!d&&f.length>0&&p.jsxs(Ue.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"flex gap-3",children:[p.jsx("div",{className:"w-7 h-7 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:p.jsx(Nl,{className:"w-4 h-4 text-primary"})}),p.jsx("div",{className:"max-w-[80%] space-y-2",children:f.map($=>p.jsx(Lm,{edit:$,onAccept:A,onReject:X,status:S[$.id]??$.status??"pending",isProcessing:I===$.id},$.id))})]}),c&&g&&p.jsxs(Ue.div,{initial:{opacity:0},animate:{opacity:1},className:"flex gap-3",children:[p.jsx("div",{className:"w-7 h-7 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:p.jsx(Nl,{className:"w-4 h-4 text-primary"})}),p.jsxs("div",{className:"bg-muted rounded-xl px-4 py-3 flex items-center gap-2",children:[p.jsx(Ve,{className:"w-3.5 h-3.5 text-primary animate-spin"}),p.jsx("span",{className:"text-xs text-muted-foreground",children:"Staging edit..."})]})]}),c&&!d&&!g&&f.length===0&&p.jsxs(Ue.div,{initial:{opacity:0},animate:{opacity:1},className:"flex gap-3",children:[p.jsx("div",{className:"w-7 h-7 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:p.jsx(Nl,{className:"w-4 h-4 text-primary"})}),p.jsx("div",{className:"bg-muted rounded-xl px-4 py-3",children:p.jsx("div",{className:"flex gap-1",children:[0,1,2].map($=>p.jsx(Ue.div,{className:"w-1.5 h-1.5 rounded-full bg-muted-foreground",animate:{opacity:[.3,1,.3]},transition:{duration:1,repeat:1/0,delay:$*.2}},$))})})]}),c&&!g&&(d||f.length>0)&&p.jsxs(Ue.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-2 pl-10 py-1",children:[p.jsx("div",{className:"flex gap-1",children:[0,1,2].map($=>p.jsx(Ue.div,{className:"w-1 h-1 rounded-full bg-primary/40",animate:{opacity:[.3,1,.3]},transition:{duration:1,repeat:1/0,delay:$*.2}},$))}),p.jsx("span",{className:"text-[11px] text-muted-foreground",children:"Still working"})]}),(h.length>0||O.length>0)&&!c&&p.jsx(Ue.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},className:"flex gap-3 pl-10",children:p.jsx("div",{className:"flex flex-wrap gap-2",children:(h.length>0?h:O).map($=>p.jsx("button",{onClick:()=>Q($),className:"rounded-full border border-primary/20 bg-primary/10 hover:bg-primary/20 px-3 py-1.5 text-xs font-subheading text-primary transition-colors",children:$},$))})})]}),p.jsx("div",{className:"px-4 py-3 border-t border-border",children:p.jsxs("div",{className:"flex items-end gap-2 bg-muted rounded-xl px-4 py-2",children:[p.jsx("textarea",{ref:G,value:T,onChange:$=>{k($.target.value),$.target.style.height="auto",$.target.style.height=Math.min($.target.scrollHeight,120)+"px"},onKeyDown:$=>{$.key==="Enter"&&!$.shiftKey&&($.preventDefault(),oe())},placeholder:"Ask me to draft content, fill gaps, or edit sections...",className:"flex-1 bg-transparent text-sm text-foreground placeholder:text-muted-foreground outline-none resize-none leading-relaxed py-1",rows:1,disabled:c}),J&&p.jsx("button",{onClick:F,disabled:c,className:`w-8 h-8 rounded-lg flex items-center justify-center transition-all disabled:opacity-30 ${W?"bg-red-500/15 text-red-500 animate-pulse":"text-muted-foreground hover:text-foreground"}`,title:W?"Stop listening":"Voice input",children:W?p.jsx(b4,{className:"w-4 h-4"}):p.jsx(x4,{className:"w-4 h-4"})}),p.jsx("button",{onClick:oe,disabled:!T.trim()||c,className:"w-8 h-8 rounded-lg gradient-primary flex items-center justify-center disabled:opacity-30 transition-opacity",children:p.jsx(zC,{className:"w-4 h-4 text-primary-foreground"})})]})}),ne.length>0&&i&&p.jsxs("div",{className:"border-t border-border px-3 py-2 flex items-center gap-2 overflow-x-auto",children:[p.jsx("span",{className:"text-[10px] font-caption text-muted-foreground uppercase tracking-wide whitespace-nowrap flex-shrink-0",children:"Go to"}),ne.map($=>p.jsx(cZ,{title:dP($.title),onClick:()=>i($.id)},$.id))]})]})};function hZ(){const e=Rt();return sn({mutationFn:async t=>{const{data:n,error:r}=await ge.functions.invoke("publish",{body:{provider:t}});if(r)throw new Error(r.message||"Publish failed");return n},onSuccess:()=>{e.invalidateQueries({queryKey:["staged-edits"]})}})}function fP(){return ds({queryKey:["connections"],queryFn:async()=>{const{data:e,error:t}=await ge.from("connections").select("id, provider, workspace_id, connected_by, created_at").order("created_at",{ascending:!1});if(t)throw t;return e??[]}})}function pP(){return async e=>{const{data:t,error:n}=await ge.functions.invoke(`auth-${e}`,{body:{action:"connect"}});if(n)throw n;if(!(t!=null&&t.url))throw new Error("No OAuth URL returned");window.location.href=t.url}}const fZ={confluence:"Confluence",notion:"Notion"},pZ=({before:e,after:t})=>e?e===t?p.jsx("div",{className:"rounded-lg border border-border bg-background p-4 max-h-[60vh] overflow-y-auto",children:p.jsx(gr,{children:mi(t)})}):p.jsx(cP,{before:e,after:t,fullSize:!0}):p.jsxs("div",{className:"rounded-lg border border-success/20 bg-success/5 p-4 max-h-[60vh] overflow-y-auto",children:[p.jsx("div",{className:"text-[11px] font-overline text-success uppercase tracking-wider mb-2",children:"New content"}),p.jsx(gr,{children:mi(t)})]}),mZ=()=>{var S;const{data:e,isLoading:t}=J$(),{data:n}=fP(),r=mI(),s=gI(),i=ez(),a=tz(),o=yI(),l=hZ(),[u,c]=b.useState(!1),[d,f]=b.useState(null),[h,g]=b.useState(""),y=((S=n==null?void 0:n.find(C=>C.provider==="confluence"||C.provider==="notion"))==null?void 0:S.provider)??null,w=y?fZ[y]??y:null;if(t||!e)return p.jsx("div",{className:"rounded-xl border border-border bg-card p-6 shadow-card flex items-center justify-center min-h-[300px]",children:p.jsx(Ve,{className:"w-6 h-6 text-primary animate-spin"})});const v=e.filter(C=>C.status==="pending"),x=e.filter(C=>C.status==="rejected"),E=e.some(C=>C.status==="approved"),T=u?e:e.filter(C=>C.status!=="rejected"),k=async()=>{if(y)try{const C=await l.mutateAsync(y);qi.success(`Published ${C.published} section(s) to ${w}`)}catch(C){qi.error(C.message)}};return p.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"rounded-xl border border-border bg-card p-6 shadow-card",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(d4,{className:"w-5 h-5 text-primary"}),p.jsx("h2",{className:"text-lg text-foreground",children:"Review & Publish"}),v.length>0&&p.jsxs("span",{className:"rounded-full bg-warning/15 text-warning text-xs font-caption px-2.5 py-0.5",children:[v.length," to review"]}),x.length>0&&p.jsxs("button",{onClick:()=>c(C=>!C),className:"flex items-center gap-1 rounded-full px-2.5 py-0.5 text-xs font-subheading text-muted-foreground hover:text-foreground transition-colors",children:[u?p.jsx(f4,{className:"w-3.5 h-3.5"}):p.jsx(p4,{className:"w-3.5 h-3.5"}),x.length," dismissed"]})]}),p.jsxs("div",{className:"flex gap-2",children:[w&&p.jsxs("button",{disabled:!E||l.isPending,onClick:k,className:"flex items-center gap-1.5 rounded-lg bg-primary px-4 py-2 text-sm font-subheading text-primary-foreground disabled:opacity-30 transition-opacity",children:[l.isPending?p.jsx(Ve,{className:"w-3.5 h-3.5 animate-spin"}):p.jsx(zC,{className:"w-3.5 h-3.5"}),l.isSuccess?"Published!":`Publish to ${w}`]}),p.jsxs(RA,{children:[p.jsx(PA,{asChild:!0,children:p.jsxs("button",{className:"flex items-center gap-1.5 rounded-lg bg-secondary px-4 py-2 text-sm font-subheading text-secondary-foreground opacity-50 cursor-default",children:[p.jsx(l4,{className:"w-3.5 h-3.5"}),"Notify team"]})}),p.jsx(Pv,{children:"Only available for users who have linked the Taskbase Sales Coach"})]})]})]}),p.jsxs("div",{className:"space-y-4",children:[T.map(C=>p.jsxs(Ue.div,{layout:"position",className:`rounded-xl border p-5 transition-colors ${C.status==="approved"?"border-success/30 bg-card":C.status==="rejected"?"border-destructive/30 bg-destructive/5 opacity-50":"border-border bg-muted/30"}`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center gap-2.5",children:[p.jsx("span",{className:"text-sm font-subheading text-foreground",children:C.section}),p.jsx("span",{className:`rounded-full px-2.5 py-0.5 text-xs font-caption ${C.status==="approved"?"bg-success/15 text-success":C.status==="rejected"?"bg-destructive/15 text-destructive":"bg-warning/15 text-warning"}`,children:C.status==="approved"?"Accepted":C.status==="rejected"?"Dismissed":"Needs review"}),C.source&&p.jsx("div",{className:`flex items-center gap-1 rounded-full px-2 py-0.5 text-xs font-subheading ${C.source==="chat"?"bg-primary/10 text-primary":"bg-secondary/50 text-secondary-foreground"}`,children:C.source==="chat"?p.jsxs(p.Fragment,{children:[p.jsx(vv,{className:"w-3 h-3"}),p.jsx("span",{children:"AI suggestion"})]}):p.jsxs(p.Fragment,{children:[p.jsx(T4,{className:"w-3 h-3"}),p.jsx("span",{children:"Your edit"})]})})]}),C.status==="approved"&&p.jsxs("button",{onClick:()=>i.mutate(C.id),disabled:i.isPending,className:"flex items-center gap-1.5 rounded-lg bg-muted px-3 py-1.5 text-xs font-subheading text-muted-foreground hover:text-foreground transition-colors",children:[p.jsx(Nx,{className:"w-3 h-3"}),"Undo"]}),C.status==="rejected"&&p.jsxs("button",{onClick:()=>a.mutate(C.id),disabled:a.isPending,className:"flex items-center gap-1.5 rounded-lg bg-muted px-3 py-1.5 text-xs font-subheading text-muted-foreground hover:text-foreground transition-colors",children:[p.jsx(Nx,{className:"w-3 h-3"}),"Undo"]})]}),d===C.id?p.jsxs("div",{className:"space-y-3",children:[C.before&&p.jsxs("div",{className:"rounded-lg border border-border bg-muted/50 p-3",children:[p.jsx("div",{className:"text-xs font-caption text-muted-foreground mb-1.5",children:"Current version (read-only)"}),p.jsx(gr,{children:mi(C.before)})]}),p.jsx(Kb,{markdown:h,onChange:g}),p.jsxs("div",{className:"flex gap-2 justify-end",children:[p.jsx("button",{onClick:()=>f(null),className:"rounded-lg px-4 py-2 text-sm font-subheading text-muted-foreground hover:text-foreground transition-colors",children:"Cancel"}),p.jsx("button",{disabled:!h.trim()||h===C.after||o.isPending,onClick:()=>{o.mutate({editId:C.id,afterText:h},{onSuccess:()=>f(null)})},className:"rounded-lg bg-primary px-4 py-2 text-sm font-subheading text-primary-foreground disabled:opacity-30 transition-opacity",children:o.isPending?"Saving...":"Save"})]})]}):p.jsxs("div",{children:[p.jsx(pZ,{before:C.before,after:C.after}),p.jsx("div",{className:"flex items-center justify-end mt-3",children:C.status==="pending"&&p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("button",{onClick:()=>{f(C.id),g(C.after)},className:"flex items-center gap-1.5 rounded-lg border border-border px-3 py-1.5 text-xs font-subheading text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors",children:[p.jsx(yv,{className:"w-3 h-3"}),"Edit"]}),p.jsxs("button",{onClick:()=>s.mutate(C.id),disabled:s.isPending,className:"flex items-center gap-1.5 rounded-lg border border-destructive/30 px-3 py-1.5 text-xs font-subheading text-destructive hover:bg-destructive/10 transition-colors",children:[p.jsx(ga,{className:"w-3.5 h-3.5"}),"Dismiss"]}),p.jsxs("button",{onClick:()=>r.mutate(C.id),disabled:r.isPending,className:"flex items-center gap-1.5 rounded-lg bg-success/15 px-4 py-1.5 text-xs font-overline text-success hover:bg-success/25 transition-colors",children:[p.jsx(Bu,{className:"w-3.5 h-3.5"}),"Accept"]})]})})]})]},C.id)),T.length===0&&p.jsx("div",{className:"text-center py-10 text-muted-foreground text-sm",children:e.length===0?"No suggested changes yet. Use the chat to get started.":'All suggestions have been dismissed. Click "dismissed" above to review them.'})]})]})};function Yb(){const e=ds({queryKey:["playbook-sections"],queryFn:async()=>{const{data:t,error:n}=await ge.from("playbook_sections").select("*").order("sort_order");if(n)throw n;const{data:r,error:s}=await ge.from("section_skills").select("*");if(s)throw s;return(t??[]).map(i=>({id:i.id,title:i.title,content:i.content,depth:i.depth??0,lastUpdated:i.last_updated,provider:i.provider??"pdf",skillsCovered:(r??[]).filter(a=>a.section_id===i.id).map(a=>({skillId:a.skill_id,coverageNote:a.coverage_note??null}))}))}});return{...e,isRefetching:e.isFetching&&!e.isLoading}}function gZ(){const e=Rt();return sn({mutationFn:async()=>{const t=[ge.from("section_skills").delete().neq("skill_id",""),ge.from("staged_edits").delete().neq("id","00000000-0000-0000-0000-000000000000"),ge.from("chat_messages").delete().neq("id","00000000-0000-0000-0000-000000000000")];for(const a of t){const{error:o}=await a;if(o)throw o}const{error:n}=await ge.from("playbook_sections").delete().neq("id","00000000-0000-0000-0000-000000000000");if(n)throw n;const{error:r}=await ge.from("imports").delete().neq("id","00000000-0000-0000-0000-000000000000");if(r)throw r;const{error:s}=await ge.from("connections").delete().neq("id","00000000-0000-0000-0000-000000000000");if(s)throw s;const{error:i}=await ge.from("user_skills").update({status:"missing",last_updated:null,section_title:null,coverage_note:null,fulfilled:!1}).neq("skill_id","");if(i)throw i},onSuccess:()=>{e.invalidateQueries({queryKey:["playbook-sections"]}),e.invalidateQueries({queryKey:["skills"]}),e.invalidateQueries({queryKey:["health-score"]}),e.invalidateQueries({queryKey:["analyzed-at"]}),e.invalidateQueries({queryKey:["staged-edits"]}),e.invalidateQueries({queryKey:["imports"]}),e.invalidateQueries({queryKey:["connections"]})}})}function yZ(){const e=Rt();return sn({mutationFn:async t=>{const{data:n,error:r}=await ge.from("playbook_sections").select("id").eq("provider",t);if(r)throw r;const s=(n??[]).map(o=>o.id);if(s.length===0)return;for(const o of s)await ge.from("section_skills").delete().eq("section_id",o);for(const o of s)await ge.from("staged_edits").delete().eq("section_id",o);const{error:i}=await ge.from("playbook_sections").delete().eq("provider",t);if(i)throw i;const{error:a}=await ge.functions.invoke("analyze");if(a)throw a},onSuccess:()=>{e.invalidateQueries({queryKey:["playbook-sections"]}),e.invalidateQueries({queryKey:["skills"]}),e.invalidateQueries({queryKey:["health-score"]}),e.invalidateQueries({queryKey:["analyzed-at"]}),e.invalidateQueries({queryKey:["staged-edits"]})}})}function vZ(){const e=Rt();return sn({mutationFn:async({id:t,content:n})=>{const{error:r}=await ge.from("playbook_sections").update({content:n,last_updated:new Date().toISOString().split("T")[0]}).eq("id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["playbook-sections"]})}})}function bZ(e){return e.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}function xZ(e){const t=[],n=new Map;for(const r of e.split(`
`)){const s=r.match(/^(#{2,4})\s+(.+)/);if(!s)continue;const i=s[1].length,a=s[2].replace(/\*\*/g,"").replace(/`/g,"").trim();let o=bZ(a);const l=n.get(o)??0;n.set(o,l+1),l>0&&(o=`${o}-${l+1}`),t.push({text:a,level:i,slug:o})}return t}const mP={pdf:"PDF Upload",taskbase:"Taskbase Template",notion:"Notion",confluence:"Confluence"};var Mm=0;function gP(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??SS()),document.body.insertAdjacentElement("beforeend",e[1]??SS()),Mm++,()=>{Mm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Mm--}},[])}function SS(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var jm="focusScope.autoFocusOnMount",Fm="focusScope.autoFocusOnUnmount",kS={bubbles:!1,cancelable:!0},wZ="FocusScope",Gb=b.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[o,l]=b.useState(null),u=Mr(s),c=Mr(i),d=b.useRef(null),f=mt(t,y=>l(y)),h=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let y=function(E){if(h.paused||!o)return;const T=E.target;o.contains(T)?d.current=T:Is(d.current,{select:!0})},w=function(E){if(h.paused||!o)return;const T=E.relatedTarget;T!==null&&(o.contains(T)||Is(d.current,{select:!0}))},v=function(E){if(document.activeElement===document.body)for(const k of E)k.removedNodes.length>0&&Is(o)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const x=new MutationObserver(v);return o&&x.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),x.disconnect()}}},[r,o,h.paused]),b.useEffect(()=>{if(o){CS.add(h);const y=document.activeElement;if(!o.contains(y)){const v=new CustomEvent(jm,kS);o.addEventListener(jm,u),o.dispatchEvent(v),v.defaultPrevented||(EZ(CZ(yP(o)),{select:!0}),document.activeElement===y&&Is(o))}return()=>{o.removeEventListener(jm,u),setTimeout(()=>{const v=new CustomEvent(Fm,kS);o.addEventListener(Fm,c),o.dispatchEvent(v),v.defaultPrevented||Is(y??document.body,{select:!0}),o.removeEventListener(Fm,c),CS.remove(h)},0)}}},[o,u,c,h]);const g=b.useCallback(y=>{if(!n&&!r||h.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(w&&v){const x=y.currentTarget,[E,T]=TZ(x);E&&T?!y.shiftKey&&v===T?(y.preventDefault(),n&&Is(E,{select:!0})):y.shiftKey&&v===E&&(y.preventDefault(),n&&Is(T,{select:!0})):v===x&&y.preventDefault()}},[n,r,h.paused]);return p.jsx(De.div,{tabIndex:-1,...a,ref:f,onKeyDown:g})});Gb.displayName=wZ;function EZ(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Is(r,{select:t}),document.activeElement!==n)return}function TZ(e){const t=yP(e),n=_S(t,e),r=_S(t.reverse(),e);return[n,r]}function yP(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function _S(e,t){for(const n of e)if(!SZ(n,{upTo:t}))return n}function SZ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function kZ(e){return e instanceof HTMLInputElement&&"select"in e}function Is(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&kZ(e)&&t&&e.select()}}var CS=_Z();function _Z(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=AS(e,t),e.unshift(t)},remove(t){var n;e=AS(e,t),(n=e[0])==null||n.resume()}}}function AS(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function CZ(e){return e.filter(t=>t.tagName!=="A")}var AZ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ba=new WeakMap,Sd=new WeakMap,kd={},Bm=0,vP=function(e){return e&&(e.host||vP(e.parentNode))},NZ=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=vP(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},IZ=function(e,t,n,r){var s=NZ(t,Array.isArray(e)?e:[e]);kd[n]||(kd[n]=new WeakMap);var i=kd[n],a=[],o=new Set,l=new Set(s),u=function(d){!d||o.has(d)||(o.add(d),u(d.parentNode))};s.forEach(u);var c=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(o.has(f))c(f);else try{var h=f.getAttribute(r),g=h!==null&&h!=="false",y=(Ba.get(f)||0)+1,w=(i.get(f)||0)+1;Ba.set(f,y),i.set(f,w),a.push(f),y===1&&g&&Sd.set(f,!0),w===1&&f.setAttribute(n,"true"),g||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return c(t),o.clear(),Bm++,function(){a.forEach(function(d){var f=Ba.get(d)-1,h=i.get(d)-1;Ba.set(d,f),i.set(d,h),f||(Sd.has(d)||d.removeAttribute(r),Sd.delete(d)),h||d.removeAttribute(n)}),Bm--,Bm||(Ba=new WeakMap,Ba=new WeakMap,Sd=new WeakMap,kd={})}},bP=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=AZ(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),IZ(r,s,n,"aria-hidden")):function(){return null}},eh="right-scroll-bar-position",th="width-before-scroll-bar",RZ="with-scroll-bars-hidden",PZ="--removed-body-scroll-bar-size";function Um(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function OZ(e,t){var n=b.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var DZ=typeof window<"u"?b.useLayoutEffect:b.useEffect,NS=new WeakMap;function LZ(e,t){var n=OZ(null,function(r){return e.forEach(function(s){return Um(s,r)})});return DZ(function(){var r=NS.get(n);if(r){var s=new Set(r),i=new Set(e),a=n.current;s.forEach(function(o){i.has(o)||Um(o,null)}),i.forEach(function(o){s.has(o)||Um(o,a)})}NS.set(n,e)},[e]),n}function MZ(e){return e}function jZ(e,t){t===void 0&&(t=MZ);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var a=t(i,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(o){return i(o)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(i),a=n}var l=function(){var c=a;a=[],c.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(c){a.push(c),u()},filter:function(c){return a=a.filter(c),n}}}};return s}function FZ(e){e===void 0&&(e={});var t=jZ(null);return t.options=Ir({async:!0,ssr:!1},e),t}var xP=function(e){var t=e.sideCar,n=dl(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Ir({},n))};xP.isSideCarExport=!0;function BZ(e,t){return e.useMedium(t),xP}var wP=FZ(),Hm=function(){},rp=b.forwardRef(function(e,t){var n=b.useRef(null),r=b.useState({onScrollCapture:Hm,onWheelCapture:Hm,onTouchMoveCapture:Hm}),s=r[0],i=r[1],a=e.forwardProps,o=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,d=e.shards,f=e.sideCar,h=e.noRelative,g=e.noIsolation,y=e.inert,w=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,E=e.gapMode,T=dl(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=f,S=LZ([n,t]),C=Ir(Ir({},T),s);return b.createElement(b.Fragment,null,c&&b.createElement(k,{sideCar:wP,removeScrollBar:u,shards:d,noRelative:h,noIsolation:g,inert:y,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:E}),a?b.cloneElement(b.Children.only(o),Ir(Ir({},C),{ref:S})):b.createElement(x,Ir({},C,{className:l,ref:S}),o))});rp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rp.classNames={fullWidth:th,zeroRight:eh};var UZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function HZ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=UZ();return t&&e.setAttribute("nonce",t),e}function $Z(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function zZ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var VZ=function(){var e=0,t=null;return{add:function(n){e==0&&(t=HZ())&&($Z(t,n),zZ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},WZ=function(){var e=VZ();return function(t,n){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},EP=function(){var e=WZ(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},qZ={left:0,top:0,right:0,gap:0},$m=function(e){return parseInt(e||"",10)||0},KZ=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[$m(n),$m(r),$m(s)]},YZ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return qZ;var t=KZ(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},GZ=EP(),_o="data-scroll-locked",QZ=function(e,t,n,r){var s=e.left,i=e.top,a=e.right,o=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(RZ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(_o,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(eh,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(th,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(eh," .").concat(eh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(th," .").concat(th,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(_o,`] {
    `).concat(PZ,": ").concat(o,`px;
  }
`)},IS=function(){var e=parseInt(document.body.getAttribute(_o)||"0",10);return isFinite(e)?e:0},XZ=function(){b.useEffect(function(){return document.body.setAttribute(_o,(IS()+1).toString()),function(){var e=IS()-1;e<=0?document.body.removeAttribute(_o):document.body.setAttribute(_o,e.toString())}},[])},JZ=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;XZ();var i=b.useMemo(function(){return YZ(s)},[s]);return b.createElement(GZ,{styles:QZ(i,!t,s,n?"":"!important")})},cy=!1;if(typeof window<"u")try{var _d=Object.defineProperty({},"passive",{get:function(){return cy=!0,!0}});window.addEventListener("test",_d,_d),window.removeEventListener("test",_d,_d)}catch{cy=!1}var Ua=cy?{passive:!1}:!1,ZZ=function(e){return e.tagName==="TEXTAREA"},TP=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!ZZ(e)&&n[t]==="visible")},eee=function(e){return TP(e,"overflowY")},tee=function(e){return TP(e,"overflowX")},RS=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=SP(e,r);if(s){var i=kP(e,r),a=i[1],o=i[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},nee=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},ree=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},SP=function(e,t){return e==="v"?eee(t):tee(t)},kP=function(e,t){return e==="v"?nee(t):ree(t)},see=function(e,t){return e==="h"&&t==="rtl"?-1:1},iee=function(e,t,n,r,s){var i=see(e,window.getComputedStyle(t).direction),a=i*r,o=n.target,l=t.contains(o),u=!1,c=a>0,d=0,f=0;do{if(!o)break;var h=kP(e,o),g=h[0],y=h[1],w=h[2],v=y-w-i*g;(g||v)&&SP(e,o)&&(d+=v,f+=g);var x=o.parentNode;o=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!l&&o!==document.body||l&&(t.contains(o)||t===o));return(c&&(Math.abs(d)<1||!s)||!c&&(Math.abs(f)<1||!s))&&(u=!0),u},Cd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},PS=function(e){return[e.deltaX,e.deltaY]},OS=function(e){return e&&"current"in e?e.current:e},aee=function(e,t){return e[0]===t[0]&&e[1]===t[1]},oee=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},lee=0,Ha=[];function uee(e){var t=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),s=b.useState(lee++)[0],i=b.useState(EP)[0],a=b.useRef(e);b.useEffect(function(){a.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=a8([e.lockRef.current],(e.shards||[]).map(OS),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var o=b.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var v=Cd(y),x=n.current,E="deltaX"in y?y.deltaX:x[0]-v[0],T="deltaY"in y?y.deltaY:x[1]-v[1],k,S=y.target,C=Math.abs(E)>Math.abs(T)?"h":"v";if("touches"in y&&C==="h"&&S.type==="range")return!1;var O=RS(C,S);if(!O)return!0;if(O?k=C:(k=C==="v"?"h":"v",O=RS(C,S)),!O)return!1;if(!r.current&&"changedTouches"in y&&(E||T)&&(r.current=k),!k)return!0;var M=r.current||k;return iee(M,w,y,M==="h"?E:T,!0)},[]),l=b.useCallback(function(y){var w=y;if(!(!Ha.length||Ha[Ha.length-1]!==i)){var v="deltaY"in w?PS(w):Cd(w),x=t.current.filter(function(k){return k.name===w.type&&(k.target===w.target||w.target===k.shadowParent)&&aee(k.delta,v)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var E=(a.current.shards||[]).map(OS).filter(Boolean).filter(function(k){return k.contains(w.target)}),T=E.length>0?o(w,E[0]):!a.current.noIsolation;T&&w.cancelable&&w.preventDefault()}}},[]),u=b.useCallback(function(y,w,v,x){var E={name:y,delta:w,target:v,should:x,shadowParent:cee(v)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(T){return T!==E})},1)},[]),c=b.useCallback(function(y){n.current=Cd(y),r.current=void 0},[]),d=b.useCallback(function(y){u(y.type,PS(y),y.target,o(y,e.lockRef.current))},[]),f=b.useCallback(function(y){u(y.type,Cd(y),y.target,o(y,e.lockRef.current))},[]);b.useEffect(function(){return Ha.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Ua),document.addEventListener("touchmove",l,Ua),document.addEventListener("touchstart",c,Ua),function(){Ha=Ha.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,Ua),document.removeEventListener("touchmove",l,Ua),document.removeEventListener("touchstart",c,Ua)}},[]);var h=e.removeScrollBar,g=e.inert;return b.createElement(b.Fragment,null,g?b.createElement(i,{styles:oee(s)}):null,h?b.createElement(JZ,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function cee(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const dee=BZ(wP,uee);var Qb=b.forwardRef(function(e,t){return b.createElement(rp,Ir({},e,{ref:t,sideCar:dee}))});Qb.classNames=rp.classNames;var sp="Popover",[_P,Gte]=cs(sp,[ll]),Pc=ll(),[hee,ki]=_P(sp),CP=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!1}=e,o=Pc(t),l=b.useRef(null),[u,c]=b.useState(!1),[d,f]=_a({prop:r,defaultProp:s??!1,onChange:i,caller:sp});return p.jsx(Av,{...o,children:p.jsx(hee,{scope:t,contentId:$n(),triggerRef:l,open:d,onOpenChange:f,onOpenToggle:b.useCallback(()=>f(h=>!h),[f]),hasCustomAnchor:u,onCustomAnchorAdd:b.useCallback(()=>c(!0),[]),onCustomAnchorRemove:b.useCallback(()=>c(!1),[]),modal:a,children:n})})};CP.displayName=sp;var AP="PopoverAnchor",fee=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ki(AP,n),i=Pc(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:o}=s;return b.useEffect(()=>(a(),()=>o()),[a,o]),p.jsx(Af,{...i,...r,ref:t})});fee.displayName=AP;var NP="PopoverTrigger",IP=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ki(NP,n),i=Pc(n),a=mt(t,s.triggerRef),o=p.jsx(De.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":LP(s.open),...r,ref:a,onClick:_e(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?o:p.jsx(Af,{asChild:!0,...i,children:o})});IP.displayName=NP;var Xb="PopoverPortal",[pee,mee]=_P(Xb,{forceMount:void 0}),RP=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,i=ki(Xb,t);return p.jsx(pee,{scope:t,forceMount:n,children:p.jsx(yr,{present:n||i.open,children:p.jsx(wf,{asChild:!0,container:s,children:r})})})};RP.displayName=Xb;var Zo="PopoverContent",PP=b.forwardRef((e,t)=>{const n=mee(Zo,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,i=ki(Zo,e.__scopePopover);return p.jsx(yr,{present:r||i.open,children:i.modal?p.jsx(yee,{...s,ref:t}):p.jsx(vee,{...s,ref:t})})});PP.displayName=Zo;var gee=Fu("PopoverContent.RemoveScroll"),yee=b.forwardRef((e,t)=>{const n=ki(Zo,e.__scopePopover),r=b.useRef(null),s=mt(t,r),i=b.useRef(!1);return b.useEffect(()=>{const a=r.current;if(a)return bP(a)},[]),p.jsx(Qb,{as:gee,allowPinchZoom:!0,children:p.jsx(OP,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),i.current||(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:_e(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0,u=o.button===2||l;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:_e(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),vee=b.forwardRef((e,t)=>{const n=ki(Zo,e.__scopePopover),r=b.useRef(!1),s=b.useRef(!1);return p.jsx(OP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,o;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),OP=b.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:c,...d}=e,f=ki(Zo,n),h=Pc(n);return gP(),p.jsx(Gb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:p.jsx(sl,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:c,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:p.jsx(Nv,{"data-state":LP(f.open),role:"dialog",id:f.contentId,...h,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),DP="PopoverClose",bee=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ki(DP,n);return p.jsx(De.button,{type:"button",...r,ref:t,onClick:_e(e.onClick,()=>s.onOpenChange(!1))})});bee.displayName=DP;var xee="PopoverArrow",wee=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Pc(n);return p.jsx(Iv,{...s,...r,ref:t})});wee.displayName=xee;function LP(e){return e?"open":"closed"}var Eee=CP,Tee=IP,See=RP,MP=PP;const kee=Eee,_ee=Tee,jP=b.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>p.jsx(See,{children:p.jsx(MP,{ref:s,align:t,sideOffset:n,className:ct("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));jP.displayName=MP.displayName;var DS=1,Cee=.9,Aee=.8,Nee=.17,zm=.1,Vm=.999,Iee=.9999,Ree=.99,Pee=/[\\\/_+.#"@\[\(\{&]/,Oee=/[\\\/_+.#"@\[\(\{&]/g,Dee=/[\s-]/,FP=/[\s-]/g;function dy(e,t,n,r,s,i,a){if(i===t.length)return s===e.length?DS:Ree;var o=`${s},${i}`;if(a[o]!==void 0)return a[o];for(var l=r.charAt(i),u=n.indexOf(l,s),c=0,d,f,h,g;u>=0;)d=dy(e,t,n,r,u+1,i+1,a),d>c&&(u===s?d*=DS:Pee.test(e.charAt(u-1))?(d*=Aee,h=e.slice(s,u-1).match(Oee),h&&s>0&&(d*=Math.pow(Vm,h.length))):Dee.test(e.charAt(u-1))?(d*=Cee,g=e.slice(s,u-1).match(FP),g&&s>0&&(d*=Math.pow(Vm,g.length))):(d*=Nee,s>0&&(d*=Math.pow(Vm,u-s))),e.charAt(u)!==t.charAt(i)&&(d*=Iee)),(d<zm&&n.charAt(u-1)===r.charAt(i+1)||r.charAt(i+1)===r.charAt(i)&&n.charAt(u-1)!==r.charAt(i))&&(f=dy(e,t,n,r,u+1,i+2,a),f*zm>d&&(d=f*zm)),d>c&&(c=d),u=n.indexOf(l,u+1);return a[o]=c,c}function LS(e){return e.toLowerCase().replace(FP," ")}function Lee(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,dy(e,t,LS(e),LS(t),0,0,{})}var ip="Dialog",[BP,Qte]=cs(ip),[Mee,br]=BP(ip),UP=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,o=b.useRef(null),l=b.useRef(null),[u,c]=_a({prop:r,defaultProp:s??!1,onChange:i,caller:ip});return p.jsx(Mee,{scope:t,triggerRef:o,contentRef:l,contentId:$n(),titleId:$n(),descriptionId:$n(),open:u,onOpenChange:c,onOpenToggle:b.useCallback(()=>c(d=>!d),[c]),modal:a,children:n})};UP.displayName=ip;var HP="DialogTrigger",jee=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=br(HP,n),i=mt(t,s.triggerRef);return p.jsx(De.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":e1(s.open),...r,ref:i,onClick:_e(e.onClick,s.onOpenToggle)})});jee.displayName=HP;var Jb="DialogPortal",[Fee,$P]=BP(Jb,{forceMount:void 0}),zP=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=br(Jb,t);return p.jsx(Fee,{scope:t,forceMount:n,children:b.Children.map(r,a=>p.jsx(yr,{present:n||i.open,children:p.jsx(wf,{asChild:!0,container:s,children:a})}))})};zP.displayName=Jb;var tf="DialogOverlay",VP=b.forwardRef((e,t)=>{const n=$P(tf,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=br(tf,e.__scopeDialog);return i.modal?p.jsx(yr,{present:r||i.open,children:p.jsx(Uee,{...s,ref:t})}):null});VP.displayName=tf;var Bee=Fu("DialogOverlay.RemoveScroll"),Uee=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=br(tf,n);return p.jsx(Qb,{as:Bee,allowPinchZoom:!0,shards:[s.contentRef],children:p.jsx(De.div,{"data-state":e1(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ea="DialogContent",WP=b.forwardRef((e,t)=>{const n=$P(Ea,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=br(Ea,e.__scopeDialog);return p.jsx(yr,{present:r||i.open,children:i.modal?p.jsx(Hee,{...s,ref:t}):p.jsx($ee,{...s,ref:t})})});WP.displayName=Ea;var Hee=b.forwardRef((e,t)=>{const n=br(Ea,e.__scopeDialog),r=b.useRef(null),s=mt(t,n.contentRef,r);return b.useEffect(()=>{const i=r.current;if(i)return bP(i)},[]),p.jsx(qP,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:_e(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&i.preventDefault()}),onFocusOutside:_e(e.onFocusOutside,i=>i.preventDefault())})}),$ee=b.forwardRef((e,t)=>{const n=br(Ea,e.__scopeDialog),r=b.useRef(!1),s=b.useRef(!1);return p.jsx(qP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,o;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),qP=b.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,o=br(Ea,n),l=b.useRef(null),u=mt(t,l);return gP(),p.jsxs(p.Fragment,{children:[p.jsx(Gb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:p.jsx(sl,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":e1(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(zee,{titleId:o.titleId}),p.jsx(Wee,{contentRef:l,descriptionId:o.descriptionId})]})]})}),Zb="DialogTitle",KP=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=br(Zb,n);return p.jsx(De.h2,{id:s.titleId,...r,ref:t})});KP.displayName=Zb;var YP="DialogDescription",GP=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=br(YP,n);return p.jsx(De.p,{id:s.descriptionId,...r,ref:t})});GP.displayName=YP;var QP="DialogClose",XP=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=br(QP,n);return p.jsx(De.button,{type:"button",...r,ref:t,onClick:_e(e.onClick,()=>s.onOpenChange(!1))})});XP.displayName=QP;function e1(e){return e?"open":"closed"}var JP="DialogTitleWarning",[Xte,ZP]=hL(JP,{contentName:Ea,titleName:Zb,docsSlug:"dialog"}),zee=({titleId:e})=>{const t=ZP(JP),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Vee="DialogDescriptionWarning",Wee=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ZP(Vee).contentName}}.`;return b.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},qee=UP,e3=zP,t1=VP,n1=WP,t3=KP,n3=GP,Kee=XP,Ul='[cmdk-group=""]',Wm='[cmdk-group-items=""]',Yee='[cmdk-group-heading=""]',r3='[cmdk-item=""]',MS=`${r3}:not([aria-disabled="true"])`,hy="cmdk-item-select",Ka="data-value",Gee=(e,t,n)=>Lee(e,t,n),s3=b.createContext(void 0),Oc=()=>b.useContext(s3),i3=b.createContext(void 0),r1=()=>b.useContext(i3),a3=b.createContext(void 0),o3=b.forwardRef((e,t)=>{let n=Ya(()=>{var j,A;return{search:"",value:(A=(j=e.value)!=null?j:e.defaultValue)!=null?A:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=Ya(()=>new Set),s=Ya(()=>new Map),i=Ya(()=>new Map),a=Ya(()=>new Set),o=l3(e),{label:l,children:u,value:c,onValueChange:d,filter:f,shouldFilter:h,loop:g,disablePointerSelection:y=!1,vimBindings:w=!0,...v}=e,x=$n(),E=$n(),T=$n(),k=b.useRef(null),S=ate();Ta(()=>{if(c!==void 0){let j=c.trim();n.current.value=j,C.emit()}},[c]),Ta(()=>{S(6,G)},[]);let C=b.useMemo(()=>({subscribe:j=>(a.current.add(j),()=>a.current.delete(j)),snapshot:()=>n.current,setState:(j,A,X)=>{var Q,oe,$,pe;if(!Object.is(n.current[j],A)){if(n.current[j]=A,j==="search")U(),I(),S(1,H);else if(j==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let we=document.getElementById(T);we?we.focus():(Q=document.getElementById(x))==null||Q.focus()}if(S(7,()=>{var we;n.current.selectedItemId=(we=W())==null?void 0:we.id,C.emit()}),X||S(5,G),((oe=o.current)==null?void 0:oe.value)!==void 0){let we=A??"";(pe=($=o.current).onValueChange)==null||pe.call($,we);return}}C.emit()}},emit:()=>{a.current.forEach(j=>j())}}),[]),O=b.useMemo(()=>({value:(j,A,X)=>{var Q;A!==((Q=i.current.get(j))==null?void 0:Q.value)&&(i.current.set(j,{value:A,keywords:X}),n.current.filtered.items.set(j,M(A,X)),S(2,()=>{I(),C.emit()}))},item:(j,A)=>(r.current.add(j),A&&(s.current.has(A)?s.current.get(A).add(j):s.current.set(A,new Set([j]))),S(3,()=>{U(),I(),n.current.value||H(),C.emit()}),()=>{i.current.delete(j),r.current.delete(j),n.current.filtered.items.delete(j);let X=W();S(4,()=>{U(),(X==null?void 0:X.getAttribute("id"))===j&&H(),C.emit()})}),group:j=>(s.current.has(j)||s.current.set(j,new Set),()=>{i.current.delete(j),s.current.delete(j)}),filter:()=>o.current.shouldFilter,label:l||e["aria-label"],getDisablePointerSelection:()=>o.current.disablePointerSelection,listId:x,inputId:T,labelId:E,listInnerRef:k}),[]);function M(j,A){var X,Q;let oe=(Q=(X=o.current)==null?void 0:X.filter)!=null?Q:Gee;return j?oe(j,n.current.search,A):0}function I(){if(!n.current.search||o.current.shouldFilter===!1)return;let j=n.current.filtered.items,A=[];n.current.filtered.groups.forEach(Q=>{let oe=s.current.get(Q),$=0;oe.forEach(pe=>{let we=j.get(pe);$=Math.max(we,$)}),A.push([Q,$])});let X=k.current;q().sort((Q,oe)=>{var $,pe;let we=Q.getAttribute("id"),Le=oe.getAttribute("id");return(($=j.get(Le))!=null?$:0)-((pe=j.get(we))!=null?pe:0)}).forEach(Q=>{let oe=Q.closest(Wm);oe?oe.appendChild(Q.parentElement===oe?Q:Q.closest(`${Wm} > *`)):X.appendChild(Q.parentElement===X?Q:Q.closest(`${Wm} > *`))}),A.sort((Q,oe)=>oe[1]-Q[1]).forEach(Q=>{var oe;let $=(oe=k.current)==null?void 0:oe.querySelector(`${Ul}[${Ka}="${encodeURIComponent(Q[0])}"]`);$==null||$.parentElement.appendChild($)})}function H(){let j=q().find(X=>X.getAttribute("aria-disabled")!=="true"),A=j==null?void 0:j.getAttribute(Ka);C.setState("value",A||void 0)}function U(){var j,A,X,Q;if(!n.current.search||o.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let oe=0;for(let $ of r.current){let pe=(A=(j=i.current.get($))==null?void 0:j.value)!=null?A:"",we=(Q=(X=i.current.get($))==null?void 0:X.keywords)!=null?Q:[],Le=M(pe,we);n.current.filtered.items.set($,Le),Le>0&&oe++}for(let[$,pe]of s.current)for(let we of pe)if(n.current.filtered.items.get(we)>0){n.current.filtered.groups.add($);break}n.current.filtered.count=oe}function G(){var j,A,X;let Q=W();Q&&(((j=Q.parentElement)==null?void 0:j.firstChild)===Q&&((X=(A=Q.closest(Ul))==null?void 0:A.querySelector(Yee))==null||X.scrollIntoView({block:"nearest"})),Q.scrollIntoView({block:"nearest"}))}function W(){var j;return(j=k.current)==null?void 0:j.querySelector(`${r3}[aria-selected="true"]`)}function q(){var j;return Array.from(((j=k.current)==null?void 0:j.querySelectorAll(MS))||[])}function ae(j){let A=q()[j];A&&C.setState("value",A.getAttribute(Ka))}function J(j){var A;let X=W(),Q=q(),oe=Q.findIndex(pe=>pe===X),$=Q[oe+j];(A=o.current)!=null&&A.loop&&($=oe+j<0?Q[Q.length-1]:oe+j===Q.length?Q[0]:Q[oe+j]),$&&C.setState("value",$.getAttribute(Ka))}function F(j){let A=W(),X=A==null?void 0:A.closest(Ul),Q;for(;X&&!Q;)X=j>0?ste(X,Ul):ite(X,Ul),Q=X==null?void 0:X.querySelector(MS);Q?C.setState("value",Q.getAttribute(Ka)):J(j)}let L=()=>ae(q().length-1),_=j=>{j.preventDefault(),j.metaKey?L():j.altKey?F(1):J(1)},ne=j=>{j.preventDefault(),j.metaKey?ae(0):j.altKey?F(-1):J(-1)};return b.createElement(De.div,{ref:t,tabIndex:-1,...v,"cmdk-root":"",onKeyDown:j=>{var A;(A=v.onKeyDown)==null||A.call(v,j);let X=j.nativeEvent.isComposing||j.keyCode===229;if(!(j.defaultPrevented||X))switch(j.key){case"n":case"j":{w&&j.ctrlKey&&_(j);break}case"ArrowDown":{_(j);break}case"p":case"k":{w&&j.ctrlKey&&ne(j);break}case"ArrowUp":{ne(j);break}case"Home":{j.preventDefault(),ae(0);break}case"End":{j.preventDefault(),L();break}case"Enter":{j.preventDefault();let Q=W();if(Q){let oe=new Event(hy);Q.dispatchEvent(oe)}}}}},b.createElement("label",{"cmdk-label":"",htmlFor:O.inputId,id:O.labelId,style:lte},l),ap(e,j=>b.createElement(i3.Provider,{value:C},b.createElement(s3.Provider,{value:O},j))))}),Qee=b.forwardRef((e,t)=>{var n,r;let s=$n(),i=b.useRef(null),a=b.useContext(a3),o=Oc(),l=l3(e),u=(r=(n=l.current)==null?void 0:n.forceMount)!=null?r:a==null?void 0:a.forceMount;Ta(()=>{if(!u)return o.item(s,a==null?void 0:a.id)},[u]);let c=u3(s,i,[e.value,e.children,i],e.keywords),d=r1(),f=gi(S=>S.value&&S.value===c.current),h=gi(S=>u||o.filter()===!1?!0:S.search?S.filtered.items.get(s)>0:!0);b.useEffect(()=>{let S=i.current;if(!(!S||e.disabled))return S.addEventListener(hy,g),()=>S.removeEventListener(hy,g)},[h,e.onSelect,e.disabled]);function g(){var S,C;y(),(C=(S=l.current).onSelect)==null||C.call(S,c.current)}function y(){d.setState("value",c.current,!0)}if(!h)return null;let{disabled:w,value:v,onSelect:x,forceMount:E,keywords:T,...k}=e;return b.createElement(De.div,{ref:ma(i,t),...k,id:s,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!f,"data-disabled":!!w,"data-selected":!!f,onPointerMove:w||o.getDisablePointerSelection()?void 0:y,onClick:w?void 0:g},e.children)}),Xee=b.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:s,...i}=e,a=$n(),o=b.useRef(null),l=b.useRef(null),u=$n(),c=Oc(),d=gi(h=>s||c.filter()===!1?!0:h.search?h.filtered.groups.has(a):!0);Ta(()=>c.group(a),[]),u3(a,o,[e.value,e.heading,l]);let f=b.useMemo(()=>({id:a,forceMount:s}),[s]);return b.createElement(De.div,{ref:ma(o,t),...i,"cmdk-group":"",role:"presentation",hidden:d?void 0:!0},n&&b.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),ap(e,h=>b.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},b.createElement(a3.Provider,{value:f},h))))}),Jee=b.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,s=b.useRef(null),i=gi(a=>!a.search);return!n&&!i?null:b.createElement(De.div,{ref:ma(s,t),...r,"cmdk-separator":"",role:"separator"})}),Zee=b.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,s=e.value!=null,i=r1(),a=gi(u=>u.search),o=gi(u=>u.selectedItemId),l=Oc();return b.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),b.createElement(De.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":o,id:l.inputId,type:"text",value:s?e.value:a,onChange:u=>{s||i.setState("search",u.target.value),n==null||n(u.target.value)}})}),ete=b.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...s}=e,i=b.useRef(null),a=b.useRef(null),o=gi(u=>u.selectedItemId),l=Oc();return b.useEffect(()=>{if(a.current&&i.current){let u=a.current,c=i.current,d,f=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let h=u.offsetHeight;c.style.setProperty("--cmdk-list-height",h.toFixed(1)+"px")})});return f.observe(u),()=>{cancelAnimationFrame(d),f.unobserve(u)}}},[]),b.createElement(De.div,{ref:ma(i,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":o,"aria-label":r,id:l.listId},ap(e,u=>b.createElement("div",{ref:ma(a,l.listInnerRef),"cmdk-list-sizer":""},u)))}),tte=b.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:s,contentClassName:i,container:a,...o}=e;return b.createElement(qee,{open:n,onOpenChange:r},b.createElement(e3,{container:a},b.createElement(t1,{"cmdk-overlay":"",className:s}),b.createElement(n1,{"aria-label":e.label,"cmdk-dialog":"",className:i},b.createElement(o3,{ref:t,...o}))))}),nte=b.forwardRef((e,t)=>gi(n=>n.filtered.count===0)?b.createElement(De.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),rte=b.forwardRef((e,t)=>{let{progress:n,children:r,label:s="Loading...",...i}=e;return b.createElement(De.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},ap(e,a=>b.createElement("div",{"aria-hidden":!0},a)))}),yn=Object.assign(o3,{List:ete,Item:Qee,Input:Zee,Group:Xee,Separator:Jee,Dialog:tte,Empty:nte,Loading:rte});function ste(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function ite(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function l3(e){let t=b.useRef(e);return Ta(()=>{t.current=e}),t}var Ta=typeof window>"u"?b.useEffect:b.useLayoutEffect;function Ya(e){let t=b.useRef();return t.current===void 0&&(t.current=e()),t}function gi(e){let t=r1(),n=()=>e(t.snapshot());return b.useSyncExternalStore(t.subscribe,n,n)}function u3(e,t,n,r=[]){let s=b.useRef(),i=Oc();return Ta(()=>{var a;let o=(()=>{var u;for(let c of n){if(typeof c=="string")return c.trim();if(typeof c=="object"&&"current"in c)return c.current?(u=c.current.textContent)==null?void 0:u.trim():s.current}})(),l=r.map(u=>u.trim());i.value(e,o,l),(a=t.current)==null||a.setAttribute(Ka,o),s.current=o}),s}var ate=()=>{let[e,t]=b.useState(),n=Ya(()=>new Map);return Ta(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,s)=>{n.current.set(r,s),t({})}};function ote(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function ap({asChild:e,children:t},n){return e&&b.isValidElement(t)?b.cloneElement(ote(t),{ref:t.ref},n(t.props.children)):n(t)}var lte={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const ute=e3,c3=b.forwardRef(({className:e,...t},n)=>p.jsx(t1,{ref:n,className:ct("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));c3.displayName=t1.displayName;const cte=b.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(ute,{children:[p.jsx(c3,{}),p.jsxs(n1,{ref:r,className:ct("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,p.jsxs(Kee,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[p.jsx(ga,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));cte.displayName=n1.displayName;const dte=b.forwardRef(({className:e,...t},n)=>p.jsx(t3,{ref:n,className:ct("text-lg font-semibold leading-none tracking-tight",e),...t}));dte.displayName=t3.displayName;const hte=b.forwardRef(({className:e,...t},n)=>p.jsx(n3,{ref:n,className:ct("text-sm text-muted-foreground",e),...t}));hte.displayName=n3.displayName;const d3=b.forwardRef(({className:e,...t},n)=>p.jsx(yn,{ref:n,className:ct("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));d3.displayName=yn.displayName;const h3=b.forwardRef(({className:e,...t},n)=>p.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[p.jsx(k4,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),p.jsx(yn.Input,{ref:n,className:ct("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));h3.displayName=yn.Input.displayName;const f3=b.forwardRef(({className:e,...t},n)=>p.jsx(yn.List,{ref:n,className:ct("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));f3.displayName=yn.List.displayName;const p3=b.forwardRef((e,t)=>p.jsx(yn.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));p3.displayName=yn.Empty.displayName;const fy=b.forwardRef(({className:e,...t},n)=>p.jsx(yn.Group,{ref:n,className:ct("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));fy.displayName=yn.Group.displayName;const fte=b.forwardRef(({className:e,...t},n)=>p.jsx(yn.Separator,{ref:n,className:ct("-mx-1 h-px bg-border",e),...t}));fte.displayName=yn.Separator.displayName;const py=b.forwardRef(({className:e,...t},n)=>p.jsx(yn.Item,{ref:n,className:ct("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));py.displayName=yn.Item.displayName;var op="Collapsible",[pte,Jte]=cs(op),[mte,s1]=pte(op),m3=b.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:a,...o}=e,[l,u]=_a({prop:r,defaultProp:s??!1,onChange:a,caller:op});return p.jsx(mte,{scope:n,disabled:i,contentId:$n(),open:l,onOpenToggle:b.useCallback(()=>u(c=>!c),[u]),children:p.jsx(De.div,{"data-state":a1(l),"data-disabled":i?"":void 0,...o,ref:t})})});m3.displayName=op;var g3="CollapsibleTrigger",gte=b.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=s1(g3,n);return p.jsx(De.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":a1(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:_e(e.onClick,s.onOpenToggle)})});gte.displayName=g3;var i1="CollapsibleContent",y3=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=s1(i1,e.__scopeCollapsible);return p.jsx(yr,{present:n||s.open,children:({present:i})=>p.jsx(yte,{...r,ref:t,present:i})})});y3.displayName=i1;var yte=b.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=e,a=s1(i1,n),[o,l]=b.useState(r),u=b.useRef(null),c=mt(t,u),d=b.useRef(0),f=d.current,h=b.useRef(0),g=h.current,y=a.open||o,w=b.useRef(y),v=b.useRef(void 0);return b.useEffect(()=>{const x=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(x)},[]),jr(()=>{const x=u.current;if(x){v.current=v.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const E=x.getBoundingClientRect();d.current=E.height,h.current=E.width,w.current||(x.style.transitionDuration=v.current.transitionDuration,x.style.animationName=v.current.animationName),l(r)}},[a.open,r]),p.jsx(De.div,{"data-state":a1(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!y,...i,ref:c,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:y&&s})});function a1(e){return e?"open":"closed"}var vte=m3;const bte=vte,xte=y3,wte={covered:{icon:dr,color:"text-success",bg:"bg-success/10"},partial:{icon:bc,color:"text-warning",bg:"bg-warning/10"},missing:{icon:vc,color:"text-destructive",bg:"bg-destructive/10"}},jS=e=>e?new Date().getTime()-new Date(e).getTime()>90*24*60*60*1e3:!1,FS=[{key:"covered",icon:dr,label:"Covered",color:"text-success"},{key:"partial",icon:bc,label:"Partial",color:"text-warning"},{key:"missing",icon:vc,label:"Missing",color:"text-destructive"},{key:"outdated",icon:gv,label:"Outdated",color:"text-muted-foreground"}],BS={covered:{Icon:dr,color:"text-success"},partial:{Icon:bc,color:"text-warning"},missing:{Icon:vc,color:"text-destructive"}};function Ete({skillFilter:e,skillsFramework:t,allSkills:n,onSkillFilterChange:r}){const[s,i]=b.useState(!1);return p.jsx("div",{className:"px-3 py-2 border-b border-border/50",children:p.jsxs(kee,{open:s,onOpenChange:i,children:[p.jsx(_ee,{asChild:!0,children:p.jsxs("button",{role:"combobox","aria-expanded":s,className:"flex w-full items-center justify-between rounded-md border border-border bg-muted/30 px-2 py-1.5 text-[11px] text-foreground outline-none focus:ring-1 focus:ring-primary/30 hover:bg-muted/50 transition-colors",children:[e?p.jsx("span",{className:"flex items-center gap-1.5 truncate",children:(()=>{const a=n.find(u=>u.id===e.skillId);if(!a)return e.skillName;const{Icon:o,color:l}=BS[a.status];return p.jsxs(p.Fragment,{children:[p.jsx(o,{className:`w-3 h-3 flex-shrink-0 ${l}`}),p.jsx("span",{className:"truncate",children:a.name})]})})()}):p.jsx("span",{className:"text-muted-foreground",children:"All sections"}),p.jsx(c4,{className:"ml-1 h-3 w-3 shrink-0 opacity-50"})]})}),p.jsx(jP,{className:"w-56 p-0",align:"start",children:p.jsxs(d3,{children:[p.jsx(h3,{placeholder:"Filter by skill...",className:"h-8 text-xs"}),p.jsxs(f3,{children:[p.jsx(p3,{children:"No skill found."}),p.jsx(fy,{children:p.jsxs(py,{value:"__all__",onSelect:()=>{r(null),i(!1)},className:"text-xs",children:[p.jsx(Bu,{className:`mr-1.5 h-3 w-3 ${e?"opacity-0":"opacity-100"}`}),"All sections"]})}),t==null?void 0:t.map(a=>p.jsx(fy,{heading:a.name,children:a.skills.map(o=>{const{Icon:l,color:u}=BS[o.status],c=(e==null?void 0:e.skillId)===o.id;return p.jsxs(py,{value:o.name,onSelect:()=>{r({skillId:o.id,skillName:o.name}),i(!1)},className:"text-xs",children:[p.jsx(Bu,{className:`mr-1.5 h-3 w-3 flex-shrink-0 ${c?"opacity-100":"opacity-0"}`}),p.jsx(l,{className:`mr-1.5 h-3 w-3 flex-shrink-0 ${u}`}),p.jsx("span",{className:"truncate",children:o.name})]},o.id)})},a.id))]})]})})]})})}function US(e){const t=[],n=[];for(const r of e){const s={...r,children:[]};for(;n.length>0&&n[n.length-1].depth>=r.depth;)n.pop();n.length===0?t.push(s):n[n.length-1].children.push(s),n.push(s)}return t}function my({node:e,currentId:t,expandedSections:n,headingsMap:r,getSkillsForSection:s,onSelect:i,onToggle:a,level:o}){const l=t===e.id,u=n.has(e.id),c=r.get(e.id)??[],d=e.children.length>0||c.length>0,f=s(e.id),h=f.filter(w=>w.status==="covered").length,g=f.length,y=o*12+8;return p.jsxs("div",{children:[p.jsxs("div",{className:`flex items-start text-xs transition-colors ${l?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,style:{paddingLeft:`${y}px`},children:[p.jsx("button",{onClick:w=>{w.stopPropagation(),d&&a(e.id)},className:`w-5 h-7 flex items-center justify-center flex-shrink-0 ${d?"cursor-pointer":"invisible"}`,tabIndex:d?0:-1,children:p.jsx(mv,{className:`w-3 h-3 transition-transform ${u?"rotate-90":""}`})}),p.jsxs("button",{onClick:()=>i(e.id),className:"flex-1 text-left py-2 pr-3 flex items-start gap-1.5 min-w-0",children:[p.jsx(Ch,{className:"w-3 h-3 mt-0.5 flex-shrink-0 opacity-50"}),p.jsxs("div",{className:"min-w-0",children:[p.jsx("span",{className:"block truncate",children:e.title}),g>0&&p.jsxs("span",{className:`text-[10px] font-mono ${h===g?"text-success":"text-muted-foreground"}`,children:[h,"/",g," skills"]})]})]})]}),d&&p.jsx(bte,{open:u,children:p.jsxs(xte,{children:[e.children.map(w=>p.jsx(my,{node:w,currentId:t,expandedSections:n,headingsMap:r,getSkillsForSection:s,onSelect:i,onToggle:a,level:o+1},w.id)),l&&c.length>0&&p.jsx("div",{className:"pb-1",children:c.map(w=>p.jsx("button",{onClick:()=>{var v;return(v=document.getElementById(w.slug))==null?void 0:v.scrollIntoView({behavior:"smooth",block:"start"})},className:"w-full text-left text-[11px] py-1 text-muted-foreground hover:text-foreground hover:bg-muted/30 transition-colors truncate",style:{paddingLeft:`${y+20+(w.level-2)*12}px`},title:w.text,children:w.text},w.slug))})]})})]})}const Tte=({skillFilter:e,onSkillFilterChange:t,initialSectionId:n,onInitialSectionConsumed:r})=>{var Le;const{data:s,isLoading:i,isRefetching:a}=Yb(),{data:o,isLoading:l}=Eb(),u=vZ(),c=Z$(),d=nI(),[f,h]=b.useState(null),[g,y]=b.useState(!1),[w,v]=b.useState(""),[x,E]=b.useState(!1),[T,k]=b.useState(null),[S,C]=b.useState(new Set),[O,M]=b.useState(!0),[I,H]=b.useState(),U=b.useRef(0),G=b.useMemo(()=>(o==null?void 0:o.flatMap(ee=>ee.skills))??[],[o]),W=b.useMemo(()=>{const ee=new Map;if(s){const me=new Map(G.map(fe=>[fe.id,fe]));for(const fe of s){const K=[];for(const ue of fe.skillsCovered){const Ne=me.get(ue.skillId);Ne&&K.push({...Ne,sectionNote:ue.coverageNote??void 0})}K.length>0&&ee.set(fe.id,K)}}return me=>ee.get(me)??[]},[G,s]),{displaySections:q,filterMode:ae}=b.useMemo(()=>{if(!s)return{displaySections:[],filterMode:"none"};let ee=s,me="none";if(e){const fe=G.find(ue=>ue.id===e.skillId),K=s.filter(ue=>!!(ue.skillsCovered.some(Ne=>Ne.skillId===e.skillId)||fe!=null&&fe.section&&fe.section===ue.title));if(K.length>0)ee=K,me="direct";else{const ue=o==null?void 0:o.find(Ne=>Ne.skills.some(dt=>dt.id===e.skillId));if(ue){const Ne=new Set(ue.skills.map(gt=>gt.id)),dt=s.filter(gt=>gt.skillsCovered.some(Pt=>Ne.has(Pt.skillId)));dt.length>0?(ee=dt,me="category"):me="unlinked"}else me="unlinked"}}return T&&(ee=ee.filter(fe=>{const K=W(fe.id);return K.length===0?!1:T==="outdated"?K.some(ue=>jS(ue.lastUpdated)):K.some(ue=>ue.status===T)})),{displaySections:ee,filterMode:me}},[e,T,s,G,o,W]),J=b.useMemo(()=>{const ee={covered:0,partial:0,missing:0,outdated:0};for(const me of G)me.status==="covered"&&ee.covered++,me.status==="partial"&&ee.partial++,me.status==="missing"&&ee.missing++,jS(me.lastUpdated)&&ee.outdated++;return ee},[G]),F=b.useMemo(()=>{const ee=new Map;for(const me of q){const fe=xZ(me.content);fe.length>0&&ee.set(me.id,fe)}return ee},[q]),L=b.useMemo(()=>US(q),[q]),_=b.useMemo(()=>{const ee=[],me=new Set;for(const fe of q)if(!me.has(fe.provider)){me.add(fe.provider);const K=q.filter(ue=>ue.provider===fe.provider);ee.push({provider:fe.provider,label:mP[fe.provider]??fe.provider,count:K.length,tree:US(K)})}return ee},[q]),ne=_.length>1,j=b.useCallback(ee=>{C(me=>{const fe=new Set(me);return fe.has(ee)?fe.delete(ee):fe.add(ee),fe})},[]),A=b.useCallback(ee=>{h(ee),y(!1),C(me=>{const fe=new Set(me);return fe.add(ee),fe})},[]);if(b.useEffect(()=>{(e||T)&&q.length>0&&(h(q[0].id),y(!1))},[e==null?void 0:e.skillId,T,q]),b.useEffect(()=>{n&&(s!=null&&s.some(ee=>ee.id===n))&&(h(n),C(ee=>new Set([...ee,n])),y(!1),r==null||r())},[n,s]),i||l||!s||!o)return p.jsx("div",{className:"rounded-xl border border-border bg-card shadow-card flex items-center justify-center h-[calc(100vh-180px)]",children:p.jsx(Ve,{className:"w-6 h-6 text-primary animate-spin"})});const X=f??((Le=q[0])==null?void 0:Le.id),Q=q.find(ee=>ee.id===X)??q[0];if(!Q)return p.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"rounded-xl border border-border bg-card shadow-card flex flex-col h-[calc(100vh-180px)]",children:[p.jsx("div",{className:"px-5 py-3 border-b border-border",children:p.jsxs("div",{className:"flex items-center gap-6 flex-wrap",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Ch,{className:"w-4 h-4 text-primary"}),p.jsx("h2",{className:"text-sm text-foreground",children:"Playbook Content"})]}),p.jsx("div",{className:"h-5 w-px bg-border"}),p.jsx("div",{className:"flex items-center gap-2",children:FS.map(({key:ee,icon:me,label:fe,color:K})=>{const ue=J[ee],Ne=T===ee;return p.jsxs("button",{onClick:()=>k(Ne?null:ee),className:`flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-subheading transition-all ${Ne?"bg-primary/10 ring-2 ring-primary/30":"bg-muted/50 hover:bg-muted/80"}`,children:[p.jsx(me,{className:`w-3.5 h-3.5 ${K}`}),p.jsx("span",{className:"text-muted-foreground",children:fe}),p.jsx("span",{className:`font-overline font-mono ${K}`,children:ue})]},ee)})})]})}),p.jsx("div",{className:"flex-1 flex items-center justify-center text-sm text-muted-foreground",children:"No sections match this filter."})]});const oe=W(Q.id),$=()=>{v(Q.content),y(!0)},pe=()=>{y(!1),v("")},we=async()=>{if(w===Q.content){y(!1);return}try{await u.mutateAsync({id:Q.id,content:w}),await c.mutateAsync({sectionId:Q.id,before:Q.content,after:w,source:"manual",autoApprove:!0}),y(!1),v(""),E(!0),setTimeout(()=>E(!1),2e3)}catch{qi.error("Failed to save edit")}};return p.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"rounded-xl border border-border bg-card shadow-card flex flex-col h-[calc(100vh-180px)]",children:[p.jsx("div",{className:"px-5 py-3 border-b border-border",children:p.jsxs("div",{className:"flex items-center gap-6 flex-wrap",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Ch,{className:"w-4 h-4 text-primary"}),p.jsx("h2",{className:"text-sm text-foreground",children:"Playbook Content"}),a&&p.jsx(Ve,{className:"w-3.5 h-3.5 text-muted-foreground animate-spin"})]}),p.jsx("div",{className:"h-5 w-px bg-border"}),p.jsx("div",{className:"flex items-center gap-2",children:FS.map(({key:ee,icon:me,label:fe,color:K})=>{const ue=J[ee],Ne=T===ee;return p.jsxs("button",{onClick:()=>k(Ne?null:ee),className:`flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-subheading transition-all ${Ne?"bg-primary/10 ring-2 ring-primary/30":"bg-muted/50 hover:bg-muted/80"}`,children:[p.jsx(me,{className:`w-3.5 h-3.5 ${K}`}),p.jsx("span",{className:"text-muted-foreground",children:fe}),p.jsx("span",{className:`font-overline font-mono ${K}`,children:ue})]},ee)})}),e&&p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx(m4,{className:"w-3 h-3 text-primary"}),p.jsxs("span",{className:"text-[11px] text-muted-foreground",children:[ae==="direct"&&`${q.length} section${q.length!==1?"s":""} for`,ae==="category"&&`${q.length} related section${q.length!==1?"s":""} for`,ae==="unlinked"&&"No linked sections for"]}),p.jsx("span",{className:"text-[11px] font-caption text-primary",children:e.skillName}),ae==="unlinked"&&p.jsx("span",{className:"text-[11px] text-muted-foreground",children:" consider adding a new section"})]}),p.jsxs("button",{onClick:()=>t(null),className:"flex items-center gap-1 rounded-lg bg-muted px-2 py-0.5 text-[10px] font-caption text-muted-foreground hover:bg-muted/80 transition-colors",children:[p.jsx(ga,{className:"w-2.5 h-2.5"}),"Clear"]})]}),p.jsx(xa,{mode:"wait",children:x&&p.jsxs(Ue.span,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0},className:"flex items-center gap-1 text-[10px] text-success font-subheading",children:[p.jsx(dr,{className:"w-3 h-3"}),"Saved  staged for review"]},"saved")}),p.jsx("button",{onClick:()=>M(ee=>!ee),className:"ml-auto flex items-center gap-1.5 rounded-lg bg-muted/50 px-2.5 py-1.5 text-[11px] font-subheading text-muted-foreground hover:bg-muted/80 hover:text-foreground transition-colors",title:O?"Hide chat panel":"Show chat panel",children:O?p.jsx(w4,{className:"w-3.5 h-3.5"}):p.jsx(E4,{className:"w-3.5 h-3.5"})})]})}),p.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[p.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[p.jsxs("div",{className:"w-56 border-r border-border flex-shrink-0 flex flex-col",children:[p.jsx(Ete,{skillFilter:e,skillsFramework:o,allSkills:G,onSkillFilterChange:t}),p.jsx("div",{className:"flex-1 overflow-y-auto py-1",children:ne?_.map(ee=>p.jsxs("div",{children:[p.jsx("div",{className:"px-3 pt-3 pb-1",children:p.jsxs("span",{className:"text-[10px] font-overline uppercase tracking-wider text-muted-foreground",children:[ee.label," (",ee.count,")"]})}),ee.tree.map(me=>p.jsx(my,{node:me,currentId:X,expandedSections:S,headingsMap:F,getSkillsForSection:W,onSelect:A,onToggle:j,level:0},me.id))]},ee.provider)):L.map(ee=>p.jsx(my,{node:ee,currentId:X,expandedSections:S,headingsMap:F,getSkillsForSection:W,onSelect:A,onToggle:j,level:0},ee.id))})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[p.jsxs("div",{className:"mb-4",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx("h3",{className:"text-lg text-foreground",children:Q.title.replace(/^\u00A0+/,"")}),p.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground font-mono bg-muted rounded px-2 py-0.5",children:[p.jsx(gv,{className:"w-2.5 h-2.5"}),new Date(Q.lastUpdated).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})]}),g?p.jsxs("div",{className:"flex items-center gap-1.5 ml-auto",children:[p.jsxs("button",{onClick:pe,className:"flex items-center gap-1 rounded-lg bg-muted px-2.5 py-1 text-[11px] font-caption text-muted-foreground hover:bg-muted/80 transition-colors",children:[p.jsx(ga,{className:"w-3 h-3"}),"Cancel"]}),p.jsxs("button",{onClick:we,disabled:u.isPending,className:"flex items-center gap-1 rounded-lg gradient-primary px-2.5 py-1 text-[11px] font-caption text-primary-foreground transition-opacity disabled:opacity-50",children:[u.isPending?p.jsx(Ve,{className:"w-3 h-3 animate-spin"}):p.jsx(S4,{className:"w-3 h-3"}),"Save"]})]}):p.jsxs("button",{onClick:$,className:"flex items-center gap-1 rounded-lg bg-secondary px-2.5 py-1 text-[11px] font-subheading text-secondary-foreground hover:bg-secondary/80 transition-colors ml-auto",children:[p.jsx(yv,{className:"w-3 h-3"}),"Edit"]})]}),oe.length>0&&p.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-4",children:[oe.map(ee=>{const me=wte[ee.status],fe=me.icon,K=ee.status!=="covered",ue=p.jsxs("span",{className:`inline-flex items-center gap-1 rounded-md px-2 py-1 text-[11px] font-subheading border ${ee.fulfilled?"bg-muted/30 border-border/40 text-muted-foreground":`${me.bg} border-transparent`} ${K?"cursor-help":""}`,children:[p.jsx(fe,{className:`w-3 h-3 ${ee.fulfilled?"text-muted-foreground":me.color}`}),p.jsx("span",{className:ee.fulfilled?"line-through":"",children:ee.name}),ee.fulfilled&&p.jsx("span",{className:"text-[10px] text-muted-foreground italic",children:"Dismissed"})]});return K?p.jsxs(fI,{openDelay:300,closeDelay:200,children:[p.jsx(pI,{asChild:!0,children:ue}),p.jsx(Sb,{side:"bottom",className:"w-auto max-w-xs p-2 text-xs",children:p.jsxs("div",{className:"flex flex-col gap-1.5",children:[ee.sectionNote&&p.jsx("p",{className:"text-muted-foreground",children:ee.sectionNote}),p.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),d.mutate({skillId:ee.id,fulfilled:!ee.fulfilled})},className:"text-[11px] font-subheading text-foreground hover:text-primary transition-colors text-left",children:ee.fulfilled?"Undo":"Dismiss"})]})})]},ee.id):p.jsx("span",{children:ue},ee.id)}),(()=>{const ee=oe.filter(me=>me.status!=="covered"&&me.sectionNote);return ee.length===0?null:p.jsxs("button",{onClick:()=>{const fe=`Help me improve this section. Here are the skill gaps:

${ee.map(K=>`- **${K.name}** (${K.status}): ${K.sectionNote}`).join(`
`)}`;U.current+=1,H({text:fe,key:U.current}),O||M(!0)},className:"inline-flex items-center gap-1 rounded-md px-2 py-1 text-[11px] font-subheading text-primary bg-primary/10 hover:bg-primary/20 transition-colors",children:[p.jsx(vv,{className:"w-3 h-3"}),"Improve with AI"]})})()]})]}),g?p.jsx(Kb,{markdown:w,onChange:v}):p.jsx(gr,{children:Q.content})]})]}),p.jsx(xa,{initial:!1,children:O&&p.jsx(Ue.div,{initial:{width:0,opacity:0},animate:{width:400,opacity:1},exit:{width:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"flex-shrink-0 border-l border-border overflow-hidden",children:p.jsx(hP,{currentSection:Q.title,sectionId:Q.id,isEmbedded:!0,prefillMessage:I==null?void 0:I.text,prefillKey:I==null?void 0:I.key})})})]})]})};function v3(e){return ds({queryKey:["confluence-spaces"],queryFn:async()=>{const{data:t,error:n}=await ge.functions.invoke("confluence-browse",{body:{action:"list-spaces"}});if(n)throw n;return t.spaces},enabled:e})}function b3(e){return ds({queryKey:["confluence-pages",e],queryFn:async()=>{const{data:t,error:n}=await ge.functions.invoke("confluence-browse",{body:{action:"list-pages",spaceId:e}});if(n)throw n;return t.pages},enabled:!!e})}function Ste(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var lp="Checkbox",[kte,Zte]=cs(lp),[_te,o1]=kte(lp);function Cte(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:i,form:a,name:o,onCheckedChange:l,required:u,value:c="on",internal_do_not_use_render:d}=e,[f,h]=_a({prop:n,defaultProp:s??!1,onChange:l,caller:lp}),[g,y]=b.useState(null),[w,v]=b.useState(null),x=b.useRef(!1),E=g?!!a||!!g.closest("form"):!0,T={checked:f,disabled:i,setChecked:h,control:g,setControl:y,name:o,form:a,value:c,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:li(s)?!1:s,isFormControl:E,bubbleInput:w,setBubbleInput:v};return p.jsx(_te,{scope:t,...T,children:Ate(d)?d(T):r})}var x3="CheckboxTrigger",w3=b.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:i,value:a,disabled:o,checked:l,required:u,setControl:c,setChecked:d,hasConsumerStoppedPropagationRef:f,isFormControl:h,bubbleInput:g}=o1(x3,e),y=mt(s,c),w=b.useRef(l);return b.useEffect(()=>{const v=i==null?void 0:i.form;if(v){const x=()=>d(w.current);return v.addEventListener("reset",x),()=>v.removeEventListener("reset",x)}},[i,d]),p.jsx(De.button,{type:"button",role:"checkbox","aria-checked":li(l)?"mixed":l,"aria-required":u,"data-state":_3(l),"data-disabled":o?"":void 0,disabled:o,value:a,...r,ref:y,onKeyDown:_e(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:_e(n,v=>{d(x=>li(x)?!0:!x),g&&h&&(f.current=v.isPropagationStopped(),f.current||v.stopPropagation())})})});w3.displayName=x3;var l1=b.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:a,disabled:o,value:l,onCheckedChange:u,form:c,...d}=e;return p.jsx(Cte,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:o,required:a,onCheckedChange:u,name:r,form:c,value:l,internal_do_not_use_render:({isFormControl:f})=>p.jsxs(p.Fragment,{children:[p.jsx(w3,{...d,ref:t,__scopeCheckbox:n}),f&&p.jsx(k3,{__scopeCheckbox:n})]})})});l1.displayName=lp;var E3="CheckboxIndicator",T3=b.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,i=o1(E3,n);return p.jsx(yr,{present:r||li(i.checked)||i.checked===!0,children:p.jsx(De.span,{"data-state":_3(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});T3.displayName=E3;var S3="CheckboxBubbleInput",k3=b.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:a,required:o,disabled:l,name:u,value:c,form:d,bubbleInput:f,setBubbleInput:h}=o1(S3,e),g=mt(n,h),y=Ste(i),w=fA(r);b.useEffect(()=>{const x=f;if(!x)return;const E=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(E,"checked").set,S=!s.current;if(y!==i&&k){const C=new Event("click",{bubbles:S});x.indeterminate=li(i),k.call(x,li(i)?!1:i),x.dispatchEvent(C)}},[f,y,i,s]);const v=b.useRef(li(i)?!1:i);return p.jsx(De.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??v.current,required:o,disabled:l,name:u,value:c,form:d,...t,tabIndex:-1,ref:g,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});k3.displayName=S3;function Ate(e){return typeof e=="function"}function li(e){return e==="indeterminate"}function _3(e){return li(e)?"indeterminate":e?"checked":"unchecked"}const oc=b.forwardRef(({className:e,...t},n)=>p.jsx(l1,{ref:n,className:ct("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:p.jsx(T3,{className:ct("flex items-center justify-center text-current"),children:p.jsx(Bu,{className:"h-4 w-4"})})}));oc.displayName=l1.displayName;function nf({className:e,...t}){return p.jsx("div",{className:ct("animate-pulse rounded-md bg-muted",e),...t})}function Nte(e){const t=new Set(e.map(s=>s.id)),n=new Map;for(const s of e){const i=s.parentId&&t.has(s.parentId)?s.parentId:null,a=n.get(i)??[];a.push(s),n.set(i,a)}function r(s,i){return(n.get(s)??[]).map(a=>({...a,depth:i,children:r(a.id,i+1)}))}return r(null,0)}function C3(e){const t=[];for(const n of e)t.push(n),t.push(...C3(n.children));return t}function A3(e){const t=[];for(const n of e.children)t.push(n.id),t.push(...A3(n));return t}const gy={confluence:{name:"Confluence",icon:"C"},notion:{name:"Notion",icon:"N"},pdf:{name:"PDF Upload",icon:"P"}};function Ite(e){const t=Date.now()-new Date(e).getTime(),n=Math.floor(t/6e4);if(n<1)return"just now";if(n<60)return`${n}m ago`;const r=Math.floor(n/60);return r<24?`${r}h ago`:`${Math.floor(r/24)}d ago`}const Rte=()=>{const{data:e,isLoading:t}=fP(),{data:n,isLoading:r}=L$(),{data:s}=Yb(),i=pP(),[a,o]=b.useState("extracting"),[l,u]=b.useState(!1),c=sI(o),d=iI(),f=aI(),h=b.useRef(null),g=gZ(),y=yZ(),[w,v]=b.useState(!1),[x,E]=b.useState(null),[T,k]=b.useState(!1),[S,C]=b.useState(null),[O,M]=b.useState(null),[I,H]=b.useState(null),[U,G]=b.useState(null),[W,q]=b.useState(new Set),[ae,J]=b.useState(new Set),F=v3(I==="pick-space"),L=b3(I==="pick-pages"?U:null),_=b.useMemo(()=>Nte(L.data??[]),[L.data]),ne=b.useMemo(()=>C3(_),[_]),j=b.useMemo(()=>{const K=new Map;for(const ue of ne)K.set(ue.id,ue);return K},[ne]);b.useEffect(()=>{new URLSearchParams(window.location.search).get("connected")==="confluence"&&(window.history.replaceState({},"",window.location.pathname),H("pick-space"))},[]);const A=(s==null?void 0:s.length)??0;n==null||n[0];const X=(()=>{if(!s||s.length===0)return[];const K=new Map;for(const ue of s)K.set(ue.provider,(K.get(ue.provider)??0)+1);return Array.from(K.entries()).map(([ue,Ne])=>({provider:ue,label:mP[ue]??ue,count:Ne}))})(),Q=async K=>{var Ne;const ue=(Ne=K.target.files)==null?void 0:Ne[0];if(ue){M(null),v(!0),u(!0),o("extracting");try{if(ue.name.endsWith(".pdf")){const dt=await ue.arrayBuffer(),gt=btoa(new Uint8Array(dt).reduce((Pt,_i)=>Pt+String.fromCharCode(_i),""));await c.mutateAsync({provider:"pdf",pdfBase64:gt})}else{const dt=await ue.text();await c.mutateAsync({provider:"pdf",content:dt})}}catch(dt){M(dt.message)}finally{v(!1),u(!1),h.current&&(h.current.value="")}}},oe=async K=>{M(null),E(K);try{K==="notion"?await d.mutateAsync():K==="confluence"&&await f.mutateAsync(void 0)}catch(ue){M(ue.message)}finally{E(null)}},$=K=>{G(K),q(new Set),J(new Set),H("pick-pages")},pe=K=>{const ue=j.get(K);if(!ue)return;const Ne=A3(ue);q(dt=>{const gt=new Set(dt);if(gt.has(K)){gt.delete(K);for(const Pt of Ne)gt.delete(Pt)}else{gt.add(K);for(const Pt of Ne)gt.add(Pt)}return gt})},we=K=>{J(ue=>{const Ne=new Set(ue);return Ne.has(K)?Ne.delete(K):Ne.add(K),Ne})},Le=()=>{const K=L.data??[];W.size===K.length?q(new Set):q(new Set(K.map(ue=>ue.id)))},ee=async()=>{M(null),H(null),E("confluence");try{await f.mutateAsync([...W])}catch(K){M(K.message)}finally{E(null)}},me=async K=>{M(null);try{await i(K)}catch(ue){M(ue.message)}},fe=new Set((e??[]).map(K=>K.provider));return p.jsxs("div",{className:"max-w-2xl space-y-6",children:[p.jsx(xa,{children:l&&p.jsx(Ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-border bg-card p-8 shadow-card text-center",children:[p.jsx(Ve,{className:"w-10 h-10 text-primary mx-auto mb-4 animate-spin"}),p.jsx("h2",{className:"text-xl text-foreground mb-2",children:a==="extracting"?"Extracting content":"Analyzing your playbook"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:a==="extracting"?"Reading and converting your document to structured content":"Mapping sections to skills framework"}),p.jsxs("div",{className:"mt-6 space-y-2",children:[p.jsxs("div",{className:"flex items-center gap-2 justify-center text-xs text-muted-foreground",children:[a==="extracting"?p.jsx(Ve,{className:"w-3 h-3 animate-spin text-primary"}):p.jsx(dr,{className:"w-3 h-3 text-success"}),"Extracting content"]}),p.jsxs("div",{className:"flex items-center gap-2 justify-center text-xs text-muted-foreground",children:[a==="analyzing"?p.jsx(Ve,{className:"w-3 h-3 animate-spin text-primary"}):p.jsx("span",{className:"w-3 h-3 rounded-full border border-muted-foreground/30"}),"Mapping skills"]})]}),p.jsx("p",{className:"mt-4 text-xs text-muted-foreground",children:"This can take up to 5 minutes"})]})})}),p.jsx(xa,{children:I&&p.jsx(Ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"w-full max-w-lg rounded-2xl border border-border bg-card p-8 shadow-card",children:[I==="pick-space"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center justify-between mb-1",children:[p.jsx("h2",{className:"text-xl text-foreground",children:"Select a space"}),p.jsx("button",{onClick:()=>H(null),className:"text-xs text-muted-foreground hover:text-foreground transition-colors",children:"Cancel"})]}),p.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Choose the Confluence space that contains your playbook"}),F.isLoading&&p.jsx("div",{className:"space-y-2",children:Array.from({length:4}).map((K,ue)=>p.jsx(nf,{className:"h-14 w-full rounded-xl"},ue))}),F.error&&p.jsxs("div",{className:"flex items-start gap-2 rounded-lg border border-destructive/30 bg-destructive/5 p-3",children:[p.jsx(Wi,{className:"w-4 h-4 text-destructive mt-0.5 shrink-0"}),p.jsx("p",{className:"text-xs text-destructive",children:F.error.message})]}),F.data&&p.jsx("div",{className:"max-h-72 overflow-y-auto pr-1",children:p.jsx("div",{className:"space-y-2",children:F.data.map(K=>p.jsxs("button",{onClick:()=>$(K.id),className:"w-full flex items-center gap-4 rounded-xl p-4 border border-border bg-muted/30 hover:border-muted-foreground/30 transition-all text-left",children:[p.jsx("span",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center text-xs font-overline text-primary uppercase",children:K.key.slice(0,2)}),p.jsxs("div",{className:"min-w-0 flex-1",children:[p.jsx("div",{className:"text-sm font-subheading text-foreground truncate",children:K.name}),p.jsx("div",{className:"text-xs text-muted-foreground",children:K.key})]}),p.jsx(Vi,{className:"w-4 h-4 text-muted-foreground shrink-0"})]},K.id))})})]}),I==="pick-pages"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center justify-between mb-1",children:[p.jsxs("button",{onClick:()=>{H("pick-space"),G(null),q(new Set)},className:"flex items-center gap-1 text-xs text-muted-foreground hover:text-foreground transition-colors",children:[p.jsx($g,{className:"w-3 h-3"})," Back"]}),p.jsx("button",{onClick:()=>H(null),className:"text-xs text-muted-foreground hover:text-foreground transition-colors",children:"Cancel"})]}),p.jsx("h2",{className:"text-xl text-foreground mb-1 mt-3",children:"Select pages"}),p.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose which pages to import. Unpublished edits on existing Confluence sections will be lost."}),L.isLoading&&p.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((K,ue)=>p.jsx(nf,{className:"h-10 w-full rounded-lg"},ue))}),L.error&&p.jsxs("div",{className:"flex items-start gap-2 rounded-lg border border-destructive/30 bg-destructive/5 p-3 mb-3",children:[p.jsx(Wi,{className:"w-4 h-4 text-destructive mt-0.5 shrink-0"}),p.jsx("p",{className:"text-xs text-destructive",children:L.error.message})]}),L.data&&L.data.length>0&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx(oc,{checked:W.size===L.data.length,onCheckedChange:Le}),p.jsxs("span",{className:"text-xs text-muted-foreground",children:["Select all (",L.data.length," pages)"]})]}),p.jsx("div",{className:"max-h-60 overflow-y-auto pr-1 mb-4",children:p.jsx("div",{className:"space-y-0.5",children:p.jsx(N3,{nodes:_,selectedPageIds:W,expandedIds:ae,onTogglePage:pe,onToggleExpand:we})})}),p.jsxs("button",{onClick:ee,disabled:W.size===0,className:"w-full flex items-center justify-center gap-2 rounded-xl gradient-primary py-3 text-sm font-subheading text-primary-foreground disabled:opacity-30 transition-opacity",children:["Import ",W.size," ",W.size===1?"page":"pages",p.jsx(Vi,{className:"w-4 h-4"})]})]}),L.data&&L.data.length===0&&p.jsx("p",{className:"text-sm text-muted-foreground text-center py-6",children:"No pages found in this space."})]})]})})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg text-foreground",children:"Integrations"}),p.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Importing from a new source adds to your playbook without affecting other sources.",A>0&&p.jsxs("span",{className:"text-foreground font-subheading",children:[" ",A," sections currently loaded."]})]})]}),O&&p.jsxs("div",{className:"flex items-start gap-2 rounded-lg border border-destructive/30 bg-destructive/5 p-3",children:[p.jsx(Wi,{className:"w-4 h-4 text-destructive mt-0.5 shrink-0"}),p.jsx("p",{className:"text-xs text-destructive",children:O})]}),p.jsx("input",{ref:h,type:"file",accept:".pdf,.txt,.md",className:"hidden",onChange:Q}),p.jsxs("div",{className:"space-y-3",children:[p.jsx(HS,{provider:"confluence",connected:fe.has("confluence"),loading:t,reimporting:x==="confluence",onConnect:()=>me("confluence"),onReimport:()=>oe("confluence")}),p.jsx(HS,{provider:"notion",connected:fe.has("notion"),loading:t,reimporting:x==="notion",onConnect:()=>me("notion"),onReimport:()=>oe("notion")}),p.jsxs("div",{className:"flex items-center gap-4 rounded-xl border border-border bg-card p-4",children:[p.jsx("span",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center text-sm font-overline text-primary shrink-0",children:"P"}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("div",{className:"text-sm text-foreground",children:"PDF / Text Upload"}),p.jsx("div",{className:"text-xs text-muted-foreground",children:"Upload a .pdf, .txt, or .md file"})]}),p.jsx("button",{onClick:()=>{var K;return(K=h.current)==null?void 0:K.click()},disabled:w,className:"flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-subheading transition-colors gradient-primary text-primary-foreground disabled:opacity-50",children:w?p.jsxs(p.Fragment,{children:[p.jsx(Ve,{className:"w-3.5 h-3.5 animate-spin"})," Uploading..."]}):p.jsxs(p.Fragment,{children:[p.jsx(VC,{className:"w-3.5 h-3.5"})," Upload"]})})]})]}),X.length>0&&p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm text-foreground mb-3",children:"Active sources"}),p.jsx("div",{className:"space-y-2",children:X.map(K=>{const ue=gy[K.provider]??{name:K.provider,icon:"?"},Ne=S===K.provider;return p.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-border bg-muted/30 px-4 py-2.5",children:[p.jsx("span",{className:"w-7 h-7 rounded-md bg-primary/10 flex items-center justify-center text-[11px] font-overline text-primary shrink-0",children:ue.icon}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("span",{className:"text-xs font-subheading text-foreground",children:K.label}),p.jsxs("span",{className:"text-xs text-muted-foreground ml-1.5",children:[" ",K.count," section",K.count!==1?"s":""]})]}),Ne?p.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[p.jsx("button",{onClick:()=>C(null),className:"rounded-lg px-2 py-1 text-[11px] font-subheading bg-muted hover:bg-muted/80 text-foreground transition-colors",children:"Cancel"}),p.jsx("button",{onClick:async()=>{M(null);try{await y.mutateAsync(K.provider),C(null)}catch(dt){M(dt.message)}},disabled:y.isPending,className:"flex items-center gap-1 rounded-lg px-2 py-1 text-[11px] font-subheading bg-destructive text-destructive-foreground hover:bg-destructive/90 transition-colors disabled:opacity-50",children:y.isPending?p.jsxs(p.Fragment,{children:[p.jsx(Ve,{className:"w-3 h-3 animate-spin"})," Removing..."]}):p.jsxs(p.Fragment,{children:[p.jsx(td,{className:"w-3 h-3"})," Confirm"]})})]}):p.jsxs("button",{onClick:()=>C(K.provider),className:"flex items-center gap-1 rounded-lg px-2 py-1 text-[11px] font-subheading text-muted-foreground hover:text-destructive hover:bg-destructive/10 transition-colors shrink-0",children:[p.jsx(td,{className:"w-3 h-3"})," Remove"]})]},K.provider)})})]}),!r&&n&&n.length>0&&p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm text-foreground mb-3",children:"Import history"}),p.jsx("div",{className:"space-y-2",children:n.slice(0,5).map(K=>{const ue=gy[K.provider]??{name:K.provider,icon:"?"};return p.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-border bg-muted/30 px-4 py-2.5",children:[p.jsx("span",{className:"w-7 h-7 rounded-md bg-primary/10 flex items-center justify-center text-[11px] font-overline text-primary shrink-0",children:ue.icon}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("span",{className:"text-xs font-subheading text-foreground",children:ue.name}),K.metadata&&K.metadata.sections_created!=null&&p.jsxs("span",{className:"text-xs text-muted-foreground ml-1.5",children:[" ",String(K.metadata.sections_created)," sections"]})]}),p.jsx("span",{className:`text-[11px] font-subheading ${K.status==="completed"?"text-success":K.status==="failed"?"text-destructive":"text-muted-foreground"}`,children:K.status==="completed"?"Completed":K.status==="failed"?"Failed":K.status==="processing"?"Processing...":"Pending"}),p.jsx("span",{className:"text-[11px] text-muted-foreground shrink-0",children:Ite(K.started_at)})]},K.id)})})]}),A>0&&p.jsx("div",{className:"rounded-xl border border-destructive/20 bg-destructive/5 p-4",children:p.jsxs("div",{className:"flex items-center justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm text-foreground",children:"Start over"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Wipe all playbook sections, staged edits, chat history, and connections."})]}),T?p.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[p.jsx("button",{onClick:()=>k(!1),className:"rounded-lg px-3 py-1.5 text-xs font-subheading bg-muted hover:bg-muted/80 text-foreground transition-colors",children:"Cancel"}),p.jsx("button",{onClick:async()=>{M(null);try{await g.mutateAsync(),k(!1)}catch(K){M(K.message)}},disabled:g.isPending,className:"flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-subheading bg-destructive text-destructive-foreground hover:bg-destructive/90 transition-colors disabled:opacity-50",children:g.isPending?p.jsxs(p.Fragment,{children:[p.jsx(Ve,{className:"w-3.5 h-3.5 animate-spin"})," Wiping..."]}):p.jsxs(p.Fragment,{children:[p.jsx(td,{className:"w-3.5 h-3.5"})," Confirm wipe"]})})]}):p.jsxs("button",{onClick:()=>k(!0),className:"flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-subheading bg-destructive/10 text-destructive hover:bg-destructive/20 transition-colors shrink-0",children:[p.jsx(td,{className:"w-3.5 h-3.5"})," Restart"]})]})})]})};function HS({provider:e,connected:t,loading:n,reimporting:r,onConnect:s,onReimport:i}){const a=gy[e]??{name:e,icon:"?"};return p.jsxs("div",{className:"flex items-center gap-4 rounded-xl border border-border bg-card p-4",children:[p.jsx("span",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center text-sm font-overline text-primary shrink-0",children:a.icon}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-sm text-foreground",children:a.name}),t&&p.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-success font-subheading",children:[p.jsx(dr,{className:"w-3 h-3"})," Connected"]})]}),p.jsx("div",{className:"text-xs text-muted-foreground",children:t?`Re-import to refresh ${a.name} sections. Unpublished edits on those sections will be lost.`:`Connect your ${a.name} workspace`})]}),n?p.jsx(Ve,{className:"w-4 h-4 text-muted-foreground animate-spin"}):t?p.jsx("button",{onClick:i,disabled:r,className:"flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-subheading transition-colors bg-muted hover:bg-muted/80 text-foreground disabled:opacity-50",children:r?p.jsxs(p.Fragment,{children:[p.jsx(Ve,{className:"w-3.5 h-3.5 animate-spin"})," Importing..."]}):p.jsxs(p.Fragment,{children:[p.jsx($C,{className:"w-3.5 h-3.5"})," Re-import"]})}):p.jsxs("button",{onClick:s,className:"flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-subheading transition-colors gradient-primary text-primary-foreground",children:[p.jsx(h4,{className:"w-3.5 h-3.5"})," Connect"]})]})}function N3({nodes:e,selectedPageIds:t,expandedIds:n,onTogglePage:r,onToggleExpand:s}){return p.jsx(p.Fragment,{children:e.map(i=>{const a=i.children.length>0,o=n.has(i.id);return p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 rounded-lg py-2 hover:bg-muted/50 transition-colors",style:{paddingLeft:`${i.depth*20+12}px`,paddingRight:12},children:[a?p.jsx("button",{onClick:()=>s(i.id),className:"w-5 h-5 flex items-center justify-center shrink-0 text-muted-foreground hover:text-foreground",children:p.jsx(mv,{className:`w-3.5 h-3.5 transition-transform ${o?"rotate-90":""}`})}):p.jsx("span",{className:"w-5"}),p.jsxs("label",{className:"flex items-center gap-2.5 min-w-0 flex-1 cursor-pointer",children:[p.jsx(oc,{checked:t.has(i.id),onCheckedChange:()=>r(i.id)}),p.jsx("span",{className:"text-sm text-foreground truncate",children:i.title}),a&&p.jsx("span",{className:"text-[10px] text-muted-foreground shrink-0",children:i.children.length})]})]}),a&&o&&p.jsx(N3,{nodes:i.children,selectedPageIds:t,expandedIds:n,onTogglePage:r,onToggleExpand:s})]},i.id)})})}const Pte=`# **1. Introduction & Purpose**

## **1.1. What This Playbook Covers :)**

This playbook outlines Taskbases end-to-end revenue motionsfrom market targeting and messaging to process, tools, and handoffs. It provides the what good looks like across roles and stages so every rep can execute confidently and consistently.

* Strategy: ICP, personas, value proposition, and competitive positioning  
* Execution: outreach templates, discovery flows, demos, proposals, and negotiations  
* Process: sales stages, MEDDICC/BANT-based qualification, exit criteria, and forecasting discipline  
* Collaboration: handoffs (MQLSQL, SDRAE, AECS), ABM with Marketing, and product feedback loops  
* Enablement: tools, dashboards, coaching, metrics, and continuous improvement

## **1.2. Who Should Use This Guide**

* AI Coach: We deploy an AI Coach who teaches all sales functions in their job how to do their job better. The AI Coach will take all the information from that guide. This guide needs to be adjusted to GenAI readability  
* SDRs: Pipeline creation, prospecting, meeting setting, qualification support  
* AEs: Discovery, solution mapping, ROI, deal strategy, multi-threading, closing  
* AMs: Adoption, value realization, renewals, expansion, executive alignment

## **1.3. How to Apply It in Your Daily Workflow**

* Start your day with intent: review your priority accounts, top 10 targets, and next best actions per stage.  
* Use the stage checklists and exit criteria to progress deals deliberatelydont skip discovery validation or mutual action plans.  
* Personalize messaging from persona pain points and industry use cases. Log all activities to maintain CRM hygiene.

## **1.4. Playbook Updates & Ownership**

notecddccfa1-e16a-4f28-b33a-6dbfa3a7e62dPlaybook Owner: [Add Head of Sales]. Editors: [Add Sales Enablement], [Add RevOps]. Contributors: [Add SDR Lead], [Add AE Lead], [Add AM Lead].

Playbook Owner: [Add Head of Sales]. Editors: [Add Sales Enablement], [Add RevOps]. Contributors: [Add SDR Lead], [Add AE Lead], [Add AM Lead].

Update cadence, change control, and feedback loop are defined in Section 15.

## **1.5. Glossary of Key Terms**

* ICP: Ideal Customer Profilecompany-level fit for Taskbases value proposition  
* MQL/SQL: Qualified lead definitions by Marketing and Sales acceptance and criteria alignment  
* MEDDICC/BANT: Standard qualification frameworks to drive rigor and forecast accuracy

Here is where we defined all words: [https://taskbase.atlassian.net/wiki/x/BIB9H](https://taskbase.atlassian.net/wiki/x/BIB9H)

## **1.6. Sales Organisation & Org Chart**

Teams: SDR, AE, AM/CS, Sales Engineering, Enablement, RevOps. Clear swimlanes for ownership by stage and activity ensure speed and quality.

Reference:

## **1.7. Vision, Mission and Values**

Vision: Enable Humanity through learning

Mission:

* Values: Customer impact, ownership, clarity, speed, integrity  
* Sales principles: Coachable mindset, data-driven decisions, and crisp communication

# **2. Ideal Customer Profile (ICP) & Buyer Personas**

## **2.1. Company-Level Criteria (ICP)**

| Criteria | Summary |
| :---- | :---- |
| Size | 10-100 sales employees (Scale-up) (Hint for LinkedIn: You have to create an Account list first in order to filter for number of salespeople) |
| Market | 1st prio: Patricks followers 2nd prio: DACH, UK, BENELUX, Nordics, Spain, France, US |
| Industry (LinkedIn Categories) | The most innovative ones: Software Development (SaaS) IT & Services Technology companies (Fintech, Payments {e.g. Stripe}, HR Tech, etc.) |
| Necessary factors | - BtoB Sales - Product sales, NOT Service sales |
| Important factors that increase challenge | - Repeatable sales process - Remote work focused - A lot of On-boardings (Growth of sales department >10% or high fluctuation) - A lot of Junior Sales reps - Implemented a new framework recently - International organisation with different languages spoken (because reps in other languages usually get less coaching) |
| Factors that make the sale weaker | - They are selling through resellers and have no direct sales |
| Triggers overall (LinkedIn, TechCrunch, etc.) | - Funding round (carefully use that one) - Growing sales team / Hiring salespeople Open sales positions - Remote work advocates - Coaching advocates |
| Technolographics | - CRM: Salesforce or Hubspot - Chat: Slack, MS Teams or Google Chat - Already use a recording tool |
| Language Chat | Output - English - German |

## **2.2. Segmenting by Industry, Size & Geography**

Prioritize verticals with repeatable wins and clear pains (e.g., SaaS, Professional Services, Fintech). Segment by headcount, ACV potential, and regions where we can support timezone, language, and compliance requirements.

## **2.3. Key Buyer Personas, Roles and Challenges/ Use cases**

| Title | CEO | CRO / Head of Sales / VP of Sales | Sales Enablement Manager / Director of Sales Enablement |
| :---- | :---- | :---- | :---- |
| **Buyer Persona** | Economic Buyer | Economic Buyer / Champion | Champion |
| **Challenges we solve for them** | - Behind with revenue - Drive new strategy with salespeople faster - Needs to have arguments for the Board in case salespeople are not reaching targets - Show the board they train and develop their people - More reliable forecasting and better growth plan - There is always a small doubt that salespeople are not good enough. Erase that doubt. | - Being able to report skill development to their boss - Being able to cancel out lack of development as a reason for not reaching the growth targets - Faster implementation of new sales methodology, changes in SalesPlaybook and new product developments - Transparency of training and very structured approach to coaching - Alignment of sales organisation to the same methodologies. - Reduce coaching costs over the year. - Reliable forecasting - Long sales cycles: Ramp up measurement of sales reps in case they did not close a deal yet. You can see their skills. | - Deliver on Upskilling without much additional costs or invested hours. - Invoke changes of behaviour thanks to repetitive coachings. (People change behaviour if reminded all the time or with a very intense one-time coaching) - Reduce coaching costs over the year with a stronger impact on changing behaviour. - Instead of coaching internally (resources!) have AI do it. - Individual coaching for every single rep with an evolving skill map. - Middle-managers are not skilled enough to give trainings. |
| **Impact of not solving challenges** | - Faster growth - Selling of new product / features much faster - Outpace competitors, increase win rate - Peace of mind | - More revenue - Keep their job (because they can show progress) - Peace of mind - Ramp time reduced by 20% - Forecasting more accurate. |  |
| **Goals** |  | #### **1. Revenue Growth & Expansion** - Achieve/exceed annual revenue targets - Increase deal size (upselling/cross-selling) - Acquire new customers - Expand market share #### **2. Team Optimization & Development** - Increase sales efficiency (processes, tools) - Continuous coaching & training - Shorten sales cycles - Retain and motivate talent - Set clear goals & expectations |  |

## **2.4. Decision-Making Dynamics & Buying Committees**

Buying groups typically include economic buyer (CRO/CFO), technical approver (RevOps/IT), champions (Sales Managers/Directors and Sales Enablement Directors), and users (SDRs/AEs). Multi-thread early, co-create business case (for >50k deals), and align on procurement steps.

# **3. Product Overview & Value Proposition**

## **3.1. Core Concept of Taskbase**

### **3.1.1 What Taskbase Is**

* **Taskbase is an AI coaching and learning platform for sales teams.**  
* **It learns directly from real sales interactions, not from hypothetical inputs.**  
* **It builds a dynamic skill profile for each rep based on observed behavior.**

### **3.1.2 How Taskbase Learns**

* **Input sources: cold calls, emails, CRM updates, Slack/Teams/Google Chat interactions with the AI coach.**  
* **Taskbase continuously analyzes these interactions to identify skills and gaps.**  
* **The skill profile evolves as reps improve or change behavior.**

### **3.1.3 Skill Profile Components**

**Taskbase evaluates skills across areas such as:**

* **Cold calling**  
* **Cold messaging**  
* **Discovery**  
* **Demo execution**  
* **Objection handling**  
* **Deal urgency**  
* **Follow-up and qualification**  
* **General communication effectiveness**

# **3.2. Proactive Coaching**

### **3.2.1 How Proactive Coaching Works**

* **After a rep completes a sales action (e.g., a cold call), Taskbase checks the interaction against the sales playbook.**  
* **The AI proactively messages reps in Slack, Teams, or Google Chat.**  
* **Example trigger message: I listened to your openerwant feedback?**

### **3.2.2 Adaptive Feedback**

* **Feedback adjusts to the reps current skill level.**  
* **If a rep implements changes, Taskbase registers this behavior as learning.**  
* **This creates a constant loop: action  feedback  improvement  profile update.**

# **3.3. Reactive Selling Support (Knowledge Retrieval)**

### **3.3.1 How Reps Use Taskbase on Demand**

**Examples of questions reps can ask taskbase:**

* **Who fits our ICP?**  
* **Which customer is a relevant reference for a fintech prospect?**  
* **Whats the recommended objection response for pricing pushback?**

### **3.3.2 Retrieval Source**

* **Answers are grounded in the companys sales playbook and product knowledge.**  
* **The same engine that coaches reps also retrieves operational guidance.**

# **3.4. Content Maintenance & Data Requirements**

### **3.4.1 Content Updates**

* **Playbook updates (messaging, objections, ICP shifts) must flow into Taskbase to maintain coaching accuracy.**  
* **New patterns from calls should be added to the playbook regularly.**

### **3.4.2 Call Data**

* **Taskbase does not record calls.**  
* **It processes call recordings from external platforms.**  
* **Any standard recording tool is sufficient as long as the data is accessible.**

### **3.4.3 Language Support**

* **Highest coaching quality is currently available in English and German.**  
* **Languages requiring specific phrasing (e.g., cold calling) benefit most from these two.**

# **3.5. Integrations**

### **3.5.1 CRM & Data Integrations**

* **Salesforce**  
* **HubSpot**  
* **KickScale**  
* **Call-recording tools (via standard APIs)**

### **3.5.2 Communication Integrations**

* **Slack**  
* **Microsoft Teams**  
* **Google Chat**

### **3.5.3 Leadership Dashboard**

* **Real-time view of each reps skill development.**  
* **Shows improvement, stagnation, or decline.**  
* **Helps identify root causes of missed quota without reviewing every call.**

# **3.6. Personas & Use Cases**

### **3.6.1 Sales Reps**

**Primary benefits:**

* **Day-to-day skill development based on actual work.**  
* **Continuous feedback instead of quarterly trainings.**  
* **Instant reactive answers (ICP, messaging, objections, references).**  
* **Support for cold calling, messaging, discovery, demos, and more.**

### **3.6.2 Sales Leaders / Managers**

**Primary benefits:**

* **Visibility into skill gaps rather than only activity metrics.**  
* **Insight into discovery, demo quality, objection handling, and more.**  
* **Faster identification of issues when reps miss quota.**  
* **Less manual call review.**

### **3.6.3 Enablement Teams**

**Primary benefits:**

* **Scalable daily coaching without increasing human workload.**  
* **AI handles repetitive coaching.**  
* **Enablement focuses on playbook quality, objection monitoring, and updates.**  
* **Continuous learning replaces workshop-only models.**

### **3.6.4 CROs / Revenue Executives**

**Primary benefits:**

* **Scalable coaching without proportional headcount growth.**  
* **Predictable cost structure per rep license.**  
* **Standardization of high-quality coaching across the organization.**  
* **Faster onboarding and ramp time.**

# **3.7. Differentiating Value (USPs)**

### **3.7.1 Personalized, Contextual Coaching**

* **Feedback is based on the reps latest activity.**  
* **Not generic modules; real situational guidance.**  
* **Feels like a personal coach reacting in real time.**

### **3.7.2 Skill Visibility for Leaders**

* **Converts qualitative selling behavior into measurable skill insights.**  
* **Removes the need for leaders to manually diagnose performance gaps.**

### **3.7.3 Scalable Enablement**

* **Automates repetitive coaching interactions.**  
* **Frees enablement to work on strategy and content.**  
* **Works with thousands of reps simultaneously.**

### **3.7.4 Expert Source Content**

* **Trained on advanced sales methodologies and proven talk tracks.**  
* **Can incorporate expert content from Patrick or external creators.**  
* **Allows companies to adopt frameworks from top industry voices.**

### **3.7.5 Proactive Coaching as a Differentiator**

* **Taskbase reaches out automatically.**  
* **Reps dont need to remember to ask for help.**  
* **Creates continuous learning embedded in daily workflow.**

# **3.8. Ecosystem Benefits**

### **3.8.1 KickScale Integration**

* **KickScale highlights common objections and struggle points.**  
* **Taskbase uses these insights to update the playbook after human validation.**  
* **Ensures coaching aligns with real customer conversations.**

### **3.8.2 Expert Content Ecosystem**

* **Companies can inject methodologies from influencers, trainers, or frameworks.**  
* **AI coach trains reps based on selected content.**

### **3.8.3 Automatic Update Loop**

* **New objections, fresh messaging, and new patterns flow into the playbook.**  
* **Taskbase updates coaching automatically once the playbook changes.**  
* **Keeps learning relevant and aligned with current market realities.**

### **3.8.4 Low-Friction Integration Philosophy**

* **Taskbase lives inside existing workflows.**  
* **No new UI required.**  
* **Designed as an intelligent layer across the sales tech stack.**

## **3.5. Customer Stories & Proof Points**

[https://taskbase.atlassian.net/wiki/x/AgCKS](https://taskbase.atlassian.net/wiki/x/AgCKS)

# **4. Sales Process Overview**

## **4.1. Sales Stages, Required Activities per Stage & Exit Criteria**

Use stage checklists to prevent slippage. Each stage requires validated pains, stakeholders, next steps, and calendarized actions. Tie every commit to a mutual action plan.

|  | Meeting Booked | 1: Problem/ Use Case Agreement | 2: Priority Agreement | 3: Solution/Value Agreement | 4: Power Agreement | 5: Commercial Agreement |
| :---- | :---- | :---- | :---- | :---- | :---- | :---- |
| **Seminal Question:** The question you are trying to answer | Do we have a meeting booked with an ICP? | Do they have a problem we can solve? Do they want to achieve something they cannot achieve without us? | Are the problems big enough to prioritize solving? Can we get a good business case? | Is this solution worth putting money into? Can our solution solve their problem thoroughly? | Does the Economic Buyer agree to Solution and Problem? | Are you gonna buy this thing? |
| **Exit Criteria:** Proof that youve answered the question | - Accepted by Sales Rep/ Account Executive - Match of LinkedIn profile to our ICP and Persona criteria | - 2-3 biz initiatives (not problems, projects) - Do they understand the org structure? (3-2-1) | - Quantified business initiatives | - They think our solution is good enough to solve the problem. | - Approved proposal above the line - Required capabilities - Implementation date - MAP in place | - Executed contract - Notes to post-sales |
| **People Involved:** Who should answer that question | Director, Sales or Enablement CRO / VP Sales | Director, Sales or Enablement, VP Sales | Director, Sales or Enablement, VP Sales (or ++) | Director, Sales CRO / VP Sales IT / Finance | CRO / VP Sales | Director, Sales CRO / VP Sales IT / Finance Legal |
| **Tools:** Things you can do to get the answer | - Cold Calls - Cold emails - Social Selling - LinkedIn Messages - Sequences | - Discovery Call - Problem Hypothesis - Audits / Comparisons - Demo (Before / After) | - Value engineering (ROI calculator) - Super detailed demos (before vs after) - Workflow interviews / reverse demos - Case study | - Super detailed demos (before vs after) - Pilots & Trials - Business cases / ROI studies | - Champion 1:1s - Exec meetings - Case studies | - Proposal - Post-sales people - Discounts & negotiation |
| **Risk Criteria:** How well youve achieved the exit criteria | CRO VP Sales Director Enablement Director Sales | Initiative Problem Pain No Pain | Massive Metrics Clear Metrics Not Meaningful No Metrics | Differentiated Value Clear Some differentiated value Competitors in deal Local competitor they already talk to | We met Economic Buyer Our Champion is same level as EB Champion below EB Champion two below EB | They're Driving We're Driving Falling Behind Nothing Started |

# **5. Qualification Framework**

## **5.1. Overview of Qualification Methods used**

Primary: MEDDICC for enterprise/mid-market; BANT for high-velocity SMB; SPICED-style discovery for problem depth. Choose depth by ACV and complexity.

## **5.2. Discovery Question Library**

* Impact: What happens if this problem persists another two quarters?  
* Process: How do stage changes, approvals, and forecasting work today?  
* Metrics: Which KPIs define success for you and your leadership?

## **5.3. How to Score and Disqualify Opportunities**

Use a lead/deal score blending ICP fit, intent, pain severity, stakeholder access, and timing. Disqualify respectfully when lack of fit, authority, or compelling event is evident; leave the door open for nurture.

## **5.4. Qualification Tools and Templates**

In deal reviews, we use a specific framework so that we can focus on what really matters in every deal. The goal of deal reviews:

* Mitigate the risks we identify by talking through them  
* Discover questions we still need to ask our buyer so that we can better evaluate the deal

Here are categories (5Ps) and the respective questions you want to have an answer for before going into a deal review meeting:

### **5Ps Framework for Deal Reviews:**

The 5Ps Framework to use for Deal Reviews760Pain

* Do they already have a concrete project with a concrete goal?  
* What is the (quantifiable) business pain we are solving for the customer?  
* What is the impact of that pain (if not solved)?  
* What are the criteria they want to work with a company?  
* Where is the information coming from?

Priority

* Metrics are large or small?  
* Can the project be tied to a business initiative?

Power

* Who has the authority to release the funds and who will sign the deal?  
* Who is the true economic buyer?  
* Do we know some or have connections to some people who are high in the organisation?  
* Where is the information coming from?

People

* Who is your champion? How do you know they are a champion?  
* Who are the lend of people we are working with on this deal? In what way is each involved? What does each care about?  
* Where is the information coming from?

Process

* What steps do they as a company need to make to get to a buying decision?  
* Is the close date of that opportunity set into stone and discussed with the prospect?  
* Do we have something in place (Compelling event, specific customer urgency, pilot expiration, or other) that will drive the timeline?  
* Have we asked the client if theyve thought about an appropriate range of investments to solve their problem? How do they plan on funding this?  
* Do we understand the decision criteria for the people involved in the decision-making steps?  
* Are they looking into other competitors as well?  
* Where is the information coming from?

## **5.5. Qualification for Expansion or Cross-Sell**

For existing customers, anchor on adoption, value realization, and executive alignment. Score expansion potential by usage breadth, champion influence, and upcoming initiatives.

# **6. Messaging, Scripts & Talk Tracks**

## **6.1. Cold Outreach Templates (Email, Phone, LinkedIn)**

Principles: Personalize to persona pain + proof, one CTA, 35 sentences, plain language, clear pain in the first line.

## **6.2. Persona-Specific Value Messaging**

* CRO: Confident commits via stage governance and risk surfacing  
* RevOps: Fewer manual audits; enforce hygiene automatically; reliable reporting  
* Sales Managers: Ready-made deal reviews and coaching with less prep

## **6.3. Discovery Call Structure**

* Align on agenda and outcomes; get consent to ask tough questions and to share context  
* Probe problem, impact, stakeholders, and timing; quantify pains and define success metrics  
* Close by booking the next meeting in the call. Never leave without.

## **6.4. Objection Handling Scripts**

Acknowledge, Accept, Adjust, Ask

## **6.5. Demo Scripts & Positioning**

    :

* Did you kick off with a What We Heard slide to recap their top goals and pain points?  
* Did you check in with new stakeholders to confirm those priorities still hold  and get their lens on it too?  
* Did you ask how they do it today before jumping into how it could work with your platform?  
* Did you stick to only the features that directly solve their core use case or pain?  
* Did you lead with the flashiest, most value-packed feature and build momentum fast?  
* Did you give a clear why before each feature  the business reason they should care?  
* Did you dig into their internal process and team structure to set up smart multithreading plays?  
* Did you clearly explain how your product is different  and why that matters to them?  
* After each feature, did you ask what was going through your mind as I walked through that? instead of any questions?

10. Did you lock in the next call live, with a clear reason why its valuable and who else should be there?

Intro

For many salespeople, a demo is treated as a one-time event in the sales process. The pattern is familiar: run a discovery call, gather some information, then schedule a demo meeting to present the product. This approach has worked in the past  but todays world looks very different. Buyers are busier, better informed, and have higher expectations.

In lower-cost deals (say, below $10,000 a year), many buyers can self-educate and purchase without ever needing a demo. Theyll happily watch a pre-recorded product tour or click through an online sandbox. But once deal sizes climb, **personalized demos remain essential.**

Trmpis Substack is a reader-supported publication. To receive new posts and support my work, consider becoming a free or paid subscriber.

And heres the critical point: if youre delivering the same generic demo over and over, your role as a salesperson adds little value. In that case, you might as well send a video link. The only advantage left would be the human factorthat someone booked time with you and stayed to watch live. But thats a thin reason for your existence.

Great demos, in contrast, are **personalized, dynamic, and context-driven.** They connect directly to the buyers situation and pains. They dont follow a rigid structure  they adapt. And most importantly, they arent confined to a single meeting slot on the calendar.

### **Demos as a Tool, Not Just a Meeting**

Too often, demos are seen only as a fixed stage in the process. But a demo is a **tool**  just like discovery questions, case studies, or proof of value. You can use a demo at any moment if it helps the conversation.

Imagine youre ten minutes into a discovery call. The buyer describes a painful, time-consuming process. If you know your solution can cut that process in half, why wait until a later demo? Show them right then. Anchor it in their reality by asking:

* *Can you see yourself using this?*  
* *If you did, how much time would it save you exactly?*

Suddenly, youve moved from features to impact. Youve built a business case live in the meeting  and you can close that mini-demo before pivoting to another use case.

This is how modern salespeople should think: not in terms of demo meeting versus discovery meeting, but in terms of **use cases, tools, and value delivery.**

### **Delivering Value Early**

This mindset becomes even more critical in outbound sales. Inbound prospects may happily go through a clean sequence of discovery first, demo second. But outbound prospects have less patience. They didnt ask to talk to you. If you spend thirty minutes asking questions without showing anything of value, chances are you wont earn a second meeting.

Thats why the best sellers learn to **deliver value quickly**  weaving in snippets of demo during the very first call, always tailored to what the buyer has just said.

### **Yes, Theres Still a Demo Meeting**

That said, most sales processes still contain a dedicated demo-heavy meeting. This article will cover how to structure and run those demos for maximum impact. But keep this perspective in the back of your mind:

* A demo is not confined to one meeting.  
* A demo is a flexible tool.  
* And the best demos dont show everything  they show what matters most to the buyer.

With that foundation set, lets dive deeper into how to design, deliver, and master sales demos.

Chapter 1: How to Structure a Demo

A demo is not about showing everything your product can do. Its about showing the *right things* in the *right order* so that the buyer connects what they see with their real challenges and goals. Whether youre running a full demo meeting or dropping a quick demo snippet into a discovery call, the structure is the same.

Think of the demo as a sequence of four steps:

* **Recap**  Align on what youve heard.  
* **Permission**  Set expectations for the flow.  
* **Show**  Present the most relevant feature first.  
* **Ask**  Confirm value and anchor it in their reality.

This framework ensures your demos are focused, conversational, and tied to business impact  not a product tour. Lets break it down.

Step 1: Recap What Youve Heard

The first thing you do in a demo is **recap what you understood from the buyer.**

* In a scheduled demo meeting, recap what came out of your discovery call.  
* In a quick on-the-spot demo, recap what they just told you in the conversation.

Dont just say: *Let me show you the product.*  
Instead say:

From our last call, I understood three main points. First, coaching reps takes a lot of time, and managers cant scale it effectively. Second, reporting is slow and manual. And third, youre missing insights into which deals are actually at risk. Does that sound right?

Make it **visual.** Put a slide on screen that summarizes:

* **Use Case 1**  
* **Use Case 2**  
* **Use Case 3**  
* **Negative impact if not solved**

The last part  the negative impact  is crucial. What happens if they keep doing things the old way? What are the ripple effects if nothing changes? (Chris Orlob calls these ripple effects.) For example:

* If coaching doesnt scale, managers stay overloaded, and reps dont change behavior.  
* If reporting remains manual, leadership decisions are always based on outdated data.

Then **confirm with them:**

Did I capture that correctly? Would you add or adjust anything?

This is more than a check-in. Buyers nearly always correct or add details when you recap, which gives you richer information. And it shows them youve been listening  a huge trust builder.

 *Pro tip:* Recap is not just for demos. Use it everywhere  cold calls, discovery, even email follow-ups. Reformulating what youve heard is one of the fastest ways to create alignment and open the door to more information.

Step 2: Get Permission to Proceed

Once youve confirmed the recap, explain whats coming next and ask for permission.

For example:

Heres what Id like to do. Ill walk you through how we handle [challenge], and then we can discuss whether that would work in your process. Does that sound okay?

This small step makes the buyer feel in control. It also removes resistance because youre not pushing a flow onto them  youre inviting them to agree.

Youve used this same technique before:

* In a cold call: *Do you mind if I take 30 seconds to explain why Im calling?*  
* In discovery: *Can I propose an agenda for todays call?*

The psychology is the same: **permission creates alignment.**

Step 3: Show the Best Feature First

Now its time to show your product. But heres the rule: **show as little as possible, and start with the most important thing.**

* Dont go in order: challenge 1, challenge 2, challenge 3.  
* Start with the *hair-on-fire problem* that matters most to them. Or simply your most amazing feature (hopefully powered by AI).

For example: if they said coaching their reps is the hardest and most costly issue, dont start with reporting  start with the coaching feature.

Sometimes you need to give context first (like where the feature lives in the platform). But keep that to **30 seconds max.** You want to land the killer feature first, and here is why:

* Attention is highest at the beginning. If you bury your best feature, you risk losing them before they see the real value.  
* Solving their top challenge first creates immediate urgency and relevance.

Remember: youre not running a **tour.** Youre running a **business case in action.**

Step 4: Ask the Right Questions

Heres where many reps go wrong. They show a feature, then immediately jump to the next one. Dont do that. After every feature, you must **ask.**

There are two questions you should cycle through:

* **Do you see yourself using this?**

Simple, but powerful. Forces them to visualize themselves in the workflow.

* **Do you see value from this compared to how you do it today?**

Even better if you make it concrete:

Compared to the way youre doing this now, do you think this would make you more efficient?  
If you had this in place, how much time do you think your managers would save each week?

These questions are not throwaways. They do three things:

* They force the buyer to process what theyve seen.  
* They tie the feature back to *their* workflow.  
* They often surface numbers or impact statements you can use later in the business case.

Example talk track:

You mentioned earlier that reporting takes your team about two days each month. If you had this workflow in place, do you think that time would shrink? By how much?

Now youre not just showing a feature  youre co-building ROI with the buyer.

Bringing It Together

So, the structure of a great demo looks like this:

* **Recap**  Summarize their situation, challenges, and impacts. Confirm.  
* **Permission**  Lay out whats next and ask if its okay.  
* **Show**  Deliver the most relevant feature first. Keep it tight.  
* **Ask**  Anchor the feature in their world. Confirm value and impact.

This structure works for both a full demo meeting and a quick five-minute demo snippet mid-discovery. It keeps the conversation tied to business outcomes instead of product features, and it ensures the buyer is engaged throughout  not just sitting back passively watching your screen.

Chapter 2: Running the Demo

I cant teach you a one-size-fits-all demo for your product, because great demos are specific. Theyre built on the pains, use cases, and opportunities we uncovered with the buyer. Thats the point: we demo *their world*, not *our product*. What I *can* teach is how to think about the moving parts so you can adapt in real time.

Dont Script a Live DemoScript the Use Cases

I recently watched a startups recorded demo. They had scripted the entire thing end-to-end. Thats advanced and not advanced at the same time. If a demo can be fully scripted and only works when you follow the script, you dont need a rep to perform it live. Record it. Keep it under ten minutes. Host it on Loom, Vidyardwhatever. Send it *before* the meeting and use the live time to discuss what matters.

Ive done exactly that for a new ICP. Our flow only worked if I clicked in a precise sequence. Rather than risk a live stumble, I recorded an eight-minute walkthrough and sent it ahead of the first call. It worked. If your demo is always the same, dont perform it*package* it.

What deserves scripting is different:

* **Challenge/Use Case #1  the smallest possible demo slice that proves you solve it.**  
* **Challenge/Use Case #2  the slice that proves you solve it.**  
* **Challenge/Use Case #3  same.**

That belongs in the playbook. Not a start-to-finish tour, just modular slices tied to problems.

Cut the Interface Tour

Too many reps log in and narrate the screen: Top right are settings. Heres the admin. This is the dashboard. Over here we set up tutors Boring. Useless. Buyers dont need a museum guide; they need relief.

Show the *one* thing that relieves pressure **right now**. If context is absolutely required, keep it to thirty seconds, then land the punch.

Prepare Your Tabs Like a Pro

If discovery and demo are in separate meetings, prepare for speed:

* Open **one browser tab per use case**, each already positioned on the exact screen that proves value for that use case.  
* Start with the hair-on-fire problem. No warm-up lap.

This tiny bit of prep prevents rambling navigation and keeps the flow tight.

Whenever Possible, Demo a Real Environment

Ive often had the luxury of showing live, real environments because we could provision them cheaply. If you can show the real thing, do it. Priority number one.

When thats not possibleclient-specific data, privacy concernsclone a realistic environment. Anonymize what you must, but make it look and feel exactly like what they would use. If your tool requires special scaffolding to stage a believable scenario, invest the time once and duplicate it forever.

The Four-Step Flow Still Rules (Even Mid-Call)

Whether youre in a full demo or dropping a mid-discovery snippet, the same flow applies:

* **Recap** what I understood (use cases + ripple effects if nothing changes), confirm it.  
* **Permission** to proceed: Heres what Id like to do does that sound okay?  
* **Show** the most important feature first, as little as possible to prove the point.  
* **Ask** immediately after each feature:  
* **Do you see yourself using this?**  
* **Compared to how youve been doing this before, do you think youll be more effective and efficient with the way Ive shown you in this demo?**  
* If I already know their workflow: If you had this in place, how much time would your managers save each week?

This turns features into impact. We co-author the business case in real time.

Chapter 3: Closing the Demo: Summarise, Score, Decide

At the end, I bring the conversation back to clarity and commitment.

I summarize in their words:

Let me quickly summarize. We discussed challenge #1, challenge #2, and challenge #3. For #1, I asked if you see yourselves using thisyou said definitely yes.

Then I quantify *importance* with a clean scale:

From **0 to 10**, given your challenge and what you saw today, how important is it for you to solve this **the way we showed**?

I do this for each use case when there are multiple. If its messy or we only covered one, I still ask for an overall score.

Heres my rule of thumb: **anything below 8, I pause.** I ask:

Typically when clients are below eight, it isnt worth pushing internally right now. **What would need to be true** for this to move to an eight or nine?

Now I learn whether its missing features, timing, budget, strategy, or stakeholders. If theres nothing I can influence, I *dont chase*. Ill suggest:

Lets revisit in six months when priorities may shift. Shall we schedule that follow-up now?

If they score **810**, I tighten the loop:

Greatwhat would bring this to a nine or ten?

I capture the specifics; those become my next-step inputs.

Add Stakeholders the Right Way

In most demo calls, I ask the stakeholder question explicitlythis is the exact line:

**Who else does want to be involved in a project like this somewhere on the way before it is signed, or before we decide that were actually going to work together for sure? Who else would be interested in being part of this journey?**

Theyll give me names. I dont leave them to carry the message internally. I propose the next step immediately:

Perfect. Rather than you relaying everythingwhich is time-consuming and invites technical questionsyou cant be expected to answer**lets bring them in**. Ill re-summarize the situation, the challenges, the impact, and show the specific slices we covered today. Does that work? When should we meet?

Deal size dictates structure. For **<10k**, I compress and often go for signature. Around **1050k**, I still keep it lean but may add one stakeholder meeting. At **50300k+**, I invest: multiple stakeholder demos, sometimes short intros first, never a single massive meeting with CFO + CEO + COO + CSO. If there are multiple departments, we go one by one.

### **When My Boss Needs to See This Appears**

If my champion says, I need to ask my boss, I steer toward a business case:

Your boss probably cares about **[KPI X]**is that right? Often leaders want three things:

* What we invest.  
* What we get back over time.  
* How this ties to a **strategic initiative**.

Lets prepare that. Ill assemble the numbers we discussed and map it to the initiative. **When should we do the ROI meeting?**

For larger deals, once a few people are engaged, I may recommend a focused **workshop**but only when theres clear buy-in and agenda.

### **What I Leave Behind (or Use to Open the Next Call)**

I create a **single, tight slide** we can circulate internally and reuse to kick off the next meeting. It includes:

* **Situation / Use Cases** (their language)  
* **Impact / Ripple Effects** if nothing changes  
* **Solution Description** (only the slices we showed)  
* **How Well Measure Impact** (time saved, error rate reduced, pipeline hygienewhatever they named)  
* **Specifics** that matter to them (data protection, where we start, rollout plan)  
* **Top 23 Objections + crisp answers**

This becomes the internal memo my champion wishes they had time to write. I write it for them.

### **Putting It All Together (Flow I Actually Use)**

* Recap (slide visible)  Confirm.  
* Permission to proceed  Does that sound okay?  
* Show slice #1 (hair-on-fire)  Ask: Do you see yourself using this? + Compared to today more effective and efficient?  quantify time/money.  
* Show slice #2  Ask again.  
* Show slice #3 (if needed)  Ask again.  
* Summarize  Importance 010 per slice or overall.  
* If <7  clarify what would move it up; park with a date.  
* If 810  add stakeholders with a concrete invite; or propose ROI meeting/workshop.  
* Send the one-slide recap/business case.

Thats the craft. Im not proving that my product is big; Im proving that their problem can be smalland soon.

## **6.6. C-level Presentation**

Three slides: business impact, risk mitigation, and implementation confidence. Keep detail in appendix.

## **6.7. Workshop**

Collaborative mapping of current vs. future-state process; co-create a mutual action plan with owners and dates.

# **7. Objection Handling & Competitive Intelligence**

## **7.1. Most Common Objections and Responses**

Budget, timing, security, integration, change management. Use evidence, ROI math, and customer proof to de-risk decisions.

| Cold Call Objections | Best Answer |
| :---- | :---- |
| Could you send the demo link because i get many calls and email about sales Tech? | I gladly share a demo with you. Now, if your sales reps will get that question with the email, what would you teach them? You would not allow them to get off and just send the email, right? My AI Tutor does not allow me to do that either. It asks whether we can book a meeting next week and in case you do not like the demo I send you, you can still cancel. Should we quickly look in our calendars next week? |
| We already have trainings in place. | That is great. Our AI Tutors teach the reps exactly what you already have in your trainings. What we realised with our clients is that only about 5-10% of reps actually consume those ressources and can keep their content over time and actually put them into practice. Is that something that sounds familiar for you as well? |
| Are you a training provider? | Are you looking for one? |
| We already have a training provider | That is fantastic, almost all our clients have and implemented such methodologies as Sandler, MEDDIC or SPICED or have done other trainings. One challenge we have seen with these is that reps learn them in an intense course but forget more than 90% of it again after 2-3 months. Is that something that sounds familiar? |
| Are you a sales enablement provider? | Are you looking for one? |
| We have enablement team in-house. | That is fantastic, almost all our clients have a sales enablement team in place that is responsible for training. Is that what your sales enablement team does as well on their own? |
| How do you measure how people change their behaviour? | We usually have two approaches. First, we choose specific skills that we want to develop in your sales reps. For instance uncovering urgency and lets say cold call skills. Now, the tutor autonomously develops those skills in your reps during the day. After a short periode, lets say 3 months, we can analyse the cold calls and see whether they have improved in quality. Another way is the tutor actually delivers points to the reps for getting those skills right. If the points have improved on their personal skill table, it is a good sign they actually have improved and the conversion rates, sales cycles and deal sizes will follow. Do you have specific skills you see in your reps that need continuous development? |
| We do not have the culture that supports learning | Yeah we have seen that in some other organisations as well. Does that mean you are not investing in learning at all? |
| We have it covered | - You have it covered? - Do you mean you have people who train your team? |
| Im in a meeting | That must be a really boring meeting? (smile) |
| Send me an email | Sure, that is a great suggestion. Can I add something to that? Lets book a meeting already in 1 or 2 weeks, I send you the material, and in case you do not like it, you can still cancel. This way, we safe each others time. When works for you? |
| Data privacy (Betriebsrat in Germany): we cant get access to CRM data and evaluate individual performance. | Anonymized data  however, can this be used for coaching? |
| We are good right now |  |
| We have highly skilled reps that follow all of our trainings | Oh wow, I never heard that before. Are you interested in selling your methodology, could be a million dollar training idea (laugh a little) |
| That is right now not in our priority list | What needs to happen in order for that to change? Until when? |
| Are you another recording tool such as Gong, Kickscale, etc.? | Are you using a recording tool already? We do not record calls - that already needs to be in place in order to work with us on some skills. The challenge with Gong is that nobody uses their coaching feature because no rep is proactively watching the overwhelming feedback of this coaching feature. So they never learn. Then explain what Taskbase does differently (proactively, skill development, data from CRM) |
| It wont work in our environment? |  |
| We just implemented something very similar internally |  |
| **Discovery Objections** | **Best Answer** |
| How do you measure how people change their behaviour? | We usually have two approaches. First, we choose specific skills that we want to develop in your sales reps. For instance uncovering urgency and lets say cold call skills. Now, the tutor autonomously develops those skills in your reps during the day. After a short periode, lets say 3 months, we can analyse the cold calls and see whether they have improved in quality. Another way is the tutor actually delivers points to the reps for getting those skills right. If the points have improved on their personal skill table, it is a good sign they actually have improved and the conversion rates, sales cycles and deal sizes will follow. Do you have specific skills you see in your reps that need continuous development? |
| We do not have the culture that supports learning. What do you suggest? | Yeah we have seen that in some other organisations as well. Does that mean you are not investing in learning at all? |
| Data privacy (Betriebsrat in Germany): we cant get access to CRM data and evaluate individual performance. | Anonymized data  however, can this be used for coaching? |
| That is right now not in our priority list | What needs to happen in order for that to change? Until when? |
| Are you another recording tool such as Gong, Kickscale, etc.? | Are you using a recording tool already? We do not record calls - that already needs to be in place in order to work with us on some skills. The challenge with Gong is that nobody uses their coaching feature because no rep is proactively watching the overwhelming feedback of this coaching feature. So they never learn. Then explain what Taskbase does differently (proactively, skill development, data from CRM) |
| Where does it live? Like does it live in HubSpot or does it live in a separate page? |  |
| Do you have any examples of sales playbooks like best you have somehow anonymized? |  |
| Five skills are included. And how many skills do you have? |  |
| Does this work for customer success as well? | Yes, of course. The skills are a bit different but we use it with our CS team too. |
| **Demo Objections** | **Best Answer** |
| How do you measure how people change their behaviour? | We usually have two approaches. First, we choose specific skills that we want to develop in your sales reps. For instance uncovering urgency and lets say cold call skills. Now, the tutor autonomously develops those skills in your reps during the day. After a short periode, lets say 3 months, we can analyse the cold calls and see whether they have improved in quality. Another way is the tutor actually delivers points to the reps for getting those skills right. If the points have improved on their personal skill table, it is a good sign they actually have improved and the conversion rates, sales cycles and deal sizes will follow. Do you have specific skills you see in your reps that need continuous development? |
| We do not have the culture that supports learning | Yeah we have seen that in some other organisations as well. Does that mean you are not investing in learning at all? |
| Data privacy (Betriebsrat in Germany): we cant get access to CRM data and evaluate individual performance. | Anonymized data  however, can this be used for coaching? |
| Are you another recording tool such as Gong, Kickscale, etc.? | Are you using a recording tool already? We do not record calls - that already needs to be in place in order to work with us on some skills. The challenge with Gong is that nobody uses their coaching feature because no rep is proactively watching the overwhelming feedback of this coaching feature. So they never learn. Then explain what Taskbase does differently (proactively, skill development, data from CRM) |

## **7.2. Competitor Overview & Strengths/Weaknesses**

Map by use case, integration approach, admin overhead, and time-to-value. Position Taskbase on governance depth and adoption ease.

| Name | Website | Information | Relevance | Region | Their ICP | Category | Differentiated Value (Strengths / Weaknesses) | Customers | Pricing | Added By |
| :---- | :---- | :---- | :---- | :---- | :---- | :---- | :---- | :---- | :---- | :---- |
| Arist | [http://Arist.com](http://Arist.com) | [https://www.youtube.com/watch?v=KnfVCd6dfko](https://www.youtube.com/watch?v=KnfVCd6dfko) |  | World | NGOs, Software companies | Learning for Sales Teams | We are based on skills and really develop those. That gives an extremely structured approach to development. At any time, a manager can add a skill and the Tutor will get the work done. | Dealfront | [https://www.arist.co/pricing](https://www.arist.co/pricing) | Patrick Trmpi |
| Pitchmonster | [https://www.pitchmonster.io/](https://www.pitchmonster.io/) |  |  |  |  |  |  |  |  |  |
| Seismic | [https://www.seismic.com/](https://www.seismic.com/) |  |  |  |  | Sales Enablement plattform |  |  |  |  |
| Highspot | [https://www.highspot.com/de/](https://www.highspot.com/de/) |  |  |  |  | Sales Enablement plattform |  |  |  |  |
| ChatGPT | [https://openai.com/index/chatgpt-study-mode/](https://openai.com/index/chatgpt-study-mode/) |  |  |  |  |  |  |  |  |  |
| SalesHood | [http://saleshood.com](http://saleshood.com) |  |  |  |  | Sales Enablement plattform |  |  |  |  |
| wejam | [https://www.wejam.ai/](https://www.wejam.ai/) |  |  | DACH | Sales | AI Role Play |  |  |  | Samir |
| Zenarate | [http://zenarate.com](http://zenarate.com) |  |  |  |  | Role play and recording feedback / Sales Enablement plattform |  |  |  |  |
| Pepsales AI | [https://www.pepsales.ai/](https://www.pepsales.ai/) |  |  |  |  |  |  |  |  |  |
| Retorio | [https://www.retorio.com/product](https://www.retorio.com/product) |  |  |  |  |  |  |  |  |  |
| Jiminny | [http://www.jiminny.com](http://www.jiminny.com) |  |  |  |  |  |  |  |  |  |
| Setero | [https://www.setero.io/home](https://www.setero.io/home) |  |  |  |  |  |  |  |  |  |
| High Five Academy | [https://www.high-five.ai/de/business](https://www.high-five.ai/de/business) |  |  |  |  |  |  |  |  |  |
| Learn.xyz | [https://www.learn.xyz/companies](https://www.learn.xyz/companies) |  |  |  |  |  |  |  |  |  |
| Bliro | [https://www.bliro.io/en/sales](https://www.bliro.io/en/sales) | Personal AI Sales Assistant |  | DACH |  |  |  |  |  |  |
| Reflact | [https://reflact.com/](https://reflact.com/) | LMS + Simulation |  |  |  |  |  |  | - Simulation Pricing 3-5k (3-5MT) initial fr 1 Bot & Training. - Autor: 800eur/Jahr. - Pro Lernender 20eur/Jahr. - Nutzen: ChatGPT, inkl Feedback. Kriterien. Content kann Autor erstellen oder sie. - Inkl Video fr Avatar, ist langsamer als Audiobot (Telekom, Feuerwehr in WBT, LMS in Flugbranche) |  |
| Mindtickle | [https://www.mindtickle.com/](https://www.mindtickle.com/) |  |  |  |  |  |  |  |  |  |
| Spekit | [https://www.spekit.com/](https://www.spekit.com/) | AI Learning Enablement |  |  |  |  |  |  |  |  |
| Demodesk | [https://demodesk.com/comparison/demodesk-vs-gong](https://demodesk.com/comparison/demodesk-vs-gong) | AI assistant with real-time coaching |  |  |  |  |  |  |  |  |
| flowit | [http://flowit.com](http://flowit.com) | AI Coaching |  | CH | HR department of large companies |  |  |  |  |  |
| Glyphic | [https://www.glyphic.ai/](https://www.glyphic.ai/) | Recording |  | EU |  |  | They have GTM insights other than the coaching |  |  |  |
| Skylar | [https://www.getskylar.com/](https://www.getskylar.com/) | AI Role-play coaching |  | EU |  |  |  |  |  |  |
| Zick learn | [https://www.zicklearn.com/en](https://www.zicklearn.com/en) | Microlearning |  | Ireland |  |  |  |  |  |  |
| Blify | [https://www.blify.co/](https://www.blify.co/) | Microlearning |  |  |  |  |  |  |  |  |
| Salesfox | [https://salesfox.io/](https://salesfox.io/) | Cold Calling AI coach |  |  |  |  |  |  |  |  |
| Docebo | [https://www.docebo.com/de/](https://www.docebo.com/de/) | LMS for sales reps |  | World |  |  |  |  |  |  |
| Workday |  |  |  |  |  |  |  |  |  |  |
| Successfactors |  |  |  |  |  |  |  |  |  |  |
| Hyperbound | [https://www.hyperbound.ai/](https://www.hyperbound.ai/) | AI Sales Coaching |  |  |  |  |  |  |  |  |
| ENZRA( Ranjit de Souza invested here, co-built it) | - [https://www.helloezra.com/en-gb/sales-leadership-coaching-for-tech](https://www.helloezra.com/en-gb/sales-leadership-coaching-for-tech) |  |  |  |  |  |  |  |  |  |
| BetterUp | - [https://www.betterup.com/solutions/sales-coaching](https://www.betterup.com/solutions/sales-coaching) |  |  |  |  |  |  |  |  |  |
| Coachhub | - [https://www.coachhub.com/](https://www.coachhub.com/) |  |  |  |  |  |  |  |  |  |
| Avarra |  |  |  |  |  |  | Only role play |  |  |  |

## **7.3. Trap Setting and Landmine Questions**

* How does your tool enforce stage exit criteria without admin-heavy workarounds?  
* Whats your plan when reps skip fieldsdo you detect and fix it automatically?

## **7.4. Win/Loss Analysis Snippets**

Capture top 3 reasons per segment; feed insights into messaging, roadmap, and enablement priorities.

## **7.5. Positioning Against Incumbents and Challengers**

Lead with business outcomes and governance, not feature parity. Prove faster time-to-adoption and lower admin cost.

# **8. Tools & Tech Stack**

## **8.1. CRM Guidelines and Hygiene (e.g., Salesforce)**

* Every meeting logged same day; next step and date always present; close dates realistic with mutual plan alignment  
* Mandatory fields enforced by validation; no free-text where picklists exist

## **8.2. Sales Engagement Tools (e.g., Outreach, Apollo)**

Use persona-based sequences; personalize first touch; measure reply rates, meetings set, and conversion.

## **8.3. Demo Platforms and Usage**

Standardize flows, record reference demos, and keep an appendix of role-specific paths.

## **8.4. Enablement Tools (e.g., Gong, Taskbase)**

Tag calls, create libraries by persona and stage, and maintain a shared repository of best-practice clips and deal briefs.

## **8.5. Data & Enrichment Tools (e.g., Clearbit, ZoomInfo)**

Enrich accounts for ICP fit; use intent signals to prioritize outreach; keep DNC and compliance lists current.

## **8.6. Other tools**

Scheduling, proposal, signature, and project tools integrated with CRM for end-to-end visibility.

# **9. KPIs, Metrics & Compensation**

## **9.1. Daily/Weekly Activity Metrics**

* SDR: quality touches, meetings set, meeting acceptance rate, show rate, SALs created  
* AE: stage progression, demos, multi-thread ratio, mutual plans created, proposals sent

## **9.2. Stage-by-Stage Conversion Benchmarks**

Track conversion by segment and persona. Inspect drop-offs; improve messaging, qualification, or proof assets accordingly.

## **9.3. Quota and Compensation Structure**

Align on role-specific targets with accelerators for overachievement and quality gates for pipeline hygiene.

## **9.4. Pipeline Health Metrics**

* Coverage ratio, aged deals, stage velocity, push rate, and commit accuracy  
* Leading indicators: meetings, qualified opps, multi-threading depth

## **9.5. Forecasting Best Practices**

Top-down and bottom-up triangulation; weekly cadence; commit based on evidence and verified next steps.

# **10. Onboarding & Training**

## **10.1. 30/60/90-Day Ramp Plan**

30: Foundations and shadowing. 60: Run full-cycle on smaller deals. 90: Full quota-bearing with manager sign-off.

## **10.2. Certification Paths**

Role certifications for product, discovery, demo, and process adherence; must-pass call reviews and scenario role-plays.

## **10.3. Shadowing and Role-Play Programs**

Structured observation  co-pilot  lead; weekly role-plays with calibrated rubrics and feedback loops.

## **10.4. Learning Management Systems & Resources**

Centralize assets, micro-learnings, and checklists. Track completion and knowledge retention.

## **10.5. Performance Evaluation During Onboarding**

Clear expectations, milestone reviews, and remediation plans when needed.

# **11. Sales Enablement & Content**

## **11.1. Sales Decks and One-Pagers**

Persona-specific decks; concise problem  value  proof  next steps. Include appendix for technical deep-dives.

## **11.2. Case Studies by Vertical**

Focus on outcomes, not featureswin rate lift, ramp acceleration, and governance improvements.

## **11.3. Proposal & Quote Templates**

Standard SKUs, tiering, legal terms insertions, and approval rules. Dynamic pricing guardrails.

## **11.4. Competitive Battle Cards**

If they say X, we say Y talk tracks, proof assets, and trap questions. Keep current with win/loss inputs.

## **11.5. Customization Guidelines for Content**

What can be tailored vs. must remain standardized; brand and compliance checks before external use.

# **12. Handoff & Collaboration**

## **12.1. MQL  SQL Handoff Process**

Define acceptance criteria, SLA, required data fields, and feedback loop with Marketing for quality enforcement.

## **12.2. SDR to AE Handoff Checklist**

* Confirmed meeting, agenda, persona, pains, and desired outcomes  
* Account notes with triggers, stakeholders, and data hygiene validated

## **12.3. AE to Customer Success Handoff**

Share business case, success plan, timeline, risks, and stakeholders. Ensure kickoff readiness and adoption plan.

## **12.4. Working with Marketing for ABM & Content**

Target lists, messaging tests, intent data, and persona asset packs; weekly sync and quarterly retro.

## **12.5. Product Feedback Loop**

Collect feature requests and objections; tag by segment and ARR; route to Product with priority scores and examples.

# **13. Legal, Pricing & Procurement**

## **13.1. Pricing Tiers and Packaging**

Good/Better/Best tiers by feature and usage. Align packaging to personas and deal complexity.

## **13.2. Discounting Rules and Approval Workflows**

Guardrails by segment and ACV; approvals routed via RevOps and Finance; never trade price for silencetrade for references, term, or scope.

## **13.3. Procurement & Legal Redline Playbook**

Keep standard clause library, fallback provisions, and escalation matrix. Pre-empt InfoSec/security reviews with documentation packs.

## **13.4. Standard Contract Templates**

MSA, Order Form, DPA, and SOW templates maintained by Legal; versioned and centrally accessible.

## **13.5. Security & Compliance Documents**

**Understanding Data Privacy, Data Protection, and Works Council Requirements for Skill Profiles**

This article clarifies common misconceptions about why certain employee-related featuresespecially skill profilesmay or may not be displayed in a product. Discussions often reference data privacy issues, yet the underlying constraints usually lie elsewhere. The goal here is to distinguish between the relevant domains: **data protection**, **security**, **works council requirements**, and **legal considerations**, with a focus on the German regulatory context.

## **13.5.1. Data Protection: What It Actually Regulates**

Data protection authorities primarily assess **which types of data are being collected** and how they are processed. Different data types carry different levels of risk:

* **Low-risk data** (e.g., name, email address) typically triggers minimal scrutiny.  
* **Higher-risk data**, such as **skill profiles**, **audio recordings**, or **video data**, requires more attention regarding:

Storage location (e.g., country-specific restrictions)

* Data handling and retention  
* Subprocessors and third-party access

A key point:  
**Data protection rules rarely prohibit displaying a skill profile.**  
The assessment focuses on **storage, processing, and data flows**, not on whether the information can be shown in the interface.

## **13.5.2. Security Considerations**

Security requirements run in parallel with data protection. As data sensitivity increases, customers expect stronger guarantees around:

* Infrastructure and storage  
* Access control  
* Internal and external data transfers

Although important, these concerns do not directly affect whether a skill profile can be displayed.

## **13.5.3. Works Council (Betriebsrat): The Real Visibility Constraint**

In Germany, works councils play a decisive role when technology could be interpreted as **employee monitoring**. Under relevant labor laws, they have a right of co-determination for tools that:

* Collect behavioral data  
* Infer performance- or skill-related insights  
* Could create pressure on employees to behave in particular ways

Because skill profiles often rely on user interactions and behavioral signals, they may fall under this category. Typical works council concerns include:

* Displaying the profile might create **implicit performance pressure**.  
* Managers could theoretically use the data to evaluate individuals or tie compensation to AI-inferred metrics.  
* As a result, councils may require:

Limiting visibility

* Providing only a private view to the employee  
* Renaming or reframing the feature (e.g., wallet)  
* Adjusting how the data is generated or presented

In previous implementations with similar functionality, works councils have imposed restrictions even when data protection authorities had no objections.

## **13.5.4. Legal Topics and Customer Maturity**

Legal considerations vary by country, but in Germany they typically intersect with the works councils rights. Many early-stage customers do not have a works council yet, meaning these constraints become relevant only as organizations grow.

## **Summary**

* **Data privacy** is not the reason skill profiles cannot be shown; its focus lies on data categories and processing.  
* **Works council requirements**, particularly regarding employee monitoring, are the primary factor influencing whether and how such profiles can be displayed.  
* Visibility limitations, naming adjustments, and display rules typically originate from **co-determination rights**, not from data protection law.

# **14. Playbooks for Specific Scenarios**

## **14.1. Enterprise vs. SMB Sales Plays**

Enterprise: MEDDICC rigor, executive alignment, mutual action plans. SMB: velocity, lighter discovery, faster proof.

## **14.2. Upsell & Expansion Playbooks**

Land-and-expand motions mapped to adoption milestones; cadence with sponsor QBRs.

## **14.3. Selling During a Recession or Budget Freeze**

Lead with risk and cost reduction; offer pilots with clear success criteria and executive readouts.

## **14.4. Renewal Management & Retention**

Start early, validate value realization, identify churn risks, and align on next-phase roadmap.

## **14.5. Product-Led Sales Motions (PLG)**

Usage signals to upsell; trigger AE engagement when activation and team invites hit thresholds.

# **15. Continuous Improvement & Feedback Loop**

## **15.1. How to Submit Feedback**

Use the Playbook Feedback form linked in CRM and weekly team channels. Include example, impact, and suggested change.

## **15.2. Cadence for Playbook Reviews**

Monthly micro-updates; quarterly deep reviews with cross-functional stakeholders.

## **15.3. KPI-Based Playbook Optimisation**

Tie changes to KPI shifts (win rate, cycle time, forecast accuracy). A/B test scripts and stage criteria adjustments.

## **15.4. Involving Top Reps in Playbook Evolution**

Rotate a Deal Doctors council of top SDRs, AEs, and AMs; capture field-proven tactics and codify into process.

## **15.5. Playbook Change Log & Versioning**

Maintain semantic versions, summary of changes, and owners. Archive outdated assets.

# **16. Commission, Development Plans & PIP**

## **16.1. Commission Sheets and Structure**

Clear OTE splits by role, accelerators, and claw-back rules. Tie SPIFFs to strategic initiatives (e.g., stage adoption, multi-threading).

## **16.2. Development Plans**

Individual growth plans mapped to competencies: product mastery, deal strategy, storytelling, negotiation, and collaboration.

## **16.3. Performance Improvement Plan (PIP)**

Time-bound plan with clear KPIs, enablement support, and review checkpoints. Focus on coaching and measurable progress.

## **Operational Milestones & Ownership**

| Milestone | Target Date | Owner | Status |
| :---- | :---- | :---- | :---- |
| Publish v1 Playbook (Sections 19) |  | [Add Sales Enablement] | In ProgressBlue |
| Roll out Stage Exit Criteria in CRM |  | [Add RevOps] | ReviewYellow |
| Complete Discovery & Demo Certifications |  | [Add SDR/AE Managers] | PlannedGreen |

## **Quarterly Enablement Tasks**

4  
ee210ba6-ee0a-426a-a839-13b2402bd349  
incomplete  
Large SalesPlaybook Update

Risk watchouts: skipping exit criteria, poor CRM hygiene, single-threaded deals, and late involvement of RevOps/Legal lead to slippage and forecast misses. Mitigate by enforcing governance and using mutual action plans.
`;function Ote(e){const t=new Set(e.map(s=>s.id)),n=new Map;for(const s of e){const i=s.parentId&&t.has(s.parentId)?s.parentId:null,a=n.get(i)??[];a.push(s),n.set(i,a)}function r(s,i){return(n.get(s)??[]).map(a=>({...a,depth:i,children:r(a.id,i+1)}))}return r(null,0)}function I3(e){const t=[];for(const n of e)t.push(n),t.push(...I3(n.children));return t}function R3(e){const t=[];for(const n of e.children)t.push(n.id),t.push(...R3(n));return t}const $S=[{id:"taskbase",name:"Taskbase Playbook",icon:"TB",desc:"Start with our ready-made sales playbook",isOAuth:!1},{id:"notion",name:"Notion",icon:"N",desc:"Connect your Notion workspace",isOAuth:!0},{id:"confluence",name:"Confluence",icon:"C",desc:"Link your Confluence space",isOAuth:!0},{id:"pdf",name:"PDF Upload",icon:"P",desc:"Upload a playbook PDF",isOAuth:!1}],Dte=({onComplete:e})=>{const{data:t}=rI(),n=t?t.missing+t.partial:0,r=pP(),s=b.useRef(null),[i,a]=b.useState("source"),[o,l]=b.useState("extracting"),u=sI(l),c=iI(),d=aI(),[f,h]=b.useState(null),[g,y]=b.useState(null),[w,v]=b.useState(null),[x,E]=b.useState(new Set),[T,k]=b.useState(new Set),S=v3(i==="pick-space"),C=b3(i==="pick-pages"?w:null),O=b.useMemo(()=>Ote(C.data??[]),[C.data]),M=b.useMemo(()=>I3(O),[O]),I=b.useMemo(()=>{const L=new Map;for(const _ of M)L.set(_.id,_);return L},[M]);b.useEffect(()=>{const L=new URLSearchParams(window.location.search),_=L.get("connected"),ne=L.get("error");if((_||ne)&&window.history.replaceState({},"",window.location.pathname),ne){y(`OAuth failed: ${ne.replace(/_/g," ")}`);return}_==="notion"&&(l("extracting"),a("analyzing"),c.mutate(void 0,{onSuccess:()=>e(),onError:j=>{y(j.message),a("source")}})),_==="confluence"&&a("pick-space")},[]);const H=async()=>{var _;if(!f)return;y(null);const L=$S.find(ne=>ne.id===f);if(L)if(f==="taskbase"){a("analyzing");try{l("extracting"),await u.mutateAsync({provider:"taskbase",content:Pte}),e()}catch(ne){y(ne.message),a("source")}}else if(L.isOAuth)try{await r(f)}catch{y(`Could not start ${L.name} OAuth. Make sure the edge functions are running (supabase functions serve).`)}else f==="pdf"&&((_=s.current)==null||_.click())},U=async L=>{var ne;const _=(ne=L.target.files)==null?void 0:ne[0];if(_){a("analyzing");try{if(l("extracting"),_.name.endsWith(".pdf")){const j=await _.arrayBuffer(),A=btoa(new Uint8Array(j).reduce((X,Q)=>X+String.fromCharCode(Q),""));await u.mutateAsync({provider:"pdf",pdfBase64:A})}else{const j=await _.text();await u.mutateAsync({provider:"pdf",content:j})}e()}catch(j){y(j.message),a("source")}}},G=L=>{v(L),E(new Set),k(new Set),a("pick-pages")},W=L=>{const _=I.get(L);if(!_)return;const ne=R3(_);E(j=>{const A=new Set(j);if(A.has(L)){A.delete(L);for(const X of ne)A.delete(X)}else{A.add(L);for(const X of ne)A.add(X)}return A})},q=L=>{k(_=>{const ne=new Set(_);return ne.has(L)?ne.delete(L):ne.add(L),ne})},ae=()=>{const L=C.data??[];x.size===L.length?E(new Set):E(new Set(L.map(_=>_.id)))},J=L=>L.map(_=>{const ne=_.children.length>0,j=T.has(_.id);return p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 rounded-lg py-2 hover:bg-muted/50 transition-colors",style:{paddingLeft:`${_.depth*20+12}px`,paddingRight:12},children:[ne?p.jsx("button",{onClick:()=>q(_.id),className:"w-5 h-5 flex items-center justify-center shrink-0 text-muted-foreground hover:text-foreground",children:p.jsx(mv,{className:`w-3.5 h-3.5 transition-transform ${j?"rotate-90":""}`})}):p.jsx("span",{className:"w-5"}),p.jsxs("label",{className:"flex items-center gap-2.5 min-w-0 flex-1 cursor-pointer",children:[p.jsx(oc,{checked:x.has(_.id),onCheckedChange:()=>W(_.id)}),p.jsx("span",{className:"text-sm text-foreground truncate",children:_.title}),ne&&p.jsx("span",{className:"text-[10px] text-muted-foreground shrink-0",children:_.children.length})]})]}),ne&&j&&J(_.children)]},_.id)}),F=()=>{y(null),l("extracting"),a("analyzing"),d.mutate([...x],{onSuccess:()=>e(),onError:L=>{y(L.message),a("pick-pages")}})};return p.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:p.jsxs(Ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-lg rounded-2xl border border-border bg-card p-8 shadow-card",children:[p.jsx("input",{ref:s,type:"file",accept:".pdf,.txt,.md",className:"hidden",onChange:U}),p.jsxs(xa,{mode:"wait",children:[i==="source"&&p.jsxs(Ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[p.jsx("h2",{className:"text-2xl text-foreground mb-1",children:"Connect your playbook"}),p.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Choose where your sales playbook lives"}),p.jsx("p",{className:"text-xs text-muted-foreground/70 mb-6",children:"You can add more sources later from the Integrations panel."}),p.jsx("div",{className:"space-y-2 mb-6",children:$S.map(L=>p.jsxs("button",{onClick:()=>h(L.id),className:`w-full flex items-center gap-4 rounded-xl p-4 border transition-all ${f===L.id?"border-primary bg-primary/5 shadow-glow":"border-border bg-muted/30 hover:border-muted-foreground/30"}`,children:[p.jsx("span",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center text-sm font-overline text-primary",children:L.icon}),p.jsxs("div",{className:"text-left",children:[p.jsx("div",{className:"text-sm font-subheading text-foreground",children:L.name}),p.jsx("div",{className:"text-xs text-muted-foreground",children:L.desc})]}),f===L.id&&p.jsx(dr,{className:"w-5 h-5 text-primary ml-auto"})]},L.id))}),g&&p.jsxs("div",{className:"flex items-start gap-2 rounded-lg border border-destructive/30 bg-destructive/5 p-3 mb-3",children:[p.jsx(Wi,{className:"w-4 h-4 text-destructive mt-0.5 shrink-0"}),p.jsx("p",{className:"text-xs text-destructive",children:g})]}),p.jsx("button",{onClick:H,disabled:!f,className:"w-full flex items-center justify-center gap-2 rounded-xl gradient-primary py-3 text-sm font-subheading text-primary-foreground disabled:opacity-30 transition-opacity",children:f==="taskbase"?p.jsxs(p.Fragment,{children:["Use Template & Analyze",p.jsx(Vi,{className:"w-4 h-4"})]}):f==="pdf"?p.jsxs(p.Fragment,{children:[p.jsx(VC,{className:"w-4 h-4"}),"Upload & Analyze"]}):p.jsxs(p.Fragment,{children:["Connect & Analyze",p.jsx(Vi,{className:"w-4 h-4"})]})})]},"source"),i==="pick-space"&&p.jsxs(Ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[p.jsxs("button",{onClick:()=>a("source"),className:"flex items-center gap-1 text-xs text-muted-foreground hover:text-foreground mb-4 transition-colors",children:[p.jsx($g,{className:"w-3 h-3"}),"Back"]}),p.jsx("h2",{className:"text-2xl text-foreground mb-1",children:"Select a space"}),p.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Choose the Confluence space that contains your playbook"}),S.isLoading&&p.jsx("div",{className:"space-y-2",children:Array.from({length:4}).map((L,_)=>p.jsx(nf,{className:"h-14 w-full rounded-xl"},_))}),S.error&&p.jsxs("div",{className:"flex items-start gap-2 rounded-lg border border-destructive/30 bg-destructive/5 p-3",children:[p.jsx(Wi,{className:"w-4 h-4 text-destructive mt-0.5 shrink-0"}),p.jsx("p",{className:"text-xs text-destructive",children:S.error.message})]}),S.data&&p.jsx("div",{className:"max-h-72 overflow-y-auto pr-1",children:p.jsx("div",{className:"space-y-2",children:S.data.map(L=>p.jsxs("button",{onClick:()=>G(L.id),className:"w-full flex items-center gap-4 rounded-xl p-4 border border-border bg-muted/30 hover:border-muted-foreground/30 transition-all text-left",children:[p.jsx("span",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center text-xs font-overline text-primary uppercase",children:L.key.slice(0,2)}),p.jsxs("div",{className:"min-w-0 flex-1",children:[p.jsx("div",{className:"text-sm font-subheading text-foreground truncate",children:L.name}),p.jsx("div",{className:"text-xs text-muted-foreground",children:L.key})]}),p.jsx(Vi,{className:"w-4 h-4 text-muted-foreground shrink-0"})]},L.id))})})]},"pick-space"),i==="pick-pages"&&p.jsxs(Ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[p.jsxs("button",{onClick:()=>{a("pick-space"),v(null),E(new Set)},className:"flex items-center gap-1 text-xs text-muted-foreground hover:text-foreground mb-4 transition-colors",children:[p.jsx($g,{className:"w-3 h-3"}),"Back"]}),p.jsx("h2",{className:"text-2xl text-foreground mb-1",children:"Select pages"}),p.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose which pages contain your sales playbook"}),C.isLoading&&p.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((L,_)=>p.jsx(nf,{className:"h-10 w-full rounded-lg"},_))}),C.error&&p.jsxs("div",{className:"flex items-start gap-2 rounded-lg border border-destructive/30 bg-destructive/5 p-3 mb-3",children:[p.jsx(Wi,{className:"w-4 h-4 text-destructive mt-0.5 shrink-0"}),p.jsx("p",{className:"text-xs text-destructive",children:C.error.message})]}),g&&p.jsxs("div",{className:"flex items-start gap-2 rounded-lg border border-destructive/30 bg-destructive/5 p-3 mb-3",children:[p.jsx(Wi,{className:"w-4 h-4 text-destructive mt-0.5 shrink-0"}),p.jsx("p",{className:"text-xs text-destructive",children:g})]}),C.data&&C.data.length>0&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx(oc,{checked:x.size===C.data.length,onCheckedChange:ae}),p.jsxs("span",{className:"text-xs text-muted-foreground",children:["Select all (",C.data.length," pages)"]})]}),p.jsx("div",{className:"max-h-60 overflow-y-auto pr-1 mb-4",children:p.jsx("div",{className:"space-y-0.5",children:J(O)})}),p.jsxs("button",{onClick:F,disabled:x.size===0,className:"w-full flex items-center justify-center gap-2 rounded-xl gradient-primary py-3 text-sm font-subheading text-primary-foreground disabled:opacity-30 transition-opacity",children:["Import ",x.size," ",x.size===1?"page":"pages",p.jsx(Vi,{className:"w-4 h-4"})]})]}),C.data&&C.data.length===0&&p.jsx("p",{className:"text-sm text-muted-foreground text-center py-6",children:"No pages found in this space."})]},"pick-pages"),i==="analyzing"&&p.jsxs(Ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-8",children:[p.jsx(Ve,{className:"w-10 h-10 text-primary mx-auto mb-4 animate-spin"}),p.jsx("h2",{className:"text-xl text-foreground mb-2",children:o==="extracting"?"Extracting content":"Analyzing your playbook"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:o==="extracting"?"Reading and converting your document to structured content":"Mapping sections to skills framework"}),p.jsxs("div",{className:"mt-6 space-y-2",children:[p.jsxs("div",{className:"flex items-center gap-2 justify-center text-xs text-muted-foreground",children:[o==="extracting"?p.jsx(Ve,{className:"w-3 h-3 animate-spin text-primary"}):p.jsx(dr,{className:"w-3 h-3 text-success"}),"Extracting content"]}),p.jsxs("div",{className:"flex items-center gap-2 justify-center text-xs text-muted-foreground",children:[o==="analyzing"?p.jsx(Ve,{className:"w-3 h-3 animate-spin text-primary"}):p.jsx("span",{className:"w-3 h-3 rounded-full border border-muted-foreground/30"}),"Mapping skills"]})]}),p.jsx("p",{className:"mt-4 text-xs text-muted-foreground",children:"This can take up to 5 minutes"})]},"analyzing"),i==="done"&&p.jsxs(Ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-8",children:[p.jsx("div",{className:"w-14 h-14 rounded-2xl gradient-primary mx-auto mb-4 flex items-center justify-center",children:p.jsx(dr,{className:"w-7 h-7 text-primary-foreground"})}),p.jsx("h2",{className:"text-xl text-foreground mb-2",children:"Playbook connected!"}),p.jsxs("p",{className:"text-sm text-muted-foreground mb-6",children:["We found ",n," gaps in your skills coverage. Let's fix them."]}),p.jsx("button",{onClick:e,className:"rounded-xl gradient-primary px-6 py-3 text-sm font-subheading text-primary-foreground",children:"View Dashboard"})]},"done")]})]})})},Lte=()=>{const{data:e,isLoading:t}=Yb(),n=((e==null?void 0:e.length)??0)>0,[r,s]=b.useState("dashboard"),[i,a]=b.useState(!1);b.useEffect(()=>{!t&&!n&&a(!0)},[t,n]),b.useEffect(()=>{new URLSearchParams(window.location.search).get("connected")==="confluence"&&n&&s("integrations")},[n]);const[o,l]=b.useState(null),[u,c]=b.useState(null),[d,f]=b.useState(null),h=(y,w)=>{c({skillId:y,skillName:w}),s("playbook")},g=y=>{f(y),s("playbook")};return p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx(xa,{children:i&&p.jsx(Dte,{onComplete:()=>{a(!1),s("dashboard")}})}),p.jsx(P$,{activeTab:r,setActiveTab:s}),p.jsxs("main",{className:"max-w-[1600px] mx-auto px-6 py-8 min-h-[calc(100vh-8rem)]",children:[r==="dashboard"&&p.jsxs("div",{className:"space-y-5",children:[p.jsx(j$,{activeFilter:o,onFilterChange:y=>l(y===o?null:y)}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_480px] gap-5 items-start",children:[p.jsx(G$,{onFillGap:h,statusFilter:o}),p.jsx("div",{className:"lg:sticky lg:top-20",children:p.jsx(hP,{onNavigateToSection:g,sections:e})})]})]}),r==="playbook"&&p.jsx(Tte,{skillFilter:u,onSkillFilterChange:c,initialSectionId:d,onInitialSectionConsumed:()=>f(null)}),r==="staging"&&p.jsx(mZ,{}),r==="integrations"&&p.jsx(Rte,{})]}),p.jsx("footer",{className:"border-t border-border py-4 mt-8",children:p.jsxs("p",{className:"text-center text-xs text-muted-foreground",children:["Powered by ",p.jsx("a",{href:"https://taskbase.com",target:"_blank",rel:"noopener noreferrer",className:"font-subheading text-primary hover:underline",children:"Taskbase"})]})})]})};function zS(){const{signIn:e,signUp:t}=Mf(),n=$v(),s=Aa().pathname==="/signup"?"signup":"login",[i,a]=b.useState(null),[o,l]=b.useState(!1),[u,c]=b.useState(!1),d=async h=>{h.preventDefault(),a(null),l(!0);const g=new FormData(h.currentTarget),y=await e(g.get("email"),g.get("password"));l(!1),y.error?a(y.error.message):n("/")},f=async h=>{h.preventDefault(),a(null);const g=new FormData(h.currentTarget);if(!u){a("You must accept the prototype disclaimer to sign up.");return}l(!0);const y=await t(g.get("email"),g.get("password"),g.get("name"));l(!1),y.error?a(y.error.message):n("/")};return p.jsxs("div",{className:"login-bg min-h-screen flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[p.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden z-[2]",children:[p.jsx("div",{className:"absolute -top-20 -left-20 w-72 h-72 rounded-full bg-[#D1B0FC]/[0.06] blur-2xl"}),p.jsx("div",{className:"absolute top-1/4 -right-16 w-56 h-56 rounded-full bg-[#95ABF4]/[0.05] blur-xl"}),p.jsx("div",{className:"absolute bottom-1/4 left-[10%] w-40 h-40 rounded-full bg-[#6D57D1]/[0.08] blur-lg"}),p.jsx("div",{className:"absolute -bottom-10 right-[20%] w-64 h-64 rounded-full bg-[#95ABF4]/[0.04] blur-2xl"}),p.jsx("div",{className:"absolute top-[15%] left-[25%] w-2 h-2 rounded-full bg-[#D1B0FC]/30"}),p.jsx("div",{className:"absolute top-[30%] right-[30%] w-1.5 h-1.5 rounded-full bg-[#95ABF4]/25"}),p.jsx("div",{className:"absolute bottom-[20%] left-[40%] w-2.5 h-2.5 rounded-full bg-[#D1B0FC]/20"}),p.jsx("div",{className:"absolute top-[60%] right-[15%] w-2 h-2 rounded-full bg-[#6D57D1]/30"}),p.jsx("div",{className:"absolute top-[45%] left-[12%] w-1.5 h-1.5 rounded-full bg-[#95ABF4]/25"})]}),p.jsx("div",{className:"w-full max-w-sm flex-1 flex flex-col justify-center relative z-10",children:p.jsxs("div",{className:"rounded-xl bg-white p-5 shadow-2xl",children:[p.jsx("h2",{className:"text-lg text-foreground mb-1",children:s==="login"?"Sign in":"Create account"}),p.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:s==="login"?"Enter your credentials to continue":"Fill in your details below"}),s==="login"?p.jsxs("form",{onSubmit:d,className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"login-email",className:"block text-xs font-caption text-foreground mb-1.5",children:"Email"}),p.jsx("input",{type:"email",id:"login-email",name:"email",autoComplete:"email",required:!0,className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/50",placeholder:"you@company.com"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"login-password",className:"block text-xs font-caption text-foreground mb-1.5",children:"Password"}),p.jsx("input",{type:"password",id:"login-password",name:"password",autoComplete:"current-password",required:!0,minLength:6,className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/50",placeholder:""})]}),p.jsx("div",{className:"flex justify-end",children:p.jsx(ow,{to:"/forgot-password",className:"text-xs text-primary hover:underline",children:"Forgot password?"})}),i&&p.jsx("p",{className:"text-xs text-destructive font-caption",children:i}),p.jsxs("button",{type:"submit",disabled:o,className:"w-full flex items-center justify-center gap-2 rounded-lg gradient-primary py-2.5 text-sm font-subheading text-primary-foreground disabled:opacity-50 transition-opacity",children:[o&&p.jsx(Ve,{className:"w-4 h-4 animate-spin"}),"Sign in"]})]}):p.jsxs("form",{onSubmit:f,className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"signup-name",className:"block text-xs font-caption text-foreground mb-1.5",children:"Full name"}),p.jsx("input",{type:"text",id:"signup-name",name:"name",autoComplete:"off",required:!0,className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/50",placeholder:"Jane Smith"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"signup-email",className:"block text-xs font-caption text-foreground mb-1.5",children:"Email"}),p.jsx("input",{type:"email",id:"signup-email",name:"email",autoComplete:"email",required:!0,className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/50",placeholder:"you@company.com"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"signup-password",className:"block text-xs font-caption text-foreground mb-1.5",children:"Password"}),p.jsx("input",{type:"password",id:"signup-password",name:"password",autoComplete:"new-password",required:!0,minLength:6,className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/50",placeholder:""})]}),p.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:u,onChange:h=>c(h.target.checked),className:"mt-0.5 rounded border-border"}),p.jsx("span",{className:"text-xs text-muted-foreground leading-relaxed",children:"This is an early-stage prototype with limited spots. If no spots are available you'll be placed on a waiting list. Features may change and data may be reset without notice. No warranties are provided. By signing up you agree to be contacted by Taskbase."})]}),i&&p.jsx("p",{className:"text-xs text-destructive font-caption",children:i}),p.jsxs("button",{type:"submit",disabled:o,className:"w-full flex items-center justify-center gap-2 rounded-lg gradient-primary py-2.5 text-sm font-subheading text-primary-foreground disabled:opacity-50 transition-opacity",children:[o&&p.jsx(Ve,{className:"w-4 h-4 animate-spin"}),"Create account"]})]}),p.jsx("div",{className:"mt-4 text-center",children:p.jsx(ow,{to:s==="login"?"/signup":"/login",onClick:()=>a(null),className:"text-xs text-primary hover:underline",children:s==="login"?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})}),p.jsxs("p",{className:"py-4 text-xs text-white/60 relative z-10",children:["Powered by ",p.jsx("a",{href:"https://taskbase.com",target:"_blank",rel:"noopener noreferrer",className:"font-subheading text-white/80 hover:text-white transition-colors",children:"Taskbase"})]})]})}const Mte=()=>{const e=Aa();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),p.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"mb-4 text-4xl",children:"404"}),p.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},jte=new z5;function Fte({children:e}){const{session:t,loading:n}=Mf();return n?p.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:p.jsx(Ve,{className:"w-6 h-6 text-primary animate-spin"})}):t?p.jsx(p.Fragment,{children:e}):p.jsx(e2,{to:"/login",replace:!0})}function VS({children:e}){const{session:t,loading:n}=Mf();return n?p.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:p.jsx(Ve,{className:"w-6 h-6 text-primary animate-spin"})}):t?p.jsx(e2,{to:"/",replace:!0}):p.jsx(p.Fragment,{children:e})}const Bte=()=>p.jsx(Y5,{client:jte,children:p.jsx(FB,{children:p.jsxs(C5,{children:[p.jsx(l6,{}),p.jsx(U6,{}),p.jsx(t8,{children:p.jsxs(Yj,{children:[p.jsx(ql,{path:"/login",element:p.jsx(VS,{children:p.jsx(zS,{})})}),p.jsx(ql,{path:"/signup",element:p.jsx(VS,{children:p.jsx(zS,{})})}),p.jsx(ql,{path:"/",element:p.jsx(Fte,{children:p.jsx(Lte,{})})}),p.jsx(ql,{path:"*",element:p.jsx(Mte,{})})]})})]})})});pC(document.getElementById("root")).render(p.jsx(Bte,{}));
